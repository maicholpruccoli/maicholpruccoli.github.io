"use strict";(self.webpackChunkwelcome_sbm=self.webpackChunkwelcome_sbm||[]).push([[920],{95920:(z,M,r)=>{r.r(M),r.d(M,{DmsModule:()=>O});var d=r(26575),T=r(82395),f=r(11927),x=r(56208),c=r(96603),_=r(14090),h=r(86107),A=r(52374),t=r(61699),w=r(19209),s=r(93724),m=r(14588),p=r(10244),g=r(39402);function b(n,i){if(1&n&&t._UZ(0,"img",4),2&n){const e=t.oxw(2);t.Q6J("src",null==e.dmsService.albergo?null:e.dmsService.albergo.urlImmagineBottom,t.LSH)}}function v(n,i){if(1&n&&(t.TgZ(0,"span",5),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.dmsService.albergo?null:e.dmsService.albergo.textBottom)}}function q(n,i){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,b,1,1,"img",2),t.YNc(2,v,2,1,"span",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==e.dmsService.albergo||!e.dmsService.albergo.urlImmagineBottom)),t.xp6(1),t.Q6J("ngIf",!(null==e.dmsService.albergo||!e.dmsService.albergo.textBottom))}}class S{constructor(i){this.dmsService=i}}S.\u0275fac=function(i){return new(i||S)(t.Y36(m.r))},S.\u0275cmp=t.Xpm({type:S,selectors:[["app-dms-footer"]],decls:1,vars:1,consts:[["class","footer",4,"ngIf"],[1,"footer"],["id","logo-apt","class","logo-footer align-middle",3,"src",4,"ngIf"],["class","d-inline-block ml-3 align-middle font-weight-bold","style","line-height: 26px;",4,"ngIf"],["id","logo-apt",1,"logo-footer","align-middle",3,"src"],[1,"d-inline-block","ml-3","align-middle","font-weight-bold",2,"line-height","26px"]],template:function(i,e){1&i&&t.YNc(0,q,3,2,"div",0),2&i&&t.Q6J("ngIf",!!(null!=e.dmsService.albergo&&(null!=e.dmsService.albergo&&e.dmsService.albergo.urlImmagineBottom||null!=e.dmsService.albergo&&e.dmsService.albergo.textBottom)))},dependencies:[d.O5]});var k=r(6442),Y=r(22165),D=r(5939);function G(n,i){1&n&&(t.TgZ(0,"i",59),t._uU(1,"star"),t.qZA())}function V(n,i){if(1&n&&(t.ynx(0),t.YNc(1,G,2,0,"i",58),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.stelle)}}function j(n,i){if(1&n&&(t.TgZ(0,"span",60),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,e.getEnumKeyTranslation(e.enumTipoAlbergo,null==e.portale?null:e.portale.tipologia,"tipologiaAlbergo")))}}function $(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,V,2,1,"ng-container",1),t.YNc(2,j,3,3,"span",57),t._UZ(3,"br")(4,"br"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=e.stelle&&e.stelle.length>0),t.xp6(1),t.Q6J("ngIf",null!=(null==e.portale?null:e.portale.tipologia))}}function X(n,i){if(1&n&&(t.TgZ(0,"span",61)(1,"i",59),t._uU(2," place "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(null==e.portale?null:e.portale.indirizzo)}}function tt(n,i){if(1&n&&(t.TgZ(0,"span",62),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.portale?null:e.portale.cap)}}const et=function(n){return{"pl-1":n}};function it(n,i){if(1&n&&(t.TgZ(0,"span",63),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(3,et,!(null!=e.portale&&e.portale.cap))),t.xp6(1),t.AsE("",null==e.portale?null:e.portale.citta," (",null==e.portale?null:e.portale.provincia,")")}}function nt(n,i){if(1&n&&(t.TgZ(0,"span",64)(1,"i",59),t._uU(2," phone_enabled "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(null==e.portale?null:e.portale.telefono)}}function ot(n,i){if(1&n&&(t.TgZ(0,"span",64)(1,"i",59),t._uU(2," link "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(null==e.portale?null:e.portale.linkSitoWeb)}}function at(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"dms.hotel-details.comune")," ",null==e.portale?null:e.portale.citta," ")}}function lt(n,i){if(1&n&&(t.TgZ(0,"p"),t._UZ(1,"app-inner-html",65),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("_text",e.descrizione)("block",!1)}}function rt(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e)}}function st(n,i){if(1&n&&(t.ynx(0),t.YNc(1,rt,2,1,"li",1),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",!!e)}}function ct(n,i){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e)}}function mt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ct,2,1,"li",1),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",!!e)}}const pt=function(n){return[n]};function ut(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h1"),t._uU(6),t.qZA(),t.YNc(7,$,5,2,"div",1),t.TgZ(8,"div",6),t.YNc(9,X,4,1,"span",7),t.YNc(10,tt,2,1,"span",8),t.YNc(11,it,2,5,"span",9),t.YNc(12,nt,4,1,"span",10),t.YNc(13,ot,4,1,"span",10),t.qZA()()()(),t.TgZ(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"h2"),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"div",17),t._uU(24),t.qZA(),t.TgZ(25,"div",18)(26,"a",19),t.NdJ("click",function(a){t.CHM(e);const l=t.MAs(50);return a.preventDefault(),t.KtG(l.scrollIntoView({behavior:"smooth"}))}),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"a",20),t.NdJ("click",function(a){t.CHM(e);const l=t.MAs(88);return a.preventDefault(),t.KtG(l.scrollIntoView({behavior:"smooth"}))}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"a",21),t.NdJ("click",function(a){t.CHM(e);const l=t.MAs(98);return a.preventDefault(),t.KtG(l.scrollIntoView({behavior:"smooth"}))}),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"a",22),t.NdJ("click",function(a){t.CHM(e);const l=t.MAs(109);return a.preventDefault(),t.KtG(l.scrollIntoView({behavior:"smooth"}))}),t._uU(36),t.ALo(37,"translate"),t.qZA()(),t.TgZ(38,"div",23)(39,"a",24),t._uU(40),t.ALo(41,"translate"),t.qZA()()()(),t.TgZ(42,"div",25)(43,"div",26)(44,"div",27),t._UZ(45,"app-image-slider",28),t.qZA(),t.TgZ(46,"div",29)(47,"div",13)(48,"div",30),t._UZ(49,"div",31,32),t.TgZ(51,"div",16)(52,"h2"),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"div",33)(56,"div",34),t._UZ(57,"i",35),t._uU(58),t.ALo(59,"translate"),t.qZA(),t._uU(60),t._UZ(61,"br"),t.YNc(62,at,3,4,"ng-container",1),t.qZA(),t.TgZ(63,"div",33)(64,"div",34),t._UZ(65,"i",36),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"a",37),t.NdJ("click",function(a){return a.preventDefault()}),t._uU(69),t.qZA()(),t.TgZ(70,"div",33)(71,"div",34),t._UZ(72,"i",38),t._uU(73),t.ALo(74,"translate"),t.qZA()(),t.TgZ(75,"div",33)(76,"div",34),t._UZ(77,"i",39),t._uU(78),t.ALo(79,"translate"),t.qZA()()()(),t.TgZ(80,"div",40)(81,"div",16)(82,"h2"),t._uU(83),t.ALo(84,"translate"),t.qZA(),t.YNc(85,lt,2,2,"p",1),t.qZA()()()()(),t.TgZ(86,"div",41),t._UZ(87,"div",42,43),t.TgZ(89,"div",44)(90,"h2"),t._uU(91),t.ALo(92,"translate"),t.qZA()()(),t.TgZ(93,"div",45)(94,"div",46),t._UZ(95,"app-image-slider",28),t.qZA()(),t.TgZ(96,"div",41),t._UZ(97,"div",47,48),t.TgZ(99,"div",44)(100,"h2"),t._uU(101),t.ALo(102,"translate"),t.qZA()()(),t.TgZ(103,"div",49)(104,"div",50)(105,"ul"),t.YNc(106,st,2,1,"ng-container",51),t.qZA()()(),t.TgZ(107,"div",41),t._UZ(108,"div",52,53),t.TgZ(110,"div",44)(111,"h2"),t._uU(112),t.ALo(113,"translate"),t.qZA()()(),t.TgZ(114,"div",54)(115,"div",55)(116,"div",56)(117,"ul"),t.YNc(118,mt,2,1,"ng-container",51),t.qZA()()()()()()()()(),t._UZ(119,"app-dms-footer"),t.BQk()}if(2&n){const e=t.oxw();t.xp6(6),t.Oqu(null==e.portale?null:e.portale.nomeStruttura),t.xp6(1),t.Q6J("ngIf",null!=e.stelle&&e.stelle.length>0||null!=(null==e.portale?null:e.portale.tipologia)),t.xp6(2),t.Q6J("ngIf",null==e.portale?null:e.portale.indirizzo),t.xp6(1),t.Q6J("ngIf",!(null==e.portale||!e.portale.cap)),t.xp6(1),t.Q6J("ngIf",!(null==e.portale||!e.portale.citta||null==e.portale||!e.portale.provincia)),t.xp6(1),t.Q6J("ngIf",!(null==e.portale||!e.portale.telefono)),t.xp6(1),t.Q6J("ngIf",!(null==e.portale||!e.portale.linkSitoWeb)),t.xp6(8),t.Oqu(t.lcZ(22,36,"dms.hotel-details.struttura")),t.xp6(3),t.hij(" ",null==e.portale?null:e.portale.nomeStruttura," "),t.xp6(3),t.Oqu(t.lcZ(28,38,"dms.hotel-details.descrizione")),t.xp6(3),t.Oqu(t.lcZ(31,40,"dms.hotel-details.gallery")),t.xp6(3),t.Oqu(t.lcZ(34,42,"dms.hotel-details.tariffe")),t.xp6(3),t.Oqu(t.lcZ(37,44,"dms.hotel-details.servizi")),t.xp6(3),t.Q6J("href",e.getUrlWebBooking(),t.LSH),t.xp6(1),t.Oqu(t.lcZ(41,46,"dms.hotel-details.prenota")),t.xp6(5),t.Q6J("images",t.VKq(66,pt,null==e.portale?null:e.portale.urlImmagine))("minimumHeight",300)("maximumHeight",600),t.xp6(8),t.Oqu(t.lcZ(54,48,"dms.hotel-details.informazioni")),t.xp6(5),t.hij(" ",t.lcZ(59,50,"dms.hotel-details.indirizzo")," "),t.xp6(2),t.hij(" ",null==e.portale?null:e.portale.indirizzo," "),t.xp6(2),t.Q6J("ngIf",!(null==e.portale||!e.portale.citta)),t.xp6(4),t.hij(" ",t.lcZ(67,52,"dms.hotel-details.telefono")," "),t.xp6(3),t.Oqu(null==e.portale?null:e.portale.telefono),t.xp6(4),t.hij(" ",t.lcZ(74,54,"dms.hotel-details.apertura")," "),t.xp6(5),t.hij(" ",t.lcZ(79,56,"dms.hotel-details.disponibilita")," "),t.xp6(5),t.Oqu(t.lcZ(84,58,"dms.hotel-details.descrizioneStruttura")),t.xp6(2),t.Q6J("ngIf",!!e.descrizione),t.xp6(6),t.Oqu(t.lcZ(92,60,"dms.hotel-details.galleriaImmagini")),t.xp6(4),t.Q6J("images",e.immagini)("minimumHeight",300)("maximumHeight",600),t.xp6(6),t.Oqu(t.lcZ(102,62,"dms.hotel-details.tariffe")),t.xp6(5),t.Q6J("ngForOf",e.tariffe),t.xp6(6),t.Oqu(t.lcZ(113,64,"dms.hotel-details.servizi")),t.xp6(6),t.Q6J("ngForOf",e.servizi)}}class I extends _.H{constructor(i,e,o,a,l,u,C){super(),this.apiService=i,this.route=e,this.router=o,this.containerService=a,this.dmsService=l,this.cssLoaderService=u,this.headerService=C,this.enumTipoAlbergo=A.X1,this.immagini=[],this.tariffe=[],this.servizi=[],this.stelle=[],this.initialized=!1}ngOnInit(){this.containerService.setScrollingContainer("dms"),this.dmsService.hidePagine(),this.sub=this.route.queryParamMap.subscribe(i=>{this.initialized=!1;let e=i.get("oidAlbergo"),o=i.get("oidPortale");o&&!isNaN(+o)?(this.setIsLoading(!0),this.dmsService.setLingua(i.get("lingua")).then(()=>{this.download(e&&!isNaN(+e)?+e:null,+o)})):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}download(i,e){this.setIsLoading(!0);let o=new h.HBB;o.oidAlbergoMaster=i,o.oidPortale=e,o.lingua=this.dmsService.lingua,this.apiService.getDettagliPortale(o).subscribe(a=>{null!=a.data&&null!=a.data.portale&&null!=a.data.albergoMaster?(this.oidPortale=e,this.oidAlbergoMaster=a.data.albergoMaster.oid,this.dmsService.albergo=a.data.albergoMaster,this.portale=a.data.portale,this.immagini=a.data.immagini,this.descrizione=a.data.descrizione,this.tariffe=a.data.tariffe,this.servizi=a.data.servizi,this.codiceAlbergo=a.data.codiceAlbergo,null!=this.portale&&null!=this.portale.stelle?this.stelle=A.zy[this.getEnumKeyOriginal(A.bm,this.portale.stelle)].split(""):this.stelle=[],this.cssLoaderService.setDmsColor(this.dmsService.albergo.baseColor),this.cssLoaderService.loadDms(this.dmsService.albergo.stileCss),this.headerService.showHeader(A.h4.Dms),this.initialized=!0,this.setIsLoading(!1)):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}getUrlWebBooking(){return window.location.origin+"/booking?oidPortale="+this.oidPortale+"&lingua="+this.dmsService.lingua}ngOnDestroy(){this.sub.unsubscribe()}}I.\u0275fac=function(i){return new(i||I)(t.Y36(w.s),t.Y36(c.gz),t.Y36(c.F0),t.Y36(s.J),t.Y36(m.r),t.Y36(p.e),t.Y36(g.r))},I.\u0275cmp=t.Xpm({type:I,selectors:[["app-hotel-details"]],features:[t.qOj],decls:2,vars:1,consts:[["id","dms",1,"w-100","h-100","overflow-auto"],[4,"ngIf"],[1,"container","colonnaStruttura","p-0","mt-4","mb-4"],[1,"wrapperHeaderStruttura","container"],[1,"header-struttura-container"],[1,"header-struttura-left","container"],[1,"single-result-address"],["class","street",4,"ngIf"],["class","cap mr-1 pl-1",4,"ngIf"],["class","city pl-1",3,"ngClass",4,"ngIf"],["class","tel",4,"ngIf"],["id","colonnacentrale",1,"container"],[1,"container","risultatiRicerca","dettaglioV"],[1,"row","mr-0","ml-0"],[1,"col-12","col-lg-4","p-0","colonnaFiltro"],[1,"sidebarMenu","sticky-top"],[1,"titolo-testo"],[1,"nomeAlbergo"],[1,"wrapperMenu"],["href","#","title","Descrizione",1,"linkAncora",3,"click"],["href","#","title","Gallery",1,"linkAncora",3,"click"],["href","#","title","Virtual Tour",1,"linkAncora",3,"click"],["href","#","title","Servizi",1,"linkAncora",3,"click"],[1,"res"],["target","_blank","title","Prenota",3,"href"],[1,"col-12","col-lg-8","pr-0","pl-0","pl-md-3","colonnaStrutture","dettaglioV"],[1,"container","wrapperDettaglioStruttura","p-0"],[1,"immaginePrincipaleStruttura"],[3,"images","minimumHeight","maximumHeight"],[1,"wrapperDettaglio","dettaglioV","pr-0","pl-0"],[1,"col-12","col-md-3"],["id","descrizione",1,"ancoraDettaglio"],["descrizioneBox",""],[1,"padding","wrapperInfo"],[1,"titoloInfo"],[1,"fa","fa-home","colore-icone"],[1,"fa","fa-phone","colore-icone"],["href","#",3,"click"],[1,"fa","fa-flag","colore-icone"],[1,"fa","fa-star","colore-icone"],[1,"col-12","col-md-9"],[1,"container","wrapperIntestazione","p-0"],["id","galleria",1,"ancoraDettaglio"],["galleriaBox",""],[1,"intestazioneSezione"],[1,"container","wrapperGallery","p-0"],[1,"gallery","dettaglioV","p-0"],["id","tariffe",1,"ancoraDettaglio"],["tariffeBox",""],[1,"wrapperTariffe","container","p-0"],[1,"dettaglioTariffe"],[4,"ngFor","ngForOf"],["id","servizi",1,"ancoraDettaglio"],["serviziBox",""],[1,"wrapperServizi","container","p-0"],[1,"dettaglioServizi"],[1,"serv-list"],["class","tipologia-struttura ml-1",4,"ngIf"],["class","material-icons colore-icone icon-small",4,"ngFor","ngForOf"],[1,"material-icons","colore-icone","icon-small"],[1,"tipologia-struttura","ml-1"],[1,"street"],[1,"cap","mr-1","pl-1"],[1,"city","pl-1",3,"ngClass"],[1,"tel"],[3,"_text","block"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.YNc(1,ut,120,68,"ng-container",1),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",e.initialized))},dependencies:[d.mk,d.sg,d.O5,S,k.V,Y.W,D.X$],styles:[".immaginePrincipaleStruttura[_ngcontent-%COMP%], .gallery[_ngcontent-%COMP%]{min-height:300px}.icon-small[_ngcontent-%COMP%]{font-size:18px}.homeLink[_ngcontent-%COMP%]{font-weight:600}"]});var Z=r(58540),N=r(78654),dt=r(44769),gt=r(23478);function _t(n,i){if(1&n&&t._UZ(0,"app-inner-html",4),2&n){const e=t.oxw();t.Q6J("_text",e.testo)}}function ht(n,i){if(1&n&&(t._UZ(0,"iframe",5),t.ALo(1,"safeUrl")),2&n){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,e.url),t.uOi)}}class H{constructor(){}}H.\u0275fac=function(i){return new(i||H)},H.\u0275cmp=t.Xpm({type:H,selectors:[["app-pagina-dms-modal"]],inputs:{testo:"testo",url:"url"},decls:5,vars:3,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[3,"_text",4,"ngIf"],["width","100%","height","100%","frameborder","0",3,"src",4,"ngIf"],[3,"_text"],["width","100%","height","100%","frameborder","0",3,"src"]],template:function(i,e){1&i&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.YNc(3,_t,1,1,"app-inner-html",2),t.YNc(4,ht,2,3,"iframe",3)),2&i&&(t.Q6J("disableRipple",!0),t.xp6(3),t.Q6J("ngIf",!!e.testo),t.xp6(1),t.Q6J("ngIf",!!e.url))},dependencies:[d.O5,N.eB,dt.aO,Y.W,gt.Q]});var ft=r(30724),F=r(82226),P=r(28849),vt=r(2353),xt=r(64352),bt=r(60773),Ct=r(92198);function Zt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index,l=t.oxw();return t.KtG(l.onCameraRemove(a))}),t.TgZ(2,"i",23),t._uU(3,"clear"),t.qZA()()()}}function At(n,i){1&n&&(t.TgZ(0,"div",12)(1,"div",24),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"dms.hotel-list.etaBambini")," "))}function Tt(n,i){if(1&n&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}const Mt=function(n,i){return{"pl-3":n,"pr-3":i}};function wt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",27)(1,"mat-form-field",28)(2,"mat-select",29),t.NdJ("selectionChange",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onCamereChange())})("ngModelChange",function(a){t.CHM(e);const l=t.oxw().$implicit,u=t.oxw(2).index,C=t.oxw();return t.KtG(C.camere[u].pax[l].eta=a)}),t.YNc(3,Tt,2,2,"mat-option",30),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2).index,a=t.oxw();t.Q6J("ngClass",t.WLB(4,Mt,(e-1)%3==0,e%3==0)),t.xp6(2),t.Q6J("panelClass","dms-select")("ngModel",a.camere[o].pax[e].eta),t.xp6(1),t.Q6J("ngForOf",a.utilityService.counterFromTo(a.etaMinimaBambini,a.etaMassimaBambini))}}function qt(n,i){1&n&&t._UZ(0,"div",32)}function St(n,i){if(1&n&&(t.ynx(0),t.YNc(1,wt,4,7,"div",25),t.YNc(2,qt,1,0,"div",26),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e>0),t.xp6(1),t.Q6J("ngIf",e<=0)}}function yt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,St,3,2,"ng-container",6),t.BQk()),2&n){const e=t.oxw().index,o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.bambini[e])}}function Ot(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",12)(3,"div",13),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",14)(7,"button",15),t.NdJ("click",function(){const l=t.CHM(e).index,u=t.oxw();return t.KtG(u.onNumeroAdultiChange(l,u.camere[l].numeroAdulti-1))}),t.TgZ(8,"i",9),t._uU(9,"remove_circle_outline"),t.qZA()(),t.TgZ(10,"span",16),t._uU(11),t.qZA(),t.TgZ(12,"button",15),t.NdJ("click",function(){const l=t.CHM(e).index,u=t.oxw();return t.KtG(u.onNumeroAdultiChange(l,u.camere[l].numeroAdulti+1))}),t.TgZ(13,"i",9),t._uU(14,"add_circle_outline"),t.qZA()()(),t.TgZ(15,"div",17)(16,"button",15),t.NdJ("click",function(){const l=t.CHM(e).index,u=t.oxw();return t.KtG(u.onNumeroBambiniChange(l,!1,u.camere[l].numeroBambini-1))}),t.TgZ(17,"i",9),t._uU(18,"remove_circle_outline"),t.qZA()(),t.TgZ(19,"span",16),t._uU(20),t.qZA(),t.TgZ(21,"button",15),t.NdJ("click",function(){const l=t.CHM(e).index,u=t.oxw();return t.KtG(u.onNumeroBambiniChange(l,!0,u.camere[l].numeroBambini+1))}),t.TgZ(22,"i",9),t._uU(23,"add_circle_outline"),t.qZA()()(),t.YNc(24,Zt,4,0,"div",18),t.YNc(25,At,4,3,"div",19),t.YNc(26,yt,2,1,"ng-container",20),t.qZA(),t.BQk()}if(2&n){const e=i.index,o=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,10,"dms.hotel-list.camera")+" "+(e+1)),t.xp6(3),t.Q6J("disabled",o.camere[e].numeroAdulti<=1),t.xp6(4),t.Oqu(o.camere[e].numeroAdulti),t.xp6(1),t.Q6J("disabled",o.camere[e].numeroAdulti+o.camere[e].numeroBambini>=12||o.adultiMax>0&&o.camere[e].numeroAdulti>=o.adultiMax),t.xp6(4),t.Q6J("disabled",o.camere[e].numeroBambini<=0),t.xp6(4),t.Oqu(o.camere[e].numeroBambini),t.xp6(1),t.Q6J("disabled",o.camere[e].numeroAdulti+o.camere[e].numeroBambini>=12||o.bambiniMax>0&&o.camere[e].numeroBambini>=o.bambiniMax),t.xp6(3),t.Q6J("ngIf",o.camere.length>1),t.xp6(1),t.Q6J("ngIf",o.camere[e].numeroBambini>0),t.xp6(1),t.Q6J("ngIf",o.camere[e].numeroBambini>0)}}const zt=function(n){return{"add-room-disabled":n}};class U{constructor(i){this.utilityService=i,this.paxChanged=new t.vpe,this.bambini=[]}ngOnInit(){if(null!=this.camere&&this.camere.length>0){this.bambini=[];for(let i of this.camere){let e=[];for(let o=1,a=1;a<=i.numeroBambini;o++)o%4>0?(e.push(a),a++):e.push(-1);this.bambini.push(e)}}}onNumeroBambiniChange(i,e,o){let a=[];for(let l=1,u=1;u<=o;l++)l%4>0?(a.push(u),u++):a.push(-1);if(e){let l=new h.CIA;l.eta=this.etaMinimaBambini,l.quantita=1,this.camere[i].pax.push(l)}else this.camere[i].pax.pop();this.bambini[i]=a,this.onCamereChange()}onNumeroAdultiChange(i,e){this.camere[i].pax[0].quantita=e,this.onCamereChange()}onCameraAdd(){this.camere.length<this.camerePrenotabili&&(this.camere.push(new h.Esx(this.adultiDefault)),this.bambini.push([]),this.onCamereChange())}onCameraRemove(i){this.camere.splice(i,1),this.bambini.splice(i,1),this.onCamereChange()}onCamereChange(){this.paxChanged.emit(this.camere)}}U.\u0275fac=function(i){return new(i||U)(t.Y36(vt.t))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-dms-room-select"]],inputs:{camere:"camere",adultiDefault:"adultiDefault",adultiMax:"adultiMax",bambiniMax:"bambiniMax",camerePrenotabili:"camerePrenotabili",etaMinimaBambini:"etaMinimaBambini",etaMassimaBambini:"etaMassimaBambini"},outputs:{paxChanged:"paxChanged"},decls:19,vars:14,consts:[[1,"container-fluid","pr-3","pl-3","pt-3","mt-4","room-select-container"],[1,"row","mb-2"],[1,"col-3"],[1,"col-4","text-center","div-adulti"],[1,"adultiBambini"],[1,"col-4","text-center","div-bambini"],[4,"ngFor","ngForOf"],[1,"mt-2","pb-2","div-aggiungiCamera"],["mat-icon-button","",1,"add-minus-button","add-room-button","align-middle",3,"disabled","click"],[1,"material-icons-round","add-minus-icon"],[1,"color-dms","align-middle","aggiungiCamera",3,"ngClass","click"],[1,"row"],[1,"col-3","pr-0","pt-1","pb-1"],[1,"camera"],[1,"col-4","text-center","pt-1","pb-1","control-adulti"],["mat-icon-button","",1,"add-minus-button",3,"disabled","click"],[1,"align-middle","mr-1","ml-1"],[1,"col-4","text-center","pt-1","pb-1","control-bambini"],["class","col-1 p-0 ml-n3 pt-1 pb-1",4,"ngIf"],["class","col-3 pr-0 pt-1 pb-1",4,"ngIf"],[4,"ngIf"],[1,"col-1","p-0","ml-n3","pt-1","pb-1"],["mat-icon-button","",1,"delete-button",3,"click"],[1,"material-icons-round"],[1,"etaBambini","mt-1"],["class","col-3 text-center p-0 pt-1 pb-1",3,"ngClass",4,"ngIf"],["class","col-3 pt-1 pb-1",4,"ngIf"],[1,"col-3","text-center","p-0","pt-1","pb-1",3,"ngClass"],[1,"child-age-select"],[3,"panelClass","ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-3","pt-1","pb-1"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"span",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",5)(8,"span",4),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.YNc(11,Ot,27,12,"ng-container",6),t.TgZ(12,"div",7)(13,"button",8),t.NdJ("click",function(){return e.onCameraAdd()}),t.TgZ(14,"i",9),t._uU(15,"add_circle_outline"),t.qZA()(),t.TgZ(16,"span",10),t.NdJ("click",function(){return e.onCameraAdd()}),t._uU(17),t.ALo(18,"translate"),t.qZA()()()),2&i&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"dms.hotel-list.adulti")),t.xp6(4),t.Oqu(t.lcZ(10,8,"dms.hotel-list.bambini")),t.xp6(2),t.Q6J("ngForOf",e.camere),t.xp6(2),t.Q6J("disabled",e.camere.length>=e.camerePrenotabili),t.xp6(3),t.Q6J("ngClass",t.VKq(12,zt,e.camere.length>=e.camerePrenotabili)),t.xp6(1),t.hij(" ",t.lcZ(18,10,"dms.hotel-list.aggiungiCamera")," "))},dependencies:[d.mk,d.sg,d.O5,N.eB,xt.v_,bt.CK,Ct.x8,P.JJ,P.On,D.X$],styles:[".etaBambini[_ngcontent-%COMP%]{font-size:12px;color:gray;white-space:nowrap;font-weight:400}.add-minus-button[_ngcontent-%COMP%]{width:18px!important;height:18px!important;line-height:18px!important}.add-minus-icon[_ngcontent-%COMP%]{font-size:18px!important;line-height:18px!important}.add-minus-button[_ngcontent-%COMP%]:enabled{color:#666!important}.delete-button[_ngcontent-%COMP%]{width:20px!important;height:20px!important;line-height:20px!important;color:#d9534f!important}.delete-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:20px!important;line-height:20px!important}.add-room-disabled[_ngcontent-%COMP%]{color:#00000042!important;cursor:default!important}.add-room-button[_ngcontent-%COMP%]{margin-top:.1rem!important}.add-room-button[_ngcontent-%COMP%]:enabled{color:var(--dms-main-color)!important}.camera[_ngcontent-%COMP%]{white-space:nowrap!important;font-size:14px;font-weight:600}.adultiBambini[_ngcontent-%COMP%]{font-size:15px;font-weight:600}.aggiungiCamera[_ngcontent-%COMP%]{cursor:pointer}.child-age-select[_ngcontent-%COMP%]{width:47px!important}  .child-age-select .mat-form-field-infix{border-top:0!important;padding-top:.25rem!important;padding-bottom:.25rem!important}  .child-age-select .mat-form-field-flex{border:1px solid #bbbbbb!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important;height:22px!important}  .child-age-select .mat-form-field-underline{visibility:hidden!important}  .child-age-select .mat-form-field-wrapper{padding-bottom:0!important}.room-select-riduzione-select[_ngcontent-%COMP%]{width:100%}  .room-select-riduzione-select .mat-form-field-infix{border-top:0!important;padding-top:.25rem!important;padding-bottom:.25rem!important}  .room-select-riduzione-select .mat-form-field-flex{border:1px solid #bbbbbb!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important;height:27px!important}  .room-select-riduzione-select .mat-form-field-underline{visibility:hidden!important}  .room-select-riduzione-select .mat-form-field-wrapper{padding-bottom:0!important}.bambino-col[_ngcontent-%COMP%]{position:relative;width:100%;flex:0 0 22.222222%;max-width:22.222222%}.room-select-container[_ngcontent-%COMP%]{font-weight:500;font-family:Montserrat}"]});var Dt=r(46446);function It(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-dms-room-select",29),t.NdJ("paxChanged",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.rq.camere=a)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("camere",e.rq.camere)("adultiDefault",e.adultiDefault)("adultiMax",e.adultiMax)("bambiniMax",e.bambiniMax)("camerePrenotabili",e.camerePrenotabili)("etaMinimaBambini",e.etaMinimaBambini)("etaMassimaBambini",e.etaMassimaBambini)}}function Ht(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",30)(2,"input",31),t.NdJ("change",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.onTipologiaChange(l.key))}),t.qZA(),t.TgZ(3,"label",32),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=i.$implicit,o=i.index;t.xp6(2),t.Q6J("id","tipologia"+o),t.xp6(1),t.Q6J("for","tipologia"+o),t.xp6(1),t.Oqu(t.lcZ(5,3,e.value))}}function Pt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",33)(2,"input",31),t.NdJ("change",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.onStelleChange(l.key))}),t.qZA(),t.TgZ(3,"label",32),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=i.$implicit,o=i.index;t.xp6(2),t.Q6J("id","stella"+o),t.xp6(1),t.Q6J("for","stella"+o),t.xp6(1),t.Oqu(t.lcZ(5,3,e.value))}}function Ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",37)(1,"input",31),t.NdJ("change",function(){t.CHM(e);const a=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.onServizioChange(a.oid))}),t.qZA(),t.TgZ(2,"label",32),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw(),o=e.index,a=e.$implicit;t.xp6(1),t.Q6J("id","servizio"+o),t.xp6(1),t.Q6J("for","servizio"+o),t.xp6(1),t.Oqu(a.nome)}}function Jt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ut,4,3,"div",36),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",!!e.nome)}}function Bt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",23)(1,"a",24),t.NdJ("click",function(a){t.CHM(e);const l=t.oxw(2);return a.preventDefault(),t.KtG(l.showAllServizi=!l.showAllServizi)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showAllServizi=!a.showAllServizi)}),t.TgZ(5,"i",26),t._uU(6),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,e.showAllServizi?"dms.hotel-list.nascondi":"dms.hotel-list.mostraTutti")),t.xp6(4),t.Oqu(e.showAllServizi?"keyboard_arrow_up":"keyboard_arrow_down")}}function Et(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"h4",34),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Jt,2,1,"ng-container",22),t.YNc(5,Bt,7,4,"div",35),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"dms.hotel-list.servizi")),t.xp6(2),t.Q6J("ngForOf",e.showAllServizi?e.servizi:e.servizi.slice(0,4)),t.xp6(1),t.Q6J("ngIf",e.servizi.length>4)}}class J extends _.H{constructor(i){super(),this.apiService=i,this.servizi=[],this.searchEvent=new t.vpe,this.rq=new h.$l_,this.enumTipologiaAlbergo=A.X1,this.enumStelle=A.bm,this.showAllTipologie=!1,this.showAllStelle=!1,this.showAllServizi=!1}ngOnInit(){if(this.rq.oidAlbergoMaster=this.oidAlbergo,this.rq.arrivo=this.arrivo,this.rq.partenza=this.partenza,null!=this.camere&&this.camere.length>0){this.rq.camere=[];for(let i of this.camere){let e=new h.Esx;e.pax=JSON.parse(JSON.stringify(i.pax)),this.rq.camere.push(e)}}}onSearch(){this.setIsLoading(!0),this.apiService.getDmsSolution(this.rq).subscribe(i=>{if(null!=i.data&&null!=i.data.portali){let e=new h.flU;if(e.portali=i.data.portali,e.arrivo=this.rq.arrivo,e.partenza=this.rq.partenza,this.isRichiediPax){let o=[];for(let a of this.rq.camere){let l=new h.Esx;l.pax=JSON.parse(JSON.stringify(a.pax)),o.push(l)}e.camere=o}this.searchEvent.emit(e)}this.setIsLoading(!1)})}onServizioChange(i){let e=this.rq.servizi.findIndex(o=>o==i);e>=0?this.rq.servizi.splice(e,1):this.rq.servizi.push(i),this.onSearch()}onTipologiaChange(i){let e=this.rq.tipologie.findIndex(o=>o==i);e>=0?this.rq.tipologie.splice(e,1):this.rq.tipologie.push(i),this.onSearch()}onStelleChange(i){let e=this.rq.stelle.findIndex(o=>o==i);e>=0?this.rq.stelle.splice(e,1):this.rq.stelle.push(i),this.onSearch()}onArrivoChange(){setTimeout(()=>{this.rq.arrivo=this.getDate(this.rq.arrivo),Z(this.rq.arrivo)<Z().startOf("day")&&(this.rq.arrivo=this.getDate(Z())),(null==this.rq.partenza||Z(this.rq.arrivo)>=Z(this.rq.partenza))&&(this.rq.partenza=this.getDate(Z(this.rq.arrivo).add(1,"day")))},200)}onPartenzaChange(){setTimeout(()=>{this.rq.partenza=this.getDate(this.rq.partenza),Z(this.rq.partenza)<Z().add(1,"day").startOf("day")&&(this.rq.partenza=this.getDate(Z().add(1,"day"))),(null==this.rq.arrivo||Z(this.rq.arrivo)>=Z(this.rq.partenza))&&(this.rq.arrivo=this.getDate(Z(this.rq.partenza).subtract(1,"day")))},200)}}J.\u0275fac=function(i){return new(i||J)(t.Y36(w.s))},J.\u0275cmp=t.Xpm({type:J,selectors:[["app-hotel-search"]],inputs:{oidAlbergo:"oidAlbergo",servizi:"servizi",isRichiediPax:"isRichiediPax",arrivo:"arrivo",partenza:"partenza",camere:"camere",adultiDefault:"adultiDefault",adultiMax:"adultiMax",bambiniMax:"bambiniMax",camerePrenotabili:"camerePrenotabili",etaMinimaBambini:"etaMinimaBambini",etaMassimaBambini:"etaMassimaBambini"},outputs:{searchEvent:"searchEvent"},features:[t.qOj],decls:73,vars:64,consts:[["id","sidebar-form"],[1,"sidebar-form-container"],[1,"title-sidebar"],[1,"h4-modifica-ricerca"],[1,"sidebar-form-subcontainer"],[1,"citta-container","input-search-containers"],["autocompleteOff","","type","text","id","search_citta_denom","name","citta_denom",3,"placeholder","ngModel","ngModelChange"],[1,"material-icons","colore-icone","position-absolute","search-icon"],["for","search_citta"],[1,"dates-container","input-search-containers"],[1,"datepicker-wrap","position-relative"],["autocompleteOff","","type","text","readonly","",1,"date-input",3,"matDatepicker","placeholder","ngModel","click","dateChange","ngModelChange"],[1,"material-icons","position-absolute","search-icon","calendar-icon","date-input",3,"click"],[3,"panelClass"],["dal",""],["al",""],[3,"camere","adultiDefault","adultiMax","bambiniMax","camerePrenotabili","etaMinimaBambini","etaMassimaBambini","paxChanged",4,"ngIf"],[1,"submit-sidebar-container"],["autocompleteOff","","type","button","name","submit","id","search-submit",3,"value","click"],["id","search-submit-fake",1,"600only"],["id","sidebar-filters"],[1,"h4-tipologie"],[4,"ngFor","ngForOf"],[1,"mb-n4","mt-2","showDiv"],["href","#",1,"showLink",3,"click"],["mat-icon-button","",1,"showButton",3,"click"],[1,"material-icons"],[1,"h4-stelle"],[4,"ngIf"],[3,"camere","adultiDefault","adultiMax","bambiniMax","camerePrenotabili","etaMinimaBambini","etaMassimaBambini","paxChanged"],[1,"custom-control","custom-switch","tipologie-wrap","switch"],["autocompleteOff","","type","checkbox",1,"custom-control-input",3,"id","change"],[1,"custom-control-label",3,"for"],[1,"custom-control","custom-switch","stelle-wrap","switch"],[1,"h4-filters"],["class","mb-n4 mt-2 showDiv",4,"ngIf"],["class","custom-control custom-switch servizi-wrap switch",4,"ngIf"],[1,"custom-control","custom-switch","servizi-wrap","switch"]],template:function(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"input",6),t.NdJ("ngModelChange",function(l){return e.rq.comune=l}),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"i",7),t._uU(14," place "),t.qZA(),t._UZ(15,"label",8),t.qZA(),t.TgZ(16,"div",9)(17,"div",10)(18,"label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"input",11),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(26);return t.KtG(l.open())})("dateChange",function(){return e.onArrivoChange()})("ngModelChange",function(l){return e.rq.arrivo=l}),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"i",12),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(26);return t.KtG(l.open())}),t._uU(24," calendar_today "),t.qZA(),t._UZ(25,"mat-datepicker",13,14),t.qZA(),t.TgZ(27,"div",10)(28,"label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"input",11),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(36);return t.KtG(l.open())})("dateChange",function(){return e.onPartenzaChange()})("ngModelChange",function(l){return e.rq.partenza=l}),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"i",12),t.NdJ("click",function(){t.CHM(o);const l=t.MAs(36);return t.KtG(l.open())}),t._uU(34," calendar_today "),t.qZA(),t._UZ(35,"mat-datepicker",13,15),t.qZA()(),t.YNc(37,It,1,7,"app-dms-room-select",16),t.qZA(),t.TgZ(38,"div",17)(39,"input",18),t.NdJ("click",function(){return e.onSearch()}),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"span",19),t._uU(42),t.ALo(43,"translate"),t.qZA()()()(),t.TgZ(44,"div",20)(45,"div",2)(46,"h4",21),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.YNc(49,Ht,6,5,"ng-container",22),t.ALo(50,"selectEnum"),t.ALo(51,"selectEnum"),t.TgZ(52,"div",23)(53,"a",24),t.NdJ("click",function(l){return l.preventDefault(),e.showAllTipologie=!e.showAllTipologie}),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"button",25),t.NdJ("click",function(){return e.showAllTipologie=!e.showAllTipologie}),t.TgZ(57,"i",26),t._uU(58),t.qZA()()(),t.TgZ(59,"h4",27),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.YNc(62,Pt,6,5,"ng-container",22),t.ALo(63,"selectEnum"),t.ALo(64,"selectEnum"),t.TgZ(65,"div",23)(66,"a",24),t.NdJ("click",function(l){return l.preventDefault(),e.showAllStelle=!e.showAllStelle}),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.TgZ(69,"button",25),t.NdJ("click",function(){return e.showAllStelle=!e.showAllStelle}),t.TgZ(70,"i",26),t._uU(71),t.qZA()()(),t.YNc(72,Et,6,5,"ng-container",28),t.qZA()()}if(2&i){const o=t.MAs(26),a=t.MAs(36);t.xp6(4),t.Oqu(t.lcZ(5,26,"dms.hotel-list.modificaRicerca")),t.xp6(5),t.Oqu(t.lcZ(10,28,"dms.hotel-list.destinazione")),t.xp6(2),t.s9C("placeholder",t.lcZ(12,30,"dms.hotel-list.destinazione")),t.Q6J("ngModel",e.rq.comune),t.xp6(8),t.Oqu(t.lcZ(20,32,"dms.hotel-list.check-in")),t.xp6(2),t.s9C("placeholder",t.lcZ(22,34,"dms.hotel-list.check-in")),t.Q6J("matDatepicker",o)("ngModel",e.rq.arrivo),t.xp6(4),t.Q6J("panelClass","dms-datepicker"),t.xp6(4),t.Oqu(t.lcZ(30,36,"dms.hotel-list.check-out")),t.xp6(2),t.s9C("placeholder",t.lcZ(32,38,"dms.hotel-list.check-out")),t.Q6J("matDatepicker",a)("ngModel",e.rq.partenza),t.xp6(4),t.Q6J("panelClass","dms-datepicker"),t.xp6(2),t.Q6J("ngIf",e.isRichiediPax),t.xp6(2),t.s9C("value",t.lcZ(40,40,"dms.hotel-list.cerca")),t.xp6(3),t.Oqu(t.lcZ(43,42,"dms.hotel-list.cerca")),t.xp6(5),t.Oqu(t.lcZ(48,44,"dms.hotel-list.tipologia")),t.xp6(2),t.Q6J("ngForOf",e.showAllTipologie?t.xi3(50,46,e.enumTipologiaAlbergo,"tipologiaAlbergo"):t.xi3(51,49,e.enumTipologiaAlbergo,"tipologiaAlbergo").slice(0,4)),t.xp6(5),t.Oqu(t.lcZ(55,52,e.showAllTipologie?"dms.hotel-list.nascondi":"dms.hotel-list.mostraTutti")),t.xp6(4),t.Oqu(e.showAllTipologie?"keyboard_arrow_up":"keyboard_arrow_down"),t.xp6(2),t.Oqu(t.lcZ(61,54,"dms.hotel-list.stelle")),t.xp6(2),t.Q6J("ngForOf",e.showAllStelle?t.xi3(63,56,e.enumStelle,"stelleAlbergo"):t.xi3(64,59,e.enumStelle,"stelleAlbergo").slice(0,4)),t.xp6(5),t.Oqu(t.lcZ(68,62,e.showAllStelle?"dms.hotel-list.nascondi":"dms.hotel-list.mostraTutti")),t.xp6(4),t.Oqu(e.showAllStelle?"keyboard_arrow_up":"keyboard_arrow_down"),t.xp6(1),t.Q6J("ngIf",null!=e.servizi&&e.servizi.length>0)}},dependencies:[d.sg,d.O5,ft.X,N.eB,F.Mq,F.hl,P.Fj,P.JJ,P.On,U,Dt.A,D.X$],styles:[".search-icon[_ngcontent-%COMP%]{bottom:5px;right:20px}.calendar-icon[_ngcontent-%COMP%]{color:#ccc;line-height:20px;font-size:20px;bottom:7px;right:10px}.date-input[_ngcontent-%COMP%]{cursor:pointer!important}.showLink[_ngcontent-%COMP%]{font-size:14px}.showDiv[_ngcontent-%COMP%]{margin-left:18px}"]});var Lt=r(59877),Nt=r(1477);const Qt=["row"],kt=["imageContainer"];function Yt(n,i){if(1&n&&t._UZ(0,"app-image-slider",20),2&n){const e=t.oxw();t.Q6J("images",e.immagini)("minimumHeight",350)("maximumHeight",350)("fullHeight",!e.showImageTop)("showButtons",e.showImageTop)("minimumWidth",e.imageWidth)("maximumWidth",e.imageWidth)("updateSize",e.updateImageSize)}}function Rt(n,i){1&n&&(t.TgZ(0,"i",23),t._uU(1," star "),t.qZA())}function Ft(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Rt,2,0,"i",22),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.stelle)}}function Kt(n,i){if(1&n&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.getEnumKeyTranslation(e.enumTipoAlbergo,null==e.portale?null:e.portale.tipologia,"tipologiaAlbergo")))}}function Wt(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ft,2,1,"ng-container",9),t.YNc(2,Kt,3,3,"span",21),t._UZ(3,"br")(4,"br"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null!=e.stelle&&e.stelle.length>0),t.xp6(1),t.Q6J("ngIf",null!=(null==e.portale?null:e.portale.tipologia))}}function Gt(n,i){if(1&n&&(t.TgZ(0,"span",25)(1,"i",23),t._uU(2," place "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",null==e.portale?null:e.portale.indirizzo," ")}}function Vt(n,i){if(1&n&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null==e.portale?null:e.portale.cap)}}const jt=function(n){return{"pl-1":n}};function $t(n,i){if(1&n&&(t.TgZ(0,"span",27),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,jt,!(null!=e.portale&&e.portale.cap))),t.xp6(1),t.AsE("",null==e.portale?null:e.portale.citta," (",null==e.portale?null:e.portale.provincia,")")}}function Xt(n,i){if(1&n&&(t.TgZ(0,"span",28)(1,"i",23),t._uU(2," phone_enabled "),t.qZA(),t._uU(3),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",null==e.portale?null:e.portale.telefono," ")}}function te(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",29),t._uU(5),t.ALo(6,"eurCurrency"),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"dms.hotel-list.aPartireDa")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,null==e.portale?null:e.portale.prezzoMinimo)," ")}}function ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.scopriLaStrutturaClick())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dms.hotel-list.scopriLaStruttura")))}class B extends _.H{constructor(i,e,o){super(),this.router=i,this.containerService=e,this.dmsService=o,this.enumTipoAlbergo=A.X1,this.hideImage=!1,this.showImageTop=!1,this.rowHeight=0,this.imageWidth=0,this.updateImageSize=new Lt.x,this.initialized=!1}ngOnInit(){null!=this.portale&&null!=this.portale.stelle?this.stelle=A.zy[this.getEnumKeyOriginal(A.bm,this.portale.stelle)].split(""):this.stelle=[],this.sub=this.containerService.windowResizeEvent.subscribe(i=>{this.hideImage=!0,setTimeout(()=>{i.width<992?this.showImageTop=!0:this.showImageTop=!1,setTimeout(()=>{this.rowHeight=Math.floor(this.row.nativeElement.offsetHeight+1),this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth+1),this.hideImage=!1,this.updateImageSize.next()},200)},200)})}ngAfterViewInit(){setTimeout(()=>{this.containerService.dimension.width<992?this.showImageTop=!0:this.showImageTop=!1,this.rowHeight=Math.floor(this.row.nativeElement.offsetHeight+1),this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth+1),this.initialized=!0},200)}prenotaClick(){let i=this.getDate(this.arrivo),e=this.getDate(this.partenza),o=[];for(let a of this.camere){let l=new h.Qqq;if(l.adulti=a.numeroAdulti,a.numeroBambini>0){l.bambini=[];for(let u of a.pax.filter(C=>C.eta>=0)){let C=new h.ytq;C.eta=u.eta,C.quantita=u.quantita,l.bambini.push(C)}}o.push(l)}window.open(window.location.origin+"/booking?oidPortale="+this.portale.oid+"&lingua="+this.dmsService.lingua+"&arrivo="+i+"&partenza="+e+"&camere="+JSON.stringify(o))}scopriLaStrutturaClick(){this.router.navigate(["dms/hotel"],{queryParams:{oidAlbergo:this.oidAlbergo,oidPortale:this.portale.oid,lingua:this.dmsService.lingua}})}ngOnDestroy(){this.sub.unsubscribe(),this.updateImageSize.complete()}}B.\u0275fac=function(i){return new(i||B)(t.Y36(c.F0),t.Y36(s.J),t.Y36(m.r))},B.\u0275cmp=t.Xpm({type:B,selectors:[["app-hotel"]],viewQuery:function(i,e){if(1&i&&(t.Gf(Qt,5),t.Gf(kt,5)),2&i){let o;t.iGM(o=t.CRH())&&(e.row=o.first),t.iGM(o=t.CRH())&&(e.imageContainer=o.first)}},inputs:{portale:"portale",oidAlbergo:"oidAlbergo",immagini:"immagini",isRichiediPax:"isRichiediPax",arrivo:"arrivo",partenza:"partenza",camere:"camere"},features:[t.qOj],decls:24,vars:14,consts:[[1,"box-struttura","container"],[1,"row","mr-0","ml-0"],["row",""],[1,"text-center","p-0","col-12","col-lg-4"],[1,"w-100"],["imageContainer",""],[3,"images","minimumHeight","maximumHeight","fullHeight","showButtons","minimumWidth","maximumWidth","updateSize",4,"ngIf"],[1,"col-12","col-md-6","col-lg-4","d-flex","flex-column","justify-content-center","align-items-start","pt-3","pb-3","pt-lg-0","pb-lg-0"],["href","#",1,"nomeStruttura",3,"click"],[4,"ngIf"],[1,"single-result-address"],["class","street",4,"ngIf"],["class","cap mr-1 pl-1",4,"ngIf"],["class","city pl-1",3,"ngClass",4,"ngIf"],["class","tel",4,"ngIf"],[1,"col-12","col-md-6","col-lg-4","d-flex","flex-wrap","align-items-center","pt-3","pb-3","pt-lg-0","pb-lg-0"],[1,"w-100","text-center"],[1,"linkStruttura"],[1,"cursor-pointer",3,"click"],["class","cursor-pointer mt-2",3,"click",4,"ngIf"],[3,"images","minimumHeight","maximumHeight","fullHeight","showButtons","minimumWidth","maximumWidth","updateSize"],["class","tipologia-struttura ml-1",4,"ngIf"],["class","material-icons colore-icone icon-small",4,"ngFor","ngForOf"],[1,"material-icons","colore-icone","icon-small"],[1,"tipologia-struttura","ml-1"],[1,"street"],[1,"cap","mr-1","pl-1"],[1,"city","pl-1",3,"ngClass"],[1,"tel"],[1,"mb-3","mt-1","prezzo"],[1,"cursor-pointer","mt-2",3,"click"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3)(4,"div",4,5),t.YNc(6,Yt,1,8,"app-image-slider",6),t.qZA()(),t.TgZ(7,"div",7)(8,"a",8),t.NdJ("click",function(a){return a.preventDefault()}),t._uU(9),t.qZA(),t.YNc(10,Wt,5,2,"div",9),t.TgZ(11,"div",10),t.YNc(12,Gt,4,1,"span",11),t.YNc(13,Vt,2,1,"span",12),t.YNc(14,$t,2,5,"span",13),t.YNc(15,Xt,4,1,"span",14),t.qZA()(),t.TgZ(16,"div",15)(17,"div",16),t.YNc(18,te,7,6,"ng-container",9),t.TgZ(19,"div",17)(20,"a",18),t.NdJ("click",function(){return e.isRichiediPax?e.prenotaClick():e.scopriLaStrutturaClick()}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.YNc(23,ee,3,3,"a",19),t.qZA()()()()()),2&i&&(t.xp6(4),t.Udp("height",e.hideImage?"0":(e.showImageTop?350:e.rowHeight>200?e.rowHeight:200)+"px"),t.xp6(2),t.Q6J("ngIf",e.initialized),t.xp6(3),t.Oqu(null==e.portale?null:e.portale.nomeStruttura),t.xp6(1),t.Q6J("ngIf",null!=e.stelle&&e.stelle.length>0||null!=(null==e.portale?null:e.portale.tipologia)),t.xp6(2),t.Q6J("ngIf",null==e.portale?null:e.portale.indirizzo),t.xp6(1),t.Q6J("ngIf",!(null==e.portale||!e.portale.cap)),t.xp6(1),t.Q6J("ngIf",!(null==e.portale||!e.portale.citta||null==e.portale||!e.portale.provincia)),t.xp6(1),t.Q6J("ngIf",!(null==e.portale||!e.portale.telefono)),t.xp6(3),t.Q6J("ngIf",e.isRichiediPax&&null!=(null==e.portale?null:e.portale.prezzoMinimo)),t.xp6(3),t.Oqu(t.lcZ(22,12,e.isRichiediPax?"dms.hotel-list.prenota":"dms.hotel-list.scopriLaStruttura")),t.xp6(2),t.Q6J("ngIf",e.isRichiediPax))},dependencies:[d.mk,d.sg,d.O5,k.V,Nt.f,D.X$],styles:[".icon-small[_ngcontent-%COMP%]{font-size:18px}.prezzo[_ngcontent-%COMP%]{font-size:15px;font-weight:600}"]});const ie=["portaliContainer"];function ne(n,i){if(1&n&&(t.TgZ(0,"div",22),t._UZ(1,"app-image-slider",23),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("images",e.immagini)("gallery",!1)("showButtons",!1)("minimumHeight",600)("maximumHeight",700)}}function oe(n,i){if(1&n&&t._UZ(0,"app-hotel",24),2&n){const e=i.$implicit,o=t.oxw(2);t.Q6J("portale",e.portale)("immagini",e.immagini)("oidAlbergo",o.oidAlbergoMaster)("isRichiediPax",o.isRichiediPax)("arrivo",o.rq.arrivo)("partenza",o.rq.partenza)("camere",o.rq.camere)}}function ae(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showMore())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"dms.hotel-list.altriRisultati")))}function le(n,i){if(1&n&&t._UZ(0,"app-inner-html",27),2&n){const e=t.oxw(2);t.Q6J("_text",e.htmlPagina)}}function re(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,ne,2,5,"div",3),t.TgZ(3,"div",4,5)(5,"div",6)(6,"div",7)(7,"div",8),t._UZ(8,"div",9),t.TgZ(9,"div",10)(10,"div",11)(11,"div",12)(12,"span",13),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"span"),t._uU(16),t.qZA()()()()()(),t.TgZ(17,"div",14)(18,"div",8)(19,"div",15)(20,"div",16)(21,"app-hotel-search",17),t.NdJ("searchEvent",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.onSearch(a))}),t.qZA()()(),t.TgZ(22,"div",18),t.YNc(23,oe,1,7,"app-hotel",19),t.YNc(24,ae,4,3,"div",20),t.qZA()()()(),t.YNc(25,le,1,1,"app-inner-html",21),t.qZA()(),t._UZ(26,"app-dms-footer"),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",null!=e.immagini&&e.immagini.length>0),t.xp6(3),t.Q6J("hidden",!!e.htmlPagina),t.xp6(8),t.Oqu(t.lcZ(14,19,"dms.hotel-list.struttureTrovate")),t.xp6(3),t.Oqu(e.portali?e.portali.length:"0"),t.xp6(5),t.Q6J("servizi",e.servizi)("oidAlbergo",e.oidAlbergoMaster)("isRichiediPax",e.isRichiediPax)("arrivo",e.rq.arrivo)("partenza",e.rq.partenza)("camere",e.rq.camere)("adultiDefault",e.adultiDefault)("adultiMax",e.adultiMax)("bambiniMax",e.bambiniMax)("camerePrenotabili",e.camerePrenotabili)("etaMinimaBambini",e.etaMinimaBambini)("etaMassimaBambini",e.etaMassimaBambini),t.xp6(2),t.Q6J("ngForOf",e.portaliVisible),t.xp6(1),t.Q6J("ngIf",e.portaliVisible.length<e.portali.length),t.xp6(1),t.Q6J("ngIf",!!e.htmlPagina)}}class E extends _.H{constructor(i,e,o,a,l,u,C){super(),this.apiService=i,this.route=e,this.router=o,this.dmsService=a,this.containerService=l,this.cssLoaderService=u,this.headerService=C,this.immagini=[],this.portali=[],this.portaliVisible=[],this.servizi=[],this.initialized=!1,this.rq=new h.wbc,this.adultiDefault=2,this.adultiMax=6,this.bambiniMax=6,this.camerePrenotabili=10,this.etaMinimaBambini=0,this.etaMassimaBambini=17}ngOnInit(){this.containerService.setScrollingContainer("dms"),this.dmsService.showPagine(),this.sub=this.route.queryParamMap.subscribe(i=>{this.initialized=!1;let e=i.get("oidAlbergo");if(this.isRichiediPax="true"==i.get("isRichiediPax"),e&&!isNaN(+e)){this.setIsLoading(!0),this.oidAlbergoMaster=+e,this.rq.oidAlbergo=this.oidAlbergoMaster;let o=i.get("arrivo"),a=i.get("partenza");if(o&&a)try{let l=Z(o,"YYYY-MM-DD",!0),u=Z(a,"YYYY-MM-DD",!0);l.isValid()&&u.isValid()&&l>=Z().startOf("day")&&u>l&&(this.rq.arrivo=o,this.rq.partenza=a)}catch(l){}if(this.rq.arrivo||(this.rq.arrivo=this.getDate(this.today)),this.rq.partenza||(this.rq.partenza=this.getDate(this.tomorrow)),this.isRichiediPax){let l=i.get("camere");if(l)try{let u=JSON.parse(l);if(null!=u&&u.length>0){this.rq.camere=[],this.camerePrenotabili>0&&(u=u.slice(0,this.camerePrenotabili));for(let C of u)if(C.adulti>0){C.adulti=Math.min(C.adulti,this.adultiMax>0?Math.min(this.adultiMax,12):12);let K=new h.Esx(C.adulti);if(null!=C.bambini&&C.bambini.length>0){let R=0;for(let L of C.bambini)if(L.quantita>0&&L.eta>=0)for(let W=0;W<L.quantita&&!(this.bambiniMax>0&&R+1>this.bambiniMax||R+1+C.adulti>12);W++){let Q=new h.CIA;Q.eta=Math.max(L.eta,this.etaMinimaBambini),Q.eta=Math.min(L.eta,this.etaMassimaBambini),Q.quantita=1,K.pax.push(Q),R++}}this.rq.camere.push(K)}}}catch(u){}(null==this.rq.camere||0==this.rq.camere.length)&&(this.rq.camere=[new h.Esx(this.adultiDefault)])}this.dmsService.setLingua(i.get("lingua")).then(()=>{this.rq.lingua=this.dmsService.lingua,this.download()})}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})}),this.sub1=this.dmsService.pageClicked.subscribe(i=>{if(null!=i)if(i.isModale){let e=new h.Zpt;e.width="80vw",e.height="80vh",e.panelClass="no-padding-overflow-dialog";let a=this.showModalDialog(H,e).componentInstance;a.testo=i.testo,a.url=i.url}else i.testo?(this.htmlPagina=i.testo,this.portaliContainer.nativeElement.scrollIntoView({behavior:"smooth"})):i.url&&window.open(i.url);else this.htmlPagina=null,this.portaliContainer.nativeElement.scrollIntoView({behavior:"smooth"})})}download(){this.setIsLoading(!0),this.apiService.getPortaliImmaginiServiziAlbergoMaster(this.rq).subscribe(i=>{null!=i.data&&null!=i.data.albergo?(this.dmsService.albergo=i.data.albergo,this.albergo=i.data.albergo,this.immagini=i.data.immagini,this.portali=i.data.portali,this.portaliVisible=this.portali.slice(0,10),this.servizi=i.data.servizi,this.dmsService.pagine=i.data.pagine,this.cssLoaderService.setDmsColor(this.albergo.baseColor),this.cssLoaderService.loadDms(this.albergo.stileCss),this.headerService.showHeader(A.h4.Dms),this.initialized=!0,this.setIsLoading(!1)):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}onSearch(i){this.rq.arrivo=i.arrivo,this.rq.partenza=i.partenza,this.rq.camere=i.camere,this.portali=i.portali,this.portaliVisible=this.portali.slice(0,10),this.portaliContainer.nativeElement.scrollIntoView({behavior:"smooth"})}showMore(){this.portaliVisible=this.portali.slice(0,this.portaliVisible.length+10)}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe()}}E.\u0275fac=function(i){return new(i||E)(t.Y36(w.s),t.Y36(c.gz),t.Y36(c.F0),t.Y36(m.r),t.Y36(s.J),t.Y36(p.e),t.Y36(g.r))},E.\u0275cmp=t.Xpm({type:E,selectors:[["app-hotel-list"]],viewQuery:function(i,e){if(1&i&&t.Gf(ie,5),2&i){let o;t.iGM(o=t.CRH())&&(e.portaliContainer=o.first)}},features:[t.qOj],decls:2,vars:1,consts:[["id","dms",1,"w-100","h-100","overflow-auto"],[4,"ngIf"],[1,"dms-container"],["class","images-cont",4,"ngIf"],["id","colonnacentrale",1,"container"],["portaliContainer",""],[3,"hidden"],[1,"container","wrapperBriciole","pr-0","pl-0"],[1,"row","mr-0","ml-0"],[1,"d-flex","align-items-center","col-md-4","col-12","p-0"],[1,"col-md-8","col-12","p-0"],[1,"container","d-flex","justify-content-end","wrapperStruttureTrovate"],[1,"struttureTrovate"],[1,"font-weight-bold"],[1,"container","risultatiRicerca","p-0"],[1,"col-12","col-lg-4","p-0","colonnaFiltro"],["id","sidebar",1,"container"],[3,"servizi","oidAlbergo","isRichiediPax","arrivo","partenza","camere","adultiDefault","adultiMax","bambiniMax","camerePrenotabili","etaMinimaBambini","etaMassimaBambini","searchEvent"],[1,"col-12","col-lg-8","pl-0","pl-md-3","pr-0","colonnaStrutture"],[3,"portale","immagini","oidAlbergo","isRichiediPax","arrivo","partenza","camere",4,"ngFor","ngForOf"],["class","w-100 text-center mt-3",4,"ngIf"],[3,"_text",4,"ngIf"],[1,"images-cont"],[3,"images","gallery","showButtons","minimumHeight","maximumHeight"],[3,"portale","immagini","oidAlbergo","isRichiediPax","arrivo","partenza","camere"],[1,"w-100","text-center","mt-3"],["mat-flat-button","",1,"altriRisultatiButton",3,"click"],[3,"_text"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.YNc(1,re,27,21,"ng-container",1),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",e.initialized))},dependencies:[d.sg,d.O5,N.eB,S,k.V,Y.W,J,B,D.X$],styles:[".overflow-visible[_ngcontent-%COMP%]{overflow:visible}.images-cont[_ngcontent-%COMP%]{min-height:600px}.dms-container[_ngcontent-%COMP%]{min-height:calc(100% - 90px)}"]});const se=[{path:"",component:E},{path:"hotel",component:I}];class y{}y.\u0275fac=function(i){return new(i||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[c.Bz.forChild(se),c.Bz]});var ce=r(2214);class O{constructor(i,e){this.cssLoaderService=i,this.sessionService=e,this.cssLoaderService.loadCssDms(),this.sessionService.isAttachRequestHeaders=!1}}O.\u0275fac=function(i){return new(i||O)(t.LFG(p.e),t.LFG(ce.m))},O.\u0275mod=t.oAB({type:O}),O.\u0275inj=t.cJS({imports:[d.ez,x.m,f.Q,T._G,y]})},30724:(z,M,r)=>{r.d(M,{X:()=>f});var d=r(61699),T=r(28849);class f{onBlur(){this.nullable||"number"==this._el.nativeElement.type&&!this._el.nativeElement.value&&null!=this.control&&null!=this.control.control&&this.control.control.setValue("0")}constructor(c,_){this._el=c,this.control=_,this.nullable=!1,this._el.nativeElement.setAttribute("autocomplete","off"),this._el.nativeElement.setAttribute("autocorrect","off"),this._el.nativeElement.setAttribute("autocapitalize","none"),this._el.nativeElement.setAttribute("spellcheck","false")}}f.\u0275fac=function(c){return new(c||f)(d.Y36(d.SBq),d.Y36(T.a5,8))},f.\u0275dir=d.lG2({type:f,selectors:[["","autocompleteOff",""]],hostBindings:function(c,_){1&c&&d.NdJ("blur",function(){return _.onBlur()})},inputs:{nullable:"nullable"}})},1477:(z,M,r)=>{r.d(M,{f:()=>f});var d=r(26575),T=r(61699);class f{transform(c,_="1.2-2",h){return h?new d.JJ("it").transform(c,_||"1.2-2")+" "+h:new d.H9("it").transform(c,"EUR","symbol",_||"1.2-2")}}f.\u0275fac=function(c){return new(c||f)},f.\u0275pipe=T.Yjl({name:"eurCurrency",type:f,pure:!0})},23478:(z,M,r)=>{r.d(M,{Q:()=>f});var d=r(61699),T=r(36480);class f{constructor(c){this.sanitized=c}transform(c){return(!c||!c.startsWith("/")&&!c.startsWith("http"))&&(c=""),this.sanitized.bypassSecurityTrustResourceUrl(c)}}f.\u0275fac=function(c){return new(c||f)(d.Y36(T.H7,16))},f.\u0275pipe=d.Yjl({name:"safeUrl",type:f,pure:!0})},46446:(z,M,r)=>{r.d(M,{A:()=>x});var d=r(52374),T=r(61699),f=r(85105);class x{constructor(_){this.localizationService=_}transform(_,h,A=!0,t,w,s){let m=[];for(let p in _)if(!isNaN(parseInt(p,10))){let g=parseInt(p,10);if(t&&t.indexOf(g)>-1||w&&w.indexOf(g)<0)continue;let b={key:g,value:_[p]};if(A&&h){let v=_[p].toString(),q="";v.length>1?q=v[0]==v[0].toUpperCase()&&v[1]==v[1].toUpperCase()?v:v.charAt(0).toLowerCase()+v.slice(1):1==v.length&&(q=v.toLowerCase()),b.value="enumerations."+h+"."+q}m.push(b)}return null!=s&&m.sort((p,g)=>{let b=this.localizationService.getTranslationSync(p.value),v=this.localizationService.getTranslationSync(g.value);return b<v?s==d.nI.Asc?-1:1:b>v?s==d.nI.Asc?1:-1:0}),m}}x.\u0275fac=function(_){return new(_||x)(T.Y36(f.o,16))},x.\u0275pipe=T.Yjl({name:"selectEnum",type:x,pure:!0})},10244:(z,M,r)=>{r.d(M,{e:()=>t});var d=r(26575),T=r(56609),x=r(86107),c=r(52374),_=r(61699),h=r(19209),A=r(2353);class t{constructor(s,m,p){this.document=s,this.apiService=m,this.utility=p}getUbicazioniIstatCss(s,m,p){return new Promise(g=>{let b=x.k$g.fromFilter("pagina",c.Hp.Equal,m.toString(),c.NM.Number);p>0&&b.filters.push(new x.wn$("ubicazioneIstat.oid",c.Hp.Equal,p.toString(),c.NM.Number)),this.apiService.getUbicazioniIstatCssFilter(b,s).subscribe(v=>{v.data.length>0?g(v.data):this.apiService.getUbicazioniIstatCssFilter(x.k$g.fromFilters([new x.wn$("pagina",c.Hp.Equal,m.toString(),c.NM.Number),new x.wn$("ubicazioneIstat",c.Hp.IsNull)]),s).subscribe(q=>{g(q.data)})})})}load(s,m,p){null!=s&&this.getUbicazioniIstatCss(s,m,p).then(g=>{this.loadCss(this.generateCss(g),this.utility.getEnumKey(c.I8,m))})}loadDms(s){s&&this.loadCss(this.generateCssDms(s),"dms")}loadCss(s,m){const p="custom-css-"+m,g=this.document.getElementsByTagName("head")[0];let b=this.document.getElementById(p);if(b)b.innerText=s;else{const v=this.document.createElement("style");v.id=p,v.innerText=s,g.appendChild(v)}}unloadCss(s){let m=this.document.getElementById("custom-css-"+this.utility.getEnumKey(c.I8,s));m&&m.remove()}generateCss(s){let m="";for(let p of s)if(null!=p.cssStyle&&null==p.valore){let g=p.cssStyle.replace(/\s{2,}/g," ").split("}");for(let b of g)-1!=b.indexOf("{")&&(m+=" "==m[m.length-1]?"":" ",b.includes("\xb0=> ")?b=b.replace("\xb0=> ",""):m+="#"+this.utility.getEnumKey(c.I8,p.pagina)+(" "==b[0]?"":" "),m+=b+"} ")}else if(null!=p.valore&&null==p.cssStyle){let g="color";p.htmlElement==c.SL.Button&&(g="background-color"),m+="#"+this.utility.getEnumKey(c.I8,p.pagina)+" "+this.utility.getEnumKey(c.SL,p.htmlElement)+"{"+g+":"+p.valore+"!important;} "}return m}generateCssDms(s){let m="";if(null!=s){let p=s.replace(/\s{2,}/g," ").split("}");for(let g of p)-1!=g.indexOf("{")&&(m+=" "==m[m.length-1]?"":" ",g.includes("\xb0=> ")?g=g.replace("\xb0=> ",""):m+="#dms"+(" "==g[0]?"":" "),m+=g+"} ")}return m}loadCssDms(){const s=this.document.getElementsByTagName("head")[0];let m=this.document.getElementById("dms-style");if(m)m.href="assets/css/dms/styles.css";else{const p=this.document.createElement("link");p.id="dms-style",p.rel="stylesheet",p.type="text/css",p.href="assets/css/dms/styles.css",s.appendChild(p)}}setDmsColor(s){s&&(document.body.style.setProperty("--dms-main-color",s),document.body.style.setProperty("--dms-opposite-color",this.utility.invertColor(s)),document.body.style.setProperty("--dms-transparent-color",s+"80"))}setColor(s,m){s?(document.body.style.setProperty("--main-color",s),m||(m=T(s).lighten(.5).hex()),document.body.style.setProperty("--light-color",m),document.body.style.setProperty("--transparent-color",s+"80"),document.body.style.setProperty("--inverted-color",this.utility.invertColor(s))):(document.body.style.setProperty("--main-color","#004987"),document.body.style.setProperty("--light-color","#006DC9"),document.body.style.setProperty("--transparent-color","#00498780"),document.body.style.setProperty("--inverted-color","white"))}unloadCssDms(){let s=this.document.getElementById("dms-style");s&&s.remove()}}t.\u0275fac=function(s){return new(s||t)(_.LFG(d.K0),_.LFG(h.s),_.LFG(A.t))},t.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}}]);
//# sourceMappingURL=920.d4452a172381bcbb.js.map