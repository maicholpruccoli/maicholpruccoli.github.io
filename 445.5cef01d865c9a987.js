"use strict";(self.webpackChunkwelcome_sbm=self.webpackChunkwelcome_sbm||[]).push([[445],{51428:(ie,R,c)=>{c.d(R,{Z:()=>_});var r=c(65879),F=c(30724),p=c(56223),m=c(94505),e=c(84187),x=c(42400),b=c(27599),B=c(89515);class _{constructor(){}}_.\u0275fac=function(y){return new(y||_)},_.\u0275cmp=r.Xpm({type:_,selectors:[["app-bonifico-details-modal"]],inputs:{modalitaPagamento:"modalitaPagamento"},decls:23,vars:17,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],["appearance","outline",1,"w-100"],["autocompleteOff","","type","text","matInput","","readonly","",3,"ngModel","ngModelChange"]],template:function(y,d){1&y&&(r.TgZ(0,"button",0)(1,"i",1),r._uU(2,"clear"),r.qZA()(),r.TgZ(3,"mat-form-field",2)(4,"mat-label"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"input",3),r.NdJ("ngModelChange",function(s){return d.modalitaPagamento.intestatarioConto=s}),r.qZA()(),r.TgZ(8,"mat-form-field",2)(9,"mat-label"),r._uU(10),r.ALo(11,"translate"),r.qZA(),r.TgZ(12,"input",3),r.NdJ("ngModelChange",function(s){return d.modalitaPagamento.iban=s}),r.qZA()(),r.TgZ(13,"mat-form-field",2)(14,"mat-label"),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.TgZ(17,"input",3),r.NdJ("ngModelChange",function(s){return d.modalitaPagamento.banca=s}),r.qZA()(),r.TgZ(18,"mat-form-field",2)(19,"mat-label"),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"input",3),r.NdJ("ngModelChange",function(s){return d.modalitaPagamento.swift=s}),r.qZA()()),2&y&&(r.Q6J("disableRipple",!0),r.xp6(5),r.Oqu(r.lcZ(6,9,"bo.modalitaPagamento.proprieta.intestatarioConto")),r.xp6(2),r.Q6J("ngModel",d.modalitaPagamento.intestatarioConto),r.xp6(3),r.Oqu(r.lcZ(11,11,"bo.modalitaPagamento.proprieta.iban")),r.xp6(2),r.Q6J("ngModel",d.modalitaPagamento.iban),r.xp6(3),r.Oqu(r.lcZ(16,13,"bo.modalitaPagamento.proprieta.banca")),r.xp6(2),r.Q6J("ngModel",d.modalitaPagamento.banca),r.xp6(3),r.Oqu(r.lcZ(21,15,"bo.modalitaPagamento.proprieta.swift")),r.xp6(2),r.Q6J("ngModel",d.modalitaPagamento.swift))},dependencies:[F.X,p.Fj,p.JJ,p.On,m.eB,e.v_,e.$V,x.k0,b.aO,B.X$]})},2445:(ie,R,c)=>{c.d(R,{l:()=>J});var r=c(14090),F=c(6556),p=c(86107),m=c(52374),e=c(65879),x=c(19209),b=c(93724),B=c(18750),_=c(2214),C=c(85105),y=c(10244),d=c(2353),M=c(52329),s=c(96814),K=c(30724),h=c(94505),z=c(84187),H=c(42400),X=c(18615),E=c(3305),oe=c(61736),N=c(22165),ae=c(93425),le=c(12499),re=c(78003),ce=c(72794),se=c(4731),G=c(27599),g=c(56223),pe=c(27162),f=c(89515);class Z extends r.H{constructor(i,t,o){super(),this.apiService=i,this.sessionService=t,this.localStorage=o,this.getNazioniTradotteRQ=new p.dxh}ngOnInit(){this.getNazioniTradotteRQ.addEmptyItem=!0,this.getNazioniTradotteRQ.lingua=this.lingua}saveCliente(){this.setIsLoading(!0),null==this.clienteModel.password&&(this.clienteModel.password=""),this.apiService.setCliente(this.clienteModel).subscribe(()=>{null!=this.clienteModel.nazioneObject&&(this.clienteModel.nazione=this.clienteModel.nazioneObject.nomeItaliano),this.booking||(this.sessionService.sessione.clienteMySelf.nome=this.clienteModel.nome,this.sessionService.sessione.clienteMySelf.cognome=this.clienteModel.cognome,this.sessionService.sessione.clienteMySelf.email=this.clienteModel.email,this.sessionService.sessione.clienteMySelf.cellulare=this.clienteModel.cellulare,this.sessionService.sessione.clienteMySelf.password=this.clienteModel.password,this.sessionService.sessione.clienteMySelf.indirizzo=this.clienteModel.indirizzo,this.sessionService.sessione.clienteMySelf.nazione=this.clienteModel.nazioneObject,this.sessionService.sessione.clienteMySelf.nazioneString=this.clienteModel.nazione,this.sessionService.sessione.clienteMySelf.lingua=null!=this.clienteModel.lingua?this.clienteModel.lingua.codice:"",null!=this.clienteModel.nazioneObject&&this.clienteModel.nazioneObject.oid>0?this.apiService.getTraduzioniNazione(this.clienteModel.nazioneObject.oid).subscribe(i=>{this.sessionService.sessione.clienteMySelf.nazioniXLingua=i.data,this.localStorage.set(this.sessionService.SESSION_KEY,this.sessionService.sessione)}):this.localStorage.set(this.sessionService.SESSION_KEY,this.sessionService.sessione)),this.setIsLoading(!1),this.showInfo("globals.messages.datiSalvati").then(()=>{this.dialogRef.close(this.clienteModel)})})}}Z.\u0275fac=function(i){return new(i||Z)(e.Y36(x.s),e.Y36(_.m),e.Y36(se.n))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-my-self-dati-edit"]],inputs:{clienteModel:"clienteModel",booking:"booking",lingua:"lingua",dialogRef:"dialogRef"},features:[e.qOj],decls:44,vars:45,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"color-blue","font-weight-bold","text-center","mb-5"],[1,"row"],[1,"col-12","col-md-6"],[1,"w-100"],["autocompleteOff","","type","text","matInput","","required","",3,"placeholder","ngModel","ngModelChange"],["autocompleteOff","","type","password","matInput","",3,"placeholder","ngModel","ngModelChange"],["autocompleteOff","","type","text","matInput","",3,"placeholder","ngModel","ngModelChange"],["displayMember","nome",3,"blue","dataLoader","value","placeholder","required","valueChange"],["displayMember","nome",3,"blue","dataLoader","value","placeholder","valueChange"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"disabled","click"]],template:function(i,t){1&i&&(e.TgZ(0,"button",0)(1,"i",1),e._uU(2,"clear"),e.qZA()(),e.TgZ(3,"h4",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"mat-form-field",5)(9,"input",6),e.NdJ("ngModelChange",function(a){return t.clienteModel.nome=a}),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",4)(12,"mat-form-field",5)(13,"input",6),e.NdJ("ngModelChange",function(a){return t.clienteModel.cognome=a}),e.ALo(14,"translate"),e.qZA()()()(),e.TgZ(15,"div",3)(16,"div",4)(17,"mat-form-field",5)(18,"input",6),e.NdJ("ngModelChange",function(a){return t.clienteModel.email=a}),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"div",4)(21,"mat-form-field",5)(22,"input",6),e.NdJ("ngModelChange",function(a){return t.clienteModel.cellulare=a}),e.ALo(23,"translate"),e.qZA()()()(),e.TgZ(24,"div",3)(25,"div",4)(26,"mat-form-field",5)(27,"input",7),e.NdJ("ngModelChange",function(a){return t.clienteModel.password=a}),e.ALo(28,"translate"),e.qZA()()(),e.TgZ(29,"div",4)(30,"mat-form-field",5)(31,"input",8),e.NdJ("ngModelChange",function(a){return t.clienteModel.indirizzo=a}),e.ALo(32,"translate"),e.qZA()()()(),e.TgZ(33,"div",3)(34,"div",4)(35,"app-view-select",9),e.NdJ("valueChange",function(a){return t.clienteModel.lingua=a}),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",4)(38,"app-view-select",10),e.NdJ("valueChange",function(a){return t.clienteModel.nazioneObject=a}),e.ALo(39,"translate"),e.qZA()()(),e.TgZ(40,"div",11)(41,"button",12),e.NdJ("click",function(){return t.saveCliente()}),e._uU(42),e.ALo(43,"translate"),e.qZA()()),2&i&&(e.Q6J("disableRipple",!0),e.xp6(4),e.Oqu(e.lcZ(5,25,"myself.modificaITuoiDati")),e.xp6(5),e.Q6J("placeholder",e.lcZ(10,27,"bo.cliente.proprieta.nome"))("ngModel",t.clienteModel.nome),e.xp6(4),e.Q6J("placeholder",e.lcZ(14,29,"bo.cliente.proprieta.cognome"))("ngModel",t.clienteModel.cognome),e.xp6(5),e.Q6J("placeholder",e.lcZ(19,31,"bo.cliente.proprieta.email"))("ngModel",t.clienteModel.email),e.xp6(4),e.Q6J("placeholder",e.lcZ(23,33,"bo.cliente.proprieta.cellulare"))("ngModel",t.clienteModel.cellulare),e.xp6(5),e.Q6J("placeholder",e.lcZ(28,35,"bo.cliente.proprieta.password"))("ngModel",t.clienteModel.password),e.xp6(4),e.Q6J("placeholder",e.lcZ(32,37,"bo.cliente.proprieta.indirizzo"))("ngModel",t.clienteModel.indirizzo),e.xp6(4),e.Q6J("blue",!0)("dataLoader",t.apiService.getLingueViewSelect(null,!1))("value",t.clienteModel.lingua)("placeholder",e.lcZ(36,39,"bo.cliente.proprieta.lingua"))("required",!0),e.xp6(3),e.Q6J("blue",!0)("dataLoader",t.apiService.getNazioniTradotte(t.getNazioniTradotteRQ))("value",t.clienteModel.nazioneObject)("placeholder",e.lcZ(39,41,"bo.cliente.proprieta.nazione")),e.xp6(3),e.Q6J("disabled",!t.clienteModel.nome||!t.clienteModel.cognome||!t.clienteModel.email||!t.clienteModel.cellulare||null==t.clienteModel.lingua||t.clienteModel.lingua.oid<=0||!t.clienteModel.password),e.xp6(1),e.Oqu(e.lcZ(43,43,"globals.salva")))},dependencies:[K.X,h.eB,z.v_,H.k0,G.aO,g.Fj,g.JJ,g.Q7,g.On,pe.d,f.X$]});var W=c(24678),Y=c(48424),V=c(16718),j=c(30481);function me(n,i){if(1&n&&e._UZ(0,"img",19),2&n){const t=e.oxw();e.Q6J("src",t.portale.urlImmagineLogo,e.LSH)}}function de(n,i){if(1&n&&(e.TgZ(0,"span",20)(1,"span",21),e._uU(2,"place"),e.qZA(),e.TgZ(3,"span",22),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.portale.indirizzo+", "+(t.portale.cap?t.portale.cap+" ":"")+(t.portale.citta?t.portale.citta+" ":"")+(t.portale.provincia?t.portale.provincia:""))}}function ue(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.utility.openUrlInNewTab("https://wa.me/"+a.utility.checkCellulare(a.portale.telefonoWhatsapp)))}),e._UZ(1,"i",23),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disableRipple",!0)("matTooltip",t.portale.telefonoWhatsapp)}}function ge(n,i){if(1&n&&(e.TgZ(0,"div",24)(1,"button",25),e._UZ(2,"img",26),e.qZA(),e.TgZ(3,"span",27),e._uU(4),e.qZA()()),2&n){const t=e.oxw(),o=e.MAs(14);e.Q6J("matMenuTriggerFor",o),e.xp6(1),e.Q6J("disableRipple",!0),e.xp6(3),e.Oqu(t.cliente.nome+" "+t.cliente.cognome)}}function _e(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.nuovaRecensione())}),e.TgZ(1,"span",11),e._uU(2,"edit_note"),e.qZA(),e.TgZ(3,"span",12),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"myself.nuovaRecensione")))}function fe(n,i){if(1&n&&(e.TgZ(0,"mat-option",28),e._UZ(1,"span"),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=i.$implicit;e.Q6J("value",t.codice),e.xp6(1),e.Gre("mr-2 fi fi-",t.flagIcon,""),e.xp6(2),e.Oqu(e.lcZ(4,5,"language_codes."+t.codice))}}const D=function(n){return{"color-blue":n}};class T extends r.H{constructor(i,t,o,a,l){super(),this.apiService=i,this.sessionService=t,this.utility=o,this.containerService=a,this.localizationService=l,this.onMenuClick=new e.vpe,this.onRecensioneAdd=new e.vpe,this.enumListaSelfCheckIn=m.pE}nuovaRecensione(){let i=new p.Zpt;this.containerService.dimension.width>=992?i.width="50vw":i.width="80vw",i.panelClass="myself-dialog";let t=this.showModalDialog(ce.B,i),o=t.componentInstance;o.cliente=this.cliente,o.portale=this.portale,o.dialogRef=t,t.afterClosed().subscribe(a=>{a&&this.onRecensioneAdd.emit(a)})}onClienteEdit(){let i=JSON.parse(JSON.stringify(this.cliente));if(i.nazione){this.setIsLoading(!0);let t=new p.T9K;t.nomeItaliano=i.nazione,t.lingua=this.lingua,this.apiService.getNazioneTradotta(t).subscribe(o=>{null!=o.data&&(i.nazioneObject=o.data),this.setIsLoading(!1),this.openClienteEditModal(i)})}else this.openClienteEditModal(i)}openClienteEditModal(i){let t=new p.Zpt;this.containerService.dimension.width>=992?t.width="50vw":t.width="80vw",t.panelClass="myself-dialog";let o=this.showModalDialog(Z,t),a=o.componentInstance;a.clienteModel=i,a.booking=!!this.uid,a.lingua=this.lingua,a.dialogRef=o,o.afterClosed().subscribe(l=>{l&&(this.cliente=l)})}logout(){this.showDialogConfirm("myself.effettuareLogout").then(i=>{this.setIsLoading(!0);let t=this.sessionService.getOidAlbergo();this.sessionService.clearSessione(),window.location.href="/self-checkin?oidAlbergo="+t+"&lingua="+this.localizationService.currentLanguage.codice},i=>{})}}T.\u0275fac=function(i){return new(i||T)(e.Y36(x.s),e.Y36(_.m),e.Y36(d.t),e.Y36(b.J),e.Y36(C.o))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-my-self-header"]],inputs:{portale:"portale",lingua:"lingua",selectedLanguage:"selectedLanguage",lingueAttive:"lingueAttive",cliente:"cliente",uid:"uid",listaVisible:"listaVisible"},outputs:{onMenuClick:"onMenuClick",onRecensioneAdd:"onRecensioneAdd"},features:[e.qOj],decls:58,vars:45,consts:[[1,"my-self-header","p-2","w-100"],[1,"logo-container","align-middle","d-inline-flex","align-items-center","justify-content-center"],["class","logo d-inline-block align-middle",3,"src",4,"ngIf"],["class","indirizzo color-blue-hover d-none d-lg-inline-block font-weight-bold",4,"ngIf"],[1,"d-block","float-right"],["class","align-middle mr-4","mat-icon-button","","matTooltipPosition","below","matTooltipClass","myself-header-tooltip-class",3,"disableRipple","matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","below","matTooltipClass","myself-header-tooltip-class",1,"align-middle","mr-4",3,"disableRipple","matTooltip","click"],[1,"material-icons-round","align-middle","header-menu"],["class","d-inline-block align-middle cursor-pointer mr-4",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",1,"font-weight-bold",3,"click"],[1,"material-icons-round","align-middle","mr-1"],[1,"d-inline-block","align-middle"],["mat-menu-item","",1,"font-weight-bold",3,"ngClass","click"],["mat-menu-item","","class","font-weight-bold",3,"click",4,"ngIf"],[1,"myself-language-select-container","pl-4","mr-3"],[1,"myself-language-select"],[3,"panelClass","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"logo","d-inline-block","align-middle",3,"src"],[1,"indirizzo","color-blue-hover","d-none","d-lg-inline-block","font-weight-bold"],[1,"material-icons-round","mr-1","align-middle"],[1,"align-middle"],[1,"fa","fa-whatsapp","whatsappIcon","align-middle","header-menu"],[1,"d-inline-block","align-middle","cursor-pointer","mr-4",3,"matMenuTriggerFor"],["mat-icon-button","",1,"align-middle","mb-1","profilo-button",3,"disableRipple"],["src","/assets/images/my-self/profilo.svg"],[1,"font-weight-bold","d-none","d-lg-inline-block","align-middle","ml-1"],[3,"value"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"span",1),e.YNc(2,me,1,1,"img",2),e.qZA(),e.YNc(3,de,5,1,"span",3),e.TgZ(4,"span",4),e.YNc(5,ue,2,2,"button",5),e.TgZ(6,"button",6),e.NdJ("click",function(){return t.utility.callNumber(t.portale.telefono)}),e.TgZ(7,"span",7),e._uU(8,"phone_enabled"),e.qZA()(),e.TgZ(9,"button",6),e.NdJ("click",function(){return t.utility.sendEmail(t.portale.email)}),e.TgZ(10,"span",7),e._uU(11,"email"),e.qZA()(),e.YNc(12,ge,5,3,"div",8),e.TgZ(13,"mat-menu",null,9)(15,"button",10),e.NdJ("click",function(){return t.onClienteEdit()}),e.TgZ(16,"span",11),e._uU(17,"manage_accounts"),e.qZA(),e.TgZ(18,"span",12),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"button",13),e.NdJ("click",function(){return t.onMenuClick.emit(t.enumListaSelfCheckIn.Prenotazioni)}),e.TgZ(22,"span",11),e._uU(23,"assignment"),e.qZA(),e.TgZ(24,"span",12),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"button",13),e.NdJ("click",function(){return t.onMenuClick.emit(t.enumListaSelfCheckIn.Voucher)}),e.TgZ(28,"span",11),e._uU(29,"euro"),e.qZA(),e.TgZ(30,"span",12),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"button",13),e.NdJ("click",function(){return t.onMenuClick.emit(t.enumListaSelfCheckIn.Recensioni)}),e.TgZ(34,"span",11),e._uU(35,"notes"),e.qZA(),e.TgZ(36,"span",12),e._uU(37),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"button",13),e.NdJ("click",function(){return t.onMenuClick.emit(t.enumListaSelfCheckIn.Richieste)}),e.TgZ(40,"span",11),e._uU(41,"feedback"),e.qZA(),e.TgZ(42,"span",12),e._uU(43),e.ALo(44,"translate"),e.qZA()(),e.YNc(45,_e,6,3,"button",14),e.TgZ(46,"button",10),e.NdJ("click",function(){return t.logout()}),e.TgZ(47,"span",11),e._uU(48,"logout"),e.qZA(),e.TgZ(49,"span",12),e._uU(50),e.ALo(51,"translate"),e.qZA()()(),e.TgZ(52,"span",15)(53,"mat-form-field",16)(54,"mat-select",17),e.NdJ("ngModelChange",function(a){return t.lingua=a})("ngModelChange",function(){return t.utility.updateLinguaUrl(t.lingua)}),e.TgZ(55,"mat-select-trigger"),e._UZ(56,"span"),e.qZA(),e.YNc(57,fe,5,7,"mat-option",18),e.qZA()()()()()),2&i&&(e.xp6(2),e.Q6J("ngIf",!!t.portale.urlImmagineLogo),e.xp6(1),e.Q6J("ngIf",!!t.portale.indirizzo),e.xp6(2),e.Q6J("ngIf",!!t.portale.telefonoWhatsapp),e.xp6(1),e.Q6J("disableRipple",!0)("matTooltip",t.portale.telefono),e.xp6(3),e.Q6J("disableRipple",!0)("matTooltip",t.portale.email),e.xp6(3),e.Q6J("ngIf",!t.uid&&null!=t.cliente&&t.cliente.oid>0),e.xp6(7),e.Oqu(e.lcZ(20,25,"myself.gestisciAccount")),e.xp6(2),e.Q6J("ngClass",e.VKq(37,D,t.listaVisible==t.enumListaSelfCheckIn.Prenotazioni)),e.xp6(4),e.Oqu(e.lcZ(26,27,"myself.prenotazioni")),e.xp6(2),e.Q6J("ngClass",e.VKq(39,D,t.listaVisible==t.enumListaSelfCheckIn.Voucher)),e.xp6(4),e.Oqu(e.lcZ(32,29,"myself.voucher")),e.xp6(2),e.Q6J("ngClass",e.VKq(41,D,t.listaVisible==t.enumListaSelfCheckIn.Recensioni)),e.xp6(4),e.Oqu(e.lcZ(38,31,"myself.recensioni")),e.xp6(2),e.Q6J("ngClass",e.VKq(43,D,t.listaVisible==t.enumListaSelfCheckIn.Richieste)),e.xp6(4),e.Oqu(e.lcZ(44,33,"myself.richieste")),e.xp6(2),e.Q6J("ngIf",null!=t.portale.oid&&t.portale.oid>0),e.xp6(5),e.Oqu(e.lcZ(51,35,"myself.logout")),e.xp6(4),e.Q6J("panelClass","myself-select-unlimited-height")("ngModel",t.lingua),e.xp6(2),e.Gre("fi fi-",t.selectedLanguage.flagIcon,""),e.xp6(1),e.Q6J("ngForOf",t.lingueAttive))},dependencies:[s.mk,s.sg,s.O5,h.eB,z.v_,W.CK,Y.x8,Y.Cb,V.W0,V.tN,V.D8,j.Kd,g.JJ,g.On,f.X$],styles:[".my-self-header[_ngcontent-%COMP%]{height:80px;position:absolute;top:0;background-color:#ffffffb3}.logo-container[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;margin-left:20px;cursor:pointer}.logo[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;object-fit:contain}.indirizzo[_ngcontent-%COMP%]{margin-left:40px;font-size:14px;cursor:pointer}.indirizzo[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px}  .myself-language-select-container{border-left:2px solid #B8BABC}  .myself-language-select-container .mat-form-field{width:auto!important}  .myself-language-select-container .mat-select-value{max-width:100%;width:auto;font-size:18px}  .myself-language-select-container .mat-select-value-text{margin-right:5px}  .myself-language-select .mat-form-field-underline{display:none}  .myself-language-select .mat-form-field-infix{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;width:auto}.profilo-button[_ngcontent-%COMP%]{width:35px;height:35px;line-height:35px}  .myself-header-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#fff!important;color:var(--main-color)!important;opacity:1!important;font-weight:600!important;font-size:12px!important}.header-menu[_ngcontent-%COMP%]{color:var(--main-color)!important;transition:all .5s ease-out!important}.header-menu[_ngcontent-%COMP%]:hover{color:var(--light-color)!important;transition:all .5s ease-out!important}.whatsappIcon[_ngcontent-%COMP%]{font-size:24px}"]});var he=c(23478);function xe(n,i){if(1&n&&(e.TgZ(0,"div",12),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.nome," ")}}function be(n,i){if(1&n&&(e.TgZ(0,"div",6)(1,"span",7),e._uU(2,"place"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.indirizzo+", "+(t.cap?t.cap+" ":"")+(t.citta?t.citta+" ":"")+(t.provincia?t.provincia:""))}}function ve(n,i){if(1&n&&(e._UZ(0,"iframe",13),e.ALo(1,"safeUrl")),2&n){const t=e.oxw();e.Q6J("src",e.lcZ(1,1,t.urlMappa),e.uOi)}}class S{constructor(){}}S.\u0275fac=function(i){return new(i||S)},S.\u0275cmp=e.Xpm({type:S,selectors:[["app-my-self-footer"]],inputs:{nome:"nome",urlMappa:"urlMappa",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono",email:"email"},decls:18,vars:5,consts:[[1,"my-self-footer","w-100"],[1,"row","m-0","h-100"],[1,"col-12","col-lg-4","background-color-blue-gradient","p-0","d-flex","align-items-center","justify-content-center"],[1,"p-4","text-center"],["class","mb-3 text-big font-weight-bold",4,"ngIf"],["class","mb-1 text-nowrap",4,"ngIf"],[1,"mb-1","text-nowrap"],[1,"material-icons-round","mr-1","align-middle","contatti-icon"],[1,"align-middle","text-wrap"],[1,"text-nowrap"],[1,"col-12","col-lg-8","p-0","iframe-col"],["width","100%","height","100%","frameborder","0","class","rounded","allowfullscreen","",3,"src",4,"ngIf"],[1,"mb-3","text-big","font-weight-bold"],["width","100%","height","100%","frameborder","0","allowfullscreen","",1,"rounded",3,"src"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,xe,2,1,"div",4),e.YNc(5,be,5,1,"div",5),e.TgZ(6,"div",6)(7,"span",7),e._uU(8,"phone_enabled"),e.qZA(),e.TgZ(9,"span",8),e._uU(10),e.qZA()(),e.TgZ(11,"div",9)(12,"span",7),e._uU(13,"email"),e.qZA(),e.TgZ(14,"span",8),e._uU(15),e.qZA()()()(),e.TgZ(16,"div",10),e.YNc(17,ve,2,3,"iframe",11),e.qZA()()()),2&i&&(e.xp6(4),e.Q6J("ngIf",t.nome),e.xp6(1),e.Q6J("ngIf",!!t.indirizzo),e.xp6(5),e.Oqu(t.telefono?t.telefono:"---"),e.xp6(5),e.Oqu(t.email?t.email:"---"),e.xp6(2),e.Q6J("ngIf",!!t.urlMappa))},dependencies:[s.O5,he.Q],styles:[".my-self-footer[_ngcontent-%COMP%]{background-color:#fff;height:500px}@media (min-width: 992px){.my-self-footer[_ngcontent-%COMP%]{height:300px}}.contatti-icon[_ngcontent-%COMP%]{font-size:18px}.text-big[_ngcontent-%COMP%]{font-size:20px}.iframe-col[_ngcontent-%COMP%]{min-height:300px;overflow:hidden}"]});var A=c(16676),Ce=c(98782),ye=c(51428);class w{constructor(){}}w.\u0275fac=function(i){return new(i||w)},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-my-self-condizioni-prenotazione-dialog"]],inputs:{condizioniPrenotazione:"condizioniPrenotazione"},decls:7,vars:5,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[3,"_text"]],template:function(i,t){1&i&&(e.TgZ(0,"button",0)(1,"i",1),e._uU(2,"clear"),e.qZA()(),e.TgZ(3,"h5",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"app-inner-html",3)),2&i&&(e.Q6J("disableRipple",!0),e.xp6(4),e.Oqu(e.lcZ(5,3,"myself.condizioniPrenotazione")),e.xp6(2),e.Q6J("_text",t.condizioniPrenotazione))},dependencies:[h.eB,G.aO,N.W,f.X$]});class I extends r.H{constructor(i){super(),this.apiService=i}richiediCancellazione(){this.setIsLoading(!0);let i=new p.mD;i.oidPrenotazione=this.oidPrenotazione,i.noteCancellazione=this.note,this.apiService.richiediCancellazionePrenotazione(i).subscribe(t=>{this.setIsLoading(!1),t.data.success?this.showInfo("myself.emailInviata").then(()=>{this.dialogRef.close(!0)}):this.showInfo("myself.erroreInvioEmail").then(()=>{this.dialogRef.close()})})}}I.\u0275fac=function(i){return new(i||I)(e.Y36(x.s))},I.\u0275cmp=e.Xpm({type:I,selectors:[["app-my-self-richiedi-cancellazione-dialog"]],inputs:{oidPrenotazione:"oidPrenotazione",dialogRef:"dialogRef"},features:[e.qOj],decls:14,vars:13,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[1,"border","rounded-lg","p-3"],[1,"w-100","myself-note-cancellazione-textarea",3,"floatLabel"],["matInput","","required","",3,"placeholder","ngModel","ngModelChange"],[1,"mt-4","text-right"],["mat-flat-button","",1,"button-blue",3,"disabled","click"]],template:function(i,t){1&i&&(e.TgZ(0,"button",0)(1,"i",1),e._uU(2,"clear"),e.qZA()(),e.TgZ(3,"h5",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"mat-form-field",4)(8,"textarea",5),e.NdJ("ngModelChange",function(a){return t.note=a}),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"div",6)(11,"button",7),e.NdJ("click",function(){return t.richiediCancellazione()}),e._uU(12),e.ALo(13,"translate"),e.qZA()()),2&i&&(e.Q6J("disableRipple",!0),e.xp6(4),e.Oqu(e.lcZ(5,7,"myself.richiediCancellazione")),e.xp6(3),e.Q6J("floatLabel","always"),e.xp6(1),e.Q6J("placeholder",e.lcZ(9,9,"myself.note"))("ngModel",t.note),e.xp6(3),e.Q6J("disabled",!t.note),e.xp6(1),e.Oqu(e.lcZ(13,11,"globals.conferma")))},dependencies:[h.eB,z.v_,H.k0,G.aO,g.Fj,g.JJ,g.Q7,g.On,f.X$],styles:["textarea[_ngcontent-%COMP%]{resize:none;height:200px}  .myself-note-cancellazione-textarea .mat-form-field-underline{visibility:hidden!important}  .myself-note-cancellazione-textarea .mat-form-field-wrapper{padding-bottom:0!important}"]});var $=c(6442),Me=c(91123),ee=c(1477);const ze=["extraCol"];function Ze(n,i){if(1&n&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.articolo.nome)}}function Te(n,i){if(1&n&&(e.TgZ(0,"div",20),e._UZ(1,"app-inner-html",21),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("_text",t.articolo.descrizione)}}function Se(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.TgZ(3,"small",23),e._uU(4),e.qZA()(),e.TgZ(5,"div")(6,"span",24),e._uU(7),e.TgZ(8,"small",23),e._uU(9),e.qZA()(),e.TgZ(10,"span",25),e._uU(11),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ","\u20ac "+t.utility.getPriceIntegerPart(t.articolo.prezzo),""),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.articolo.prezzo)),e.xp6(3),e.Oqu("\u20ac "+t.utility.getPriceIntegerPart(t.articolo.prezzoPieno)),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.articolo.prezzoPieno)),e.xp6(2),e.hij("-",t.articolo.sconto,"%")}}function Ae(n,i){if(1&n&&(e.TgZ(0,"div",22),e._uU(1),e.TgZ(2,"small",23),e._uU(3),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ","\u20ac "+t.utility.getPriceIntegerPart(t.articolo.prezzo),""),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.articolo.prezzo))}}function we(n,i){1&n&&(e.ynx(0),e._uU(1," 0 "),e.BQk())}function Ie(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"eurCurrency"),e.BQk()),2&n){const t=e.oxw(),o=t.index,a=t.$implicit,l=e.oxw();e.xp6(1),e.hij(" ",l.getQuantity(o)+" ("+e.lcZ(2,1,a)+")"," ")}}function ke(n,i){if(1&n&&(e.TgZ(0,"mat-option",26),e.YNc(1,we,2,0,"ng-container",10),e.YNc(2,Ie,3,3,"ng-container",10),e.qZA()),2&n){const t=i.index,o=e.oxw();e.Q6J("value",o.getQuantity(t)),e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(1),e.Q6J("ngIf",t>0)}}function Pe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(a){e.CHM(t);const l=e.oxw();return a.preventDefault(),e.KtG(l.openGiornoSelect())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.giorni")," "))}const qe=function(n){return[n]};class k extends r.H{constructor(i,t){super(),this.utility=i,this.containerService=t,this.quantitaGiorniChanged=new e.vpe,this.quantities=[],this.enumTipoSupplemento=m.E9,this.arrowWidth=0}ngOnInit(){this.quantitaMassima=this.articolo.quantitaMassima>0?this.articolo.quantitaMassima:1==this.articolo.isApplicaATuttiComponenti?10*this.numeroPax:10,this.updateQuantities(),this.sub=this.containerService.windowResizeEvent.subscribe(()=>{setTimeout(()=>{this.arrowWidth=Math.floor(this.extraCol.nativeElement.offsetWidth)},200)})}ngAfterViewInit(){setTimeout(()=>{this.arrowWidth=Math.floor(this.extraCol.nativeElement.offsetWidth)},200)}openGiornoSelect(){let i=new p.Zpt;this.containerService.dimension.width<992?i.width="80vw":i.width="50vw";let t=this.showModalDialog(Me.P,i),o=t.componentInstance;o.giorni=JSON.parse(JSON.stringify(this.articolo.giorni)),o.dialogRef=t,t.afterClosed().subscribe(a=>{if(null!=a){let l=0;for(let u of a)this.articolo.giorni[l].selected=u.selected,l++;this.updateQuantities(),this.articolo.quantita>0&&this.quantitaGiorniChanged.emit()}})}updateQuantities(){this.quantities=[];for(let i=0;i<=(1==this.articolo.isApplicaATuttiComponenti?Math.ceil(this.quantitaMassima/this.numeroPax):this.quantitaMassima);i++)this.quantities.push((1==this.articolo.isApplicaATuttiComponenti?i*this.numeroPax:i)*this.articolo.giorni.filter(t=>t.selected).reduce((t,o)=>t+o.prezzo,0))}getQuantity(i){let t=this.articolo.isApplicaATuttiComponenti,o=i*this.numeroPax;return 1==t?Math.min(o,this.quantitaMassima):i}getTipoExtra(){return null==this.articolo.tipo?"myself.perCameraExtra":this.articolo.tipo==m.E9.Camera?this.articolo.tipoApplicazione==m.x6.PrimoGiorno||this.articolo.tipoApplicazione==m.x6.UltimoGiorno?"myself.perCameraSingoloGiorno":"myself.perCamera":this.articolo.tipo==m.E9.Persona?this.articolo.tipoApplicazione==m.x6.PrimoGiorno||this.articolo.tipoApplicazione==m.x6.UltimoGiorno?"myself.perPersonaSingoloGiorno":"myself.perPersona":""}ngOnDestroy(){this.sub.unsubscribe()}}k.\u0275fac=function(i){return new(i||k)(e.Y36(d.t),e.Y36(b.J))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-my-self-extra"]],viewQuery:function(i,t){if(1&i&&e.Gf(ze,5),2&i){let o;e.iGM(o=e.CRH())&&(t.extraCol=o.first)}},inputs:{articolo:"articolo",numeroPax:"numeroPax"},outputs:{quantitaGiorniChanged:"quantitaGiorniChanged"},features:[e.qOj],decls:24,vars:26,consts:[[1,"w-100","border"],[3,"images","minimumHeight","maximumHeight","fullHeight"],[1,"pr-4","pl-4","pt-3","pb-3","extra-col"],["extraCol",""],["class","extra-nome",4,"ngIf"],["class","extra-descrizione thin-scrollbar text-wrap",4,"ngIf"],[1,"extra-col-arrow"],[1,"pl-3","pr-3","pt-5"],[1,"row","mr-0","ml-0"],[1,"col-6","p-0"],[4,"ngIf"],["class","extra-prezzo text-nowrap",4,"ngIf"],[1,"extra-tipo","color-blue","mb-2"],[1,"col-6","p-0","pt-3"],[1,"quantity-select-myself","d-inline-block","mr-3"],[3,"panelClass","ngModel","ngModelChange","selectionChange"],["quantitySelect",""],[3,"value",4,"ngFor","ngForOf"],["href","#","class","d-inline-block color-blue",3,"click",4,"ngIf"],[1,"extra-nome"],[1,"extra-descrizione","thin-scrollbar","text-wrap"],[3,"_text"],[1,"extra-prezzo","text-nowrap"],[1,"price-decimals"],[1,"extra-prezzo-sconto","text-nowrap"],[1,"ml-1","extra-sconto","text-nowrap"],[3,"value"],["href","#",1,"d-inline-block","color-blue",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-image-slider",1),e.qZA(),e.TgZ(2,"div",2,3),e.YNc(4,Ze,2,1,"div",4),e.YNc(5,Te,2,1,"div",5),e.TgZ(6,"div",6),e._uU(7,"\xa0"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9),e.YNc(11,Se,12,5,"ng-container",10),e.YNc(12,Ae,4,2,"div",11),e.TgZ(13,"div",12),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",13)(17,"mat-form-field",14)(18,"mat-select",15,16),e.NdJ("ngModelChange",function(a){return t.articolo.quantita=a})("selectionChange",function(){return t.quantitaGiorniChanged.emit()}),e.TgZ(20,"mat-select-trigger"),e._uU(21),e.qZA(),e.YNc(22,ke,3,3,"mat-option",17),e.qZA()(),e.YNc(23,Pe,3,3,"a",18),e.qZA()()()),2&i&&(e.Udp("height","240px"),e.xp6(1),e.Q6J("images",e.VKq(24,qe,t.articolo.urlImmagine))("minimumHeight",240)("maximumHeight",240)("fullHeight",!1),e.xp6(3),e.Q6J("ngIf",!!t.articolo.nome),e.xp6(1),e.Q6J("ngIf",!!t.articolo.descrizione),e.xp6(1),e.Udp("width",t.arrowWidth+"px")("border-left-width",t.arrowWidth/2+"px")("border-right-width",t.arrowWidth/2+"px"),e.xp6(5),e.Q6J("ngIf",t.articolo.sconto>0),e.xp6(1),e.Q6J("ngIf",null==t.articolo.sconto||t.articolo.sconto<=0),e.xp6(2),e.hij(" ",e.lcZ(15,22,t.getTipoExtra())," "),e.xp6(4),e.Q6J("panelClass","myself-select")("ngModel",t.articolo.quantita),e.xp6(3),e.hij(" ",t.articolo.quantita," "),e.xp6(1),e.Q6J("ngForOf",t.quantities),e.xp6(1),e.Q6J("ngIf",null!=t.articolo.giorni&&t.articolo.giorni.length>1))},dependencies:[s.sg,s.O5,z.v_,W.CK,Y.x8,Y.Cb,g.JJ,g.On,$.V,N.W,ee.f,f.X$],styles:[".extra-nome[_ngcontent-%COMP%]{font-size:22px;font-weight:600}.extra-descrizione[_ngcontent-%COMP%]{font-size:16px;max-height:160px;overflow:auto}.extra-prezzo[_ngcontent-%COMP%]{font-size:25px;line-height:25px;font-weight:600;color:var(--main-color)}.extra-prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:var(--main-color);text-decoration-color:var(--main-color);font-size:16px;font-weight:600;color:#999}.extra-sconto[_ngcontent-%COMP%]{font-size:13px;color:var(--main-color);font-weight:600}.extra-tipo[_ngcontent-%COMP%]{font-size:13px}.quantity-select-myself[_ngcontent-%COMP%]{width:50px!important}  .quantity-select-myself .mat-form-field-infix{border-top:0!important}  .quantity-select-myself .mat-form-field-flex{border:1px solid #bbbbbb!important;padding-left:.25rem!important;padding-right:.25rem!important;height:30px!important}  .quantity-select-myself .mat-form-field-underline{visibility:hidden!important}  .quantity-select-myself .mat-form-field-wrapper{padding-bottom:0!important}.extra-col[_ngcontent-%COMP%]{position:relative;background-color:#f2f2f2}.extra-col-arrow[_ngcontent-%COMP%]{height:30px;border-left-style:solid;border-left-color:transparent;border-right-style:solid;border-right-color:transparent;border-top:30px solid #F2F2F2;position:absolute;left:0;bottom:-30px;z-index:1}"]});const Oe=["extrasContainer"],Je=function(n){return{"extra-circle-selected":n}};function Qe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",10),e.NdJ("click",function(){const l=e.CHM(t).index,u=e.oxw();return e.KtG(u.toIndex(l))}),e._uU(1,"\xa0"),e.qZA()}if(2&n){const t=i.index,o=e.oxw();e.Q6J("ngClass",e.VKq(1,Je,o.extraIndex==t))}}const Ue=function(n,i,t,o){return{"single-articolo":n,"ml-4":i,"mr-4":t,"mr-3":o}};function Le(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"app-my-self-extra",12),e.NdJ("quantitaGiorniChanged",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.quantitaGiorniChanged.emit())}),e.qZA()()}if(2&n){const t=i.$implicit,o=i.index,a=e.oxw();e.Q6J("ngClass",e.l5B(3,Ue,1==a.articoli.length,a.articoli.length>1&&0==o,a.articoli.length>1&&o==a.articoli.length-1,o<a.articoli.length-1)),e.xp6(1),e.Q6J("articolo",t)("numeroPax",a.numeroPax)}}class P{constructor(i){this.containerService=i,this.articoli=[],this.quantitaGiorniChanged=new e.vpe,this.extraIndex=0,this.changeEnabled=!0}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(()=>{setTimeout(()=>{this.calculateWidth(),this.toIndex(this.extraIndex)},500)})}ngAfterViewInit(){this.calculateWidth()}previous(){this.changeEnabled&&this.extraIndex>0&&(this.changeEnabled=!1,this.extraIndex==this.articoli.length-1?this.extrasContainer.nativeElement.scrollTo({top:0,left:this.extrasContainer.nativeElement.scrollLeft-this.startEndScroll,behavior:"smooth"}):this.extrasContainer.nativeElement.scrollTo({top:0,left:this.extrasContainer.nativeElement.scrollLeft-this.width,behavior:"smooth"}),setTimeout(()=>{this.extraIndex--,this.changeEnabled=!0},500))}next(){this.changeEnabled&&this.extraIndex<this.articoli.length-1&&(this.changeEnabled=!1,0==this.extraIndex?this.extrasContainer.nativeElement.scrollTo({top:0,left:this.extrasContainer.nativeElement.scrollLeft+this.startEndScroll,behavior:"smooth"}):this.extrasContainer.nativeElement.scrollTo({top:0,left:this.extrasContainer.nativeElement.scrollLeft+this.width,behavior:"smooth"}),setTimeout(()=>{this.extraIndex++,this.changeEnabled=!0},500))}toIndex(i){this.changeEnabled&&(this.changeEnabled=!1,this.extrasContainer.nativeElement.scrollTo({top:0,left:i>=1?this.startEndScroll+this.width*(i-1):0,behavior:"smooth"}),setTimeout(()=>{this.extraIndex=i,this.changeEnabled=!0},500))}checkGesture(){this.articoli.length>1&&Math.abs(this.cursorStartX-this.cursorEndX)>50&&Math.abs(this.cursorStartY-this.cursorEndY)<50&&(this.cursorStartX<this.cursorEndX?this.previous():this.next())}calculateWidth(){this.width=70*this.extrasContainer.nativeElement.offsetWidth/100+16,this.startEndScroll=this.width-15*this.extrasContainer.nativeElement.offsetWidth/100+24}ngOnDestroy(){this.sub.unsubscribe()}}P.\u0275fac=function(i){return new(i||P)(e.Y36(b.J))},P.\u0275cmp=e.Xpm({type:P,selectors:[["app-my-self-extras"]],viewQuery:function(i,t){if(1&i&&e.Gf(Oe,5),2&i){let o;e.iGM(o=e.CRH())&&(t.extrasContainer=o.first)}},inputs:{articoli:"articoli",numeroPax:"numeroPax"},outputs:{quantitaGiorniChanged:"quantitaGiorniChanged"},decls:16,vars:7,consts:[[1,"color-blue","font-weight-bold","serviziAggiuntivi","text-center","mb-3"],[1,"mb-4","d-table","mx-auto","text-center"],["class","align-middle d-inline-block extra-circle mr-3",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"position-relative"],["mat-mini-fab","",1,"button-blue","button-blue-circle","previous-button","position-absolute",3,"disabled","click"],[1,"material-icons-round"],[1,"w-100","text-center","text-nowrap","overflow-hidden",3,"mousedown","mouseup","touchstart","touchend"],["extrasContainer",""],["class","d-inline-block text-left articolo align-top",3,"ngClass",4,"ngFor","ngForOf"],["mat-mini-fab","",1,"button-blue","button-blue-circle","next-button","position-absolute",3,"disabled","click"],[1,"align-middle","d-inline-block","extra-circle","mr-3",3,"ngClass","click"],[1,"d-inline-block","text-left","articolo","align-top",3,"ngClass"],[3,"articolo","numeroPax","quantitaGiorniChanged"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",1)(4,"div"),e.YNc(5,Qe,2,3,"span",2),e.qZA()(),e.TgZ(6,"div",3)(7,"button",4),e.NdJ("click",function(){return t.previous()}),e.TgZ(8,"i",5),e._uU(9,"keyboard_arrow_left"),e.qZA()(),e.TgZ(10,"div",6,7),e.NdJ("mousedown",function(a){return t.cursorStartX=a.clientX,t.cursorStartY=a.clientY})("mouseup",function(a){return t.cursorEndX=a.clientX,t.cursorEndY=a.clientY,t.checkGesture()})("touchstart",function(a){return t.cursorStartX=a.touches[0].clientX,t.cursorStartY=a.touches[0].clientY})("touchend",function(a){return t.cursorEndX=a.changedTouches[0].clientX,t.cursorEndY=a.changedTouches[0].clientY,t.checkGesture()}),e.YNc(12,Le,2,8,"div",8),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return t.next()}),e.TgZ(14,"i",5),e._uU(15,"keyboard_arrow_right"),e.qZA()()()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,5,"myself.serviziAggiuntivi"),"\n"),e.xp6(4),e.Q6J("ngForOf",t.articoli),e.xp6(2),e.Q6J("disabled",t.extraIndex<=0),e.xp6(5),e.Q6J("ngForOf",t.articoli),e.xp6(1),e.Q6J("disabled",t.extraIndex>=t.articoli.length-1))},dependencies:[s.mk,s.sg,h.eB,k,f.X$],styles:[".extra-circle[_ngcontent-%COMP%]{cursor:pointer;background-color:#ccc;width:12px;height:12px;border-radius:12px}.extra-circle-selected[_ngcontent-%COMP%]{background-color:gray!important}.articolo[_ngcontent-%COMP%]{width:70%;-webkit-user-select:none;-moz-user-select:none;user-select:none}.single-articolo[_ngcontent-%COMP%]{width:calc(100% - 3rem)}.serviziAggiuntivi[_ngcontent-%COMP%]{font-size:1.8rem}.previous-button[_ngcontent-%COMP%]{left:10px;z-index:1;top:120px}.next-button[_ngcontent-%COMP%]{right:10px;z-index:1;top:120px}"]});var Ee=c(37993);function Ne(n,i){if(1&n&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.tipoCamera)}}function Ye(n,i){1&n&&(e.TgZ(0,"span",15),e._uU(1," info "),e.qZA())}function De(n,i){if(1&n&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.tariffa+(t.promozione?" - "+t.promozione:""),"\n")}}function Re(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"small",4),e._uU(4),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Oqu("\u20ac "+o.utility.getPriceIntegerPart(t.totale)),e.xp6(2),e.Oqu(","+o.utility.getPriceDecimalPart(t.totale))}}function Fe(n,i){1&n&&(e.TgZ(0,"span",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself.extraCompreso")))}function Be(n,i){1&n&&(e.TgZ(0,"span",15),e._uU(1," info "),e.qZA())}function He(n,i){if(1&n&&(e.TgZ(0,"div",17)(1,"span",18),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"span",19),e.YNc(5,Re,5,2,"ng-container",20),e.YNc(6,Fe,3,3,"span",21),e.qZA(),e.TgZ(7,"button",22),e.YNc(8,Be,2,0,"span",6),e.qZA()()()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.quantita+"x "+t.nome),e.xp6(3),e.Q6J("ngIf",t.totale>=0),e.xp6(1),e.Q6J("ngIf",t.totale<0),e.xp6(1),e.Q6J("matTooltip",t.giorni)("disabled",!t.giorni),e.xp6(1),e.Q6J("ngIf",!!t.giorni)}}function Ge(n,i){if(1&n&&(e.TgZ(0,"div",0)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",24),e._uU(5),e.TgZ(6,"small",4),e._uU(7),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"myself.sconto")),e.xp6(3),e.Oqu("\u20ac "+t.utility.getPriceIntegerPart(t.sconto)),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.sconto))}}function Ve(n,i){if(1&n&&(e.TgZ(0,"div",25)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"small",4),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu("\u20ac "+t.utility.getPriceIntegerPart(t.totaleScontato)),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.totaleScontato))}}const je=function(n,i){return{"prezzo-totale":n,"prezzo-sconto":i}};class q{set _dettagli(i){null!=i&&(this.dettagli=i,this.totale=this.dettagli.reduce((t,o)=>o.totale>0?t+o.totale:t,0))}constructor(i){this.utility=i,this.totale=0,this.totaleScontato=0}ngOnInit(){this.sconto>0&&(this.totaleScontato=this.totale-this.sconto)}}q.\u0275fac=function(i){return new(i||q)(e.Y36(d.t))},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-my-self-prenotazione-summary"]],inputs:{tipoCamera:"tipoCamera",tariffa:"tariffa",promozione:"promozione",sconto:"sconto",_dettagli:"_dettagli"},decls:22,vars:19,consts:[[1,"clearfix"],["class","camera",4,"ngIf"],[1,"d-inline-block","float-right"],[1,"d-inline-block","align-middle","prezzo"],[1,"price-decimals"],["mat-icon-button","","matTooltipPosition","left","matTooltipClass","giorni-tooltip-class",1,"align-middle","ml-2","info-button",3,"matTooltip","disabled"],["class","material-icons-round info-icon",4,"ngIf"],["class","tariffa",4,"ngIf"],["class","mt-1",4,"ngFor","ngForOf"],[1,"mb-2","mt-2","border-top","pt-3"],[1,"totale"],[1,"float-right",3,"ngClass"],["class","clearfix",4,"ngIf"],["class","text-right w-100 prezzo-totale",4,"ngIf"],[1,"camera"],[1,"material-icons-round","info-icon"],[1,"tariffa"],[1,"mt-1"],[1,"extra"],[1,"d-inline-block","align-middle","extra-prezzo"],[4,"ngIf"],["class","d-inline-block align-middle extra-prezzo",4,"ngIf"],["mat-icon-button","","matTooltipPosition","below","matTooltipClass","giorni-tooltip-class",1,"align-middle","ml-2","info-button",3,"matTooltip","disabled"],[1,"sconto"],[1,"float-right"],[1,"text-right","w-100","prezzo-totale"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Ne,2,1,"span",1),e.TgZ(2,"div",2)(3,"span",3),e._uU(4),e.TgZ(5,"small",4),e._uU(6),e.qZA()(),e.TgZ(7,"button",5),e.YNc(8,Ye,2,0,"span",6),e.qZA()()(),e.YNc(9,De,2,1,"div",7),e.YNc(10,He,9,6,"div",8),e.TgZ(11,"div",9)(12,"div",0)(13,"span",10),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"span",11),e._uU(17),e.TgZ(18,"small",4),e._uU(19),e.qZA()()(),e.YNc(20,Ge,8,5,"div",12),e.YNc(21,Ve,5,2,"div",13),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",!!t.tipoCamera),e.xp6(3),e.Oqu("\u20ac "+t.utility.getPriceIntegerPart(t.dettagli[0].totale)),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.dettagli[0].totale)),e.xp6(1),e.Q6J("matTooltip",t.dettagli[0].giorni)("disabled",!t.dettagli[0].giorni),e.xp6(1),e.Q6J("ngIf",!!t.dettagli[0].giorni),e.xp6(1),e.Q6J("ngIf",!!t.tariffa),e.xp6(1),e.Q6J("ngForOf",t.dettagli.slice(1)),e.xp6(4),e.Oqu(e.lcZ(15,14,"myself.totale")),e.xp6(2),e.Q6J("ngClass",e.WLB(16,je,!t.totaleScontato,!!t.totaleScontato)),e.xp6(1),e.Oqu("\u20ac "+t.utility.getPriceIntegerPart(t.totale)),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.totale)),e.xp6(1),e.Q6J("ngIf",t.sconto>0),e.xp6(1),e.Q6J("ngIf",!!t.totaleScontato))},dependencies:[s.mk,s.sg,s.O5,h.eB,j.Kd,f.X$],styles:[".prezzo[_ngcontent-%COMP%]{color:#004987;font-weight:600}.totale[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#555}.sconto[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#555}.prezzo-totale[_ngcontent-%COMP%]{color:#004987;font-weight:600;font-size:22px}.prezzo-sconto[_ngcontent-%COMP%]{color:#aaabad;text-decoration:line-through}.border-top[_ngcontent-%COMP%]{border-top:1px solid #cccccc}.extra[_ngcontent-%COMP%]{font-size:13px;color:#aaa}.extra-prezzo[_ngcontent-%COMP%]{font-size:14px;color:#666}.camera[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.tariffa[_ngcontent-%COMP%]{font-size:13px;color:#999}.info-button[_ngcontent-%COMP%]{width:16px;height:16px;line-height:16px}.info-icon[_ngcontent-%COMP%]{font-size:16px;line-height:16px}  .giorni-tooltip-class{font-size:11px!important;white-space:pre!important;max-width:unset!important}"]});var Ke=c(36004),Xe=c(79474);const We=["articoliContainer"],$e=["checkInContainer"],et=["prenotazioneContainer"];function tt(n,i){1&n&&(e.TgZ(0,"span",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu("("+e.lcZ(2,1,"myself.eliminata")+")"))}function nt(n,i){if(1&n&&(e.TgZ(0,"span",42),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu("("+t.etaBambini+")")}}const it=function(n){return[n]};function ot(n,i){if(1&n&&(e.TgZ(0,"div",43),e._UZ(1,"app-image-slider",44),e.qZA()),2&n){const t=e.oxw(2);e.Udp("height","250px"),e.xp6(1),e.Q6J("images",e.VKq(6,it,t.tipoCamera.urlImmagine))("minimumHeight",250)("maximumHeight",250)("fullHeight",!1)}}function at(n,i){if(1&n&&(e.TgZ(0,"mat-expansion-panel",45)(1,"mat-expansion-panel-header",46)(2,"span",29),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e._UZ(5,"app-my-self-prenotazione-summary",47),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("collapsedHeight","50px")("expandedHeight","50px"),e.xp6(2),e.Oqu(e.lcZ(4,8,"myself.riepilogoPrenotazione")),e.xp6(2),e.Q6J("_dettagli",t.dettagli)("tipoCamera",null!=t.tipoCamera?t.tipoCamera.nome:"")("tariffa",null!=t.tariffa?t.tariffa.descrizione:"")("promozione",null!=t.tariffa&&t.tariffa.nomePromozione?t.tariffa.nomePromozione:"")("sconto",t.prenotazione.sconto+t.prenotazione.scontoVoucher)}}function lt(n,i){if(1&n&&(e.TgZ(0,"div",48),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.dataCancellazioneGratuita")+" "+e.xi3(3,3,t.prenotazione.dataCancellazioneGratuita,"dd/MM/yyyy")," ")}}function rt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openBonificoDetails())}),e.TgZ(1,"span",50),e._uU(2," info "),e.qZA()()}}function ct(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",51),e.NdJ("click",function(a){e.CHM(t);const l=e.oxw(2);return a.preventDefault(),e.KtG(l.openCondizioniPrenotazione())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself.condizioniPrenotazione")))}function st(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",60),e._uU(2,"arrow_upward"),e.qZA(),e.TgZ(3,"span",31),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.BQk()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"myself.checkIn")))}function pt(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",60),e._uU(2,"check_circle"),e.qZA(),e.TgZ(3,"span",31),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.BQk()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"myself.completo")))}function mt(n,i){if(1&n&&(e.ynx(0),e.YNc(1,st,6,3,"ng-container",59),e.YNc(2,pt,6,3,"ng-container",59),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!t.isCheckInOnlineEseguito),e.xp6(1),e.Q6J("ngIf",t.isCheckInOnlineEseguito)}}function dt(n,i){1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.nascondi")," "))}function ut(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index,l=e.oxw(2);return e.KtG(l.onCheckInClick(a))}),e.YNc(1,mt,3,2,"ng-container",59),e.YNc(2,dt,3,3,"ng-container",59),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.buttonsDisabled),e.xp6(1),e.Q6J("ngIf",!t.checkInVisible),e.xp6(1),e.Q6J("ngIf",t.checkInVisible)}}function gt(n,i){if(1&n&&(e.TgZ(0,"div",52)(1,"div",53)(2,"span",54),e._uU(3,"person"),e.qZA(),e.TgZ(4,"span",55),e._uU(5),e.ALo(6,"titlecase"),e.qZA()(),e.TgZ(7,"div",56),e.YNc(8,ut,3,3,"button",57),e.qZA()()),2&n){const t=i.$implicit,o=e.oxw(2);e.xp6(5),e.Oqu(e.lcZ(6,2,(t.nome?t.nome+" ":"")+(t.cognome?t.cognome:""))),e.xp6(3),e.Q6J("ngIf",t.isCheckInOnlineEseguito||!o.isReadOnlyMode)}}function _t(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openDetails())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself.dettagli")))}const te=function(n){return{"mt-2":n}};function ft(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openSondaggio())}),e.TgZ(1,"span",60),e._uU(2,"arrow_upward"),e.qZA(),e.TgZ(3,"span",31),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(4,te,t.prenotazione.hasTipoCameraOTA&&t.prenotazione.hasTariffaOTA)),e.xp6(4),e.Oqu(e.lcZ(5,2,"myself.compilaSondaggio"))}}function ht(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openSondaggio())}),e.TgZ(1,"span",60),e._uU(2,"check_circle"),e.qZA(),e.TgZ(3,"span",31),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(4,te,t.prenotazione.hasTipoCameraOTA&&t.prenotazione.hasTariffaOTA)),e.xp6(4),e.Oqu(e.lcZ(5,2,"myself.sondaggioCompletato"))}}function xt(n,i){if(1&n&&(e.TgZ(0,"div",61),e.YNc(1,_t,3,3,"button",62),e.YNc(2,ft,6,6,"button",63),e.YNc(3,ht,6,6,"button",63),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.prenotazione.hasTipoCameraOTA&&t.prenotazione.hasTariffaOTA),e.xp6(1),e.Q6J("ngIf",!t.isSondaggioCompilato&&t.prenotazione.hasSondaggio&&!t.isReadOnlyMode),e.xp6(1),e.Q6J("ngIf",t.isSondaggioCompilato)}}function bt(n,i){1&n&&(e.TgZ(0,"div",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself.richiestaCancellazioneInviata")))}function vt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onCheckInClick(0))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.buttonsDisabled),e.xp6(1),e.Oqu(e.lcZ(2,2,t.checkInVisible?"myself.nascondiCheckIn":"myself.checkIn"))}}function Ct(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onAggiungiServiziClick())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.buttonsDisabled),e.xp6(1),e.Oqu(e.lcZ(2,2,t.articoliVisible?"myself.nascondiServizi":"myself.aggiungiServizi"))}}function yt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.richiediCancellazione())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself.richiediCancellazione")))}function Mt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",67)(1,"div",68),e.YNc(2,vt,3,4,"button",69),e.YNc(3,Ct,3,4,"button",70),e.qZA(),e.TgZ(4,"div",71),e.YNc(5,yt,3,3,"button",72),e.TgZ(6,"button",73),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.stampa())}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.ospiti.length>0),e.xp6(1),e.Q6J("ngIf",t.isAttivaBookingExtraSelfCheckIn&&null!=t.articoli&&t.articoli.length>0),e.xp6(2),e.Q6J("ngIf",t.isAttivaCancellazioneSelfCheckIn&&t.prenotazione.statoPrenotazione!=t.enumStatoPrenotazione.CancellazioneRichiesta),e.xp6(2),e.Oqu(e.lcZ(8,4,"globals.stampa"))}}const zt=function(n){return{"prenotazione-container-print":n}},Zt=function(n){return{"pt-2":n}},Tt=function(n,i){return{"col-xl-8":n,"col-xl-12":i}};function St(n,i){if(1&n&&(e.TgZ(0,"div",5,6)(2,"div",7)(3,"div",8)(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",9),e._uU(8),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span",9),e._uU(13),e.ALo(14,"titlecase"),e.ALo(15,"momentFormat"),e.qZA(),e.YNc(16,tt,3,3,"span",10),e.qZA(),e.TgZ(17,"div",11)(18,"span",12),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"span",13)(22,"span",14),e._uU(23,"nights_stay"),e.qZA()(),e.TgZ(24,"span",13),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"span",13)(28,"span",15),e._uU(29,"person"),e.qZA()(),e.TgZ(30,"span",13)(31,"span",16),e._uU(32,"person"),e.qZA()()()(),e.TgZ(33,"div",17)(34,"span",18)(35,"div"),e._uU(36),e.ALo(37,"titlecase"),e.ALo(38,"momentFormat"),e.qZA(),e.TgZ(39,"div",19),e._uU(40),e.ALo(41,"titlecase"),e.ALo(42,"momentFormat"),e.qZA(),e.TgZ(43,"div"),e._uU(44),e.ALo(45,"titlecase"),e.ALo(46,"momentFormat"),e.qZA()(),e.TgZ(47,"span",20),e._uU(48),e.qZA(),e.TgZ(49,"span",21)(50,"div"),e._uU(51),e.ALo(52,"titlecase"),e.ALo(53,"momentFormat"),e.qZA(),e.TgZ(54,"div",19),e._uU(55),e.ALo(56,"titlecase"),e.ALo(57,"momentFormat"),e.qZA(),e.TgZ(58,"div"),e._uU(59),e.ALo(60,"titlecase"),e.ALo(61,"momentFormat"),e.qZA()(),e.TgZ(62,"span",20),e._uU(63),e.qZA(),e.TgZ(64,"span",22)(65,"span"),e._uU(66),e.qZA(),e.YNc(67,nt,2,1,"span",23),e.qZA()(),e.YNc(68,ot,2,8,"div",24),e.YNc(69,at,6,10,"mat-expansion-panel",25),e.TgZ(70,"div",26)(71,"div",27)(72,"div",28)(73,"div",29),e._uU(74),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"div"),e._uU(77),e.qZA(),e.YNc(78,lt,4,6,"div",30),e.qZA(),e.TgZ(79,"div",28)(80,"div",29),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"div")(84,"span",31),e._uU(85),e.qZA(),e.YNc(86,rt,3,0,"button",32),e.qZA()(),e.TgZ(87,"div",33)(88,"div",29),e._uU(89),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div"),e._uU(92),e.ALo(93,"eurCurrency"),e.qZA()(),e.TgZ(94,"div",33)(95,"div",29),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"div"),e._uU(99),e.ALo(100,"eurCurrency"),e.qZA()(),e.TgZ(101,"div",33)(102,"div",29),e._uU(103),e.ALo(104,"translate"),e.qZA(),e.TgZ(105,"div"),e._uU(106),e.ALo(107,"eurCurrency"),e.qZA()()(),e.YNc(108,ct,3,3,"a",34),e.TgZ(109,"div",35)(110,"div",36),e.YNc(111,gt,9,4,"div",37),e.qZA(),e.YNc(112,xt,4,3,"div",38),e.qZA(),e.YNc(113,bt,3,3,"div",39),e.YNc(114,Mt,9,6,"div",40),e.qZA()()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(106,zt,t.print)),e.xp6(5),e.Oqu(e.lcZ(6,40,"myself.prenotazione")),e.xp6(3),e.Oqu(" #"+t.prenotazione.codicePrenotazione),e.xp6(2),e.Oqu(e.lcZ(11,42,"myself.del")),e.xp6(3),e.Oqu(e.lcZ(14,44,e.Dn7(15,46,t.prenotazione.data,"D MMMM YYYY",t.getLocale()))),e.xp6(3),e.Q6J("ngIf",t.prenotazione.isEliminata),e.xp6(3),e.hij(" ",e.lcZ(20,50,"myself.arrivo")," "),e.xp6(6),e.hij(" ",e.lcZ(26,52,"myself.partenza")," "),e.xp6(11),e.hij(" ",e.lcZ(37,54,e.Dn7(38,56,t.prenotazione.arrivo,"dddd",t.getLocale()))," "),e.xp6(4),e.hij(" ",e.lcZ(41,60,e.Dn7(42,62,t.prenotazione.arrivo,"D MMM",t.getLocale()))," "),e.xp6(4),e.hij(" ",e.lcZ(45,66,e.Dn7(46,68,t.prenotazione.arrivo,"YYYY",t.getLocale()))," "),e.xp6(4),e.hij(" ",t.notti," "),e.xp6(3),e.hij(" ",e.lcZ(52,72,e.Dn7(53,74,t.prenotazione.partenza,"dddd",t.getLocale()))," "),e.xp6(4),e.hij(" ",e.lcZ(56,78,e.Dn7(57,80,t.prenotazione.partenza,"D MMM",t.getLocale()))," "),e.xp6(4),e.hij(" ",e.lcZ(60,84,e.Dn7(61,86,t.prenotazione.partenza,"YYYY",t.getLocale()))," "),e.xp6(4),e.hij(" ",t.numeroAdulti," "),e.xp6(1),e.Q6J("matTooltip",t.etaBambini),e.xp6(2),e.Oqu(t.numeroBambini),e.xp6(1),e.Q6J("ngIf",!!t.etaBambini),e.xp6(1),e.Q6J("ngIf",null!=t.tipoCamera&&!!t.tipoCamera.urlImmagine),e.xp6(1),e.Q6J("ngIf",null!=t.dettagli&&t.dettagli.length>0),e.xp6(1),e.Q6J("ngClass",e.VKq(108,Zt,null==t.dettagli||0==t.dettagli.length)),e.xp6(4),e.hij(" ",e.lcZ(75,90,"myself.politicaCancellazione")," "),e.xp6(3),e.hij(" ",t.prenotazione.politicaCancellazione?t.prenotazione.politicaCancellazione:"---"," "),e.xp6(1),e.Q6J("ngIf",!!t.prenotazione.dataCancellazioneGratuita),e.xp6(3),e.hij(" ",e.lcZ(82,92,"myself.modalitaPagamento")," "),e.xp6(4),e.Oqu(t.prenotazione.nomeModalitaPagamento?t.prenotazione.nomeModalitaPagamento:"---"),e.xp6(1),e.Q6J("ngIf",null!=t.prenotazione.modalitaPagamento&&t.prenotazione.modalitaPagamento.tipo==t.enumTipoModalitaPagamento.BonificoBancario),e.xp6(3),e.hij(" ",e.lcZ(90,94,"myself.totale")," "),e.xp6(3),e.hij(" ",e.lcZ(93,96,t.prenotazione.importo-t.prenotazione.sconto-t.prenotazione.scontoVoucher)," "),e.xp6(4),e.hij(" ",e.lcZ(97,98,"myself.caparra")," "),e.xp6(3),e.hij(" ",t.prenotazione.caparra>0?e.lcZ(100,100,t.prenotazione.caparra):"---"," "),e.xp6(4),e.hij(" ",e.lcZ(104,102,"myself.saldo")," "),e.xp6(3),e.hij(" ",e.lcZ(107,104,t.getSaldo())," "),e.xp6(2),e.Q6J("ngIf",!!t.condizioniPrenotazione),e.xp6(2),e.Q6J("ngClass",e.WLB(110,Tt,t.prenotazione.hasTipoCameraOTA&&t.prenotazione.hasTariffaOTA||t.isSondaggioCompilato||t.prenotazione.hasSondaggio,!(t.prenotazione.hasTipoCameraOTA&&t.prenotazione.hasTariffaOTA||t.isSondaggioCompilato||t.prenotazione.hasSondaggio))),e.xp6(1),e.Q6J("ngForOf",t.ospiti),e.xp6(1),e.Q6J("ngIf",t.prenotazione.hasTipoCameraOTA&&t.prenotazione.hasTariffaOTA||t.isSondaggioCompilato||t.prenotazione.hasSondaggio),e.xp6(1),e.Q6J("ngIf",t.isAttivaCancellazioneSelfCheckIn&&t.prenotazione.statoPrenotazione==t.enumStatoPrenotazione.CancellazioneRichiesta),e.xp6(1),e.Q6J("ngIf",!t.isReadOnlyMode)}}function At(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"app-my-self-rooms",81),e.NdJ("onRichiedi",function(a){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onRichiedi(a))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("oidPrenotazione",t.prenotazione.oid)("camere",t.camere)}}function wt(n,i){if(1&n&&(e.TgZ(0,"div",82),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.upSellingRichiesto," ")}}function It(n,i){if(1&n&&(e.TgZ(0,"div",77),e.YNc(1,At,2,2,"div",78),e.YNc(2,wt,2,1,"div",79),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null!=t.camere&&t.camere.length>0&&!t.isReadOnlyMode),e.xp6(1),e.Q6J("ngIf",!!t.upSellingRichiesto)}}function kt(n,i){if(1&n&&(e.TgZ(0,"div",91)(1,"div",92)(2,"div",56),e._uU(3),e.qZA(),e.TgZ(4,"div",93),e._uU(5),e.ALo(6,"eurCurrency"),e.qZA()()()),2&n){const t=i.$implicit;e.xp6(3),e.hij(" ",t.quantita+"x "+t.nome," "),e.xp6(2),e.hij(" ",e.lcZ(6,2,t.totale)," ")}}function Pt(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",86)(2,"h5",87),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,kt,7,4,"div",88),e.qZA(),e.TgZ(6,"div",89)(7,"button",90),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.creaPrenotazioneExtra())}),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,3,"myself.serviziExtra")),e.xp6(2),e.Q6J("ngForOf",t.articoliSelected),e.xp6(3),e.Oqu(e.lcZ(9,5,"myself.conferma"))}}function qt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",83,84)(2,"app-my-self-extras",85),e.NdJ("quantitaGiorniChanged",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.updateArticoliSelected())}),e.qZA(),e.YNc(3,Pt,10,7,"ng-container",59),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("articoli",t.articoli)("numeroPax",t.numeroAdulti+t.numeroBambini),e.xp6(1),e.Q6J("ngIf",t.articoliSelected.length>0)}}function Ot(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",94,95)(2,"app-my-self-check-in-multiple",96),e.NdJ("back",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.onCheckInBack(a))})("onStepChange",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onStepChange())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ospiti",t.ospitiCheckIn)("albergo",t.albergo)("isVisualizzaTuttiDatiSelfCheckIn",t.isVisualizzaTuttiDatiSelfCheckIn)("isBloccaModificaDatiCheckIn",t.isBloccaModificaDatiCheckIn)("lingua",t.lingua)("orarioDiArrivoMinimo",t.orarioDiArrivoMinimo)("orarioDiArrivoMassimo",t.orarioDiArrivoMassimo)("checkInIndex",t.checkInIndex)}}function Jt(n,i){if(1&n&&(e.TgZ(0,"div",97),e._UZ(1,"app-inner-html",98),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("_text",t.templateStampaHtml)}}class O extends r.H{set _prenotazione(i){null!=i&&(this.prenotazione=i,A(this.getDate(this.prenotazione.arrivo)).isBefore(A().startOf("day"))&&(this.buttonsDisabled=!0),this.tipoCamera=i.tipoCamera,this.tariffa=i.tariffa,this.articoli=i.articoli,this.numeroAdulti=i.numeroAdulti,this.numeroBambini=i.numeroBambini,this.etaBambini=i.etaBambini,this.isSondaggioCompilato=i.isSondaggioCompilato,this.ospiti=i.ospiti,this.camere=i.upSellingRooms,this.dettagli=i.dettagli,i.dataUpSelling&&i.cameraUpSelling&&(this.upSellingRichiesto=this.localizationService.getTranslationSync("myself.upSellingRichiesto",{data:this.getDate(i.dataUpSelling,"DD/MM/YYYY"),camera:i.cameraUpSelling})),null!=this.prenotazione&&this.prenotazione.arrivo&&this.prenotazione.partenza&&(this.notti=Math.max(A(this.getDate(this.prenotazione.partenza)).diff(A(this.getDate(this.prenotazione.arrivo)),"days"),1)))}constructor(i,t,o,a){super(),this.utility=i,this.apiService=t,this.containerService=o,this.localizationService=a,this.isReadOnlyMode=!1,this.articoli=[],this.articoliSelected=[],this.notti=0,this.numeroAdulti=0,this.numeroBambini=0,this.articoliVisible=!1,this.checkInVisible=!1,this.print=!1,this.buttonsDisabled=!1,this.enumTipoModalitaPagamento=m.sc,this.enumStatoPrenotazione=m.gp,this.checkInIndex=0}ngOnInit(){this.isReadOnlyMode&&(this.buttonsDisabled=!0)}openDetails(){let i=new p.Zpt;this.containerService.dimension.width>=992?i.width="50vw":i.width="80vw",i.panelClass="dialog-overlay";let o=this.showModalDialog(Ce.w,i).componentInstance;o.tipoCamera=this.tipoCamera,o.tariffa=this.tariffa,o.isVisualizzaDettaglioGiornaliero=!1}openSondaggio(){this.utility.openUrlInNewTab(window.location.origin+"/booking/sondaggio?oidPrenotazione="+this.prenotazione.oid)}getSaldo(){return null!=this.prenotazione?this.prenotazione.importo-this.prenotazione.sconto-this.prenotazione.scontoVoucher-this.prenotazione.caparra:0}richiediCancellazione(){let i=new p.Zpt;this.containerService.dimension.width>=992?i.width="50vw":i.width="80vw",i.panelClass="myself-dialog";let t=this.showModalDialog(I,i),o=t.componentInstance;o.oidPrenotazione=this.prenotazione.oid,o.dialogRef=t,t.afterClosed().subscribe(a=>{a&&(this.prenotazione.statoPrenotazione=m.gp.CancellazioneRichiesta)})}creaPrenotazioneExtra(){this.setIsLoading(!0);let i=new p.vRS;i.oidPrenotazione=this.prenotazione.oid,i.articoli=this.articoli,i.isUpSelling=!0,this.apiService.creaPrenotazioneExtraSelfCheckin(i).subscribe(t=>{t.data.success?(this.resetArticoli(),this.showInfo("myself.richiestaInviata")):this.showError("myself.erroreRichiesta"),this.setIsLoading(!1)})}resetArticoli(){this.articoli.forEach(i=>{i.quantita=0,null!=i.giorni&&i.giorni.forEach(t=>t.selected=!0)}),this.updateArticoliSelected()}updateArticoliSelected(){this.articoliSelected=this.articoli.filter(i=>i.quantita>0),this.articoliSelected.forEach(i=>i.totale=i.quantita*(null!=i.giorni?i.giorni.filter(t=>t.selected).reduce((t,o)=>t+o.prezzo,0):i.prezzo))}checkArticoliSelected(){return this.articoliSelected.some(i=>i.quantita>0)}onAggiungiServiziClick(){this.articoliVisible=!this.articoliVisible,this.articoliVisible&&setTimeout(()=>{this.articoliContainer.nativeElement.scrollIntoView({behavior:"smooth"})},200)}onCheckInClick(i){this.checkInVisible?(this.checkInVisible=!this.checkInVisible,this.prenotazioneContainer.nativeElement.scrollIntoView({behavior:"smooth"})):(this.ospitiCheckIn=JSON.parse(JSON.stringify(this.ospiti)),this.checkInIndex=i,this.checkInVisible=!this.checkInVisible,setTimeout(()=>{this.checkInContainer.nativeElement.scrollIntoView({behavior:"smooth"})},200))}onCheckInBack(i){this.ospiti=i}onStepChange(){this.checkInContainer.nativeElement.scrollIntoView({behavior:"smooth"})}stampa(){if(null==this.templateStampaOid)this.print=!0,setTimeout(()=>{window.print(),setTimeout(()=>{this.print=!1},1e3)},200);else{this.setIsLoading(!0);let i=new p.spf;i.oidTemplate=this.templateStampaOid,i.oidPrenotazioni=[this.prenotazione.oid],this.apiService.replaceTagsTemplate(i).subscribe(t=>{this.templateStampaHtml=t.data.testo,this.setIsLoading(!1),setTimeout(()=>{window.print()},200)})}}openCondizioniPrenotazione(){let i=new p.Zpt;this.containerService.dimension.width>=992?i.width="50vw":i.width="80vw",this.showModalDialog(w,i).componentInstance.condizioniPrenotazione=this.condizioniPrenotazione}onRichiedi(i){this.prenotazioneContainer.nativeElement.scrollIntoView({behavior:"smooth"}),this.upSellingRichiesto=this.localizationService.getTranslationSync("myself.upSellingRichiesto",{data:this.getDate(A(),"DD/MM/YYYY"),camera:i}),this.camere=null}openBonificoDetails(){let i=new p.Zpt;this.containerService.dimension.width>=992?i.width="50vw":i.width="80vw",i.panelClass="myself-dialog",this.showModalDialog(ye.Z,i).componentInstance.modalitaPagamento=this.prenotazione.modalitaPagamento}}O.\u0275fac=function(i){return new(i||O)(e.Y36(d.t),e.Y36(x.s),e.Y36(b.J),e.Y36(C.o))},O.\u0275cmp=e.Xpm({type:O,selectors:[["app-my-self-prenotazione"]],viewQuery:function(i,t){if(1&i&&(e.Gf(We,5),e.Gf($e,5),e.Gf(et,5)),2&i){let o;e.iGM(o=e.CRH())&&(t.articoliContainer=o.first),e.iGM(o=e.CRH())&&(t.checkInContainer=o.first),e.iGM(o=e.CRH())&&(t.prenotazioneContainer=o.first)}},inputs:{_prenotazione:"_prenotazione",isAttivaBookingExtraSelfCheckIn:"isAttivaBookingExtraSelfCheckIn",isAttivaCancellazioneSelfCheckIn:"isAttivaCancellazioneSelfCheckIn",isAttivaUpSellingSelfCheckIn:"isAttivaUpSellingSelfCheckIn",isVisualizzaTuttiDatiSelfCheckIn:"isVisualizzaTuttiDatiSelfCheckIn",isBloccaModificaDatiCheckIn:"isBloccaModificaDatiCheckIn",condizioniPrenotazione:"condizioniPrenotazione",albergo:"albergo",templateStampaOid:"templateStampaOid",lingua:"lingua",orarioDiArrivoMinimo:"orarioDiArrivoMinimo",orarioDiArrivoMassimo:"orarioDiArrivoMassimo",isReadOnlyMode:"isReadOnlyMode"},features:[e.qOj],decls:5,vars:5,consts:[["class","prenotazione-container mat-elevation-z5 mt-3 overflow-hidden",3,"ngClass",4,"ngIf"],["class","mt-3 camere-container mat-elevation-z5",4,"ngIf"],["class","mt-3 articoli-container mat-elevation-z5 pt-3 pb-3",4,"ngIf"],["class","mt-3 checkin-container border mat-elevation-z5 pt-3 pb-3 pr-4 pl-2",4,"ngIf"],["class","print-div",4,"ngIf"],[1,"prenotazione-container","mat-elevation-z5","mt-3","overflow-hidden",3,"ngClass"],["prenotazioneContainer",""],[1,"background-color-blue","pt-1","pb-1"],[1,"text-center","text-small"],[1,"font-weight-bold"],["class","color-red isEliminata ml-1",4,"ngIf"],[1,"mx-auto","d-table","mt-1"],[1,"prenotazione-header-col","pl-3"],[1,"prenotazione-header-col"],[1,"material-icons-round","align-middle","icon-small","night-icon"],[1,"material-icons-round","align-middle","adults-icon"],[1,"material-icons-round","child-icon"],[1,"mx-auto","d-table","mt-3","mb-3"],[1,"prenotazione-col","color-blue","pl-3"],[1,"text-big","font-weight-bold","mt-n1","mb-n1"],[1,"prenotazione-col","color-blue","d-inline-flex","justify-content-center","align-items-center","text-big","font-weight-bold"],[1,"prenotazione-col","color-blue"],["matTooltipPosition","below","matTooltipClass","myself-eta-bambini-tooltip-class",1,"prenotazione-col","color-blue","d-inline-flex","justify-content-center","align-items-center","text-big","font-weight-bold",3,"matTooltip"],["class","etaBambini ml-1 mt-1",4,"ngIf"],["class","w-100 no-print",3,"height",4,"ngIf"],["class","myself-prenotazione-summary-panel mat-elevation-z0 background-grey",4,"ngIf"],[1,"pr-4","pl-4","pb-3","background-grey",3,"ngClass"],[1,"row","text-center","myself-row-dettagli"],[1,"col-6","col-lg-3"],[1,"color-blue","font-weight-bold"],["class","dataCancellazioneGratuitaText",4,"ngIf"],[1,"d-inline-block","align-middle"],["mat-icon-button","","class","align-middle ml-1 info-button",3,"click",4,"ngIf"],[1,"col-4","col-lg-2","mt-3","mt-lg-0"],["class","d-block mt-3","href","#",3,"click",4,"ngIf"],[1,"row","mt-4"],[1,"col-12",3,"ngClass"],["class","row pt-1 pb-1",4,"ngFor","ngForOf"],["class","col-12 col-xl-4 mt-4 mt-xl-0",4,"ngIf"],["class","font-weight-bold color-blue mt-3",4,"ngIf"],["class","mt-3 text-center text-md-right",4,"ngIf"],[1,"color-red","isEliminata","ml-1"],[1,"etaBambini","ml-1","mt-1"],[1,"w-100","no-print"],[3,"images","minimumHeight","maximumHeight","fullHeight"],[1,"myself-prenotazione-summary-panel","mat-elevation-z0","background-grey"],[3,"collapsedHeight","expandedHeight"],[3,"_dettagli","tipoCamera","tariffa","promozione","sconto"],[1,"dataCancellazioneGratuitaText"],["mat-icon-button","",1,"align-middle","ml-1","info-button",3,"click"],[1,"material-icons-round","info-icon"],["href","#",1,"d-block","mt-3",3,"click"],[1,"row","pt-1","pb-1"],[1,"col-6","text-nowrap"],[1,"material-icons-round","align-middle","icon-small","color-blue","mr-1"],[1,"d-inline-block","align-middle","text-wrap"],[1,"col-6"],["class","checkIn-button button-blue","mat-flat-button","",3,"disabled","click",4,"ngIf"],["mat-flat-button","",1,"checkIn-button","button-blue",3,"disabled","click"],[4,"ngIf"],[1,"material-icons-round","align-middle","icon-smaller","mb-1","mr-1"],[1,"col-12","col-xl-4","mt-4","mt-xl-0"],["class","dettagli-button button-blue d-block ml-auto mr-auto ml-xl-auto mr-xl-0","mat-flat-button","",3,"click",4,"ngIf"],["class","dettagli-button button-blue d-block ml-auto mr-auto ml-xl-auto mr-xl-0","mat-flat-button","",3,"ngClass","click",4,"ngIf"],["mat-flat-button","",1,"dettagli-button","button-blue","d-block","ml-auto","mr-auto","ml-xl-auto","mr-xl-0",3,"click"],["mat-flat-button","",1,"dettagli-button","button-blue","d-block","ml-auto","mr-auto","ml-xl-auto","mr-xl-0",3,"ngClass","click"],[1,"font-weight-bold","color-blue","mt-3"],[1,"mt-3","text-center","text-md-right"],[1,"d-block","d-md-inline-block"],["class","green-button myself-checkIn-button","mat-button","",3,"disabled","click",4,"ngIf"],["class","green-button myself-aggiungi-servizi-button ml-1","mat-button","",3,"disabled","click",4,"ngIf"],[1,"d-block","d-md-inline-block","mt-1","mt-md-0"],["class","green-button myself-richiedi-cancellazione-button ml-1","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"green-button","myself-stampa-button","ml-1",3,"click"],["mat-button","",1,"green-button","myself-checkIn-button",3,"disabled","click"],["mat-button","",1,"green-button","myself-aggiungi-servizi-button","ml-1",3,"disabled","click"],["mat-button","",1,"green-button","myself-richiedi-cancellazione-button","ml-1",3,"click"],[1,"mt-3","camere-container","mat-elevation-z5"],["class","p-3",4,"ngIf"],["class","p-3 color-blue font-weight-bold",4,"ngIf"],[1,"p-3"],[3,"oidPrenotazione","camere","onRichiedi"],[1,"p-3","color-blue","font-weight-bold"],[1,"mt-3","articoli-container","mat-elevation-z5","pt-3","pb-3"],["articoliContainer",""],[3,"articoli","numeroPax","quantitaGiorniChanged"],[1,"mt-3","pr-4","pl-4"],[1,"color-blue","font-weight-bold","mb-2"],["class","w-100",4,"ngFor","ngForOf"],[1,"mt-4","text-right","pr-4"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"w-100"],[1,"row"],[1,"col-6","color-blue","font-weight-bold","text-right"],[1,"mt-3","checkin-container","border","mat-elevation-z5","pt-3","pb-3","pr-4","pl-2"],["checkInContainer",""],[3,"ospiti","albergo","isVisualizzaTuttiDatiSelfCheckIn","isBloccaModificaDatiCheckIn","lingua","orarioDiArrivoMinimo","orarioDiArrivoMassimo","checkInIndex","back","onStepChange"],[1,"print-div"],[3,"_text"]],template:function(i,t){1&i&&(e.YNc(0,St,115,113,"div",0),e.YNc(1,It,3,2,"div",1),e.YNc(2,qt,4,3,"div",2),e.YNc(3,Ot,3,8,"div",3),e.YNc(4,Jt,2,1,"div",4)),2&i&&(e.Q6J("ngIf",null!=t.prenotazione),e.xp6(1),e.Q6J("ngIf",t.isAttivaUpSellingSelfCheckIn&&(null!=t.camere&&t.camere.length>0&&!t.isReadOnlyMode||!!t.upSellingRichiesto)),e.xp6(1),e.Q6J("ngIf",t.articoliVisible),e.xp6(1),e.Q6J("ngIf",t.checkInVisible),e.xp6(1),e.Q6J("ngIf",!!t.templateStampaHtml))},dependencies:[s.mk,s.sg,s.O5,h.eB,E.ib,E.yz,j.Kd,$.V,N.W,P,Ee.S,q,Ke.N,s.rS,s.uU,ee.f,Xe.H,f.X$],styles:[".prenotazione-container[_ngcontent-%COMP%], .articoli-container[_ngcontent-%COMP%], .checkin-container[_ngcontent-%COMP%], .camere-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.prenotazione-header-col[_ngcontent-%COMP%], .prenotazione-col[_ngcontent-%COMP%]{width:90px;max-width:20%;display:inline-block;vertical-align:middle;text-align:center}.icon-small[_ngcontent-%COMP%]{font-size:18px;line-height:18px}.icon-smaller[_ngcontent-%COMP%]{font-size:16px;line-height:16px}.night-icon[_ngcontent-%COMP%]{margin-bottom:3px}.text-big[_ngcontent-%COMP%]{font-size:18px}.checkIn-button[_ngcontent-%COMP%]{height:32px!important;line-height:32px!important;width:125px!important}.dettagli-button[_ngcontent-%COMP%]{height:32px!important;line-height:32px!important;width:200px!important;max-width:100%!important}.checkInCompleto-button[_ngcontent-%COMP%]{border-radius:7px!important;height:32px!important;line-height:32px!important;width:125px!important}.checkInCompleto-button[_ngcontent-%COMP%]:enabled{background-color:#22b473!important;border:2px solid #22B473!important;color:#fff!important}.background-grey[_ngcontent-%COMP%]{background-color:#f2f2f2}.text-small[_ngcontent-%COMP%]{font-size:14px}.adults-icon[_ngcontent-%COMP%]{font-size:20px;margin-bottom:3px}.child-icon[_ngcontent-%COMP%]{font-size:14px;vertical-align:bottom;margin-bottom:2px}.green-button[_ngcontent-%COMP%]{border-radius:7px}.green-button[_ngcontent-%COMP%]:enabled{background-color:#248151;color:#fff}  .myself-prenotazione-summary-panel .mat-expansion-panel-content{font:inherit!important}  .myself-prenotazione-summary-panel .mat-expansion-panel-header{font:inherit!important;background:transparent!important}@media print{.prenotazione-container-print[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:100%;position:fixed;top:0;left:0;margin:0;padding:15px;z-index:500}}.info-button[_ngcontent-%COMP%]{width:16px;height:16px;line-height:16px}.info-icon[_ngcontent-%COMP%]{font-size:16px;line-height:16px}.etaBambini[_ngcontent-%COMP%]{font-size:13px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}  .myself-eta-bambini-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#666!important;color:#fff!important;opacity:1!important;font-weight:600!important;font-size:12px!important}.isEliminata[_ngcontent-%COMP%]{font-weight:700}"]});const Qt=["myselfcol"];function Ut(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-my-self-header",5),e.NdJ("onMenuClick",function(a){e.CHM(t);const l=e.oxw();return l.listaVisible=a,l.tabIndex=0,e.KtG(l.containerService.scrollToTop())})("onRecensioneAdd",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.recensioni.push(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("portale",t.portale)("lingua",t.lingua)("selectedLanguage",t.selectedLanguage)("lingueAttive",t.lingueAttive)("cliente",t.cliente)("uid",t.uid)("listaVisible",t.listaVisible)}}function Lt(n,i){1&n&&(e._UZ(0,"mat-tab",7),e.ALo(1,"translate")),2&n&&e.Q6J("label",e.lcZ(1,1,"myself.messaggi"))}function Et(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab-group",6),e.NdJ("selectedTabChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.onTabChange(a.index))}),e._UZ(1,"mat-tab",7),e.ALo(2,"translate"),e.YNc(3,Lt,2,3,"mat-tab",8),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("selectedIndex",t.tabIndex),e.xp6(1),e.Q6J("label",e.lcZ(2,3,t.uid?"myself.prenotazione":t.listaVisible==t.enumListaSelfCheckIn.Prenotazioni?"myself.prenotazioni":t.listaVisible==t.enumListaSelfCheckIn.Richieste?"myself.richieste":t.listaVisible==t.enumListaSelfCheckIn.Recensioni?"myself.recensioni":t.listaVisible==t.enumListaSelfCheckIn.Voucher?"myself.voucher":"")),e.xp6(2),e.Q6J("ngIf",!t.portale.isNascondiChat)}}function Nt(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.ciao")+" "+(null!=t.cliente&&t.cliente.nome?t.cliente.nome:"")+","," ")}}function Yt(n,i){if(1&n&&e._UZ(0,"app-inner-html",30),2&n){const t=e.oxw(4);e.Q6J("_text",t.portale.testoSelfCheckIn)}}function Dt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return a.all=!0,e.KtG(a.onAllChange())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself.visualizzaTutteLePrenotazioni")))}function Rt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return a.all=!1,e.KtG(a.onAllChange())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself.visualizzaSoloLePrenotazioniFuture")))}function Ft(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"button",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.openBooking())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Dt,3,3,"button",33),e.YNc(5,Rt,3,3,"button",33),e.qZA()}if(2&n){const t=e.oxw(4);e.xp6(2),e.Oqu(e.lcZ(3,3,"myself.nuovaPrenotazione")),e.xp6(2),e.Q6J("ngIf",!t.all),e.xp6(1),e.Q6J("ngIf",t.all)}}function Bt(n,i){1&n&&(e.TgZ(0,"h5",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.nessunaPrenotazione")," "))}function Ht(n,i){if(1&n&&e._UZ(0,"app-my-self-prenotazione",37),2&n){const t=i.$implicit,o=e.oxw(5);e.Q6J("_prenotazione",t)("isAttivaBookingExtraSelfCheckIn",o.portale.isAttivaBookingExtraSelfCheckIn)("isAttivaCancellazioneSelfCheckIn",o.portale.isAttivaCancellazioneSelfCheckIn)("isAttivaUpSellingSelfCheckIn",o.portale.isAttivaUpSellingSelfCheckIn)("isVisualizzaTuttiDatiSelfCheckIn",o.portale.isVisualizzaTuttiDatiSelfCheckIn)("isBloccaModificaDatiCheckIn",o.portale.isBloccaModificaDatiCheckIn)("albergo",o.albergo)("condizioniPrenotazione",o.condizioniPrenotazione)("templateStampaOid",o.portale.templateStampaOid)("lingua",o.lingua)("orarioDiArrivoMinimo",o.portale.orarioDiArrivoMinimo)("orarioDiArrivoMassimo",o.portale.orarioDiArrivoMassimo)("isReadOnlyMode",o.isReadOnlyMode)}}function Gt(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Ht,1,13,"app-my-self-prenotazione",36),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.prenotazioni)}}function Vt(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",24)(2,"h4",25),e.YNc(3,Nt,3,3,"ng-container",4),e.YNc(4,Yt,1,1,"app-inner-html",26),e.qZA(),e.TgZ(5,"div",27),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,Ft,6,5,"div",28),e.YNc(9,Bt,3,3,"h5",29),e.qZA(),e.YNc(10,Gt,2,1,"ng-container",4),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.portale.testoSelfCheckIn),e.xp6(1),e.Q6J("ngIf",!!t.portale.testoSelfCheckIn),e.xp6(2),e.hij(" ",e.lcZ(7,6,"myself.inQuestaPagina")," "),e.xp6(2),e.Q6J("ngIf",!t.uid),e.xp6(1),e.Q6J("ngIf",null!=t.prenotazioni&&0==t.prenotazioni.length),e.xp6(1),e.Q6J("ngIf",null!=t.prenotazioni&&t.prenotazioni.length>0)}}function jt(n,i){if(1&n&&e._UZ(0,"app-my-self-richiesta",42),2&n){const t=i.$implicit;e.Q6J("_richiesta",t)}}function Kt(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"h4",40),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,jt,1,1,"app-my-self-richiesta",41),e.BQk()),2&n){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"myself.leTueRichieste")),e.xp6(2),e.Q6J("ngForOf",t.richieste)}}function Xt(n,i){1&n&&(e.TgZ(0,"h5",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.nessunaRichiesta")," "))}function Wt(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Kt,5,4,"ng-container",4),e.YNc(2,Xt,3,3,"h5",39),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null!=t.richieste&&t.richieste.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.richieste&&0==t.richieste.length)}}function $t(n,i){if(1&n&&e._UZ(0,"app-my-self-voucher",45),2&n){const t=i.$implicit;e.Q6J("voucher",t)}}function en(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"h4",40),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,$t,1,1,"app-my-self-voucher",44),e.BQk()),2&n){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"myself.iTuoiVoucher")),e.xp6(2),e.Q6J("ngForOf",t.voucher)}}function tn(n,i){1&n&&(e.TgZ(0,"h5",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.nessunVoucher")," "))}function nn(n,i){if(1&n&&(e.ynx(0),e.YNc(1,en,5,4,"ng-container",4),e.YNc(2,tn,3,3,"h5",39),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null!=t.voucher&&t.voucher.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.voucher&&0==t.voucher.length)}}function on(n,i){if(1&n&&e._UZ(0,"app-my-self-recensione",47),2&n){const t=i.$implicit;e.Q6J("recensione",t)}}function an(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"h4",40),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,on,1,1,"app-my-self-recensione",46),e.BQk()),2&n){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"myself.leTueRecensioni")),e.xp6(2),e.Q6J("ngForOf",t.recensioni)}}function ln(n,i){1&n&&(e.TgZ(0,"h5",43),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.nessunaRecensione")," "))}function rn(n,i){if(1&n&&(e.ynx(0),e.YNc(1,an,5,4,"ng-container",4),e.YNc(2,ln,3,3,"h5",39),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null!=t.recensioni&&t.recensioni.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.recensioni&&0==t.recensioni.length)}}function cn(n,i){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,Wt,3,2,"ng-container",4),e.YNc(2,nn,3,2,"ng-container",4),e.YNc(3,rn,3,2,"ng-container",4),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.listaVisible==t.enumListaSelfCheckIn.Richieste),e.xp6(1),e.Q6J("ngIf",t.listaVisible==t.enumListaSelfCheckIn.Voucher),e.xp6(1),e.Q6J("ngIf",t.listaVisible==t.enumListaSelfCheckIn.Recensioni)}}const sn=function(n){return{"mt-2":n}};function pn(n,i){if(1&n&&(e.TgZ(0,"mat-expansion-panel",51)(1,"mat-expansion-panel-header",52),e._uU(2),e.qZA(),e._UZ(3,"app-inner-html",30),e.qZA()),2&n){const t=e.oxw(),o=t.index,a=t.$implicit;e.Q6J("ngClass",e.VKq(3,sn,o>0)),e.xp6(2),e.hij(" ",a.titolo," "),e.xp6(1),e.Q6J("_text",a.testo)}}function mn(n,i){if(1&n&&(e.ynx(0),e.YNc(1,pn,4,5,"mat-expansion-panel",50),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",!!t.titolo&&!!t.testo)}}function dn(n,i){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,mn,2,1,"ng-container",49),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.contenuti)}}function un(n,i){if(1&n&&(e.TgZ(0,"div",53)(1,"div",19)(2,"div",20)(3,"span",21),e._uU(4,"message"),e.qZA()(),e._UZ(5,"app-messaggi-send",22),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("_prenotazione",t.uid?t.prenotazioni[0]:null)("_cliente",t.uid?null:t.cliente)("messaggi",t.messaggi)("mittente",t.enumMittente.Cliente)("nomeAlbergo",t.albergo.nome)("nomePortale",t.portale.nomeStruttura)("maxHeight",500)("booking",!0)("oidPortale",t.uid?null:t.portale.oid)}}function gn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",12,13)(3,"div",14),e.YNc(4,Vt,11,8,"ng-container",4),e.YNc(5,cn,4,3,"div",15),e.YNc(6,dn,2,1,"div",16),e.qZA(),e.TgZ(7,"div",17)(8,"div",18)(9,"div",19)(10,"div",20)(11,"span",21),e._uU(12,"message"),e.qZA()(),e._UZ(13,"app-messaggi-send",22),e.qZA()()()(),e.YNc(14,un,6,9,"div",23),e.BQk()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.listaVisible==t.enumListaSelfCheckIn.Prenotazioni),e.xp6(1),e.Q6J("ngIf",t.listaVisible!=t.enumListaSelfCheckIn.Prenotazioni),e.xp6(1),e.Q6J("ngIf",null!=t.contenuti&&t.contenuti.length>0),e.xp6(7),e.Q6J("_prenotazione",t.uid?t.prenotazioni[0]:null)("_cliente",t.uid?null:t.cliente)("messaggi",t.messaggi)("mittente",t.enumMittente.Cliente)("nomeAlbergo",t.albergo.nome)("nomePortale",t.portale.nomeStruttura)("maxHeight",500)("booking",!0)("oidPortale",t.uid?null:t.portale.oid),e.xp6(1),e.Q6J("ngIf",!t.portale.isNascondiChat)}}function _n(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"h4",55),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-form-field",56)(5,"input",57,58),e.NdJ("keyup.enter",function(){e.CHM(t);const a=e.MAs(6),l=e.oxw(3);return e.KtG(l.checkPassword(a.value))}),e.qZA()(),e.TgZ(7,"button",59),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.recuperoPassword=!0)}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",60),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(6),l=e.oxw(3);return e.KtG(l.checkPassword(a.value))}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.MAs(6);e.xp6(2),e.Oqu(e.lcZ(3,4,"myself.inserirePassword")),e.xp6(6),e.hij(" ",e.lcZ(9,6,"myself.recuperaPassword")," "),e.xp6(2),e.Q6J("disabled",!t.value),e.xp6(1),e.hij(" ",e.lcZ(12,8,"globals.continua")," ")}}function fn(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"h4",61),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-form-field",56)(5,"input",62,63),e.NdJ("keyup.enter",function(){e.CHM(t);const a=e.MAs(6),l=e.oxw(3);return e.KtG(l.recuperaPassword(a.value))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"button",64),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(6),l=e.oxw(3);return e.KtG(l.recuperaPassword(a.value))}),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"button",65),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.recuperoPassword=!1)}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,5,"myself.recuperaPassword")),e.xp6(3),e.Q6J("placeholder",e.lcZ(7,7,"myself.login.email"))("value",t.cliente.email),e.xp6(4),e.Oqu(e.lcZ(10,9,"globals.conferma")),e.xp6(3),e.Oqu(e.lcZ(13,11,"globals.annulla"))}}function hn(n,i){if(1&n&&(e.TgZ(0,"div",54),e.YNc(1,_n,13,10,"ng-container",4),e.YNc(2,fn,14,13,"ng-container",4),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.recuperoPassword),e.xp6(1),e.Q6J("ngIf",t.recuperoPassword)}}function xn(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",9),e.YNc(2,gn,15,13,"ng-container",4),e.YNc(3,hn,3,2,"div",10),e.qZA(),e._UZ(4,"app-my-self-footer",11),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.passwordInserted),e.xp6(1),e.Q6J("ngIf",!t.passwordInserted),e.xp6(1),e.Q6J("urlMappa",t.portale.urlIFrameGoogleMap)("email",t.portale.email)("telefono",t.portale.telefono)("indirizzo",t.portale.indirizzo)("cap",t.portale.cap)("citta",t.portale.citta)("provincia",t.portale.provincia)("nome",t.portale.nomeStruttura)}}class J extends r.H{constructor(i,t,o,a,l,u,Q,U,L){super(),this.apiService=i,this.containerService=t,this.deviceService=o,this.sessionService=a,this.localizationService=l,this.cssLoaderService=u,this.utility=Q,this.route=U,this.router=L,this.portale=new p.nzR,this.initialized=!1,this.prenotazioni=[],this.richieste=[],this.voucher=[],this.recensioni=[],this.messaggi=[],this.all=!1,this.albergo=new p.A7U,this.enumMittente=m.VM,this.listaVisible=m.pE.Prenotazioni,this.enumListaSelfCheckIn=m.pE,this.selectedLanguage=new F.orF,this.lingueAttive=[],this.passwordInserted=!0,this.contenuti=[],this.recuperoPassword=!1,this.tabIndex=0,this.isReadOnlyMode=!1}ngOnInit(){this.setIsLoading(!0),this.uid||(this.sessionService.isAttachRequestHeaders=!0),this.sub1=this.route.queryParamMap.subscribe(i=>{let t=i.get("oidPortale");t&&!isNaN(+t)&&(this.oidPortale=+t),this.download(i.get("lingua")).then(()=>{var o;this.cssLoaderService.setColor(this.portale.coloreSelfCheckIn),this.utility.setLingua(null===(o=this.selectedLanguage)||void 0===o?void 0:o.codice).then(a=>{if(this.lingua=null==a?void 0:a.codice,this.traduzioni){let l;try{l=JSON.parse(this.traduzioni)}catch(u){}l&&this.localizationService.setTranslation(this.localizationService.getCurrentLocale(),l)}this.utility.setBackgroundImage(this.portale.urlImmagineSfondo).then(l=>{this.backgroundImage=l,this.initialized=!0,setTimeout(()=>{this.setIsLoading(!1),this.containerService.setScrollingContainer("my-self-scrolling",this.portale.coloreSelfCheckIn)},200)})})})}),this.sub=this.containerService.windowResizeEvent.subscribe(i=>{i.width>=992&&(this.tabIndex=0),this.updateScroll()})}download(i){return this.setIsLoading(!0),new Promise(o=>{if(this.uid){let a=new p.Jef;a.uid=this.uid,a.isMobile=this.deviceService.isMobile(),a.oidPortale=this.oidPortale,a.lingua=i||this.lingua,this.apiService.getMySelfBooking(a).subscribe(l=>{if(null!=l.data.prenotazioni&&l.data.prenotazioni.length>0&&null!=l.data.albergo){var u;let ne=l.data.prenotazioni.some(v=>v.isEliminata);if(!ne||null!==(u=l.data.portale)&&void 0!==u&&u.isVisualizzaPrenotazioneEliminata){var Q;this.isReadOnlyMode=ne,this.albergo=l.data.albergo,this.cssLoaderService.load(this.albergo.oid,m.I8.MySelf,null===(Q=l.data.portale)||void 0===Q?void 0:Q.oidUbicazioneIstat),null!=l.data.portale&&(this.portale=l.data.portale),this.prenotazioni=l.data.prenotazioni,this.messaggi=l.data.messaggi,this.cliente=l.data.prenotazioni[0].cliente,this.lingueAttive=l.data.lingue,this.selectedLanguage=l.data.lingua,this.traduzioni=l.data.traduzioni,this.password=l.data.password,this.passwordInserted=!this.password,this.contenuti=l.data.contenuti,this.condizioniPrenotazione=l.data.condizioniPrenotazione,o()}else{var U,L;let v={};(null===(U=l.data.portale)||void 0===U?void 0:U.oid)>0?v.oidPortale=l.data.portale.oid:v.oidAlbergo=l.data.albergo.oid,null!==(L=l.data.lingua)&&void 0!==L&&L.codice?v.lingua=l.data.lingua.codice:v.lingua="it",this.router.navigate(["booking"],{queryParams:v}).then(()=>{this.setIsLoading(!1)})}}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}else{let a=new p.DAG;this.sessionService.isLoggedInMySelf()?(this.albergo=this.sessionService.getAlbergo(),a.oidAlbergo=this.albergo.oid,a.oidCliente=this.sessionService.getOidAnagraficaHotel(),a.all=this.all,a.isMobile=this.deviceService.isMobile(),a.oidPortale=this.oidPortale,a.lingua=i,a.isMySelf=!1,this.apiService.getMySelf(a).subscribe(l=>{var u;this.cssLoaderService.load(this.albergo.oid,m.I8.MySelf,null===(u=l.data.portale)||void 0===u?void 0:u.oidUbicazioneIstat),null!=l.data.portale&&(this.portale=l.data.portale),this.prenotazioni=l.data.prenotazioni,this.richieste=l.data.richieste,this.voucher=l.data.voucher,this.recensioni=l.data.recensioni,this.messaggi=l.data.messaggi,this.cliente=l.data.cliente,this.lingueAttive=l.data.lingue,this.selectedLanguage=l.data.lingua,this.traduzioni=l.data.traduzioni,this.contenuti=l.data.contenuti,this.condizioniPrenotazione=l.data.condizioniPrenotazione,o()})):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})}})}onAllChange(){this.download().then(()=>{this.containerService.scrollToTop(),this.setIsLoading(!1)})}checkPassword(i){i==this.password?this.passwordInserted=!0:this.showError("myself.passwordErrata")}recuperaPassword(i){if(i){this.setIsLoading(!0);let t=new p.QPQ;t.oidCliente=this.cliente.oid,t.oidAlbergo=this.albergo.oid,t.oidPortale=this.portale.oid,this.apiService.recuperaPassword(t).subscribe(o=>{this.setIsLoading(!1),o.data.success?this.showInfo("myself.emailInviata").then(()=>{this.recuperoPassword=!1}):this.showError("myself.erroreRecuperoPassword").then(()=>{this.recuperoPassword=!1})})}else this.showError("globals.messages.inserireDati")}openBooking(){null!=this.portale.oid&&this.portale.oid>0?this.utility.openUrlInNewTab(window.location.origin+"/booking?oidPortale="+this.portale.oid):this.utility.openUrlInNewTab(window.location.origin+"/booking?oidAlbergo="+this.albergo.oid)}onTabChange(i){this.tabIndex=i,this.updateScroll(),this.containerService.scrollToTop()}updateScroll(){null!=this.myselfcol&&this.myselfcol.nativeElement.scrollTo({top:0,left:this.tabIndex*this.myselfcol.nativeElement.offsetWidth,behavior:"smooth"})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe()}}J.\u0275fac=function(i){return new(i||J)(e.Y36(x.s),e.Y36(b.J),e.Y36(B.x0),e.Y36(_.m),e.Y36(C.o),e.Y36(y.e),e.Y36(d.t),e.Y36(M.gz),e.Y36(M.F0))},J.\u0275cmp=e.Xpm({type:J,selectors:[["app-my-self"]],viewQuery:function(i,t){if(1&i&&e.Gf(Qt,5),2&i){let o;e.iGM(o=e.CRH())&&(t.myselfcol=o.first)}},inputs:{uid:"uid"},features:[e.qOj],decls:5,vars:5,consts:[["id","mySelf",1,"container-fluid","p-0","w-100","h-100"],[3,"portale","lingua","selectedLanguage","lingueAttive","cliente","uid","listaVisible","onMenuClick","onRecensioneAdd",4,"ngIf"],["class","myself-tab-group d-block d-lg-none position-absolute w-100",3,"selectedIndex","selectedTabChange",4,"ngIf"],["id","my-self-scrolling",1,"overflow-auto","w-100"],[4,"ngIf"],[3,"portale","lingua","selectedLanguage","lingueAttive","cliente","uid","listaVisible","onMenuClick","onRecensioneAdd"],[1,"myself-tab-group","d-block","d-lg-none","position-absolute","w-100",3,"selectedIndex","selectedTabChange"],[3,"label"],[3,"label",4,"ngIf"],[1,"my-self-outer-container","d-flex","flex-row","justify-content-center","mt-3","mt-lg-5","mb-5"],["class","text-center password-container pt-4 pb-4 pr-5 pl-5 d-table mt-4",4,"ngIf"],[3,"urlMappa","email","telefono","indirizzo","cap","citta","provincia","nome"],[1,"myself-col","mx-auto","mx-lg-0","text-nowrap"],["myselfcol",""],[1,"w-100","p-12","d-inline-block","align-top","text-wrap"],["class","border p-3 mat-elevation-z5 richieste-container",4,"ngIf"],["class","border p-3 mt-3 mat-elevation-z5 contenuti-container",4,"ngIf"],[1,"w-100","p-12","d-inline-block","d-lg-none","align-top","text-wrap"],[1,"messaggi-col","mx-auto"],[1,"mat-elevation-z5","messaggi-container","overflow-hidden"],[1,"background-color-blue-gradient","d-flex","justify-content-center","align-items-center","p-2"],[1,"material-icons-round"],[3,"_prenotazione","_cliente","messaggi","mittente","nomeAlbergo","nomePortale","maxHeight","booking","oidPortale"],["class","messaggi-col d-none d-lg-block",4,"ngIf"],[1,"border","p-3","mat-elevation-z5","myself-container"],[1,"text-center","color-blue","font-weight-bold","mb-2"],[3,"_text",4,"ngIf"],[1,"text-center","inQuestaPagina","mx-auto"],["class","mt-4 text-center",4,"ngIf"],["class","border rounded-lg text-center p-3 mt-3 background-white font-weight-bold",4,"ngIf"],[3,"_text"],[1,"mt-4","text-center"],["mat-flat-button","",1,"button-blue","d-block","mx-auto","mb-2",3,"click"],["class","button-blue","mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"border","rounded-lg","text-center","p-3","mt-3","background-white","font-weight-bold"],[3,"_prenotazione","isAttivaBookingExtraSelfCheckIn","isAttivaCancellazioneSelfCheckIn","isAttivaUpSellingSelfCheckIn","isVisualizzaTuttiDatiSelfCheckIn","isBloccaModificaDatiCheckIn","albergo","condizioniPrenotazione","templateStampaOid","lingua","orarioDiArrivoMinimo","orarioDiArrivoMassimo","isReadOnlyMode",4,"ngFor","ngForOf"],[3,"_prenotazione","isAttivaBookingExtraSelfCheckIn","isAttivaCancellazioneSelfCheckIn","isAttivaUpSellingSelfCheckIn","isVisualizzaTuttiDatiSelfCheckIn","isBloccaModificaDatiCheckIn","albergo","condizioniPrenotazione","templateStampaOid","lingua","orarioDiArrivoMinimo","orarioDiArrivoMassimo","isReadOnlyMode"],[1,"border","p-3","mat-elevation-z5","richieste-container"],["class","border rounded-lg text-center p-3 background-white font-weight-bold",4,"ngIf"],[1,"color-blue","font-weight-bold","text-center","mb-0"],[3,"_richiesta",4,"ngFor","ngForOf"],[3,"_richiesta"],[1,"border","rounded-lg","text-center","p-3","background-white","font-weight-bold"],[3,"voucher",4,"ngFor","ngForOf"],[3,"voucher"],[3,"recensione",4,"ngFor","ngForOf"],[3,"recensione"],[1,"border","p-3","mt-3","mat-elevation-z5","contenuti-container"],[4,"ngFor","ngForOf"],["class","border mat-elevation-z0 position-relative myself-contenuto-panel",3,"ngClass",4,"ngIf"],[1,"border","mat-elevation-z0","position-relative","myself-contenuto-panel",3,"ngClass"],[1,"color-blue","font-weight-bold"],[1,"messaggi-col","d-none","d-lg-block"],[1,"text-center","password-container","pt-4","pb-4","pr-5","pl-5","d-table","mt-4"],[1,"mb-3","color-blue"],[1,"password-input-myself","d-block","mx-auto"],["autocompleteOff","","type","password","matInput","","required","",3,"keyup.enter"],["passwordInput",""],["mat-flat-button","",1,"button-blue","mt-3","mx-auto","password-button","d-block",3,"click"],["mat-flat-button","",1,"button-blue","mt-1","mx-auto","password-button","d-block",3,"disabled","click"],[1,"color-blue","mb-5","text-center"],["autocompleteOff","","matInput","","required","","disabled","",3,"placeholder","value","keyup.enter"],["emailRecupero",""],["mat-flat-button","",1,"button-blue","password-button","mt-4","mx-auto","d-block",3,"click"],["mat-flat-button","",1,"button-blue","password-button","mt-1","mx-auto","d-block",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Ut,1,7,"app-my-self-header",1),e.YNc(2,Et,4,5,"mat-tab-group",2),e.TgZ(3,"div",3),e.YNc(4,xn,5,10,"ng-container",4),e.qZA()()),2&i&&(e.Udp("background-image",t.backgroundImage),e.xp6(1),e.Q6J("ngIf",t.initialized),e.xp6(1),e.Q6J("ngIf",t.initialized),e.xp6(2),e.Q6J("ngIf",t.initialized))},dependencies:[s.mk,s.sg,s.O5,K.X,h.eB,z.v_,H.k0,X.SK,X.R7,E.ib,E.yz,oe.G,N.W,ae.y,le.t,re.G,T,S,O,f.X$],styles:["#mySelf[_ngcontent-%COMP%]{background-color:#e6e6e6!important;font-family:Titillium Web,sans-serif!important;background-position:center;background-repeat:no-repeat;background-size:cover}#my-self-scrolling[_ngcontent-%COMP%]{position:absolute!important;top:130px!important;height:calc(100% - 130px)!important;scrollbar-width:thin!important}#my-self-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px!important;height:10px!important;background-color:transparent!important}#my-self-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0!important;box-shadow:none!important;background-color:#000000b3!important}#my-self-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0!important;background-color:#aaaaaa80!important;box-shadow:inset 0 0 3px #000000bf!important}@media (min-width: 992px){#my-self-scrolling[_ngcontent-%COMP%]{top:80px!important;height:calc(100% - 80px)!important}}.my-self-outer-container[_ngcontent-%COMP%]{max-width:100%;min-height:calc(100% - 500px - 6rem)!important}@media (min-width: 992px){.my-self-outer-container[_ngcontent-%COMP%]{min-height:calc(100% - 300px - 6rem)!important;padding-right:12px!important;padding-left:12px!important}}.myself-col[_ngcontent-%COMP%]{flex:1;width:100%;overflow:hidden}@media (min-width: 992px){.myself-col[_ngcontent-%COMP%]{overflow:visible;max-width:800px}}.messaggi-col[_ngcontent-%COMP%]{width:370px;max-width:370px;min-width:370px}@media (min-width: 992px){.messaggi-col[_ngcontent-%COMP%]{padding-left:15px}}.myself-container[_ngcontent-%COMP%]{background-color:#ffffffeb;border-radius:5px}.richieste-container[_ngcontent-%COMP%]{background-color:#ffffffeb;border-radius:7px}.contenuti-container[_ngcontent-%COMP%]{background-color:#ffffffeb;border-radius:5px}.messaggi-container[_ngcontent-%COMP%]{border-radius:5px}.inQuestaPagina[_ngcontent-%COMP%]{width:250px}  #mySelf .mat-form-field .mat-form-field-label{color:#0000008a!important}  #mySelf .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #mySelf .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:var(--main-color)!important}  #mySelf .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #mySelf .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #mySelf .mat-form-field.mat-focused .mat-form-field-ripple{background-color:var(--main-color)!important}  #mySelf .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:var(--main-color)!important}  #mySelf .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:var(--main-color)!important}  #mySelf .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:var(--main-color)!important}  #mySelf .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:var(--main-color)!important}  #mySelf .mat-input-element{caret-color:var(--main-color)!important}  #mySelf .mat-datepicker-toggle{color:var(--main-color)!important}  #mySelf .mat-checkbox-checked .mat-checkbox-background{background-color:var(--main-color)!important}.password-input-myself[_ngcontent-%COMP%]{width:200px}  .password-input-myself .mat-form-field-infix{border-top:0!important}  .password-input-myself .mat-form-field-flex{border:1px solid #dddddd!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important}  .password-input-myself .mat-form-field-underline{visibility:hidden!important}  .password-input-myself .mat-form-field-wrapper{padding-bottom:0!important}.password-button[_ngcontent-%COMP%]{width:200px}.password-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}  .myself-contenuto-panel .mat-expansion-panel-content{font:inherit!important}  .myself-contenuto-panel .mat-expansion-panel-header{font:inherit!important}.myself-tab-group[_ngcontent-%COMP%]{font:inherit!important;height:50px!important;top:80px!important;left:0!important;background-color:#ffffffb3!important}  .myself-tab-group .mat-tab-header{border-bottom:none!important;height:50px!important}  .myself-tab-group .mat-tab-label-active{color:var(--main-color)!important}  .myself-tab-group .mat-ink-bar{background-color:var(--main-color)!important}.p-12[_ngcontent-%COMP%]{padding:12px}@media (min-width: 992px){.p-12[_ngcontent-%COMP%]{padding:0!important}}"]})}}]);