{"version":3,"file":"213.3420e6c07e2b23ba.js","mappings":"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","names":["i0","_r10","i_r3","index","ctx_r8","onNumeroBambiniChange","camere","numeroBambini","ctx_r11","ctx_r4","numeroAdulti","bambiniMax","_r16","ctx_r14","onCameraRemove","BookingRoomSelectComponent_ng_container_8_div_17_ng_container_2_Template","BookingRoomSelectComponent_ng_container_8_div_17_ng_container_3_Template","ctx_r6","isEtaRiduzioniAttiva","age_r26","_r28","ctx_r27","onCamereChange","$event","iBambino_r20","$implicit","ctx_r29","pax","eta","BookingRoomSelectComponent_ng_container_8_ng_container_18_ng_container_1_ng_container_1_div_1_mat_option_3_Template","_c0","ctx_r24","utilityService","counterFromTo","etaMinimaBambini","etaMassimaBambini","BookingRoomSelectComponent_ng_container_8_ng_container_18_ng_container_1_ng_container_1_div_1_Template","riduzione_r37","reductionId","nome","_r39","ctx_r38","ctx_r40","oid","BookingRoomSelectComponent_ng_container_8_ng_container_18_ng_container_1_ng_container_2_div_1_mat_option_3_Template","ctx_r35","riduzioni","BookingRoomSelectComponent_ng_container_8_ng_container_18_ng_container_1_ng_container_2_div_1_Template","BookingRoomSelectComponent_ng_container_8_ng_container_18_ng_container_1_ng_container_1_Template","BookingRoomSelectComponent_ng_container_8_ng_container_18_ng_container_1_ng_container_2_Template","BookingRoomSelectComponent_ng_container_8_ng_container_18_ng_container_1_div_3_Template","ctx_r19","BookingRoomSelectComponent_ng_container_8_ng_container_18_ng_container_1_Template","ctx_r7","bambini","_r48","ctx_r47","onNumeroAdultiChange","ctx_r49","BookingRoomSelectComponent_ng_container_8_div_15_Template","BookingRoomSelectComponent_ng_container_8_div_16_Template","BookingRoomSelectComponent_ng_container_8_div_17_Template","BookingRoomSelectComponent_ng_container_8_ng_container_18_Template","ctx_r1","dayUse","adultiMax","isDisattivaRichiestaBambini","length","BookingRoomSelectComponent","_camerePrenotabili","value","this","camerePrenotabili","Math","min","constructor","paxChanged","EventEmitter","ngOnInit","valid","camereUrl","slice","camera","adulti","room","BookingSolutionRoomRQ","n","bambino","quantita","i","b","BookingSolutionPaxRQ","max","push","onCameraAdd","cameraIndex","add","numero","bambiniCol","pop","adultiDefault","splice","emit","t","i1","core","Xpm","selectors","inputs","outputs","decls","vars","consts","template","rf","ctx","BookingRoomSelectComponent_div_7_Template","BookingRoomSelectComponent_ng_container_8_Template","_c1","_r32","_r21","open","_r34","ctx_r33","minusFromMobile","ctx_r36","addFromMobile","ctx_r20","minusFromButtonDisabled","rq","arrivo","getLocale","addFromButtonDisabled","_r38","_r24","_r40","ctx_r39","minusToMobile","ctx_r42","addToMobile","ctx_r23","minusToButtonDisabled","partenza","_r44","ctx_r43","minusFrom","ctx_r45","addFrom","ctx_r26","_r47","ctx_r46","minusTo","ctx_r48","addTo","ctx_r28","addToButtonDisabled","_r50","ctx_r51","ctx_r30","nights","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_3_Template","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_4_Template","_r53","ctx_r52","onArrivoChange","ctx_r54","arrivoDate","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_9_Template","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_10_Template","ctx_r55","onPartenzaChange","ctx_r56","partenzaDate","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_16_Template","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_17_Template","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_19_Template","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_20_Template","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_22_Template","BookingCalendarComponent_ng_container_6_ng_container_4_ng_container_23_Template","_c3","ctx_r17","isVisualizzaCalendarioMobile","today","_c4","_r63","_r59","_r65","ctx_r64","ctx_r67","ctx_r58","_r69","ctx_r68","ctx_r70","ctx_r61","BookingCalendarComponent_ng_container_6_ng_container_5_ng_container_3_Template","BookingCalendarComponent_ng_container_6_ng_container_5_ng_container_4_Template","_r72","ctx_r71","ctx_r73","BookingCalendarComponent_ng_container_6_ng_container_5_ng_container_10_Template","BookingCalendarComponent_ng_container_6_ng_container_5_ng_container_11_Template","ctx_r18","BookingCalendarComponent_ng_container_6_ng_container_2_Template","BookingCalendarComponent_ng_container_6_ng_container_3_Template","BookingCalendarComponent_ng_container_6_ng_container_4_Template","BookingCalendarComponent_ng_container_6_ng_container_5_Template","ctx_r0","month_r74","_r76","ctx_r75","_r1","stopPropagation","date","utility","toDate","closeMenu","ctx_r3","ctx_r79","ctx_r83","getValuta","valuta","getPriceIntegerPart","prezzoMinimo","getPriceDecimalPart","BookingCalendarComponent_ng_container_29_div_1_span_1_Template","BookingCalendarComponent_ng_container_29_div_1_span_2_Template","BookingCalendarComponent_ng_container_29_div_1_span_6_Template","BookingCalendarComponent_ng_container_29_div_1_span_7_Template","BookingCalendarComponent_ng_container_29_div_1_span_8_Template","_c5","ctx_r77","prezzoCalculated","ctx_r78","BookingCalendarComponent_ng_container_29_div_1_Template","BookingCalendarComponent_ng_container_29_div_2_Template","containerService","dimension","height","disponibilita_r85","notti","i_r86","notti_r91","_r94","ctx_r95","nightsChange","BookingCalendarComponent_div_30_div_22_mat_form_field_4_mat_option_2_Template","ctx_r88","BookingCalendarComponent_div_30_div_22_ng_container_3_Template","BookingCalendarComponent_div_30_div_22_mat_form_field_4_Template","_r98","ctx_r97","nightsSelected","_c6","isPrenotabile","ctx_r84","disponibilitaNotti","_r100","ctx_r99","nightsSelectionBack","BookingCalendarComponent_div_30_div_22_Template","ctx_r5","startDate","_r105","ctx_r104","codicePromozione","ctx_r106","getPrezzoMinimo","showSearchButton","ctx_r101","_r108","ctx_r107","openCodicePromozioneSelect","motivoViaggio_r110","_r112","ctx_r111","oidMotivoViaggio","ctx_r113","BookingCalendarComponent_div_31_div_4_mat_option_8_Template","ctx_r103","motiviViaggio","BookingCalendarComponent_div_31_div_2_Template","BookingCalendarComponent_div_31_button_3_Template","BookingCalendarComponent_div_31_div_4_Template","_c7","isBooking","numeroCodiciPromozionali","_r115","ctx_r114","controllaDisponibilita","blinkStatus","_r119","ctx_r118","preventDefault","sendRequest","_r121","ctx_r120","openUrlInNewTab","mappa","ctx_r123","callNumber","cellulare","ctx_r124","sendEmail","email","BookingCalendarComponent_div_34_a_22_Template","emailTooltipVisible","isRichiediDisponibilitaStep1Visualizzata","ctx_r127","minPrices","get","getDate","day_r125","BookingCalendarComponent_ng_template_35_span_7_span_1_Template","ctx_r126","_r131","day","ctx_r130","dayHover","BookingCalendarComponent_ng_template_35_span_7_Template","ctx_r10","tooltips","isVisualizzaDisponibilitaCalendario","cssClass","includes","_r13","dateClicked","_c8","isVisualizzaPrezzoCalendario","_c9","_c10","day_r134","isWeekend","ctx_r133","BookingCalendarComponent_ng_template_37_div_1_Template","days_r132","ctx_r139","BookingCalendarComponent_ng_template_39_ng_container_1_span_5_Template","BookingCalendarComponent_ng_template_39_ng_container_1_span_6_Template","BookingCalendarComponent_ng_template_39_ng_container_1_ng_container_7_Template","ctx_r135","ctx_r136","translationService","getTranslationFromErrori","errors","BookingCalendarComponent_ng_template_39_ng_container_1_Template","BookingCalendarComponent_ng_template_39_div_2_Template","BookingCalendarComponent","BaseComponent","previousCodicePromozione","apiService","sessionService","super","hideButton","daysSelected","selectableMonths","disponibilita","previousDisabled","refresh","Subject","Map","numeroMinimoGiorniSelectedDaysPast","numeroMassimoGiorniSelectedDaysPast","notAvailablePast","numeroMinimoGiorniSelectedDays","numeroMassimoGiorniSelectedDays","notAvailable","mobileBreakpoint","urlSearchParametersReceived","searchButtonVisible","setIsLoading","initialDate","moment","BookingSolutionRQ","set","d","clickSubject","sub1","subscribe","showNightsSelect","onSelectionError","notAvailableDate","showSearchButtonSubject","sub2","sub","windowResizeEvent","datePickerArrivo","close","datePickerPartenza","previousWindowSize","width","next","checkDisabledButtonsMobile","codicePromozioneUrl","arrivoUrl","partenzaUrl","diff","ngAfterViewInit","setTimeout","emailLabel","nativeElement","offsetWidth","scrollWidth","onRender","days","getFullYear","getMonth","controlDays","getDisponibilita","disablePastDays","refreshSelection","checkDisabledButtons","controllingDisponibility","window","dispatchEvent","Event","month","year","dayClicked","replace","startOf","resetSelection","setCssClass","daysControlReset","isProponiNottiCalendario","getDisponibilitaNottiRQ","GetDisponibilitaNottiRQ","oidPortale","getDisponibilitaNotti","getDisponibilitaNottiRS","data","daysControlResetCurrent","endDate","error","Errore","idTraduzione","from","to","subtract","daysSelectedCount","findIndex","x","isControllaDurateSoggiornoSulGiornoDiArrivo","disp","find","durataMinimaSoggiorno","durataMassimaSoggiorno","errori","TranslateParameter","toString","GetDisponibilitaRQ","dal","al","res","clear","getTranslationSync","ret","durataMassimaString","prezzoMin","cssClassToAdd","onPaxChanged","showError","checkDisabledAddFrom","newDate","checkDisabledMinusFrom","checkDisabledAddTo","checkDisabledMinusTo","controlLimitations","prezzoMinimoRequest","unsubscribe","GetPrezzoMinimoRQ","isDayUse","checkDisabledAddFromMobile","checkDisabledMinusFromMobile","checkDisabledMinusToMobile","calcolaNotti","searchButtonVisibleOld","dialogOptions","DialogOptions","minHeight","maxHeight","panelClass","ref","showModalDialog","RichiesteAddComponent","component","componentInstance","dialogRef","oidAlbergo","language","lingua","booking","sessione","clienteMySelf","cliente","Cliente","cognome","GetCodiciPromozioneValidiRQ","getOidAlbergo","oidTipoCameraOTA","oidTariffaOTA","getCodiciPromozioneValidi","rs","ViewSelectDialogComponent","title","displayMember","afterClosed","codice","ngOnDestroy","complete","i2","i3","i4","i5","viewQuery","BookingCalendarComponent_ng_container_6_Template","BookingCalendarComponent_button_22_Template","body","BookingCalendarComponent_ng_container_29_Template","BookingCalendarComponent_div_30_Template","BookingCalendarComponent_div_31_Template","BookingCalendarComponent_button_33_Template","BookingCalendarComponent_div_34_Template","BookingCalendarComponent_ng_template_35_Template","BookingCalendarComponent_ng_template_37_Template","BookingCalendarComponent_ng_template_39_Template","_c11","_c12","_r2","_r9","_r11","isVisualizzaPrezzoMinimo","trigger","state","style","backgroundColor","transition","animate","BookingSharedModule","_angular_core__WEBPACK_IMPORTED_MODULE_2__","oAB","cJS","CommonModule","SharedModule","InterfacesModule","CalendarModule","TooltipModule","item_r2","key","_cliente","ClienteSelectComponent_mat_tab_67_div_2_Template","tabIndex","ClienteSelectComponent","selectedCliente","nazione","WebApiRequestFilter","fromFilter","CriteriaOperator","Equal","FilterValueType","String","getNazioniFilter","nazioneObject","resetSubject","getParametriRicercaMercatoRQ","fromFilters","Filter","TipoParametroRicerca","Mercato","Number","IsTrue","Sorting","getParametriRicercaCanaleVenditaRQ","CanaleVendita","enumTipoAnagrafica","TipoAnagrafica","linguaDefault","lettereMaiuscoleAnagrafica","getLettereMaiuscoleAnagrafica","save","validateEmail","setCliente","obj","getClientiFilter","clientiRS","then","disableClose","displayMembers","showFilter","albergo","Albergo","cancel","reset","onOptionSelected","onUpdateOptions","dataLoader","AutocompleteDataLoader","onNomeChange","onNomeCognomeChange","onCognomeChange","LettereMaiuscole","Iniziale","toUpperCase","substring","toLowerCase","TuttoMaiuscolo","_angular_core__WEBPACK_IMPORTED_MODULE_12__","features","tipoAnagrafica","ClienteSelectComponent_mat_option_21_Template","mercato","canaleVendita","tipologia","sconto","clamp","note","privacy","newsletter","ClienteSelectComponent_mat_tab_67_Template","_c2","getLingueViewSelect","getNazioniViewSelect","getParametriRicercaViewSelect","getTipiClienteViewSelect","coloreBanner","banner","portale_r16","_r18","onPortaleChange","FormV1Component_ng_container_1_mat_form_field_6_mat_option_3_Template","ctx_r2","portaliList","_r23","ctx_r22","model","_r20","minDate","portale","dataFineGestione","_r31","ctx_r32","onDataChange","_r29","tipoCamera_r45","camera_r34","onTipoCameraChange","FormV1Component_ng_container_1_ng_container_15_mat_form_field_11_mat_option_3_Template","FormV1Component_ng_container_1_ng_container_15_mat_form_field_11_mat_option_4_Template","tipoCameraOTA","compareWithOid","tipoCameraRequired","nomeTipoCamera","tipiCameraOTAPortale","tariffa_r52","descrizione","FormV1Component_ng_container_1_ng_container_15_mat_form_field_13_ng_container_4_mat_option_1_Template","oidTariffe","_r58","tariffaOTA","FormV1Component_ng_container_1_ng_container_15_mat_form_field_13_mat_option_3_Template","FormV1Component_ng_container_1_ng_container_15_mat_form_field_13_ng_container_4_Template","ctx_r37","tariffaRequired","tariffeOTAPortale","_r62","i_r35","ctx_r60","ctx_r63","ctx_r66","_r71","ctx_r69","age_r77","FormV1Component_ng_container_1_ng_container_15_ng_container_36_ng_container_5_div_1_Template","iBambino_r74","_r80","anni","FormV1Component_ng_container_1_ng_container_15_ng_container_36_ng_container_5_mat_option_5_Template","ctx_r72","FormV1Component_ng_container_1_ng_container_15_ng_container_36_ng_container_5_Template","counter","FormV1Component_ng_container_1_ng_container_15_mat_form_field_11_Template","FormV1Component_ng_container_1_ng_container_15_mat_form_field_13_Template","FormV1Component_ng_container_1_ng_container_15_button_15_Template","FormV1Component_ng_container_1_ng_container_15_div_22_Template","restoredCtx","_r84","ctx_r85","FormV1Component_ng_container_1_ng_container_15_ng_container_33_Template","FormV1Component_ng_container_1_ng_container_15_button_35_Template","FormV1Component_ng_container_1_ng_container_15_ng_container_36_Template","isVisualizzaTipoCamera","isVisualizzaTrattamento","item_r93","parametro_r94","parametro_r95","lingua_r96","tipoRichiesta","FormV1Component_ng_container_1_div_23_mat_option_6_Template","FormV1Component_ng_container_1_div_23_mat_option_7_Template","FormV1Component_ng_container_1_div_23_mat_option_13_Template","FormV1Component_ng_container_1_div_23_mat_option_14_Template","ctx_r100","FormV1Component_ng_container_1_div_23_mat_option_19_Template","FormV1Component_ng_container_1_div_23_mat_option_20_Template","ctx_r102","FormV1Component_ng_container_1_div_23_mat_option_30_Template","tipoRichiestaRequired","enumTipoRichiesta","mercatoRequired","parametriRicercaMercato","canaleVenditaRequired","parametriRicercaCanaleVendita","nazioneRequired","lingue","_r104","openClienteSelect","motivoViaggio_r107","_r109","ctx_r108","motivoViaggio","FormV1Component_ng_container_1_div_50_mat_option_4_Template","FormV1Component_ng_container_1_div_50_mat_option_5_Template","motivoViaggioRequired","_r111","ctx_r110","openPrivacyDialog","_r113","ctx_r112","openNewsletterDialog","FormV1Component_ng_container_1_div_4_Template","FormV1Component_ng_container_1_mat_form_field_6_Template","FormV1Component_ng_container_1_div_7_Template","FormV1Component_ng_container_1_mat_form_field_8_Template","FormV1Component_ng_container_1_div_14_Template","FormV1Component_ng_container_1_ng_container_15_Template","ctx_r116","FormV1Component_ng_container_1_div_23_Template","ctx_r117","capitalize","FormV1Component_ng_container_1_button_30_Template","ctx_r119","ctx_r121","ctx_r122","FormV1Component_ng_container_1_mat_hint_44_Template","FormV1Component_ng_container_1_div_50_Template","FormV1Component_ng_container_1_a_54_Template","FormV1Component_ng_container_1_span_55_Template","ctx_r125","FormV1Component_ng_container_1_a_58_Template","FormV1Component_ng_container_1_span_59_Template","oidPortaleReceived","nomeRequired","Telefono","WhatsApp","cellulareRequired","noteRequired","newsLetterPortale","html","url","createPreventivo","FormV1Component","route","router","localizationService","cssLoaderService","modal","onLoaded","onRichiestaSaved","onPortaleSelected","Richiesta","tipiCamera","tariffe","portali","initialized","enumCampoObbligatorioFormRichiesta","CampoObbligatorioFormRichiesta","TipoRichiestaPreventivo","setScrollingContainer","ParametroRicerca","Lingua","Nazione","urlRichiesta","location","href","urlReferrer","document","referrer","dataVisualizzazione","queryParamMap","isNaN","checkPortale","success","load","Pagina","oidUbicazioneIstat","init","navigate","checkAlbergo","setTranslation","setLingua","linguaObj","codiceLingua","GetFormV1ViewRQ","getViewFormV1","traduzioni","json","JSON","parse","e","getCurrentLocale","filter","isVisualizzaRichiesteCrm","RichiestaCamerePax","tipo","TipoComponentePrenotazione","Bambino","RichiestaCamere","Adulto","every","portaleXAlbergo","PortaleXAlbergo","richiestaModel","stringify","richiestaJSON","richiesta","richiestaCamere","CreaRichiestaRQ","isInviaEmail","creaRichiesta","oidRichiesta","gtmService","pushTag","event","hotelId","hotelName","portalId","portalNome","rooms","roomNights","checkInDate","checkOutDate","showInfo","reload","tipoCamera","GetFormV1ViewRSTipoCamera","unshift","camerePrenotabiliCrm","adultiDefaultInPrenotazione","numeroMassimoAdulti","numeroMassimoRiduzioni","dataInizioGestione","isAfter","campiObbligatori","campiObbligatoriPreventivo","campi","split","campo","indexOf","Cellulare","TipoRichiesta","MotivoViaggio","Nome","isDisattivaRichiestaBambiniFormRichiesta","bannerFormRichiesta","coloreBannerFormRichiesta","isVisualizzaTipoCameraFormRichiesta","isVisualizzaTrattamentoFormRichiesta","campiObbligatoriFormRichiesta","Note","TipoCamera","Tariffa","googleGTM","GoogleTagManagerService","pageName","tipoRichiestaDefault","c","Object","assign","GetPrivacyPortaleRQ","getPrivacyPortale","openPrivacyNewsletterDialog","privacyNewsletterPortale","PrivacyNewsletterDialogComponent","text","i6","_angular_core__WEBPACK_IMPORTED_MODULE_15__","FormV1Component_ng_container_1_Template","_angular_core__WEBPACK_IMPORTED_MODULE_1__","image","urlImmagine","base64String","_r7","delete","ImagesListEditComponent","fileSelected","fileSelect","file","files","type","startsWith","reader","FileReader","readAsDataURL","onload","base64","result","detect","Uint8Array","atob","charCodeAt","err","mime","showDialogConfirm","si","isDeleted","no","_angular_core__WEBPACK_IMPORTED_MODULE_3__","ImagesListEditComponent_img_4_Template","ImagesListEditComponent_img_5_Template","ImagesListEditComponent_div_6_Template","_r3","ImagesListEditComponent_div_10_Template","ordinamento","isAttiva","ImagesListEditComponent_button_23_Template","hasOwnProperty","getEnumKeyTranslation","enumTipoStoricoCliente","row_r20","row_r21","row_r22","row_r23","row_r24","row_r25","stato","row_r26","totale","row_r27","onOpen","StoricoClienteComponent_ng_container_0_mat_cell_37_button_1_Template","_r33","onEdit","ctx_r16","row_r34","_r36","copyToClipboard","isLocalhost","richieste","onFilterChange","preventivi","ctx_r41","prenotazioni","StoricoClienteComponent_ng_container_0_mat_header_cell_15_Template","StoricoClienteComponent_ng_container_0_mat_cell_16_Template","StoricoClienteComponent_ng_container_0_mat_header_cell_18_Template","StoricoClienteComponent_ng_container_0_mat_cell_19_Template","StoricoClienteComponent_ng_container_0_mat_header_cell_21_Template","StoricoClienteComponent_ng_container_0_mat_cell_22_Template","StoricoClienteComponent_ng_container_0_mat_header_cell_24_Template","StoricoClienteComponent_ng_container_0_mat_cell_25_Template","StoricoClienteComponent_ng_container_0_mat_header_cell_27_Template","StoricoClienteComponent_ng_container_0_mat_cell_28_Template","StoricoClienteComponent_ng_container_0_mat_header_cell_30_Template","StoricoClienteComponent_ng_container_0_mat_cell_31_Template","StoricoClienteComponent_ng_container_0_mat_header_cell_33_Template","StoricoClienteComponent_ng_container_0_mat_cell_34_Template","StoricoClienteComponent_ng_container_0_mat_header_cell_36_Template","StoricoClienteComponent_ng_container_0_mat_cell_37_Template","StoricoClienteComponent_ng_container_0_mat_header_row_38_Template","StoricoClienteComponent_ng_container_0_mat_row_39_Template","StoricoClienteComponent_ng_container_0_div_42_Template","dataSource","filteredData","displayedColumns","small","pageSizeOptions","pageSize","StoricoClienteComponent","TipoStoricoCliente","oidCliente","getStoricoCliente","MatTableDataSource","filterPredicate","f","paginator","storico","Preventivo","Prenotazione","uid","_angular_core__WEBPACK_IMPORTED_MODULE_5__","MatPaginator","StoricoClienteComponent_ng_container_0_Template","InvertColorDirective","coloreInvertito","invertColor","ngOnChanges","bw","colore","color","Color","r","red","g","green","blue","txtColor","textColor","luminosity","hex","lG2","hostVars","hostBindings","RectangleDirective","onResize","updateDivSize","el","appRectangleActive","heightMultiplier","floor","setLineHeight","lineHeight","_angular_core__WEBPACK_IMPORTED_MODULE_0__","GoogleTagManagerConfigService","InjectionToken","GoogleTagManagerConfiguration","googleTagManagerConfig","_googleTagManagerConfig","id","gtm_auth","gtm_preview","fac","prov","token","factory","providedIn","googleTagManagerConfiguration","googleTagManagerId","googleTagManagerMode","googleTagManagerAuth","googleTagManagerPreview","googleTagManagerResourcePath","googleTagManagerCSPNonce","_this$googleTagManage","isLoaded","browserGlobals","windowRef","documentRef","config","_objectSpread","gtm_resource_path","checkForId","Error","getDataLayer","dataLayer","pushOnDataLayer","addGtmToDom","Promise","resolve","reject","doc","Date","getTime","gtmScript","createElement","async","src","applyGtmQueryParams","addEventListener","setAttribute","head","insertBefore","firstChild","item","catch","keys","k","map","join","GoogleTagManagerModule","static","ngModule","providers","provide","useValue","mod","inj","TooltipComponent_div_0_Template","TooltipComponent_div_1_ng_container_1_Template","TooltipComponent_div_1_Template","TooltipComponent_ng_template_2_Template","defaultOptions","placement","autoPlacement","contentType","showDelay","hideDelay","hideDelayMobile","hideDelayTouchscreen","zIndex","animationDuration","animationDurationDefault","tooltipClass","display","displayMobile","displayTouchscreen","shadow","theme","offset","maxWidth","hideDelayAfterClick","backwardCompatibilityOptions","delay","TooltipOptionsService","TooltipComponent","elementRef","renderer","_show","events","transitionEnd","show","onMouseEnter","hostStylePointerEvents","onMouseLeave","setPosition","hostClassShow","options","element","elementPosition","tooltipOffset","isThemeLight","setCustomClass","setStyles","setHostStyle","setPlacementClass","placements","isPlacementSet","addClass","disableAutoPlacement","isSvg","SVGElement","tooltip","isCustomPosition","right","elementHeight","getBoundingClientRect","offsetHeight","elementWidth","tooltipHeight","clientHeight","tooltipWidth","clientWidth","scrollY","pageYOffset","topStyle","leftStyle","top","left","topEdge","bottomEdge","leftEdge","rightEdge","bodyHeight","innerHeight","bodyWidth","hostStyleTop","hostStyleLeft","setZIndex","hostStyleZIndex","setPointerEvents","pointerEvents","forEach","className","setAnimationDuration","hostStyleTransition","hostClassShadow","hostClassLight","hostStyleMaxWidth","hostStyleWidth","cmp","hostAttrs","dependencies","styles","TooltipDirective","initOptions","componentFactoryResolver","appRef","injector","_options","_contentType","contentTypeBackwardCompatibility","zIndexBackwardCompatibility","_zIndex","animationDurationBackwardCompatibility","_animationDuration","tooltipClassBackwardCompatibility","_tooltipClass","maxWidthBackwardCompatibility","_maxWidth","showDelayBackwardCompatibility","_showDelay","hideDelayBackwardCompatibility","_hideDelay","isTooltipDestroyed","componentRef","hostView","destroyed","destroyDelay","_destroyDelay","getHideDelay","tooltipPosition","position","isDisplayOnHover","destroyTooltip","onClick","isDisplayOnClick","hideAfterClickTimeoutId","changes","renameProperties","changedOptions","getProperties","applyOptionsDefault","fast","componentSubscribe","getShowDelay","isTouchScreen","directiveProperties","customProperties","allProperties","prop","currentValue","getElementPosition","createTooltip","clearTimeouts","createTimeoutId","appendComponentToBody","showTimeoutId","showTooltipElem","hideTimeoutId","hideTooltip","destroyTimeoutId","detachView","destroy","instance","resolveComponentFactory","create","tooltipValue","attachView","domElem","rootNodes","appendChild","handleEvents","clearTimeout","prefixes","query","matchMedia","matches","hide","dir","exportAs","imports"],"sourceRoot":"webpack:///","sources":["./src/app/booking-shared/booking-room-select/booking-room-select.component.html","./src/app/booking-shared/booking-room-select/booking-room-select.component.ts","./src/app/booking-shared/booking-calendar/booking-calendar.component.html","./src/app/booking-shared/booking-calendar/booking-calendar.component.ts","./src/app/booking-shared/booking-shared.module.ts","./src/app/interfaces/cliente-select/cliente-select.component.html","./src/app/interfaces/cliente-select/cliente-select.component.ts","./src/app/interfaces/form-v1/form-v1.component.html","./src/app/interfaces/form-v1/form-v1.component.ts","./src/app/interfaces/form-v1/privacy-newsletter-dialog/privacy-newsletter-dialog.component.ts","./src/app/interfaces/form-v1/privacy-newsletter-dialog/privacy-newsletter-dialog.component.html","./src/app/interfaces/images-list-edit/images-list-edit.component.html","./src/app/interfaces/images-list-edit/images-list-edit.component.ts","./src/app/interfaces/richieste-add/richieste-add.component.ts","./src/app/interfaces/richieste-add/richieste-add.component.html","./src/app/interfaces/storico-cliente/storico-cliente.component.html","./src/app/interfaces/storico-cliente/storico-cliente.component.ts","./src/app/shared/directives/invert-color.directive.ts","./src/app/shared/directives/rectangle.directive.ts","./node_modules/angular-google-tag-manager/fesm2022/angular-google-tag-manager.mjs","./node_modules/ng2-tooltip-directive-major-angular-updates/fesm2020/ng2-tooltip-directive-major-angular-updates.mjs"],"sourcesContent":["<div class=\"container-fluid p-0 room-select-container\">\r\n    <div class=\"row mb-1\">\r\n        <div class=\"col-3\"></div>\r\n\r\n        <div class=\"col-4 text-center div-adulti\">\r\n            <span class=\"font-weight-bold color-blue adultiBambini\">{{'booking.adulti' | translate}}</span>\r\n        </div>\r\n\r\n        <div class=\"col-4 text-center div-bambini\" *ngIf=\"!isDisattivaRichiestaBambini\">\r\n            <span class=\"font-weight-bold color-blue adultiBambini\">{{'booking.bambini' | translate}}</span>\r\n        </div>\r\n    </div>\r\n\r\n    <ng-container *ngFor=\"let camera of camere; let i = index\">\r\n        <div class=\"row\">\r\n            <div class=\"col-3 pr-0 pt-1 pb-1\">\r\n                <div class=\"font-weight-bold camera\">{{(((dayUse ? 'booking-day-use' : 'booking') + '.camera') | translate) + ' ' + (i + 1)}}\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-4 text-center pt-1 pb-1 control-adulti\">\r\n                <button mat-icon-button class=\"add-minus-button\" [disabled]=\"camere[i].numeroAdulti <= 1\" (click)=\"onNumeroAdultiChange(i, camere[i].numeroAdulti - 1)\">\r\n                    <i class=\"material-icons-round add-minus-icon\">remove_circle_outline</i>\r\n                </button>\r\n\r\n                <span class=\"align-middle mr-1 ml-1\">{{camere[i].numeroAdulti}}</span>\r\n\r\n                <button mat-icon-button class=\"add-minus-button\" [disabled]=\"camere[i].numeroAdulti + camere[i].numeroBambini >= 12 || (adultiMax > 0 && camere[i].numeroAdulti >= adultiMax)\" (click)=\"onNumeroAdultiChange(i, camere[i].numeroAdulti + 1)\">\r\n                    <i class=\"material-icons-round add-minus-icon\">add_circle_outline</i>\r\n                </button>\r\n            </div>\r\n\r\n            <div class=\"col-4 text-center pt-1 pb-1 control-bambini\" *ngIf=\"!isDisattivaRichiestaBambini\">\r\n                <button mat-icon-button class=\"add-minus-button\" [disabled]=\"camere[i].numeroBambini <= 0\" (click)=\"onNumeroBambiniChange(i, false, camere[i].numeroBambini - 1)\">\r\n                    <i class=\"material-icons-round add-minus-icon\">remove_circle_outline</i>\r\n                </button>\r\n\r\n                <span class=\"align-middle mr-1 ml-1\">{{camere[i].numeroBambini}}</span>\r\n\r\n                <button mat-icon-button class=\"add-minus-button\" [disabled]=\"camere[i].numeroAdulti + camere[i].numeroBambini >= 12 || (bambiniMax > 0 && camere[i].numeroBambini >= bambiniMax)\" (click)=\"onNumeroBambiniChange(i, true, camere[i].numeroBambini + 1)\">\r\n                    <i class=\"material-icons-round add-minus-icon\">add_circle_outline</i>\r\n                </button>\r\n            </div>\r\n\r\n            <div class=\"col-1 p-0 ml-n3 pt-1 pb-1\" *ngIf=\"camere.length > 1\">\r\n                <button mat-icon-button class=\"delete-button\" (click)=\"onCameraRemove(i)\">\r\n                    <i class=\"material-icons-round\">clear</i>\r\n                </button>\r\n            </div>\r\n\r\n            <div class=\"col-3 pr-0 pt-1 pb-1\" *ngIf=\"camere[i].numeroBambini > 0\">\r\n                <div class=\"etaBambini mt-1\">\r\n                    <ng-container *ngIf=\"isEtaRiduzioniAttiva\">\r\n                        {{'booking.etaBambini' | translate}}\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngIf=\"!isEtaRiduzioniAttiva\">\r\n                        {{'booking.bambini' | translate}}\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n\r\n            <ng-container *ngIf=\"camere[i].numeroBambini > 0\">\r\n                <ng-container *ngFor=\"let iBambino of bambini[i]\">\r\n                    <ng-container *ngIf=\"isEtaRiduzioniAttiva\">\r\n                        <div class=\"col-3 text-center p-0 pt-1 pb-1\" *ngIf=\"iBambino > 0\" [ngClass]=\"{'pl-3': (iBambino - 1) % 3 == 0, 'pr-3': iBambino % 3 == 0}\">\r\n                            <mat-form-field class=\"child-age-select\">\r\n                                <mat-select [panelClass]=\"'booking-select'\" (selectionChange)=\"onCamereChange()\" [(ngModel)]=\"camere[i].pax[iBambino].eta\">\r\n                                    <mat-option *ngFor=\"let age of utilityService.counterFromTo(etaMinimaBambini, etaMassimaBambini)\" [value]=\"age\">\r\n                                        {{age}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngIf=\"!isEtaRiduzioniAttiva\">\r\n                        <div class=\"col-9 pt-1 pb-1 pl-3 pr-3\" *ngIf=\"iBambino > 0\">\r\n                            <mat-form-field class=\"room-select-riduzione-select\">\r\n                                <mat-select [panelClass]=\"'booking-select'\" (selectionChange)=\"onCamereChange()\" [(ngModel)]=\"camere[i].pax[iBambino].oid\">\r\n                                    <mat-option *ngFor=\"let riduzione of riduzioni\" [value]=\"riduzione.reductionId\">\r\n                                        {{riduzione.nome}}\r\n                                    </mat-option>\r\n                                </mat-select>\r\n                            </mat-form-field>\r\n                        </div>\r\n                    </ng-container>\r\n\r\n                    <div class=\"col-3 pt-1 pb-1\" *ngIf=\"iBambino <= 0\"></div>\r\n                </ng-container>\r\n            </ng-container>\r\n        </div>\r\n    </ng-container>\r\n\r\n    <div class=\"mt-2 pb-2 div-aggiungiCamera\">\r\n        <button mat-icon-button class=\"add-minus-button add-room-button align-middle\" (click)=\"onCameraAdd()\" [disabled]=\"camere.length >= camerePrenotabili\">\r\n            <i class=\"material-icons-round add-minus-icon\">add_circle_outline</i>\r\n        </button>\r\n\r\n        <span class=\"color-blue align-middle aggiungiCamera\" (click)=\"onCameraAdd()\" [ngClass]=\"{'add-room-disabled': camere.length >= camerePrenotabili}\">\r\n            {{ 'booking.aggiungiCamera' | translate}}\r\n        </span>\r\n    </div>\r\n</div>","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport {\r\n  BookingReductionConfigRS,\r\n  BookingSolutionPaxRQ,\r\n  BookingSolutionRoomRQ,\r\n  CameraBookingUrlParameter,\r\n} from 'src/app/shared/models/dto';\r\nimport { UtilityService } from 'src/app/shared/services/utility.service';\r\n\r\n@Component({\r\n  selector: 'app-booking-room-select',\r\n  templateUrl: './booking-room-select.component.html',\r\n  styleUrls: ['./booking-room-select.component.scss']\r\n})\r\nexport class BookingRoomSelectComponent implements OnInit {\r\n\r\n  @Input() adultiDefault: number;\r\n  @Input() adultiMax: number;\r\n  @Input() bambiniMax: number;\r\n  @Input() etaMinimaBambini: number;\r\n  @Input() etaMassimaBambini: number;\r\n  @Input() camereUrl: CameraBookingUrlParameter[];\r\n  @Input() isEtaRiduzioniAttiva: boolean;\r\n  @Input() riduzioni: BookingReductionConfigRS[];\r\n  @Input() isDisattivaRichiestaBambini: boolean;\r\n  @Input() dayUse: boolean;\r\n\r\n  @Input() set _camerePrenotabili(value: number) {\r\n    if (value != null) {\r\n      this.camerePrenotabili = value <= 0 ? 10 : Math.min(value, 10);\r\n    }\r\n  };\r\n\r\n  @Output() paxChanged: EventEmitter<BookingSolutionRoomRQ[]> = new EventEmitter();\r\n\r\n  public camere: BookingSolutionRoomRQ[] = [];\r\n  public bambini: number[][] = [];\r\n  public camerePrenotabili: number = 10;\r\n\r\n  constructor(public utilityService: UtilityService) { }\r\n\r\n  ngOnInit() {\r\n    let valid: boolean = false;\r\n\r\n    if (this.camereUrl != null && this.camereUrl.length > 0) {\r\n      this.camereUrl = this.camereUrl.slice(0, this.camerePrenotabili);\r\n      \r\n      for (let camera of this.camereUrl) {\r\n        if (camera.adulti > 0) {\r\n          camera.adulti = Math.min(camera.adulti, this.adultiMax > 0 ? Math.min(this.adultiMax, 12) : 12);\r\n\r\n          valid = true;\r\n\r\n          let room = new BookingSolutionRoomRQ(camera.adulti);\r\n\r\n          if (camera.bambini != null && camera.bambini.length > 0) {\r\n            let n = 0;\r\n\r\n            for (let bambino of camera.bambini) {\r\n              if (bambino.quantita > 0 && bambino.eta >= 0) {\r\n                for (let i = 0; i < bambino.quantita; i++) {\r\n                  if ((this.bambiniMax > 0 && n + 1 > this.bambiniMax) || n + 1 + camera.adulti > 12) {\r\n                    break;\r\n                  } else {\r\n                    let b = new BookingSolutionPaxRQ();\r\n                    b.quantita = 1;            \r\n                    b.eta = Math.max(bambino.eta, this.etaMinimaBambini);\r\n                    b.eta = Math.min(bambino.eta, this.etaMassimaBambini);\r\n                    room.pax.push(b);\r\n                    n++;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            let bambini: number[] = [];\r\n\r\n            for (let i = 1, index = 1; index <= n; i++) {\r\n              if (i % 4 > 0) {\r\n                bambini.push(index);\r\n                index++;\r\n              } else {\r\n                bambini.push(-1);\r\n              }\r\n            }\r\n\r\n            this.bambini.push(bambini);\r\n          }\r\n\r\n          this.camere.push(room);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (valid) {\r\n      this.isEtaRiduzioniAttiva = true;\r\n      this.onCamereChange();\r\n    } else {\r\n      this.onCameraAdd();\r\n    }\r\n  }\r\n\r\n  onNumeroBambiniChange(cameraIndex: number, add: boolean, numero: number) {\r\n    let bambini: number[] = [];\r\n\r\n    let bambiniCol = this.isEtaRiduzioniAttiva ? 4 : 2;\r\n\r\n    for (let i = 1, index = 1; index <= numero; i++) {\r\n      if (i % bambiniCol > 0) {\r\n        bambini.push(index);\r\n        index++;\r\n      } else {\r\n        bambini.push(-1);\r\n      }\r\n    }\r\n\r\n    if (add) {\r\n      let bambino = new BookingSolutionPaxRQ();\r\n      bambino.eta = this.etaMinimaBambini;\r\n      bambino.quantita = 1;\r\n\r\n      if (!this.isEtaRiduzioniAttiva && this.riduzioni != null && this.riduzioni.length > 0) {\r\n        bambino.oid = this.riduzioni[0].reductionId;\r\n      }\r\n\r\n      this.camere[cameraIndex].pax.push(bambino);\r\n    } else {\r\n      this.camere[cameraIndex].pax.pop();\r\n    }\r\n\r\n    this.bambini[cameraIndex] = bambini;\r\n\r\n    this.onCamereChange();\r\n  }\r\n\r\n  onNumeroAdultiChange(cameraIndex: number, numero: number) {\r\n    this.camere[cameraIndex].pax[0].quantita = numero;\r\n    this.onCamereChange();\r\n  }\r\n\r\n  onCameraAdd() {\r\n    if (this.camere.length < this.camerePrenotabili) {\r\n      this.camere.push(new BookingSolutionRoomRQ(this.adultiDefault));\r\n      this.bambini.push([]);\r\n      this.onCamereChange();\r\n    }\r\n  }\r\n\r\n  onCameraRemove(index: number) {\r\n    this.camere.splice(index, 1);\r\n    this.bambini.splice(index, 1);\r\n    this.onCamereChange();\r\n  }\r\n\r\n  onCamereChange() {\r\n    this.paxChanged.emit(this.camere);\r\n  }\r\n}","<div class=\"border p-3 calendar-container\" [ngClass]=\"{'mat-elevation-z5': isBooking}\">\r\n    <div class=\"row\">\r\n        <div class=\"col-12 col-lg-12\" [ngClass]=\"{'col-650-6': isBooking}\">\r\n            <app-booking-room-select [adultiDefault]=\"adultiDefault\" [adultiMax]=\"adultiMax\" [bambiniMax]=\"bambiniMax\" [etaMinimaBambini]=\"etaMinimaBambini\" [etaMassimaBambini]=\"etaMassimaBambini\" [camereUrl]=\"camereUrl\" [isEtaRiduzioniAttiva]=\"isEtaRiduzioniAttiva\"\r\n                [riduzioni]=\"riduzioni\" [_camerePrenotabili]=\"camerePrenotabili\" [isDisattivaRichiestaBambini]=\"isDisattivaRichiestaBambini\" [dayUse]=\"dayUse\" (paxChanged)=\"onPaxChanged($event)\">\r\n            </app-booking-room-select>\r\n        </div>\r\n\r\n        <div class=\"col-12 col-lg-12\" [ngClass]=\"{'col-650-6': isBooking}\">\r\n            <div [hidden]=\"showNightsSelect\">\r\n                <ng-container *ngIf=\"containerService.dimension.height >= 850 || (containerService.dimension.width < mobileBreakpoint && !isVisualizzaCalendarioMobile)\">\r\n                    <div class=\"row mt-3\">\r\n                        <ng-container *ngIf=\"!dayUse\">\r\n                            <div class=\"col arrivo-col text-center\">\r\n                                <span class=\"font-weight-bold color-blue\">{{'booking.arrivo' | translate}}</span>\r\n                            </div>\r\n\r\n                            <div class=\"col partenza-col text-center\">\r\n                                <span class=\"font-weight-bold color-blue\">{{'booking.partenza' | translate}}</span>\r\n                            </div>\r\n\r\n                            <div class=\"col notti-col text-center d-none d-lg-block\">\r\n                                <span class=\"font-weight-bold color-blue\">{{'booking.numeroNotti' | translate}}</span>\r\n                            </div>\r\n                        </ng-container>\r\n\r\n                        <ng-container *ngIf=\"dayUse\">\r\n                            <div class=\"col-12 text-center\">\r\n                                <span class=\"font-weight-bold color-blue\">{{'booking.arrivo' | translate}}</span>\r\n                            </div>\r\n                        </ng-container>\r\n                    </div>\r\n\r\n                    <ng-container *ngIf=\"!dayUse\">\r\n                        <div class=\"row\" [ngClass]=\"{'d-flex d-lg-none': !isVisualizzaCalendarioMobile, 'd-none': isVisualizzaCalendarioMobile}\">\r\n                            <div class=\"col-6 text-center p-0 noWrap\">\r\n                                <ng-container *ngIf=\"!rq.arrivo\">\r\n                                    <span class=\"dateMobile\" (click)=\"arrivo.open()\">---</span>\r\n                                </ng-container>\r\n\r\n                                <ng-container *ngIf=\"!!rq.arrivo\">\r\n                                    <button mat-icon-button class=\"add-minus-button mr-n1\" [disabled]=\"minusFromButtonDisabled\" (click)=\"minusFromMobile()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_left</i>\r\n                                    </button>\r\n\r\n                                    <span (click)=\"arrivo.open()\" class=\"dateMobile align-middle text-small\">{{(rq.arrivo | momentFormat:'DD MMM YYYY':getLocale()) | titlecase}}</span>\r\n\r\n                                    <button mat-icon-button class=\"add-minus-button ml-n1\" [disabled]=\"addFromButtonDisabled\" (click)=\"addFromMobile()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_right</i>\r\n                                    </button>\r\n                                </ng-container>\r\n\r\n                                <input autocompleteOff type=\"text\" matInput [matDatepicker]=\"arrivo\" [hidden]=\"true\" (dateChange)=\"onArrivoChange($event.value)\" [(ngModel)]=\"arrivoDate\">\r\n\r\n                                <mat-datepicker #arrivo [startAt]=\"!!rq.arrivo ? rq.arrivo : today\" [touchUi]=\"true\" [panelClass]=\"'booking-datepicker'\">\r\n                                </mat-datepicker>\r\n                            </div>\r\n\r\n                            <div class=\"col-6 text-center p-0 noWrap\">\r\n                                <ng-container *ngIf=\"!rq.partenza\">\r\n                                    <span class=\"dateMobile\" (click)=\"partenza.open()\">---</span>\r\n                                </ng-container>\r\n\r\n                                <ng-container *ngIf=\"!!rq.partenza\">\r\n                                    <button mat-icon-button class=\"add-minus-button mr-n1\" [disabled]=\"minusToButtonDisabled\" (click)=\"minusToMobile()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_left</i>\r\n                                    </button>\r\n\r\n                                    <span (click)=\"partenza.open()\" class=\"dateMobile align-middle text-small\">{{(rq.partenza | momentFormat:'DD MMM YYYY':getLocale()) | titlecase}}</span>\r\n\r\n                                    <button mat-icon-button class=\"add-minus-button ml-n1\" [disabled]=\"false\" (click)=\"addToMobile()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_right</i>\r\n                                    </button>\r\n                                </ng-container>\r\n\r\n                                <input autocompleteOff type=\"text\" matInput [matDatepicker]=\"partenza\" [hidden]=\"true\" (dateChange)=\"onPartenzaChange($event.value)\" [(ngModel)]=\"partenzaDate\">\r\n\r\n                                <mat-datepicker #partenza [startAt]=\"!!rq.partenza ? rq.partenza : today\" [touchUi]=\"true\" [panelClass]=\"'booking-datepicker'\">\r\n                                </mat-datepicker>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\" [ngClass]=\"{'d-none d-lg-flex': !isVisualizzaCalendarioMobile, 'd-flex': isVisualizzaCalendarioMobile}\">\r\n                            <div class=\"col arrivo-col text-center\">\r\n                                <ng-container *ngIf=\"!rq.arrivo\">\r\n                                    ---\r\n                                </ng-container>\r\n\r\n                                <ng-container *ngIf=\"!!rq.arrivo\">\r\n                                    <button mat-icon-button class=\"add-minus-button mr-n1\" [disabled]=\"minusFromButtonDisabled\" (click)=\"minusFrom()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_left</i>\r\n                                    </button>\r\n\r\n                                    <span class=\"align-middle text-small\">{{(rq.arrivo | momentFormat:'DD MMM YYYY':getLocale()) | titlecase}}</span>\r\n\r\n                                    <button mat-icon-button class=\"add-minus-button ml-n1\" [disabled]=\"addFromButtonDisabled\" (click)=\"addFrom()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_right</i>\r\n                                    </button>\r\n                                </ng-container>\r\n                            </div>\r\n\r\n                            <div class=\"col partenza-col text-center\">\r\n                                <ng-container *ngIf=\"!rq.partenza\">\r\n                                    ---\r\n                                </ng-container>\r\n\r\n                                <ng-container *ngIf=\"!!rq.partenza\">\r\n                                    <button mat-icon-button class=\"add-minus-button mr-n1\" [disabled]=\"minusToButtonDisabled\" (click)=\"minusTo()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_left</i>\r\n                                    </button>\r\n\r\n                                    <span class=\"align-middle text-small\">{{(rq.partenza | momentFormat:'DD MMM YYYY':getLocale()) | titlecase}}</span>\r\n\r\n                                    <button mat-icon-button class=\"add-minus-button ml-n1\" [disabled]=\"addToButtonDisabled\" (click)=\"addTo()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_right</i>\r\n                                    </button>\r\n                                </ng-container>\r\n                            </div>\r\n\r\n                            <div class=\"col notti-col text-center d-none d-lg-block\">\r\n                                <ng-container *ngIf=\"!rq.arrivo || !rq.partenza || !nights\">\r\n                                    ---\r\n                                </ng-container>\r\n\r\n                                <ng-container *ngIf=\"!!rq.arrivo && !!rq.partenza && !!nights\">\r\n                                    <button mat-icon-button class=\"add-minus-button-small\" [disabled]=\"minusToButtonDisabled\" (click)=\"minusTo()\">\r\n                                        <i class=\"material-icons-round add-minus-icon\">remove_circle_outline</i>\r\n                                    </button>\r\n\r\n                                    <span class=\"align-middle mr-1 ml-1 text-small\">{{nights}}</span>\r\n\r\n                                    <button mat-icon-button class=\"add-minus-button-small\" [disabled]=\"addToButtonDisabled\" (click)=\"addTo()\">\r\n                                        <i class=\"material-icons-round add-minus-icon\">add_circle_outline</i>\r\n                                    </button>\r\n                                </ng-container>\r\n                            </div>\r\n                        </div>\r\n                    </ng-container>\r\n\r\n                    <ng-container *ngIf=\"dayUse\">\r\n                        <div class=\"row\" [ngClass]=\"{'d-flex d-lg-none': !isVisualizzaCalendarioMobile, 'd-none': isVisualizzaCalendarioMobile}\">\r\n                            <div class=\"col-12 text-center p-0 noWrap\">\r\n                                <ng-container *ngIf=\"!rq.arrivo\">\r\n                                    <span class=\"dateMobile\" (click)=\"arrivo.open()\">---</span>\r\n                                </ng-container>\r\n\r\n                                <ng-container *ngIf=\"!!rq.arrivo\">\r\n                                    <button mat-icon-button class=\"add-minus-button\" [disabled]=\"minusFromButtonDisabled\" (click)=\"minusFromMobile()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_left</i>\r\n                                    </button>\r\n\r\n                                    <span (click)=\"arrivo.open()\" class=\"dateMobile align-middle\">{{(rq.arrivo | momentFormat:'dddd, D MMMM':getLocale()) | titlecase}}</span>\r\n\r\n                                    <button mat-icon-button class=\"add-minus-button\" [disabled]=\"addFromButtonDisabled\" (click)=\"addFromMobile()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_right</i>\r\n                                    </button>\r\n                                </ng-container>\r\n\r\n                                <input autocompleteOff type=\"text\" matInput [matDatepicker]=\"arrivo\" [hidden]=\"true\" (dateChange)=\"onArrivoChange($event.value)\" [(ngModel)]=\"arrivoDate\">\r\n\r\n                                <mat-datepicker #arrivo [startAt]=\"!!rq.arrivo ? rq.arrivo : today\" [touchUi]=\"true\" [panelClass]=\"'booking-datepicker'\"></mat-datepicker>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row\" [ngClass]=\"{'d-none d-lg-flex': !isVisualizzaCalendarioMobile, 'd-flex': isVisualizzaCalendarioMobile}\">\r\n                            <div class=\"col-12 text-center\">\r\n                                <ng-container *ngIf=\"!rq.arrivo\">\r\n                                    ---\r\n                                </ng-container>\r\n\r\n                                <ng-container *ngIf=\"!!rq.arrivo\">\r\n                                    <button mat-icon-button class=\"add-minus-button\" [disabled]=\"minusFromButtonDisabled\" (click)=\"minusFrom()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_left</i>\r\n                                    </button>\r\n\r\n                                    <span class=\"align-middle\">{{(rq.arrivo | momentFormat:'dddd, D MMMM':getLocale()) | titlecase}}</span>\r\n\r\n                                    <button mat-icon-button class=\"add-minus-button\" [disabled]=\"addFromButtonDisabled\" (click)=\"addFrom()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_right</i>\r\n                                    </button>\r\n                                </ng-container>\r\n                            </div>\r\n                        </div>\r\n                    </ng-container>\r\n                </ng-container>\r\n\r\n                <div class=\"row text-center mt-3\" [ngClass]=\"{'d-none d-lg-flex': !isVisualizzaCalendarioMobile}\">\r\n                    <div class=\"col-12 calendar-header-col\">\r\n                        <div class=\"calendar-header clearfix\">\r\n                            <div class=\"clearfix\">\r\n                                <div class=\"d-inline-block align-middle float-left\">\r\n                                    <button mat-icon-button class=\"previous-button calendar-header-button\" mwlCalendarPreviousView [view]=\"'month'\" [(viewDate)]=\"date\" [disabled]=\"previousDisabled\" (click)=\"$event.stopPropagation()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_left</i>\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <h5 class=\"d-inline-block m-0 mt-1 month align-middle\" [matMenuTriggerFor]=\"menu\" #menuTrigger=\"matMenuTrigger\" (click)=\"$event.stopPropagation()\">\r\n                                    {{ (date | momentFormat: 'MMMM YYYY' : getLocale()) | titlecase }}\r\n                                </h5>\r\n\r\n                                <mat-menu #menu=\"matMenu\" class=\"monthMenu booking-menu\">\r\n                                    <button mat-menu-item *ngFor=\"let month of selectableMonths\" (click)=\"$event.stopPropagation(); date = utility.toDate(month); menuTrigger.closeMenu();\">{{(month | momentFormat:'MMMM YYYY':getLocale()) | titlecase}}</button>\r\n                                </mat-menu>\r\n\r\n                                <div class=\"d-inline-block align-middle float-right\">\r\n                                    <button mat-icon-button class=\"next-button calendar-header-button\" mwlCalendarNextView [view]=\"'month'\" [(viewDate)]=\"date\" (click)=\"$event.stopPropagation()\">\r\n                                        <i class=\"material-icons-round\">keyboard_arrow_right</i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div [ngClass]=\"{'d-none d-lg-block': !isVisualizzaCalendarioMobile}\">\r\n                    <mwl-calendar-month-view [viewDate]=\"date\" [refresh]=\"refresh\" (dayClicked)=\"dayClicked($event.day)\" [cellTemplate]=\"cellTemplate\" [headerTemplate]=\"headerTemplate\" (beforeViewRender)=\"onRender($event.body)\"></mwl-calendar-month-view>\r\n                </div>\r\n\r\n                <ng-container *ngIf=\"isVisualizzaPrezzoMinimo\">\r\n                    <div *ngIf=\"!!rq.arrivo && !!rq.partenza\" class=\"color-blue text-center mt-2 prezzo-minimo-calendar\" [ngClass]=\"{'d-none d-lg-block': !isVisualizzaCalendarioMobile}\">\r\n                        <span class=\"font-weight-bold\" *ngIf=\"!dayUse\">{{nights}}</span>\r\n                        <span class=\"pr-2 right-border\" *ngIf=\"!dayUse\">{{'booking.notti' | translate}}</span>\r\n                        <span class=\"ml-2\">{{'booking.aPartireDa' | translate}}</span>\r\n                        <span class=\"dot-elastic d-inline-block ml-3\" *ngIf=\"prezzoMinimo == null && !prezzoCalculated\"></span>\r\n                        <span class=\"d-inline-block\" *ngIf=\"prezzoMinimo == null && prezzoCalculated\">---</span>\r\n                        <span class=\"font-weight-bold\" *ngIf=\"prezzoMinimo != null\">{{utility.getValuta(valuta) + utility.getPriceIntegerPart(prezzoMinimo)}}<small\r\n                                class=\"price-decimals\">{{',' + utility.getPriceDecimalPart(prezzoMinimo)}}</small></span>\r\n                    </div>\r\n\r\n                    <div *ngIf=\"!!rq.arrivo && !!rq.partenza && containerService.dimension.height >= 850\" class=\"color-green text-center\" [ngClass]=\"{'d-none d-lg-block': !isVisualizzaCalendarioMobile}\">\r\n                        <span class=\"align-middle\">{{'booking.prezzoGarantito' | translate}}</span>\r\n                        <span class=\"material-icons-round align-middle ml-1 icon-small\">\r\n                            thumb_up\r\n                        </span>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n\r\n            <div *ngIf=\"showNightsSelect\">\r\n                <div class=\"mt-3\">\r\n                    <span class=\"material-icons-round align-middle mr-2 nightsSelectIcon\">login</span>\r\n                    <span class=\"align-middle text-small font-weight-bold\">{{('booking.arrivo' | translate) + ': ' + (startDate | momentFormat : 'ddd D MMM' : getLocale() | titlecase)}}</span>\r\n\r\n                    <button class=\"button-blue-indietro nightsBackButton float-right\" mat-flat-button (click)=\"nightsSelectionBack()\">\r\n                        <span class=\"material-icons-round nightsSelectIcon\">keyboard_arrow_left</span>\r\n                        <span>{{ 'booking.indietro' | translate }}</span>\r\n                    </button>\r\n                </div>\r\n\r\n                <div class=\"row mt-3 mb-2\">\r\n                    <div class=\"col-4 text-small font-weight-bold pr-1\">\r\n                        {{'booking.numeroNotti' | translate}}\r\n                    </div>\r\n\r\n                    <div class=\"col-4 text-small font-weight-bold pr-1 pl-1\">\r\n                        {{'booking.partenza' | translate}}\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"row mb-1\" *ngFor=\"let disponibilita of disponibilitaNotti; let i = index;\">\r\n                    <div class=\"col-4 pr-1\">\r\n                        <span class=\"mr-1 align-middle\" [ngClass]=\"{'available': disponibilita.isPrenotabile, 'not-available': !disponibilita.isPrenotabile}\"></span>\r\n\r\n                        <ng-container *ngIf=\"i < disponibilitaNotti.length - 1\">\r\n                            <span class=\"material-icons-round align-middle icon-small\">nights_stay</span>\r\n                            <span class=\"align-middle text-smaller\">{{disponibilita.notti + ((i == 0 ? 'booking.notte' : 'booking.piuNotti') | translate)}}</span>\r\n                        </ng-container>\r\n\r\n                        <mat-form-field appearance=\"outline\" class=\"bookingCalendarNightsSelect\" *ngIf=\"i == disponibilitaNotti.length - 1\">\r\n                            <mat-select [panelClass]=\"'booking-select'\" [(ngModel)]=\"disponibilita.notti\" (selectionChange)=\"nightsChange()\">\r\n                                <mat-option [value]=\"notti\" *ngFor=\"let notti of utility.counterFromTo(7, 30)\">\r\n                                    {{notti}}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </mat-form-field>\r\n                    </div>\r\n\r\n                    <div class=\"col-4 pl-1 pr-1\">\r\n                        <span class=\"material-icons-round align-middle icon-small\">logout</span>\r\n                        <span class=\"align-middle text-smaller font-weight-bold\">{{disponibilita.partenza | momentFormat : 'ddd D MMM' : getLocale() | titlecase}}</span>\r\n                    </div>\r\n\r\n                    <div class=\"col-4 text-right pl-1\">\r\n                        <button class=\"button-blue nightsSelectButton\" mat-flat-button [disabled]=\"!disponibilita.isPrenotabile\" (click)=\"nightsSelected(disponibilita.notti)\">\r\n                            <span>{{ 'booking.seleziona' | translate }}</span>\r\n                            <span class=\"material-icons-round nightsSelectIcon\">keyboard_arrow_right</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-12 col-lg-12 codice-motivo-viaggio-col\" [ngClass]=\"{'col-650-6': isBooking}\" *ngIf=\"numeroCodiciPromozionali > 0 || motiviViaggio.length > 0\">\r\n            <div class=\"mt-3 position-relative\">\r\n                <div class=\"d-flex\" *ngIf=\"numeroCodiciPromozionali > 0\">\r\n                    <div class=\"d-inline-block mt-1\"><label class=\"mr-3 font-weight-bold text-nowrap\">{{'booking.codicePromozionale' | translate}}</label></div>\r\n                    <input autocompleteOff type=\"text\" class=\"codicePromozionaleInput\" [(ngModel)]=\"rq.codicePromozione\" (input)=\"getPrezzoMinimo(); showSearchButton();\">\r\n                </div>\r\n\r\n                <button mat-icon-button class=\"position-absolute openCodicePromozioneSelectButton\" (click)=\"openCodicePromozioneSelect()\" *ngIf=\"!isBooking && !!rq.arrivo && !!rq.partenza\">\r\n                    <i class=\"material-icons color-blue\">more_vert</i>\r\n                </button>\r\n            </div>\r\n\r\n            <div class=\"mt-3 d-flex\" *ngIf=\"motiviViaggio.length > 0\">\r\n                <div class=\"d-inline-block mt-1\"><label class=\"mr-2 font-weight-bold text-nowrap\">{{'booking.motivoViaggio' | translate}}</label></div>\r\n\r\n                <mat-form-field class=\"motivoViaggioSelect\">\r\n                    <mat-select [panelClass]=\"'booking-select'\" [(ngModel)]=\"rq.oidMotivoViaggio\" (selectionChange)=\"getPrezzoMinimo(); showSearchButton();\">\r\n                        <mat-option [value]=\"null\"></mat-option>\r\n\r\n                        <mat-option [value]=\"motivoViaggio.oid\" *ngFor=\"let motivoViaggio of motiviViaggio\">\r\n                            {{motivoViaggio.nome}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-12 col-lg-12 button-col\" [ngClass]=\"{'col-650-6': isBooking}\">\r\n            <button [@blink]=\"blinkStatus\" *ngIf=\"searchButtonVisible || !hideButton\" class=\"w-100 controlla-disponibilita-button mt-3\" mat-flat-button (click)=\"controllaDisponibilita()\" [disabled]=\"rq.arrivo == null || rq.partenza == null\">{{ 'booking.controllaDisponibilita' | translate}}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"border p-3 mat-elevation-z5 contatti-container mt-3 d-none d-lg-block\" *ngIf=\"!!mappa || !!cellulare || !!email\">\r\n    <div class=\"font-weight-bold mb-1\">\r\n        {{'booking.contatti' | translate}}\r\n    </div>\r\n\r\n    <div class=\"color-blue mb-1 text-nowrap contatti\" (click)=\"utility.openUrlInNewTab(mappa)\">\r\n        <span class=\"material-icons-round mr-1 align-middle contatti-icon\">place</span>\r\n        <span class=\"align-middle\">\r\n            <a href=\"#\" class=\"color-blue\" (click)=\"$event.preventDefault()\">{{'booking.mappa' | translate}}</a>\r\n        </span>\r\n    </div>\r\n\r\n    <div class=\"color-blue mb-1 text-nowrap contatti\" (click)=\"utility.callNumber(cellulare)\">\r\n        <span class=\"material-icons-round mr-1 align-middle contatti-icon\">phone_enabled</span>\r\n        <span class=\"align-middle\">{{!!cellulare ? cellulare : '---'}}</span>\r\n    </div>\r\n\r\n    <div class=\"color-blue text-nowrap contatti\" (click)=\"utility.sendEmail(email)\">\r\n        <span class=\"material-icons-round mr-1 align-middle contatti-icon\">email</span>\r\n        <span #emailLabel class=\"align-top email\" [matTooltip]=\"email\" matTooltipClass=\"tooltip-class\" [matTooltipDisabled]=\"!emailTooltipVisible\">{{!!email ? email : '---'}}</span>\r\n    </div>\r\n\r\n    <a href=\"#\" class=\"color-blue contatti mt-3 d-block font-weight-bold\" (click)=\"$event.preventDefault(); sendRequest();\" *ngIf=\"isRichiediDisponibilitaStep1Visualizzata\">\r\n        {{'booking.inviaRichiesta' | translate}}\r\n    </a>\r\n</div>\r\n\r\n<ng-template #cellTemplate let-day=\"day\">\r\n    <div class=\"cal-cell-top\" (mouseenter)=\"dayHover(day)\" [matTooltip]=\"tooltips.get(getDate(day.date))\" matTooltipClass=\"tooltip-class\" [matTooltipDisabled]=\"!isVisualizzaDisponibilitaCalendario || (!!day.cssClass && (day.cssClass.includes('available') || day.cssClass.includes('not-available')))\"\r\n        placement=\"top\" [tooltip]=\"$any(tooltipContent)\" [display]=\"dateClicked && !!startDate\" [hideDelay]=\"0\" [animationDuration]=\"0\" theme=\"light\" contentType=\"template\" tooltipClass=\"booking-calendar-tooltip-class\">\r\n\r\n        <div class=\"cal-day-number-rectangle w-100\" appRectangle [setLineHeight]=\"true\">\r\n            <span class=\"cal-day-number-circle position-relative\">\r\n                <span class=\"cal-day-number\" [ngClass]=\"{'cal-day-number-price': isVisualizzaPrezzoCalendario}\">\r\n                    <span [ngClass]=\"{'cal-day-number-inner-price': isVisualizzaPrezzoCalendario, 'cal-day-number-inner': !isVisualizzaPrezzoCalendario}\">{{ day.date | momentFormat : 'D' : getLocale() }}</span>\r\n            </span>\r\n\r\n            <span class=\"cal-day-price\" *ngIf=\"isVisualizzaPrezzoCalendario\">\r\n                    <span class=\"price\" *ngIf=\"minPrices.get(getDate(day.date)) >= 0\">{{ utility.getValuta(valuta) + (minPrices.get(getDate(day.date)) | number : \"1.0-0\") }}</span>\r\n            </span>\r\n            </span>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #headerTemplate let-days=\"days\">\r\n    <div class=\"cal-cell-row cal-header pt-2\" role=\"row\">\r\n        <div class=\"cal-cell\" *ngFor=\"let day of days\" tabindex=\"0\" role=\"columnheader\" [ngClass]=\"{'font-weight-bold': day.isWeekend}\">\r\n            {{ (day.date | momentFormat : 'ddd' : getLocale()) }}\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #tooltipContent>\r\n    <div class=\"text-center\">\r\n        <ng-container *ngIf=\"errors == null || errors.length == 0\">\r\n            <div class=\"font-weight-bold\">\r\n                {{nights + ('booking.notti' | translate)}}\r\n            </div>\r\n\r\n            <div>\r\n                <span class=\"dot-elastic d-inline-block\" *ngIf=\"prezzoMinimo == null && !prezzoCalculated\"></span>\r\n\r\n                <span class=\"d-inline-block\" *ngIf=\"prezzoMinimo == null && prezzoCalculated\">---</span>\r\n\r\n                <ng-container *ngIf=\"prezzoMinimo != null\">\r\n                    {{('booking.da' | translate) + (prezzoMinimo | eurCurrency : null : valuta)}}\r\n                </ng-container>\r\n            </div>\r\n        </ng-container>\r\n\r\n        <div *ngIf=\"errors != null && errors.length > 0\" class=\"font-weight-bold\">\r\n            <app-inner-html [_text]=\"translationService.getTranslationFromErrori(errors)\"></app-inner-html>\r\n        </div>\r\n    </div>\r\n</ng-template>","import { animate, state, style, transition, trigger } from '@angular/animations';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { MatDatepicker } from '@angular/material/datepicker';\r\nimport { CalendarMonthViewDay } from 'angular-calendar';\r\nimport * as moment from 'moment';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { SessionService } from 'src/app/core/session.service';\r\nimport { BaseComponent } from 'src/app/interfaces/base-component/base-component';\r\nimport { RichiesteAddComponent } from 'src/app/interfaces/richieste-add/richieste-add.component';\r\nimport { ViewSelectDialogComponent } from 'src/app/interfaces/view-select/view-select-dialog/view-select-dialog.component';\r\nimport { Cliente, CodicePromozione } from 'src/app/shared/models/bo.model';\r\nimport {\r\n  BookingReductionConfigRS,\r\n  BookingSolutionRoomRQ,\r\n  BookingSolutionRQ,\r\n  BookingTravelReasonConfigRS,\r\n  CameraBookingUrlParameter,\r\n  DialogOptions,\r\n  Dimension,\r\n  DisponibilitaNotti,\r\n  Errore,\r\n  GetCodiciPromozioneValidiRQ,\r\n  GetDisponibilita,\r\n  GetDisponibilitaNottiRQ,\r\n  GetDisponibilitaRQ,\r\n  GetDisponibilitaRS,\r\n  GetPrezzoMinimoRQ,\r\n  TranslateParameter,\r\n  WebApiResponse,\r\n} from 'src/app/shared/models/dto';\r\nimport { ApiService } from 'src/app/shared/services/api.service';\r\nimport { ContainerService } from 'src/app/shared/services/container.service';\r\nimport { LocalizationService } from 'src/app/shared/services/localization.service';\r\nimport { UtilityService } from 'src/app/shared/services/utility.service';\r\n\r\n@Component({\r\n  selector: 'app-booking-calendar',\r\n  templateUrl: './booking-calendar.component.html',\r\n  styleUrls: ['./booking-calendar.component.scss'],\r\n  animations: [\r\n    trigger('blink', [\r\n      state('light', style({\r\n        backgroundColor: '#006DC9'\r\n      })),\r\n      state('dark', style({\r\n        backgroundColor: '#004987'\r\n      })),\r\n      transition('light => dark', [\r\n        animate('500ms ease-out')\r\n      ]),\r\n      transition('dark => light', [\r\n        animate('500ms ease-in')\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class BookingCalendarComponent extends BaseComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n  @Input() oidAlbergo: number;\r\n  @Input() oidPortale: number;\r\n  @Input() lingua: string;\r\n  @Input() isVisualizzaDisponibilitaCalendario: boolean;\r\n  @Input() isVisualizzaPrezzoCalendario: boolean;\r\n  @Input() email: string;\r\n  @Input() cellulare: string;\r\n  @Input() mappa: string;\r\n  @Input() clickSubject: Subject<void>;\r\n  @Input() dayUse: boolean;\r\n  @Input() adultiDefault: number;\r\n  @Input() adultiMax: number;\r\n  @Input() bambiniMax: number;\r\n  @Input() etaMinimaBambini: number;\r\n  @Input() etaMassimaBambini: number;\r\n  @Input() camereUrl: CameraBookingUrlParameter[];\r\n  @Input() arrivoUrl: string;\r\n  @Input() partenzaUrl: string;\r\n  @Input() codicePromozioneUrl: string;\r\n  @Input() controllingDisponibility: boolean;\r\n  @Input() isEtaRiduzioniAttiva: boolean;\r\n  @Input() riduzioni: BookingReductionConfigRS[];\r\n  @Input() isBooking: boolean = true;\r\n  @Input() isRichiediDisponibilitaStep1Visualizzata: boolean;\r\n  @Input() numeroCodiciPromozionali: number;\r\n  @Input() motiviViaggio: BookingTravelReasonConfigRS[];\r\n  @Input() camerePrenotabili: number;\r\n  @Input() isVisualizzaCalendarioMobile: boolean;\r\n  @Input() showSearchButtonSubject: Subject<void>;\r\n  @Input() isVisualizzaPrezzoMinimo: boolean;\r\n  @Input() hideButton: boolean = true;\r\n  @Input() oidTipoCameraOTA: number;\r\n  @Input() oidTariffaOTA: number;\r\n  @Input() valuta: string;\r\n  @Input() isDisattivaRichiestaBambini: boolean;\r\n  @Input() isControllaDurateSoggiornoSulGiornoDiArrivo: boolean;\r\n  @Input() isProponiNottiCalendario: boolean;\r\n  @Input() initialDate: string;\r\n\r\n  @Input() set codicePromozione(value: string) {\r\n    if (this.rq != null) {\r\n      if (!!value) {\r\n        this.previousCodicePromozione = this.rq.codicePromozione;\r\n        this.rq.codicePromozione = value;\r\n      } else {\r\n        this.rq.codicePromozione = this.previousCodicePromozione;\r\n      }\r\n\r\n      this.getPrezzoMinimo();\r\n      this.showSearchButton();\r\n    }\r\n  };\r\n\r\n  @Output() daysSelected: EventEmitter<BookingSolutionRQ> = new EventEmitter();\r\n\r\n  @ViewChild('arrivo') datePickerArrivo: MatDatepicker<any>;\r\n  @ViewChild('partenza') datePickerPartenza: MatDatepicker<any>;\r\n  @ViewChild('emailLabel') emailLabel: ElementRef;\r\n\r\n  public rq: BookingSolutionRQ;\r\n  public date: Date;\r\n  public selectableMonths: moment.Moment[] = [];\r\n  public startDate: string;\r\n  public dateClicked: boolean = false;\r\n  public disponibilita: GetDisponibilita[] = [];\r\n  public previousDisabled: boolean = true;\r\n  public days: CalendarMonthViewDay[];\r\n  public refresh: Subject<void> = new Subject();\r\n  public tooltips: Map<string, string> = new Map<string, string>();\r\n  public minPrices: Map<string, number> = new Map<string, number>();\r\n  public numeroMinimoGiorniSelectedDaysPast: number = 0;\r\n  public numeroMassimoGiorniSelectedDaysPast: number = null;\r\n  public notAvailablePast: boolean = false;\r\n  public numeroMinimoGiorniSelectedDays: number = 0;\r\n  public numeroMassimoGiorniSelectedDays: number = null;\r\n  public notAvailable: boolean = false;\r\n  public nights: number;\r\n  public addFromButtonDisabled: boolean;\r\n  public minusFromButtonDisabled: boolean;\r\n  public addToButtonDisabled: boolean;\r\n  public minusToButtonDisabled: boolean;\r\n  public prezzoMinimo: number = null;\r\n  public mobileBreakpoint: number = 992;\r\n  public sub: Subscription;\r\n  public sub1: Subscription;\r\n  public sub2: Subscription;\r\n  public previousWindowSize: number;\r\n  public arrivoDate: string;\r\n  public partenzaDate: string;\r\n  public urlSearchParametersReceived: boolean = false;\r\n  public prezzoMinimoRequest: Subscription;\r\n  public errors: Errore[];\r\n  public previousCodicePromozione: string;\r\n  public prezzoCalculated: boolean;\r\n  public notAvailableDate: string;\r\n  public searchButtonVisible: boolean = true;\r\n  public blinkStatus: string;\r\n  public emailTooltipVisible: boolean = false;\r\n  public showNightsSelect: boolean;\r\n  public disponibilitaNotti: DisponibilitaNotti[];\r\n\r\n  constructor(private apiService: ApiService,\r\n    public translationService: LocalizationService,\r\n    public containerService: ContainerService,\r\n    private sessionService: SessionService,\r\n    public utility: UtilityService) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setIsLoading(true);\r\n\r\n    if (!!this.initialDate) {\r\n      this.date = this.utility.toDate(moment(this.initialDate));\r\n    } else {\r\n      this.date = this.utility.toDate(moment());\r\n    }\r\n\r\n    this.rq = new BookingSolutionRQ(this.adultiDefault);\r\n    this.rq.isBooking = this.isBooking;\r\n\r\n    let date = moment();\r\n    date.set('date', 1);\r\n\r\n    for (let i = 0; i < 12; i++) {\r\n      let d = moment(date);\r\n      this.selectableMonths.push(d);\r\n      d.add(i, 'month');\r\n    }\r\n\r\n    if (this.clickSubject != null) {\r\n      this.sub1 = this.clickSubject.subscribe(() => {\r\n        if (this.dateClicked && !!this.startDate && !this.showNightsSelect) {\r\n          this.onSelectionError();\r\n          this.notAvailableDate = null;\r\n        }\r\n      });\r\n    }\r\n\r\n    if (this.showSearchButtonSubject != null) {\r\n      this.sub2 = this.showSearchButtonSubject.subscribe(() => {\r\n        this.showSearchButton();\r\n      });\r\n    }\r\n\r\n    this.sub = this.containerService.windowResizeEvent.subscribe((d: Dimension) => {\r\n      if (this.datePickerArrivo != null) {\r\n        this.datePickerArrivo.close();\r\n      }\r\n\r\n      if (this.datePickerPartenza != null) {\r\n        this.datePickerPartenza.close();\r\n      }\r\n\r\n      if (this.previousWindowSize != null && this.previousWindowSize < this.mobileBreakpoint && d.width >= this.mobileBreakpoint && !this.isVisualizzaCalendarioMobile) {\r\n        this.refresh.next();\r\n\r\n        if (!!this.rq.arrivo) {\r\n          this.date = this.utility.toDate(moment(this.rq.arrivo));\r\n        }\r\n\r\n        if (!!this.rq.arrivo && !!this.rq.partenza) {\r\n          this.getPrezzoMinimo();\r\n        }\r\n      }\r\n\r\n      if (d.width < this.mobileBreakpoint && !this.isVisualizzaCalendarioMobile) {\r\n        this.checkDisabledButtonsMobile();\r\n      }\r\n\r\n      this.previousWindowSize = d.width;\r\n    });\r\n\r\n    this.previousWindowSize = this.containerService.dimension.width;\r\n\r\n    this.rq.codicePromozione = this.codicePromozioneUrl;\r\n\r\n    if (!!this.arrivoUrl && !!this.partenzaUrl) {\r\n      this.rq.arrivo = this.arrivoUrl;\r\n      this.rq.partenza = this.partenzaUrl;\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n      this.urlSearchParametersReceived = true;\r\n      this.date = this.utility.toDate(moment(this.rq.arrivo));\r\n    } else if (this.containerService.dimension.width < this.mobileBreakpoint && !this.isVisualizzaCalendarioMobile) {\r\n      if (this.dayUse) {\r\n        this.rq.arrivo = this.getDate(moment());\r\n        this.rq.partenza = this.rq.arrivo;\r\n      } else {\r\n        this.rq.arrivo = this.getDate(moment());\r\n        this.rq.partenza = this.getDate(moment().add(1, 'day'));\r\n      }\r\n\r\n      this.nights = 1;\r\n\r\n      //DA CONTROLLARE\r\n      this.urlSearchParametersReceived = true;\r\n\r\n      this.checkDisabledButtonsMobile();\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      if (this.emailLabel != null) {\r\n        this.emailTooltipVisible = this.emailLabel.nativeElement.offsetWidth < this.emailLabel.nativeElement.scrollWidth;\r\n      }\r\n    }, 200);\r\n  }\r\n\r\n  onRender(days: CalendarMonthViewDay[]) {\r\n    if (this.isVisualizzaDisponibilitaCalendario || this.isVisualizzaPrezzoCalendario) {\r\n      if (this.isVisualizzaDisponibilitaCalendario) {\r\n        if (this.dateClicked && !!this.startDate) {\r\n          if (days[0].date.getFullYear() < this.days[0].date.getFullYear()) {\r\n            this.dayHover(this.days[0]);\r\n          } else if (days[0].date.getFullYear() > this.days[0].date.getFullYear()) {\r\n            this.dayHover(this.days[this.days.length - 1]);\r\n          } else {\r\n            if (days[0].date.getMonth() < this.days[0].date.getMonth()) {\r\n              this.dayHover(this.days[0]);\r\n            } else if (days[0].date.getMonth() > this.days[0].date.getMonth()) {\r\n              this.dayHover(this.days[this.days.length - 1]);\r\n            }\r\n          }\r\n\r\n          this.notAvailablePast = this.notAvailable;\r\n          this.numeroMinimoGiorniSelectedDaysPast = this.numeroMinimoGiorniSelectedDays;\r\n          this.numeroMassimoGiorniSelectedDaysPast = this.numeroMassimoGiorniSelectedDays;\r\n        } else {\r\n          if (!this.urlSearchParametersReceived) {\r\n            this.controlDays();\r\n          }\r\n        }\r\n      }\r\n\r\n      this.getDisponibilita(days);\r\n    } else {\r\n      this.days = days;\r\n      this.disablePastDays(days);\r\n      this.refreshSelection(days);\r\n\r\n      if (!this.startDate && !this.dateClicked) {\r\n        this.checkDisabledButtons();\r\n      }\r\n\r\n      setTimeout(() => {\r\n        if (!this.controllingDisponibility) {\r\n          this.setIsLoading(false);\r\n        }\r\n      }, 200);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      window.dispatchEvent(new Event('resize'));\r\n\r\n      let today = moment();\r\n\r\n      if (this.date.getMonth() <= today.month() && this.date.getFullYear() <= today.year()) {\r\n        this.previousDisabled = true;\r\n      } else {\r\n        this.previousDisabled = false;\r\n      }\r\n    }, 200);\r\n  }\r\n\r\n  dayClicked(day: CalendarMonthViewDay) {\r\n    let date = this.getDate(day.date);\r\n\r\n    if (this.dateClicked) {\r\n      if (this.startDate != date) {\r\n        this.rq.arrivo = moment(date) < moment(this.startDate) ? date : this.startDate;\r\n        this.rq.partenza = moment(date) < moment(this.startDate) ? this.startDate : date;\r\n\r\n        if (this.errors == null || this.errors.length == 0) {\r\n          this.dateClicked = false;\r\n          this.startDate = null;\r\n          this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n\r\n          for (let d of this.days) {\r\n            if (!!d.cssClass) {\r\n              d.cssClass = d.cssClass.replace('cal-day-outlined', 'cal-day-selected');\r\n            }\r\n          }\r\n\r\n          this.showSearchButton();\r\n          this.checkDisabledButtons();\r\n        } else {\r\n          this.rq.arrivo = null;\r\n          this.rq.partenza = null;\r\n        }\r\n      } else {\r\n        this.onSelectionError();\r\n      }\r\n    } else {\r\n      this.urlSearchParametersReceived = false;\r\n\r\n      if ((day.cssClass == null || (day.cssClass != null && !day.cssClass.includes('not-available'))) && moment(date) >= moment().startOf('day')) {\r\n        if (!this.dayUse) {\r\n          this.rq.arrivo = null;\r\n          this.rq.partenza = null;\r\n          this.nights = null;\r\n          this.startDate = date;\r\n          this.dateClicked = true;\r\n          this.resetSelection();\r\n          day.cssClass = this.setCssClass(day.cssClass, 'cal-day-outlined first-selected-day last-selected-day');\r\n          this.daysControlReset();\r\n          this.prezzoMinimo = null;\r\n\r\n          if (this.isProponiNottiCalendario) {\r\n            this.setIsLoading(true);\r\n\r\n            let getDisponibilitaNottiRQ = new GetDisponibilitaNottiRQ();\r\n            getDisponibilitaNottiRQ.oidPortale = this.oidPortale;\r\n            getDisponibilitaNottiRQ.arrivo = date;\r\n\r\n            this.apiService.getDisponibilitaNotti(getDisponibilitaNottiRQ).subscribe(getDisponibilitaNottiRS => {\r\n              this.disponibilitaNotti = getDisponibilitaNottiRS.data;\r\n              this.showNightsSelect = true;\r\n              this.setIsLoading(false);\r\n            });\r\n          }\r\n        } else {\r\n          this.rq.arrivo = date;\r\n          this.rq.partenza = date;\r\n\r\n          let errors: Errore[] = null;\r\n\r\n          if (this.isVisualizzaDisponibilitaCalendario) {\r\n            errors = this.controlDays();\r\n          }\r\n\r\n          if (errors == null || errors.length == 0) {\r\n            this.getPrezzoMinimo();\r\n            this.dateClicked = false;\r\n            this.startDate = null;\r\n            this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n            this.resetSelection();\r\n            day.cssClass = this.setCssClass(day.cssClass, 'cal-day-outlined first-selected-day last-selected-day');\r\n            this.showSearchButton();\r\n            this.checkDisabledButtons();\r\n          } else {\r\n            this.rq.arrivo = null;\r\n            this.rq.partenza = null;\r\n            this.daysControlReset();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onSelectionError() {\r\n    this.rq.arrivo = null;\r\n    this.rq.partenza = null;\r\n    this.nights = null;\r\n    this.dateClicked = false;\r\n    this.startDate = null;\r\n    this.prezzoMinimo = null;\r\n    this.resetSelection();\r\n    this.daysControlReset();\r\n  }\r\n\r\n  daysControlReset() {\r\n    this.numeroMinimoGiorniSelectedDays = 0;\r\n    this.numeroMassimoGiorniSelectedDays = null;\r\n    this.notAvailable = false;\r\n    this.numeroMinimoGiorniSelectedDaysPast = 0;\r\n    this.numeroMassimoGiorniSelectedDaysPast = null;\r\n    this.notAvailablePast = false;\r\n  }\r\n\r\n  daysControlResetCurrent() {\r\n    this.numeroMinimoGiorniSelectedDays = 0;\r\n    this.numeroMassimoGiorniSelectedDays = null;\r\n    this.notAvailable = false;\r\n  }\r\n\r\n  controlDays(endDate?: string, arrivo?: string, partenza?: string): Errore[] {\r\n    if ((!!this.rq.arrivo && !!this.rq.partenza) || (this.dateClicked && !!this.startDate && !!endDate) || (!!arrivo && !!partenza)) {\r\n      if (this.notAvailablePast) {\r\n        let error = new Errore();\r\n        error.idTraduzione = 'booking.periodoNonDisponibile';\r\n        return [error];\r\n      } else {\r\n        this.notAvailableDate = null;\r\n      }\r\n\r\n      let from: string = null;\r\n      let to: string = null;\r\n\r\n      if (this.dateClicked && !!this.startDate && !!endDate) {\r\n        from = moment(this.startDate) < moment(endDate) ? this.startDate : endDate;\r\n        to = moment(this.startDate) < moment(endDate) ? endDate : this.startDate;\r\n      } else if (!!this.rq.arrivo && !!this.rq.partenza) {\r\n        from = this.rq.arrivo;\r\n        to = this.rq.partenza;\r\n      } else {\r\n        from = arrivo;\r\n        to = partenza;\r\n      }\r\n\r\n      if (!this.dayUse) {\r\n        to = this.getDate(moment(to).subtract(1, 'day'));\r\n      }\r\n\r\n      let daysSelectedCount: number = 0;\r\n      let numeroMinimoGiorniSelectedDays = this.numeroMinimoGiorniSelectedDaysPast;\r\n      let numeroMassimoGiorniSelectedDays = this.numeroMassimoGiorniSelectedDaysPast;\r\n\r\n      for (let d = from; moment(d) <= moment(to); d = this.getDate(moment(d).add(1, 'day'))) {\r\n        let index = this.days.findIndex(x => this.getDate(x.date) == d);\r\n\r\n        if (index >= 0) {\r\n          if (!!this.days[index].cssClass) {\r\n            if (this.days[index].cssClass.includes('not-available')) {\r\n              this.notAvailableDate = this.getDate(this.days[index].date);\r\n              this.notAvailable = true;\r\n              let error = new Errore();\r\n              error.idTraduzione = 'booking.periodoNonDisponibile';\r\n              return [error];\r\n            } else if (this.days[index].cssClass.includes('limitations')) {\r\n              if (!this.isControllaDurateSoggiornoSulGiornoDiArrivo || d == from) {\r\n                let disp = this.disponibilita.find(x => this.getDate(x.data) == d);\r\n\r\n                numeroMinimoGiorniSelectedDays = Math.max(numeroMinimoGiorniSelectedDays, disp.durataMinimaSoggiorno);\r\n\r\n                if (numeroMassimoGiorniSelectedDays == null) {\r\n                  numeroMassimoGiorniSelectedDays = disp.durataMassimaSoggiorno;\r\n                } else {\r\n                  numeroMassimoGiorniSelectedDays = Math.min(numeroMassimoGiorniSelectedDays, disp.durataMassimaSoggiorno);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        daysSelectedCount++;\r\n      }\r\n\r\n      this.numeroMinimoGiorniSelectedDays = numeroMinimoGiorniSelectedDays;\r\n      this.numeroMassimoGiorniSelectedDays = numeroMassimoGiorniSelectedDays;\r\n\r\n      if ((this.numeroMinimoGiorniSelectedDays > 0 && daysSelectedCount < this.numeroMinimoGiorniSelectedDays) || (this.numeroMassimoGiorniSelectedDays > 0 && daysSelectedCount > this.numeroMassimoGiorniSelectedDays)) {\r\n        let errori: Errore[] = [];\r\n\r\n        if (this.numeroMinimoGiorniSelectedDays > 0 && daysSelectedCount < this.numeroMinimoGiorniSelectedDays) {\r\n          errori.push(new Errore('booking.durataMinimaSoggiorno', [new TranslateParameter(this.numeroMinimoGiorniSelectedDays.toString())]));\r\n        }\r\n\r\n        if (this.numeroMassimoGiorniSelectedDays > 0 && daysSelectedCount > this.numeroMassimoGiorniSelectedDays) {\r\n          errori.push(new Errore('booking.durataMassimaSoggiorno', [new TranslateParameter(this.numeroMassimoGiorniSelectedDays.toString())]));\r\n        }\r\n\r\n        return errori;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  dayHover(day: CalendarMonthViewDay) {\r\n    if (this.startDate != null && this.dateClicked) {\r\n      let date = this.getDate(day.date);\r\n      this.resetSelection();\r\n\r\n      let arrivo = moment(date) < moment(this.startDate) ? date : this.startDate;\r\n      let partenza = moment(date) < moment(this.startDate) ? this.startDate : date;\r\n\r\n      this.getPrezzoMinimo(arrivo, partenza);\r\n\r\n      if (this.isVisualizzaDisponibilitaCalendario) {\r\n        this.daysControlResetCurrent();\r\n        this.errors = this.controlDays(null, arrivo, partenza);\r\n      }\r\n\r\n      this.nights = Math.max(moment(partenza).diff(moment(arrivo), 'days'), 1);\r\n\r\n      for (let d = arrivo; d <= partenza; d = this.getDate(moment(d).add(1, 'day'))) {\r\n        let index = this.days.findIndex(x => this.getDate(x.date) == d);\r\n\r\n        if (index >= 0) {\r\n          if (!!this.notAvailableDate && moment(d) > moment(this.notAvailableDate)) {\r\n            this.days[index].cssClass = this.setCssClass(this.days[index].cssClass, 'not-selectable');\r\n          }\r\n\r\n          if (d == (moment(date) < moment(this.startDate) ? date : this.startDate)) {\r\n            this.days[index].cssClass = this.setCssClass(this.days[index].cssClass, 'first-selected-day');\r\n          }\r\n\r\n          if (d == (moment(date) < moment(this.startDate) ? this.startDate : date)) {\r\n            this.days[index].cssClass = this.setCssClass(this.days[index].cssClass, 'last-selected-day');\r\n          }\r\n\r\n          this.days[index].cssClass = this.setCssClass(this.days[index].cssClass, 'cal-day-outlined');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  resetSelection() {\r\n    this.prezzoMinimo = null;\r\n\r\n    if (this.days != null) {\r\n      for (let d of this.days) {\r\n        if (!!d.cssClass) {\r\n          d.cssClass = d.cssClass.replace('cal-day-outlined', '');\r\n          d.cssClass = d.cssClass.replace('cal-day-selected', '');\r\n\r\n          d.cssClass = d.cssClass.replace('first-selected-day', '');\r\n          d.cssClass = d.cssClass.replace('last-selected-day', '');\r\n\r\n          d.cssClass = d.cssClass.replace('not-selectable', '');\r\n\r\n          d.cssClass = d.cssClass.replace(/  +/g, ' ');\r\n        }\r\n\r\n        if (d.cssClass == '' || d.cssClass == ' ') {\r\n          delete d.cssClass;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  refreshSelection(days: CalendarMonthViewDay[]) {\r\n    if (!!this.rq.arrivo && !!this.rq.partenza) {\r\n      for (let d = this.rq.arrivo; moment(d) <= moment(this.rq.partenza); d = this.getDate(moment(d).add(1, 'day'))) {\r\n        let index = days.findIndex(x => this.getDate(x.date) == d);\r\n\r\n        if (index >= 0) {\r\n          if (d == this.rq.arrivo) {\r\n            days[index].cssClass = this.setCssClass(days[index].cssClass, 'first-selected-day');\r\n          }\r\n\r\n          if (d == this.rq.partenza) {\r\n            days[index].cssClass = this.setCssClass(days[index].cssClass, 'last-selected-day');\r\n          }\r\n\r\n          days[index].cssClass = this.setCssClass(days[index].cssClass, 'cal-day-selected');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  disablePastDays(days: CalendarMonthViewDay[]) {\r\n    for (let d = this.getDate(days[0].date); moment(d) < moment().startOf('day'); d = this.getDate(moment(d).add(1, 'day'))) {\r\n      let index = days.findIndex(x => this.getDate(x.date) == d);\r\n\r\n      if (index >= 0) {\r\n        days[index].cssClass = this.setCssClass(days[index].cssClass, 'cal-out-month disabled-day');\r\n      }\r\n    }\r\n  }\r\n\r\n  getDisponibilita(days: CalendarMonthViewDay[]) {\r\n    this.setIsLoading(true);\r\n    let rq = new GetDisponibilitaRQ();\r\n    rq.dal = this.getDate(days[0].date);\r\n    rq.al = this.getDate(days[days.length - 1].date);\r\n    rq.oidPortale = this.oidPortale;\r\n    rq.dayUse = this.dayUse;\r\n\r\n    this.apiService.getDisponibilita(rq).subscribe((res: GetDisponibilitaRS) => {\r\n      this.disponibilita = res.data.disponibilita;\r\n      this.tooltips.clear();\r\n      this.minPrices.clear();\r\n\r\n      for (let day of res.data.disponibilita) {\r\n        if (this.isVisualizzaDisponibilitaCalendario) {\r\n          let index = days.findIndex(x => this.getDate(x.date) == this.getDate(day.data));\r\n\r\n          if (index >= 0) {\r\n            days[index].cssClass = this.setCssClass(days[index].cssClass, day.cssClass);\r\n          }\r\n\r\n          if (!!day.cssClass) {\r\n            if (day.cssClass.includes('available')) {\r\n              this.tooltips.set(this.getDate(day.data), this.translationService.getTranslationSync('booking.disponibile'));\r\n            } else if (day.cssClass.includes('not-available')) {\r\n              this.tooltips.set(this.getDate(day.data), this.translationService.getTranslationSync('booking.nonDisponibile'));\r\n            } else if (day.cssClass.includes('limitations')) {\r\n              let ret: string = '';\r\n\r\n              if (day.durataMinimaSoggiorno > 0) {\r\n                ret = this.translationService.getTranslationSync('booking.durataMinimaSoggiorno', { value: day.durataMinimaSoggiorno });\r\n              }\r\n\r\n              if (day.durataMassimaSoggiorno > 0) {\r\n                let durataMassimaString = this.translationService.getTranslationSync('booking.durataMassimaSoggiorno', { value: day.durataMassimaSoggiorno });\r\n\r\n                if (!ret) {\r\n                  ret = durataMassimaString;\r\n                } else {\r\n                  ret += '\\n' + durataMassimaString;\r\n                }\r\n              }\r\n\r\n              this.tooltips.set(this.getDate(day.data), ret);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this.isVisualizzaPrezzoCalendario) {\r\n          this.minPrices.set(this.getDate(day.data), day.prezzoMin);\r\n        }\r\n      }\r\n\r\n      this.days = days;\r\n\r\n      if (this.isVisualizzaDisponibilitaCalendario && !this.urlSearchParametersReceived) {\r\n        let errors: Errore[] = null;\r\n        errors = this.controlDays();\r\n\r\n        if (errors != null && errors.length > 0) {\r\n          this.onSelectionError();\r\n          this.date = this.utility.toDate(moment());\r\n        }\r\n      }\r\n\r\n      this.disablePastDays(days);\r\n      this.refreshSelection(days);\r\n\r\n      if (!this.startDate && !this.dateClicked) {\r\n        this.checkDisabledButtons();\r\n      }\r\n\r\n      if (!this.controllingDisponibility) {\r\n        this.setIsLoading(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  setCssClass(cssClass: string, cssClassToAdd: string): string {\r\n    if (!cssClass) {\r\n      cssClass = cssClassToAdd;\r\n    } else if (!cssClass.includes(cssClassToAdd)) {\r\n      cssClass += ' ' + cssClassToAdd;\r\n    }\r\n\r\n    return cssClass;\r\n  }\r\n\r\n  onPaxChanged(camere: BookingSolutionRoomRQ[]) {\r\n    this.showSearchButton();\r\n    this.rq.camere = camere;\r\n    this.refresh.next();\r\n    this.getPrezzoMinimo();\r\n\r\n    if (!!this.arrivoUrl && !!this.partenzaUrl) {\r\n      setTimeout(() => {\r\n        this.controllaDisponibilita();\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  controllaDisponibilita() {\r\n    if (this.rq.arrivo != null && this.rq.partenza != null) {\r\n      this.searchButtonVisible = false;\r\n      this.daysSelected.emit(this.rq);\r\n    } else {\r\n      this.showError('booking.selezionaPeriodo');\r\n    }\r\n  }\r\n\r\n  addFrom() {\r\n    this.urlSearchParametersReceived = false;\r\n\r\n    if (!!this.rq.arrivo) {\r\n      this.rq.arrivo = this.getDate(moment(this.rq.arrivo).add(1, 'day'));\r\n\r\n      if (this.dayUse) {\r\n        this.rq.partenza = this.rq.arrivo;\r\n      }\r\n\r\n      this.getPrezzoMinimo();\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n      this.resetSelection();\r\n      this.refreshSelection(this.days);\r\n      this.checkDisabledButtons();\r\n      this.showSearchButton();\r\n    }\r\n  }\r\n\r\n  minusFrom() {\r\n    this.urlSearchParametersReceived = false;\r\n\r\n    if (!!this.rq.arrivo) {\r\n      this.rq.arrivo = this.getDate(moment(this.rq.arrivo).subtract(1, 'day'));\r\n\r\n      if (this.dayUse) {\r\n        this.rq.partenza = this.rq.arrivo;\r\n      }\r\n\r\n      this.getPrezzoMinimo();\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n      this.resetSelection();\r\n      this.refreshSelection(this.days);\r\n      this.checkDisabledButtons();\r\n      this.showSearchButton();\r\n    }\r\n  }\r\n\r\n  addTo() {\r\n    this.urlSearchParametersReceived = false;\r\n\r\n    if (!!this.rq.partenza) {\r\n      this.rq.partenza = this.getDate(moment(this.rq.partenza).add(1, 'day'));\r\n      this.getPrezzoMinimo();\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n      this.resetSelection();\r\n      this.refreshSelection(this.days);\r\n      this.checkDisabledButtons();\r\n      this.showSearchButton();\r\n    }\r\n  }\r\n\r\n  minusTo() {\r\n    this.urlSearchParametersReceived = false;\r\n\r\n    if (!!this.rq.partenza) {\r\n      this.rq.partenza = this.getDate(moment(this.rq.partenza).subtract(1, 'day'));\r\n      this.getPrezzoMinimo();\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n      this.resetSelection();\r\n      this.refreshSelection(this.days);\r\n      this.checkDisabledButtons();\r\n      this.showSearchButton();\r\n    }\r\n  }\r\n\r\n  checkDisabledAddFrom(): boolean {\r\n    if (!!this.rq.arrivo) {\r\n\r\n      if (!this.dayUse) {\r\n        if (this.nights <= 1) {\r\n          this.addFromButtonDisabled = true;\r\n          return true;\r\n        }\r\n      }\r\n\r\n      if (this.isVisualizzaDisponibilitaCalendario) {\r\n        if (this.dayUse) {\r\n          let newDate = moment(this.rq.arrivo).add(1, 'day');\r\n\r\n          let date = this.days.find(x => this.getDate(x.date) == this.getDate(newDate));\r\n\r\n          if (date == null) {\r\n            this.addFromButtonDisabled = true;\r\n            return true;\r\n          }\r\n\r\n          if (date.cssClass != null && date.cssClass.includes('not-available')) {\r\n            this.addFromButtonDisabled = true;\r\n            return true;\r\n          }\r\n\r\n          if (this.numeroMinimoGiorniSelectedDays > 1) {\r\n            this.addFromButtonDisabled = true;\r\n            return true;\r\n          }\r\n        } else {\r\n          if (this.numeroMinimoGiorniSelectedDays > 0) {\r\n            if (this.nights - 1 < this.numeroMinimoGiorniSelectedDays) {\r\n              this.addFromButtonDisabled = true;\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      this.addFromButtonDisabled = false;\r\n      return false;\r\n    }\r\n\r\n    this.addFromButtonDisabled = true;\r\n    return true;\r\n  }\r\n\r\n  checkDisabledMinusFrom(): boolean {\r\n    if (!!this.rq.arrivo) {\r\n      let newDate = moment(this.rq.arrivo).subtract(1, 'day');\r\n\r\n      if (newDate < moment().startOf('day')) {\r\n        this.minusFromButtonDisabled = true;\r\n        return true;\r\n      }\r\n\r\n      if (this.isVisualizzaDisponibilitaCalendario) {\r\n        let date = this.days.find(x => this.getDate(x.date) == this.getDate(newDate));\r\n\r\n        if (date == null) {\r\n          this.minusFromButtonDisabled = true;\r\n          return true;\r\n        }\r\n\r\n        if (date.cssClass != null && date.cssClass.includes('not-available')) {\r\n          this.minusFromButtonDisabled = true;\r\n          return true;\r\n        }\r\n\r\n        if (!this.dayUse) {\r\n          if (this.numeroMassimoGiorniSelectedDays > 0) {\r\n            if (this.nights + 1 > this.numeroMassimoGiorniSelectedDays) {\r\n              this.minusFromButtonDisabled = true;\r\n              return true;\r\n            }\r\n          }\r\n        } else {\r\n          if (this.numeroMinimoGiorniSelectedDays > 1) {\r\n            this.minusFromButtonDisabled = true;\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.minusFromButtonDisabled = false;\r\n      return false;\r\n    }\r\n\r\n    this.minusFromButtonDisabled = true;\r\n    return true;\r\n  }\r\n\r\n  checkDisabledAddTo(): boolean {\r\n    if (!!this.rq.partenza) {\r\n      if (this.isVisualizzaDisponibilitaCalendario) {\r\n        let date = this.days.find(x => this.getDate(x.date) == this.getDate(moment(this.rq.partenza).add(1, 'day')));\r\n\r\n        if (date == null) {\r\n          this.addToButtonDisabled = true;\r\n          return true;\r\n        }\r\n\r\n        let partenza = this.days.find(x => this.getDate(x.date) == this.getDate(this.rq.partenza));\r\n\r\n        if (partenza == null || (partenza.cssClass != null && partenza.cssClass.includes('not-available'))) {\r\n          this.addToButtonDisabled = true;\r\n          return true;\r\n        }\r\n\r\n        if (this.numeroMassimoGiorniSelectedDays > 0) {\r\n          if (this.nights + 1 > this.numeroMassimoGiorniSelectedDays) {\r\n            this.addToButtonDisabled = true;\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.addToButtonDisabled = false;\r\n      return false;\r\n    }\r\n\r\n    this.addToButtonDisabled = true;\r\n    return true;\r\n  }\r\n\r\n  checkDisabledMinusTo(): boolean {\r\n    if (!!this.rq.partenza) {\r\n      if (this.nights <= 1) {\r\n        this.minusToButtonDisabled = true;\r\n        return true;\r\n      }\r\n\r\n      if (this.isVisualizzaDisponibilitaCalendario) {\r\n        if (this.numeroMinimoGiorniSelectedDays > 0) {\r\n          if (this.nights - 1 < this.numeroMinimoGiorniSelectedDays) {\r\n            this.minusToButtonDisabled = true;\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.minusToButtonDisabled = false;\r\n      return false;\r\n    }\r\n\r\n    this.minusToButtonDisabled = true;\r\n    return true;\r\n  }\r\n\r\n  checkDisabledButtons() {\r\n    this.daysControlReset();\r\n    this.controlLimitations();\r\n    this.checkDisabledAddFrom();\r\n    this.checkDisabledAddTo();\r\n    this.checkDisabledMinusFrom();\r\n    this.checkDisabledMinusTo();\r\n  }\r\n\r\n  controlLimitations() {\r\n    for (let d = this.rq.arrivo; moment(d) <= moment(this.rq.partenza); d = this.getDate(moment(d).add(1, 'day'))) {\r\n      let index = this.days.findIndex(x => this.getDate(x.date) == d);\r\n\r\n      if (index >= 0) {\r\n        if (!!this.days[index].cssClass) {\r\n          if (this.days[index].cssClass.includes('limitations')) {\r\n            if (!this.isControllaDurateSoggiornoSulGiornoDiArrivo || d == this.rq.arrivo) {\r\n              let disp = this.disponibilita.find(x => this.getDate(x.data) == d);\r\n              this.numeroMinimoGiorniSelectedDays = Math.max(this.numeroMinimoGiorniSelectedDays, disp.durataMinimaSoggiorno);\r\n\r\n              if (this.numeroMassimoGiorniSelectedDays == null) {\r\n                this.numeroMassimoGiorniSelectedDays = disp.durataMassimaSoggiorno;\r\n              } else {\r\n                this.numeroMassimoGiorniSelectedDays = Math.min(this.numeroMassimoGiorniSelectedDays, disp.durataMassimaSoggiorno);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getPrezzoMinimo(arrivo?: string, partenza?: string) {\r\n    if ((!!this.rq.arrivo && !!this.rq.partenza) || (!!arrivo && !!partenza)) {\r\n      this.prezzoCalculated = false;\r\n\r\n      if (this.prezzoMinimoRequest != null) {\r\n        this.prezzoMinimoRequest.unsubscribe();\r\n      }\r\n\r\n      let rq = new GetPrezzoMinimoRQ(this.adultiDefault);\r\n\r\n      if (!!this.rq.arrivo && !!this.rq.partenza) {\r\n        rq.arrivo = this.rq.arrivo;\r\n        rq.partenza = this.rq.partenza;\r\n      } else {\r\n        rq.arrivo = arrivo;\r\n        rq.partenza = partenza;\r\n      }\r\n\r\n      rq.oidMotivoViaggio = this.rq.oidMotivoViaggio;\r\n      rq.oidPortale = this.oidPortale;\r\n      rq.isDayUse = this.dayUse;\r\n      rq.camere = this.rq.camere;\r\n\r\n      this.prezzoMinimo = null;\r\n\r\n      this.prezzoMinimoRequest = this.apiService.getPrezzoMinimo(rq).subscribe((res: WebApiResponse) => {\r\n        this.prezzoMinimo = res.data;\r\n        this.prezzoCalculated = true;\r\n      });\r\n    }\r\n  }\r\n\r\n  addFromMobile() {\r\n    this.urlSearchParametersReceived = false;\r\n\r\n    if (!!this.rq.arrivo) {\r\n      this.rq.arrivo = this.getDate(moment(this.rq.arrivo).add(1, 'day'));\r\n\r\n      if (this.dayUse) {\r\n        this.rq.partenza = this.rq.arrivo;\r\n      }\r\n\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n      this.checkDisabledButtonsMobile();\r\n      this.showSearchButton();\r\n    }\r\n  }\r\n\r\n  minusFromMobile() {\r\n    this.urlSearchParametersReceived = false;\r\n\r\n    if (!!this.rq.arrivo) {\r\n      this.rq.arrivo = this.getDate(moment(this.rq.arrivo).subtract(1, 'day'));\r\n\r\n      if (this.dayUse) {\r\n        this.rq.partenza = this.rq.arrivo;\r\n      }\r\n\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n      this.checkDisabledButtonsMobile();\r\n      this.showSearchButton();\r\n    }\r\n  }\r\n\r\n  addToMobile() {\r\n    this.urlSearchParametersReceived = false;\r\n\r\n    if (!!this.rq.partenza) {\r\n      this.rq.partenza = this.getDate(moment(this.rq.partenza).add(1, 'day'));\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n      this.checkDisabledButtonsMobile();\r\n      this.showSearchButton();\r\n    }\r\n  }\r\n\r\n  minusToMobile() {\r\n    this.urlSearchParametersReceived = false;\r\n\r\n    if (!!this.rq.partenza) {\r\n      this.rq.partenza = this.getDate(moment(this.rq.partenza).subtract(1, 'day'));\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n      this.checkDisabledButtonsMobile();\r\n      this.showSearchButton();\r\n    }\r\n  }\r\n\r\n  checkDisabledAddFromMobile(): boolean {\r\n    if (!!this.rq.arrivo) {\r\n      if (!this.dayUse) {\r\n        if (this.nights <= 1) {\r\n          this.addFromButtonDisabled = true;\r\n          return true;\r\n        }\r\n      }\r\n\r\n      this.addFromButtonDisabled = false;\r\n      return false;\r\n    }\r\n\r\n    this.addFromButtonDisabled = true;\r\n    return true;\r\n  }\r\n\r\n  checkDisabledMinusFromMobile(): boolean {\r\n    if (!!this.rq.arrivo) {\r\n      let newDate = moment(this.rq.arrivo).subtract(1, 'day');\r\n\r\n      if (newDate < moment().startOf('day')) {\r\n        this.minusFromButtonDisabled = true;\r\n        return true;\r\n      }\r\n\r\n      this.minusFromButtonDisabled = false;\r\n      return false;\r\n    }\r\n\r\n    this.minusFromButtonDisabled = true;\r\n    return true;\r\n  }\r\n\r\n  checkDisabledMinusToMobile(): boolean {\r\n    if (!!this.rq.partenza) {\r\n      let newDate = moment(this.rq.partenza).subtract(1, 'day');\r\n\r\n      if (newDate < moment().startOf('day')) {\r\n        this.minusToButtonDisabled = true;\r\n        return true;\r\n      }\r\n\r\n      if (this.nights <= 1) {\r\n        this.minusToButtonDisabled = true;\r\n        return true;\r\n      }\r\n\r\n      this.minusToButtonDisabled = false;\r\n      return false;\r\n    }\r\n\r\n    this.minusToButtonDisabled = true;\r\n    return true;\r\n  }\r\n\r\n  checkDisabledButtonsMobile() {\r\n    this.checkDisabledAddFromMobile();\r\n    this.checkDisabledMinusFromMobile();\r\n    this.checkDisabledMinusToMobile();\r\n  }\r\n\r\n  onArrivoChange(value: any) {\r\n    this.urlSearchParametersReceived = false;\r\n    this.rq.arrivo = this.getDate(value);\r\n\r\n    if (!!this.rq.arrivo && moment(this.rq.arrivo) < moment().startOf('day')) {\r\n      this.rq.arrivo = this.getDate(moment());\r\n    }\r\n\r\n    this.calcolaNotti();\r\n\r\n    if (!this.dayUse) {\r\n      if (this.nights <= 1) {\r\n        this.rq.partenza = this.getDate(moment(this.rq.arrivo).add(1, 'day'));\r\n      }\r\n    } else {\r\n      this.rq.partenza = this.rq.arrivo;\r\n    }\r\n\r\n    this.checkDisabledButtonsMobile();\r\n    this.showSearchButton();\r\n\r\n    setTimeout(() => {\r\n      this.arrivoDate = null;\r\n    }, 200);\r\n  }\r\n\r\n  onPartenzaChange(value: any) {\r\n    this.urlSearchParametersReceived = false;\r\n    this.rq.partenza = this.getDate(value);\r\n\r\n    if (!!this.rq.partenza && moment(this.rq.partenza) < moment().add(1, 'day').startOf('day')) {\r\n      this.rq.partenza = this.getDate(moment().add(1, 'day'));\r\n    }\r\n\r\n    this.calcolaNotti();\r\n\r\n    if (this.nights <= 1) {\r\n      this.rq.arrivo = this.getDate(moment(this.rq.partenza).subtract(1, 'day'));\r\n    }\r\n\r\n    this.checkDisabledButtonsMobile();\r\n    this.showSearchButton();\r\n\r\n    setTimeout(() => {\r\n      this.partenzaDate = null;\r\n    }, 200);\r\n  }\r\n\r\n  calcolaNotti() {\r\n    if (!!this.rq.arrivo && !!this.rq.partenza) {\r\n      this.nights = Math.max(moment(this.rq.partenza).diff(moment(this.rq.arrivo), 'days'), 1);\r\n    } else {\r\n      this.nights = null;\r\n    }\r\n  }\r\n\r\n  showSearchButton() {\r\n    let searchButtonVisibleOld = this.searchButtonVisible;\r\n\r\n    this.searchButtonVisible = true;\r\n\r\n    if (!searchButtonVisibleOld && this.rq.arrivo != null && this.rq.partenza != null) {\r\n      this.blinkStatus = 'dark';\r\n      this.blinkStatus = 'light';\r\n\r\n      setTimeout(() => {\r\n        this.blinkStatus = 'dark';\r\n        this.blinkStatus = null;\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  sendRequest() {\r\n    let dialogOptions = new DialogOptions();\r\n\r\n    if (this.containerService.dimension.width >= this.mobileBreakpoint) {\r\n      dialogOptions.width = '80vw';\r\n    } else {\r\n      dialogOptions.width = '95vw';\r\n    }\r\n\r\n    dialogOptions.minHeight = '80vh';\r\n    dialogOptions.maxHeight = '95vh';\r\n    dialogOptions.panelClass = 'booking-dialog-no-padding';\r\n\r\n    let ref = this.showModalDialog(RichiesteAddComponent, dialogOptions);\r\n    let component = <RichiesteAddComponent>ref.componentInstance;\r\n    component.dialogRef = ref;\r\n    component.oidAlbergo = this.oidAlbergo;\r\n    component.oidPortale = this.oidPortale;\r\n    component.language = this.lingua;\r\n    component.booking = true;\r\n\r\n    if (this.sessionService.sessione != null && this.sessionService.sessione.clienteMySelf != null) {\r\n      let cliente = new Cliente();\r\n      cliente.nome = this.sessionService.sessione.clienteMySelf.nome;\r\n      cliente.cognome = this.sessionService.sessione.clienteMySelf.cognome;\r\n      cliente.email = this.sessionService.sessione.clienteMySelf.email;\r\n      cliente.cellulare = this.sessionService.sessione.clienteMySelf.cellulare;\r\n      component.cliente = cliente;\r\n    }\r\n  }\r\n\r\n  openCodicePromozioneSelect() {\r\n    this.setIsLoading(true);\r\n\r\n    let rq = new GetCodiciPromozioneValidiRQ();\r\n    rq.arrivo = this.rq.arrivo;\r\n    rq.partenza = this.rq.partenza;\r\n    rq.oidAlbergo = this.sessionService.getOidAlbergo();\r\n    rq.oidPortale = this.oidPortale;\r\n    rq.oidTipoCameraOTA = this.oidTipoCameraOTA;\r\n    rq.oidTariffaOTA = this.oidTariffaOTA;\r\n\r\n    this.apiService.getCodiciPromozioneValidi(rq).subscribe(rs => {\r\n      this.setIsLoading(false);\r\n\r\n      if (rs.data != null && rs.data.length > 0) {\r\n        let dialogOptions = new DialogOptions();\r\n        dialogOptions.width = '40vw';\r\n\r\n        let ref = this.showModalDialog(ViewSelectDialogComponent, dialogOptions);\r\n        let component = <ViewSelectDialogComponent>ref.componentInstance;\r\n\r\n        component.dialogRef = ref;\r\n        component.title = 'sbm.calcolaRetta.codicePromozione';\r\n        component.data = rs.data;\r\n        component.displayMember = 'codice';\r\n\r\n        ref.afterClosed().subscribe((x: CodicePromozione) => {\r\n          if (x) {\r\n            this.rq.codicePromozione = x.codice;\r\n          }\r\n        });\r\n      } else {\r\n        this.showError('sbm.calcolaRetta.nessunCodicePromozioneValido');\r\n      }\r\n    });\r\n  }\r\n\r\n  nightsSelected(notti: number) {\r\n    this.rq.arrivo = this.startDate;\r\n    this.rq.partenza = this.getDate(moment(this.startDate).add(notti, 'days'));\r\n    this.dateClicked = false;\r\n    this.startDate = null;\r\n    this.nights = notti;\r\n    this.resetSelection();\r\n    this.refreshSelection(this.days);\r\n    this.showSearchButton();\r\n    this.checkDisabledButtons();\r\n    this.getPrezzoMinimo();\r\n    this.showNightsSelect = false;\r\n    this.controllaDisponibilita();\r\n  }\r\n\r\n  nightsChange() {\r\n    this.setIsLoading(true);\r\n\r\n    let getDisponibilitaNottiRQ = new GetDisponibilitaNottiRQ();\r\n    getDisponibilitaNottiRQ.oidPortale = this.oidPortale;\r\n    getDisponibilitaNottiRQ.arrivo = this.startDate;\r\n    getDisponibilitaNottiRQ.notti = this.disponibilitaNotti[this.disponibilitaNotti.length - 1].notti;\r\n\r\n    this.apiService.getDisponibilitaNotti(getDisponibilitaNottiRQ).subscribe(getDisponibilitaNottiRS => {\r\n      if (getDisponibilitaNottiRS.data != null && getDisponibilitaNottiRS.data.length == 1) {\r\n        this.disponibilitaNotti[this.disponibilitaNotti.length - 1] = getDisponibilitaNottiRS.data[0];\r\n      }\r\n\r\n      this.setIsLoading(false);\r\n    });\r\n  }\r\n\r\n  nightsSelectionBack() {\r\n    this.onSelectionError();\r\n    this.notAvailableDate = null;\r\n    this.showNightsSelect = false;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.sub.unsubscribe();\r\n\r\n    if (this.sub1 != null) {\r\n      this.sub1.unsubscribe();\r\n    }\r\n\r\n    if (this.sub2 != null) {\r\n      this.sub2.unsubscribe();\r\n    }\r\n\r\n    this.refresh.complete();\r\n  }\r\n}","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { CalendarModule } from 'angular-calendar';\nimport { TooltipModule } from 'ng2-tooltip-directive-major-angular-updates';\n\nimport { InterfacesModule } from '../interfaces/interfaces.module';\nimport { SharedModule } from '../shared/shared.module';\nimport { BookingCalendarComponent } from './booking-calendar/booking-calendar.component';\nimport { BookingRoomSelectComponent } from './booking-room-select/booking-room-select.component';\n\n@NgModule({\n  declarations: [\n    BookingCalendarComponent,\n    BookingRoomSelectComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    InterfacesModule,\n    CalendarModule,\n    TooltipModule\n  ],\n  exports: [\n    BookingCalendarComponent\n  ]\n})\nexport class BookingSharedModule { }\n","<button mat-icon-button (click)=\"cancel()\" class=\"modal-close-button\" [disableRipple]=\"true\">\r\n    <i class=\"material-icons-round\">clear</i>\r\n</button>\r\n\r\n<app-autocomplete [resetSubject]=\"resetSubject\" [dataLoader]=\"dataLoader\" [viewProperties]=\"['nome', 'cognome', 'email']\" [formatString]=\"'<b>#0 #1</b> #2'\" [viewPropertiesSelected]=\"['nome', 'cognome']\" [searchProperties]=\"[['nome', 'cognome'], ['cognome'], ['email'], ['cellulare']]\"\r\n    [label]=\"'globals.ricercaCliente' | translate\" [selected]=\"selectedCliente\" (updateOptionsEvent)=\"onUpdateOptions($event)\" (optionSelectedEvent)=\"onOptionSelected($event)\">\r\n</app-autocomplete>\r\n\r\n<mat-tab-group class=\"dialog-tab-group\" [(selectedIndex)]=\"tabIndex\">\r\n    <mat-tab [label]=\"'globals.dati' | translate\">\r\n        <div class=\"row no-gutters mt-3\">\r\n            <div class=\"col-4 pr-2\">\r\n                <mat-form-field class=\"w-100\">\r\n                    <input autocompleteOff type=\"text\" matInput placeholder=\"{{ 'bo.cliente.proprieta.cognome' | translate}}\" [(ngModel)]=\"_cliente.cognome\" (ngModelChange)=\"reset()\" (input)=\"onCognomeChange()\" required>\r\n                </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"col-4 pr-2 pl-2\">\r\n                <mat-form-field class=\"w-100\">\r\n                    <input autocompleteOff type=\"text\" matInput placeholder=\"{{ 'bo.cliente.proprieta.nome' | translate}}\" [(ngModel)]=\"_cliente.nome\" (ngModelChange)=\"reset()\" (input)=\"onNomeChange()\">\r\n                </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"col-4 pl-2\">\r\n                <mat-form-field class=\"w-100\">\r\n                    <mat-select [(ngModel)]=\"_cliente.tipoAnagrafica\" placeholder=\"{{ 'bo.cliente.proprieta.tipoAnagrafica' | translate }}\" (selectionChange)=\"reset()\">\r\n                        <mat-option *ngFor=\"let item of enumTipoAnagrafica | selectEnum: 'tipoAnagrafica'\" [value]=\"item.key\">\r\n                            {{ item.value | translate }}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row no-gutters\">\r\n            <div class=\"col-6 pr-2\">\r\n                <mat-form-field class=\"w-100\">\r\n                    <input autocompleteOff type=\"email\" matInput placeholder=\"{{ 'bo.cliente.proprieta.email' | translate}}\" [(ngModel)]=\"_cliente.email\" (ngModelChange)=\"reset()\" required>\r\n                </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"col-6 pl-2\">\r\n                <mat-form-field class=\"w-100\">\r\n                    <input autocompleteOff type=\"text\" matInput placeholder=\"{{ 'bo.cliente.proprieta.cellulare' | translate}}\" [(ngModel)]=\"_cliente.cellulare\" (ngModelChange)=\"reset()\">\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row no-gutters\">\r\n            <div class=\"col-6 pr-2\">\r\n                <app-view-select [dataLoader]=\"apiService.getLingueViewSelect(null, false)\" displayMember=\"nome\" [(value)]=\"_cliente.lingua\" (valueChange)=\"reset()\" [placeholder]=\"'bo.cliente.proprieta.lingua' | translate\" [required]=\"true\"></app-view-select>\r\n            </div>\r\n\r\n            <div class=\"col-6 pl-2\">\r\n                <app-view-select [dataLoader]=\"apiService.getNazioniViewSelect()\" displayMember=\"nomeItaliano\" [(value)]=\"_cliente.nazioneObject\" (valueChange)=\"reset()\" [placeholder]=\"'bo.cliente.proprieta.nazione' | translate\"></app-view-select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row no-gutters\">\r\n            <div class=\"col-6 pr-2\">\r\n                <app-view-select [dataLoader]=\"apiService.getParametriRicercaViewSelect(getParametriRicercaMercatoRQ)\" displayMember=\"descrizione\" [(value)]=\"_cliente.mercato\" (valueChange)=\"reset()\" [placeholder]=\"'bo.cliente.proprieta.mercato' | translate\"></app-view-select>\r\n            </div>\r\n\r\n            <div class=\"col-6 pl-2\">\r\n                <app-view-select [dataLoader]=\"apiService.getParametriRicercaViewSelect(getParametriRicercaCanaleVenditaRQ)\" displayMember=\"descrizione\" [(value)]=\"_cliente.canaleVendita\" (valueChange)=\"reset()\" [placeholder]=\"'bo.cliente.proprieta.canaleVendita' | translate\"></app-view-select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row no-gutters\">\r\n            <div class=\"col-6 pr-2\">\r\n                <app-view-select [dataLoader]=\"apiService.getTipiClienteViewSelect()\" displayMember=\"nome\" [(value)]=\"_cliente.tipologia\" (valueChange)=\"reset()\" [placeholder]=\"'bo.cliente.proprieta.tipologia' | translate\"></app-view-select>\r\n            </div>\r\n\r\n            <div class=\"col-6 pl-2\">\r\n                <mat-form-field class=\"w-100\">\r\n                    <input autocompleteOff type=\"number\" matInput placeholder=\"{{ 'bo.cliente.proprieta.sconto' | translate}}\" [(ngModel)]=\"_cliente.sconto\" (ngModelChange)=\"reset(); _cliente.sconto = utility.clamp(_cliente.sconto, 0, 100);\">\r\n                </mat-form-field>\r\n            </div>\r\n        </div>\r\n\r\n        <div>{{ 'bo.cliente.proprieta.note' | translate}}</div>\r\n\r\n        <textarea class=\"border rounded p-3 w-100\" rows=\"5\" [(ngModel)]=\"_cliente.note\"></textarea>\r\n\r\n        <div class=\"row no-gutters mt-2\">\r\n            <div class=\"col-6 pr-2\">\r\n                <mat-checkbox color=\"primary\" [(ngModel)]=\"_cliente.privacy\">{{'bo.cliente.proprieta.privacy' | translate}}\r\n                </mat-checkbox>\r\n            </div>\r\n\r\n            <div class=\"col-6 pl-2\">\r\n                <mat-checkbox color=\"primary\" [(ngModel)]=\"_cliente.newsletter\">{{'bo.cliente.proprieta.newsletter' | translate}}\r\n                </mat-checkbox>\r\n            </div>\r\n        </div>\r\n    </mat-tab>\r\n\r\n    <mat-tab [label]=\"'globals.storico' | translate\" *ngIf=\"_cliente != null && _cliente.oid > 0\">\r\n        <div class=\"storico-container mt-3\" *ngIf=\"tabIndex == 1\">\r\n            <app-storico-cliente [oidCliente]=\"_cliente.oid\" [small]=\"true\"></app-storico-cliente>\r\n        </div>\r\n    </mat-tab>\r\n</mat-tab-group>\r\n\r\n<div class=\"mt-3 text-right\">\r\n    <button mat-flat-button class=\"mr-1\" color=\"primary\" (click)=\"save()\">{{ 'globals.salva' | translate}}</button>\r\n    <!--<button mat-flat-button color=\"blank\" (click)=\"cancel()\">{{ 'globals.annulla' | translate}}</button>-->\r\n</div>","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\r\nimport { Subject } from 'rxjs';\r\nimport { SessionService } from 'src/app/core/session.service';\r\nimport { BaseComponent } from 'src/app/interfaces/base-component/base-component';\r\nimport { ViewSelectDialogComponent } from 'src/app/interfaces/view-select/view-select-dialog/view-select-dialog.component';\r\nimport { Albergo, Cliente, Lingua } from 'src/app/shared/models/bo.model';\r\nimport {\r\n  AutocompleteDataLoader,\r\n  DialogOptions,\r\n  Filter,\r\n  Sorting,\r\n  WebApiRequestFilter,\r\n  WebApiResponseFilter,\r\n  WebApiResponseUpdate,\r\n} from 'src/app/shared/models/dto';\r\nimport {\r\n  CriteriaOperator,\r\n  FilterValueType,\r\n  LettereMaiuscole,\r\n  TipoAnagrafica,\r\n  TipoParametroRicerca,\r\n} from 'src/app/shared/models/enum';\r\nimport { ApiService } from 'src/app/shared/services/api.service';\r\nimport { UtilityService } from 'src/app/shared/services/utility.service';\r\n\r\n@Component({\r\n  selector: 'app-cliente-select',\r\n  templateUrl: './cliente-select.component.html',\r\n  styleUrls: ['./cliente-select.component.scss']\r\n})\r\nexport class ClienteSelectComponent extends BaseComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() dialogRef: MatDialogRef<{}, any>;\r\n\r\n  @Input() set cliente(value: Cliente) {\r\n    if (value != null && value.oid > 0) {\r\n      this._cliente = value;\r\n      this.selectedCliente = value;\r\n\r\n      if (!!value.nazione) {\r\n        let rq = WebApiRequestFilter.fromFilter('nomeItaliano', CriteriaOperator.Equal, value.nazione, FilterValueType.String);\r\n\r\n        this.apiService.getNazioniFilter(rq).subscribe((res: WebApiResponseFilter) => {\r\n          if (res.data.length > 0) {\r\n            value.nazioneObject = res.data[0];\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      this._cliente = new Cliente();\r\n      this.selectedCliente = new Cliente();\r\n    }\r\n  };\r\n\r\n  @Input() linguaDefault: Lingua;\r\n\r\n  public _cliente: Cliente = new Cliente();\r\n  public selectedCliente: Cliente = new Cliente();\r\n  public dataLoader: AutocompleteDataLoader;\r\n  public resetSubject: Subject<void> = new Subject();\r\n  public getParametriRicercaMercatoRQ = WebApiRequestFilter.fromFilters([new Filter('tipoParametro', CriteriaOperator.Equal, TipoParametroRicerca.Mercato.toString(), FilterValueType.Number), new Filter('isAttivo', CriteriaOperator.IsTrue)], new Sorting('ordinamento'));\r\n  public getParametriRicercaCanaleVenditaRQ = WebApiRequestFilter.fromFilters([new Filter('tipoParametro', CriteriaOperator.Equal, TipoParametroRicerca.CanaleVendita.toString(), FilterValueType.Number), new Filter('isAttivo', CriteriaOperator.IsTrue)], new Sorting('ordinamento'));\r\n  public tabIndex: number = 0;\r\n  public lettereMaiuscoleAnagrafica: LettereMaiuscole;\r\n  public enumTipoAnagrafica = TipoAnagrafica;\r\n\r\n  constructor(public apiService: ApiService,\r\n    private sessionService: SessionService,\r\n    private utilityService: UtilityService,\r\n    public utility: UtilityService) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this._cliente.oid == null || this._cliente.oid <= 0) {\r\n      this._cliente.lingua = this.linguaDefault;\r\n      this.selectedCliente.lingua = this.linguaDefault;\r\n    }\r\n\r\n    this.lettereMaiuscoleAnagrafica = this.sessionService.getLettereMaiuscoleAnagrafica();\r\n  }\r\n\r\n  save() {\r\n    if (!!this._cliente.cognome && !!this._cliente.email && this._cliente.lingua != null && this._cliente.lingua.oid > 0) {\r\n      if (this.utilityService.validateEmail(this._cliente.email)) {\r\n        if (this._cliente.oid > 0) {\r\n          this.setIsLoading(true);\r\n\r\n          this.apiService.setCliente(this._cliente).subscribe((res: WebApiResponseUpdate) => {\r\n            this.setIsLoading(false);\r\n            this.dialogRef.close(res.data.obj);\r\n          });\r\n        } else {\r\n          this.setIsLoading(true);\r\n\r\n          this.apiService.getClientiFilter(WebApiRequestFilter.fromFilter('email', CriteriaOperator.Equal, this._cliente.email, FilterValueType.String)).subscribe((clientiRS: WebApiResponseFilter) => {\r\n            if (clientiRS.data.length > 0) {\r\n              this.setIsLoading(false);\r\n\r\n              this.showError('sbm.preventivi.emailGiaUtilizzata').then(() => {\r\n                let dialogOptions = new DialogOptions();\r\n                dialogOptions.width = '40vw';\r\n                dialogOptions.disableClose = true;\r\n\r\n                let ref = this.showModalDialog(ViewSelectDialogComponent, dialogOptions);\r\n                let component = <ViewSelectDialogComponent>ref.componentInstance;\r\n\r\n                component.dialogRef = ref;\r\n                component.title = 'globals.cliente';\r\n                component.data = clientiRS.data;\r\n                component.displayMembers = ['nome', 'cognome', 'email', 'cellulare'];\r\n                component.showFilter = false;\r\n\r\n                ref.afterClosed().subscribe((x: Cliente) => {\r\n                  if (x) {\r\n                    this._cliente = x;\r\n                    this.selectedCliente = x;\r\n\r\n                    if (!!x.nazione) {\r\n                      let rq = WebApiRequestFilter.fromFilter('nomeItaliano', CriteriaOperator.Equal, x.nazione, FilterValueType.String);\r\n\r\n                      this.apiService.getNazioniFilter(rq).subscribe((res: WebApiResponseFilter) => {\r\n                        if (res.data.length > 0) {\r\n                          x.nazioneObject = res.data[0];\r\n                        }\r\n                      });\r\n                    }\r\n                  } else {\r\n                    this._cliente.email = '';\r\n                  }\r\n                });\r\n              });\r\n            } else {\r\n              this._cliente.albergo = new Albergo(this.sessionService.getOidAlbergo());\r\n\r\n              this.apiService.setCliente(this._cliente).subscribe((res: WebApiResponseUpdate) => {\r\n                this.setIsLoading(false);\r\n                this.dialogRef.close(res.data.obj);\r\n              });\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        this.showError('globals.messages.emailNonValida');\r\n      }\r\n    } else {\r\n      this.showError('globals.messages.inserireDati');\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    this.dialogRef.close(new Cliente(-1));\r\n  }\r\n\r\n  reset() {\r\n    if (this._cliente.oid == -1) {\r\n      this.resetSubject.next();\r\n    }\r\n  }\r\n\r\n  onOptionSelected(cliente: Cliente) {\r\n    this._cliente = cliente;\r\n\r\n    if (cliente != null && cliente.oid > 0) {\r\n      if (!!cliente.nazione) {\r\n        let rq = WebApiRequestFilter.fromFilter('nomeItaliano', CriteriaOperator.Equal, cliente.nazione, FilterValueType.String);\r\n\r\n        this.apiService.getNazioniFilter(rq).subscribe((res: WebApiResponseFilter) => {\r\n          if (res.data.length > 0) {\r\n            cliente.nazioneObject = res.data[0];\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  onUpdateOptions(rq: WebApiRequestFilter) {\r\n    this.dataLoader = new AutocompleteDataLoader(this.apiService.getClientiFilter(rq));\r\n  }\r\n\r\n  onNomeChange() {\r\n    if (!!this._cliente.nome) {\r\n      this._cliente.nome = this.onNomeCognomeChange(this._cliente.nome);\r\n    }\r\n  }\r\n\r\n  onCognomeChange() {\r\n    if (!!this._cliente.cognome) {\r\n      this._cliente.cognome = this.onNomeCognomeChange(this._cliente.cognome);\r\n    }\r\n  }\r\n\r\n  onNomeCognomeChange(value: string): string {\r\n    if (this.lettereMaiuscoleAnagrafica == LettereMaiuscole.Iniziale) {\r\n      return !!value ? (value[0].toUpperCase() + value.substring(1).toLowerCase()) : '';\r\n    } else if (this.lettereMaiuscoleAnagrafica == LettereMaiuscole.TuttoMaiuscolo) {\r\n      return value.toUpperCase();\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.resetSubject.complete();\r\n  }\r\n}","<div id=\"richiesta\" class=\"container-fluid w-100 p-4\" [ngClass]=\"{'h-100': !modal}\">\r\n    <ng-container *ngIf=\"initialized\">\r\n        <h4 class=\"mb-2 text-center\">{{ ('interfaces.form-v1.' + (model.isDayUse ? 'richiestaDayUse' : 'richiesta')) | translate}}</h4>\r\n\r\n        <div class=\"banner pt-2 pb-2 pr-3 pl-3 mb-2 font-weight-bold\" [style.backgroundColor]=\"coloreBanner\" [appInvertColor]=\"coloreBanner\" *ngIf=\"!!banner\">\r\n            {{banner}}\r\n        </div>\r\n\r\n        <div class=\"p-3 room-select-container border\">\r\n            <mat-form-field class=\"w-100\" *ngIf=\"!oidPortaleReceived\">\r\n                <mat-select [(ngModel)]=\"oidPortale\" (selectionChange)=\"onPortaleChange()\" [placeholder]=\"'interfaces.form-v1.portale' | translate\" [panelClass]=\"booking ? 'booking-select' : ''\">\r\n                    <mat-option *ngFor=\"let portale of portaliList\" [value]=\"portale.oid\">\r\n                        {{portale.nome}}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n\r\n            <div class=\"row\" *ngIf=\"!model.isDayUse\">\r\n                <div class=\"col-6\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <input autocompleteOff class=\"dal\" type=\"text\" matInput [matDatepicker]=\"dal\" placeholder=\"{{ 'interfaces.form-v1.dal' | translate}}\" [(ngModel)]=\"model.dal\" [min]=\"minDate\" [max]=\"portale?.dataFineGestione\" (dateChange)=\"onArrivoChange()\" (click)=\"dal.open()\"\r\n                            required readonly>\r\n                        <mat-datepicker-toggle matSuffix [for]=\"dal\"></mat-datepicker-toggle>\r\n                        <mat-datepicker #dal [panelClass]=\"booking ? 'booking-datepicker' : ''\"></mat-datepicker>\r\n                    </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"col-6\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <input autocompleteOff class=\"al\" type=\"text\" matInput [matDatepicker]=\"al\" placeholder=\"{{ 'interfaces.form-v1.al' | translate}}\" [(ngModel)]=\"model.al\" [min]=\"minDate\" [max]=\"portale?.dataFineGestione\" (dateChange)=\"onPartenzaChange()\" (click)=\"al.open()\"\r\n                            required readonly>\r\n                        <mat-datepicker-toggle matSuffix [for]=\"al\"></mat-datepicker-toggle>\r\n                        <mat-datepicker #al [panelClass]=\"booking ? 'booking-datepicker' : ''\"></mat-datepicker>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n\r\n            <mat-form-field class=\"w-100\" *ngIf=\"model.isDayUse\">\r\n                <input autocompleteOff class=\"data\" type=\"text\" matInput [matDatepicker]=\"dataDatePicker\" placeholder=\"{{ 'interfaces.form-v1.data' | translate}}\" [(ngModel)]=\"data\" [min]=\"minDate\" [max]=\"portale?.dataFineGestione\" (dateChange)=\"onDataChange()\" (click)=\"dataDatePicker.open()\"\r\n                    required readonly>\r\n                <mat-datepicker-toggle matSuffix [for]=\"dataDatePicker\"></mat-datepicker-toggle>\r\n                <mat-datepicker #dataDatePicker [panelClass]=\"booking ? 'booking-datepicker' : ''\"></mat-datepicker>\r\n            </mat-form-field>\r\n\r\n            <div class=\"row mb-1 d-none d-sm-flex\">\r\n                <div class=\"col-25 offset-6 text-center div-adulti\">\r\n                    <span class=\"font-weight-bold adultiBambini\">{{'interfaces.form-v1.adulti' | translate}}</span>\r\n                </div>\r\n\r\n                <div class=\"col-25 text-center div-bambini\" *ngIf=\"!isDisattivaRichiestaBambini\">\r\n                    <span class=\"font-weight-bold adultiBambini\">{{'interfaces.form-v1.bambini' | translate}}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <ng-container *ngFor=\"let camera of model.camere; let i = index;\">\r\n                <div class=\"row mb-4 mb-sm-3 mt-3 mt-sm-0\">\r\n                    <div class=\"col-3 col-sm-2 pr-0 pt-1 pb-1\">\r\n                        <div class=\"font-weight-bold mt-1 camera\">\r\n                            <span class=\"d-none d-sm-inline\">{{('interfaces.form-v1.camera' | translate) + ' ' + (i + 1)}}</span>\r\n                            <span class=\"d-inline d-sm-none\">{{('interfaces.form-v1.cam' | translate) + ' ' + (i + 1)}}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-4 col-sm-2 text-center pr-1 pl-1\">\r\n                        <mat-form-field class=\"formv1-select w-100\" *ngIf=\"isVisualizzaTipoCamera && tipiCameraOTAPortale.length > 0\">\r\n                            <mat-select [panelClass]=\"booking ? ['booking-select', 'unlimited-width-select'] : 'unlimited-width-select'\" [value]=\"camera.tipoCameraOTA\" [compareWith]=\"compareWithOid\" (selectionChange)=\"onTipoCameraChange(camera, $event.value)\" [placeholder]=\"'interfaces.form-v1.tipoCamera' | translate\"\r\n                                [required]=\"tipoCameraRequired\" [matTooltip]=\"camera.nomeTipoCamera\">\r\n                                <mat-option [value]=\"{oid: -1}\" *ngIf=\"!tipoCameraRequired\"></mat-option>\r\n\r\n                                <mat-option *ngFor=\"let tipoCamera of tipiCameraOTAPortale\" [value]=\"tipoCamera\">\r\n                                    {{tipoCamera.nome}}\r\n                                </mat-option>\r\n                            </mat-select>\r\n                        </mat-form-field>\r\n                    </div>\r\n\r\n                    <div class=\"col-4 col-sm-2 text-center pr-1 pl-1\">\r\n                        <mat-form-field class=\"formv1-select w-100\" *ngIf=\"isVisualizzaTrattamento && tariffeOTAPortale.length > 0\">\r\n                            <mat-select [panelClass]=\"booking ? 'booking-select' : ''\" [(ngModel)]=\"camera.tariffaOTA.oid\" [placeholder]=\"'interfaces.form-v1.tariffa' | translate\" [required]=\"tariffaRequired\">\r\n                                <mat-option [value]=\"-1\" *ngIf=\"!tariffaRequired\"></mat-option>\r\n\r\n                                <ng-container *ngFor=\"let tariffa of tariffeOTAPortale\">\r\n                                    <mat-option [value]=\"tariffa.oid\" *ngIf=\"camera.oidTariffe == null || camera.oidTariffe.length == 0 || camera.oidTariffe.includes(tariffa.oid)\">\r\n                                        {{tariffa.descrizione}}\r\n                                    </mat-option>\r\n                                </ng-container>\r\n                            </mat-select>\r\n                        </mat-form-field>\r\n                    </div>\r\n\r\n                    <div class=\"col-1 p-0 pt-1 pb-1 d-block d-sm-none\">\r\n                        <button mat-icon-button class=\"delete-button\" (click)=\"onCameraRemove(i)\" *ngIf=\"model.camere.length > 1\">\r\n                            <i class=\"material-icons\">clear</i>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div class=\"col-12 mb-1 mt-2 d-block d-sm-none\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-45 offset-3 text-center div-adulti\">\r\n                                <span class=\"font-weight-bold adultiBambini\">{{'interfaces.form-v1.adulti' | translate}}</span>\r\n                            </div>\r\n\r\n                            <div class=\"col-45 text-center div-bambini\" *ngIf=\"!isDisattivaRichiestaBambini\">\r\n                                <span class=\"font-weight-bold adultiBambini\">{{'interfaces.form-v1.bambini' | translate}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-45 col-25 offset-3 offset-sm-0 text-center pt-1 pb-1 control-adulti\">\r\n                        <button mat-icon-button class=\"add-minus-button\" [disabled]=\"camera.numeroAdulti <= 1\" (click)=\"onNumeroAdultiChange(i, camera.numeroAdulti - 1)\">\r\n                            <i class=\"material-icons add-minus-icon\">remove_circle_outline</i>\r\n                        </button>\r\n\r\n                        <span class=\"align-middle mr-1 ml-1\">{{camera.numeroAdulti}}</span>\r\n\r\n                        <button mat-icon-button class=\"add-minus-button\" [disabled]=\"camera.numeroAdulti + camera.numeroBambini >= 12 || (adultiMax > 0 && camera.numeroAdulti >= adultiMax)\" (click)=\"onNumeroAdultiChange(i, camera.numeroAdulti + 1)\">\r\n                            <i class=\"material-icons add-minus-icon\">add_circle_outline</i>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div class=\"col-45 col-25 text-center pt-1 pb-1 control-bambini\">\r\n                        <ng-container *ngIf=\"!isDisattivaRichiestaBambini\">\r\n                            <button mat-icon-button class=\"add-minus-button\" [disabled]=\"camera.numeroBambini <= 0\" (click)=\"onNumeroBambiniChange(i, false, camera.numeroBambini - 1)\">\r\n                                <i class=\"material-icons add-minus-icon\">remove_circle_outline</i>\r\n                            </button>\r\n\r\n                            <span class=\"align-middle mr-1 ml-1\">{{camera.numeroBambini}}</span>\r\n\r\n                            <button mat-icon-button class=\"add-minus-button\" [disabled]=\"camera.numeroAdulti + camera.numeroBambini >= 12 || (bambiniMax > 0 && camera.numeroBambini >= bambiniMax)\" (click)=\"onNumeroBambiniChange(i, true, camera.numeroBambini + 1)\">\r\n                                <i class=\"material-icons add-minus-icon\">add_circle_outline</i>\r\n                            </button>\r\n                        </ng-container>\r\n                    </div>\r\n\r\n                    <div class=\"col-1 p-0 ml-n2 pt-1 pb-1 d-none d-sm-block\">\r\n                        <button mat-icon-button class=\"delete-button\" (click)=\"onCameraRemove(i)\" *ngIf=\"model.camere.length > 1\">\r\n                            <i class=\"material-icons\">clear</i>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <ng-container *ngIf=\"camera.numeroBambini > 0\">\r\n                        <div class=\"col-45 col-25 offset-3 offset-sm-6 text-center pr-0 pt-1 pb-1\">\r\n                            <div class=\"etaBambini mt-1\">{{'interfaces.form-v1.etaBambini' | translate}}</div>\r\n                        </div>\r\n\r\n                        <ng-container *ngFor=\"let bambino of utility.counter(camera.numeroBambini); let iBambino = index;\">\r\n                            <div class=\"col-45 col-25 offset-3 offset-sm-6\" *ngIf=\"iBambino > 0\"></div>\r\n\r\n                            <div class=\"col-45 col-25 text-center pb-1\" [ngClass]=\"{'pt-1': iBambino > 0, 'pt-2': iBambino == 0}\">\r\n                                <mat-form-field class=\"child-age-select\">\r\n                                    <mat-select [panelClass]=\"booking ? 'booking-select' : ''\" [(ngModel)]=\"camera.pax[iBambino + 1].anni\">\r\n                                        <mat-option *ngFor=\"let age of utility.counterFromTo(etaMinimaBambini, etaMassimaBambini)\" [value]=\"age\">\r\n                                            {{age}}\r\n                                        </mat-option>\r\n                                    </mat-select>\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </ng-container>\r\n                    </ng-container>\r\n                </div>\r\n            </ng-container>\r\n\r\n            <div class=\"mt-2\">\r\n                <button mat-icon-button class=\"add-room-button\" [style.color]=\"model.camere.length < camerePrenotabili ? (booking ? 'var(--main-color)' : '#e91e63') : '#999999'\" (click)=\"onCameraAdd()\" [disabled]=\"model.camere.length >= camerePrenotabili\">\r\n                    <i class=\"material-icons\">add_circle_outline</i>\r\n                </button>\r\n\r\n                <span class=\"align-middle cursor-pointer\" [style.color]=\"model.camere.length < camerePrenotabili ? (booking ? 'var(--main-color)' : '#e91e63') : '#999999'\" (click)=\"onCameraAdd()\">\r\n                    {{ 'interfaces.form-v1.aggiungiCamera' | translate}}\r\n                </span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"p-3 createPreventivo-select-container border mt-3\" *ngIf=\"!booking\">\r\n            <div class=\"row\">\r\n                <div class=\"col-4\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <mat-select [(ngModel)]=\"model.tipoRichiesta\" placeholder=\"{{ 'bo.richiesta.proprieta.tipoRichiesta' | translate }}\" [required]=\"tipoRichiestaRequired\">\r\n                            <mat-option [value]=\"null\" *ngIf=\"!tipoRichiestaRequired\"></mat-option>\r\n\r\n                            <mat-option *ngFor=\"let item of enumTipoRichiesta | selectEnum: 'tipoRichiestaPreventivo'\" [value]=\"item.key\">\r\n                                {{ item.value | translate }}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"col-4\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <mat-select [(ngModel)]=\"model.cliente.mercato.oid\" [placeholder]=\"'bo.cliente.proprieta.mercato' | translate\" [required]=\"mercatoRequired\">\r\n                            <mat-option [value]=\"-1\" *ngIf=\"!mercatoRequired\"></mat-option>\r\n\r\n                            <mat-option *ngFor=\"let parametro of parametriRicercaMercato\" [value]=\"parametro.oid\">\r\n                                {{parametro.descrizione}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"col-4\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <mat-select [(ngModel)]=\"model.cliente.canaleVendita.oid\" [placeholder]=\"'bo.cliente.proprieta.canaleVendita' | translate\" [required]=\"canaleVenditaRequired\">\r\n                            <mat-option [value]=\"-1\" *ngIf=\"!canaleVenditaRequired\"></mat-option>\r\n\r\n                            <mat-option *ngFor=\"let parametro of parametriRicercaCanaleVendita\" [value]=\"parametro.oid\">\r\n                                {{parametro.descrizione}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                    <app-view-select [dataLoader]=\"apiService.getNazioniViewSelect(null, !nazioneRequired)\" displayMember=\"nomeItaliano\" [(value)]=\"model.cliente.nazioneObject\" [placeholder]=\"'bo.cliente.proprieta.nazione' | translate\" [required]=\"nazioneRequired\"></app-view-select>\r\n                </div>\r\n\r\n                <div class=\"col-6\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <mat-select [(ngModel)]=\"model.cliente.lingua.oid\" [placeholder]=\"'bo.cliente.proprieta.lingua' | translate\">\r\n                            <mat-option [value]=\"-1\"></mat-option>\r\n\r\n                            <mat-option *ngFor=\"let lingua of lingue\" [value]=\"lingua.oid\">\r\n                                {{lingua.nome}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"p-3 cliente-select-container border mt-3\">\r\n            <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                    <mat-form-field [ngClass]=\"{'w-100': booking, 'cognome-input': !booking}\">\r\n                        <input autocompleteOff type=\"text\" matInput [placeholder]=\"'interfaces.form-v1.cognome' | translate\" [(ngModel)]=\"model.cliente.cognome\" (ngModelChange)=\"!!model.cliente.cognome ? model.cliente.cognome = utility.capitalize(model.cliente.cognome) : null\"\r\n                            required>\r\n                    </mat-form-field>\r\n\r\n                    <button mat-icon-button color=\"primary\" [disableRipple]=\"true\" (click)=\"openClienteSelect()\" *ngIf=\"!booking\">\r\n                        <i class=\"material-icons\">open_in_new</i>\r\n                    </button>\r\n                </div>\r\n\r\n                <div class=\"col-6\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <input autocompleteOff type=\"text\" matInput [placeholder]=\"'interfaces.form-v1.nome' | translate\" [(ngModel)]=\"model.cliente.nome\" (ngModelChange)=\"!!model.cliente.nome ? model.cliente.nome = utility.capitalize(model.cliente.nome) : null\" [required]=\"nomeRequired\">\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <input autocompleteOff type=\"email\" matInput [placeholder]=\"'interfaces.form-v1.email' | translate\" [(ngModel)]=\"model.cliente.email\" [required]=\"model.tipoRichiesta != enumTipoRichiesta.Telefono && model.tipoRichiesta != enumTipoRichiesta.WhatsApp\">\r\n                    </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"col-6\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <input autocompleteOff type=\"text\" matInput [placeholder]=\"'interfaces.form-v1.cellulare' | translate\" [(ngModel)]=\"model.cliente.cellulare\" [required]=\"cellulareRequired || model.tipoRichiesta == enumTipoRichiesta.WhatsApp\">\r\n                        <mat-hint *ngIf=\"(cellulareRequired || model.tipoRichiesta == enumTipoRichiesta.WhatsApp) && (!model.cliente.cellulare || model.cliente.cellulare.length < 8)\"><span class=\"color-red\">{{'interfaces.form-v1.cellulareNonValido' | translate}}</span></mat-hint>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row mt-2\">\r\n                <div class=\"col-6\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <input autocompleteOff type=\"text\" matInput [placeholder]=\"'interfaces.form-v1.note' | translate\" [(ngModel)]=\"model.note\" [required]=\"noteRequired\">\r\n                    </mat-form-field>\r\n                </div>\r\n\r\n                <div class=\"col-6\" *ngIf=\"motiviViaggio.length > 0\">\r\n                    <mat-form-field class=\"w-100\">\r\n                        <mat-select [panelClass]=\"'richiesta-select'\" [(ngModel)]=\"model.motivoViaggio\" [placeholder]=\"'interfaces.form-v1.motivoViaggio' | translate\" [required]=\"motivoViaggioRequired\">\r\n                            <mat-option [value]=\"null\" *ngIf=\"!motivoViaggioRequired\"></mat-option>\r\n\r\n                            <mat-option *ngFor=\"let motivoViaggio of motiviViaggio\" [value]=\"motivoViaggio\">\r\n                                {{motivoViaggio.nome}}\r\n                            </mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"ml-3 mt-4\">\r\n            <div>\r\n                <mat-checkbox [(ngModel)]=\"model.cliente.privacy\" [color]=\"booking ? null : 'primary'\">\r\n                    <a class=\"privacyLink\" href=\"#\" (click)=\"$event.preventDefault(); openPrivacyDialog();\" *ngIf=\"booking\">{{'interfaces.form-v1.privacy' | translate}}</a>\r\n                    <span *ngIf=\"!booking\">{{'interfaces.form-v1.privacy' | translate}}</span>\r\n                </mat-checkbox>\r\n            </div>\r\n\r\n            <div>\r\n                <mat-checkbox [(ngModel)]=\"model.cliente.newsletter\" [color]=\"booking ? null : 'primary'\">\r\n                    <a class=\"newsletterLink\" href=\"#\" (click)=\"$event.preventDefault(); openNewsletterDialog();\" *ngIf=\"booking && newsLetterPortale != null && (!!newsLetterPortale.html || !!newsLetterPortale.url)\">{{'interfaces.form-v1.newsletter' | translate}}</a>\r\n                    <span *ngIf=\"!booking || newsLetterPortale == null || (!newsLetterPortale.html && !newsLetterPortale.url)\">{{'interfaces.form-v1.newsletter' | translate}}</span>\r\n                </mat-checkbox>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"mt-4\">\r\n            <button mat-flat-button color=\"primary\" (click)=\"save()\" class=\"mr-1 mb-3 float-right\" [ngClass]=\"{'button-blue': booking}\" [disabled]=\"!model.cliente.privacy || oidPortale == null || oidPortale <= 0\">{{ (createPreventivo ? 'interfaces.form-v1.continua' : 'interfaces.form-v1.inviaRichiesta') | translate}}</button>\r\n        </div>\r\n    </ng-container>\r\n</div>","import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { GoogleTagManagerService } from 'angular-google-tag-manager';\r\nimport * as moment from 'moment';\r\nimport { Subscription } from 'rxjs/internal/Subscription';\r\nimport { BaseComponent } from 'src/app/interfaces/base-component/base-component';\r\nimport {\r\n  Albergo,\r\n  Cliente,\r\n  Lingua,\r\n  Nazione,\r\n  ParametroRicerca,\r\n  PortaleXAlbergo,\r\n  Richiesta,\r\n  RichiestaCamere,\r\n  RichiestaCamerePax,\r\n} from 'src/app/shared/models/bo.model';\r\nimport {\r\n  CheckAlbergoRS,\r\n  CheckPortaleRS,\r\n  CreaRichiestaRQ,\r\n  CreaRichiestaRS,\r\n  DialogOptions,\r\n  GetFormV1ViewRQ,\r\n  GetFormV1ViewRS,\r\n  GetFormV1ViewRSMotivoViaggio,\r\n  GetFormV1ViewRSTariffa,\r\n  GetFormV1ViewRSTipoCamera,\r\n  GetPrivacyPortaleRQ,\r\n  NewsLetterPortale,\r\n  PrivacyPortale,\r\n  WebApiRequestFilter,\r\n  WebApiResponseFilter,\r\n} from 'src/app/shared/models/dto';\r\nimport {\r\n  CampoObbligatorioFormRichiesta,\r\n  CriteriaOperator,\r\n  FilterValueType,\r\n  Pagina,\r\n  TipoComponentePrenotazione,\r\n  TipoRichiestaPreventivo,\r\n} from 'src/app/shared/models/enum';\r\nimport { ApiService } from 'src/app/shared/services/api.service';\r\nimport { ContainerService } from 'src/app/shared/services/container.service';\r\nimport { CssLoaderService } from 'src/app/shared/services/css-loader.service';\r\nimport { LocalizationService } from 'src/app/shared/services/localization.service';\r\nimport { UtilityService } from 'src/app/shared/services/utility.service';\r\n\r\nimport { ClienteSelectComponent } from '../cliente-select/cliente-select.component';\r\nimport { PrivacyNewsletterDialogComponent } from './privacy-newsletter-dialog/privacy-newsletter-dialog.component';\r\n\r\n@Component({\r\n  selector: 'app-form-v1',\r\n  templateUrl: './form-v1.component.html',\r\n  styleUrls: ['./form-v1.component.scss']\r\n})\r\nexport class FormV1Component extends BaseComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() dialogRef: MatDialogRef<{}, any>;\r\n  @Input() createPreventivo: boolean = false;\r\n  @Input() modal: boolean = false;\r\n  @Input() oidAlbergo: number;\r\n  @Input() oidPortale: number;\r\n  @Input() language: string;\r\n  @Input() cliente: Cliente;\r\n  @Input() booking: boolean = false;\r\n\r\n  @Output() onLoaded: EventEmitter<any> = new EventEmitter();\r\n  @Output() onRichiestaSaved: EventEmitter<number> = new EventEmitter();\r\n  @Output() onPortaleSelected: EventEmitter<number> = new EventEmitter();\r\n\r\n  public sub: Subscription;\r\n  public model = new Richiesta();\r\n  public lingua: string;\r\n  public linguaObj: Lingua;\r\n  public tipiCamera: GetFormV1ViewRSTipoCamera[] = [];\r\n  public tariffe: GetFormV1ViewRSTariffa[] = [];\r\n  public tipiCameraOTAPortale: GetFormV1ViewRSTipoCamera[] = [];\r\n  public tariffeOTAPortale: GetFormV1ViewRSTariffa[] = [];\r\n  public parametriRicercaMercato: ParametroRicerca[] = [];\r\n  public parametriRicercaCanaleVendita: ParametroRicerca[] = [];\r\n  public portali: PortaleXAlbergo[] = [];\r\n  public portaliList: PortaleXAlbergo[] = [];\r\n  public initialized: boolean = false;\r\n  public oidPortaleReceived: boolean;\r\n  public enumCampoObbligatorioFormRichiesta = CampoObbligatorioFormRichiesta;\r\n  public cellulareRequired: boolean = false;\r\n  public tipoRichiestaRequired: boolean = false;\r\n  public mercatoRequired: boolean = false;\r\n  public canaleVenditaRequired: boolean = false;\r\n  public nazioneRequired: boolean = false;\r\n  public noteRequired: boolean = false;\r\n  public nomeRequired: boolean = false;\r\n  public tipoCameraRequired: boolean = false;\r\n  public tariffaRequired: boolean = false;\r\n  public motivoViaggioRequired: boolean = false;\r\n  public enumTipoRichiesta = TipoRichiestaPreventivo;\r\n  public camerePrenotabili: number = 10;\r\n  public etaMinimaBambini: number = 0;\r\n  public etaMassimaBambini: number = 17;\r\n  public adultiDefault: number = 2;\r\n  public adultiMax: number = 0;\r\n  public bambiniMax: number = 0;\r\n  public isVisualizzaTipoCamera: boolean = true;\r\n  public isVisualizzaTrattamento: boolean = true;\r\n  public isDisattivaRichiestaBambini: boolean = false;\r\n  public motiviViaggio: GetFormV1ViewRSMotivoViaggio[] = [];\r\n  public banner: string;\r\n  public coloreBanner: string;\r\n  public gtmService: GoogleTagManagerService;\r\n  public data: string;\r\n  public portale: PortaleXAlbergo;\r\n  public minDate: string;\r\n  public newsLetterPortale: NewsLetterPortale;\r\n\r\n  constructor(private route: ActivatedRoute,\r\n    private router: Router,\r\n    public apiService: ApiService,\r\n    private localizationService: LocalizationService,\r\n    private cssLoaderService: CssLoaderService,\r\n    private containerService: ContainerService,\r\n    public utility: UtilityService) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.modal) {\r\n      this.containerService.setScrollingContainer('richiesta');\r\n    }\r\n\r\n    if (this.cliente != null) {\r\n      this.model.cliente = this.cliente;\r\n    }\r\n\r\n    if (this.model.cliente.mercato == null) {\r\n      this.model.cliente.mercato = new ParametroRicerca();\r\n    }\r\n\r\n    if (this.model.cliente.canaleVendita == null) {\r\n      this.model.cliente.canaleVendita = new ParametroRicerca();\r\n    }\r\n\r\n    if (this.model.cliente.lingua == null) {\r\n      this.model.cliente.lingua = new Lingua();\r\n    }\r\n\r\n    this.model.cliente.nazioneObject = new Nazione();\r\n\r\n    if (!!this.model.cliente.nazione) {\r\n      let rq = WebApiRequestFilter.fromFilter('nomeItaliano', CriteriaOperator.Equal, this.model.cliente.nazione, FilterValueType.String);\r\n\r\n      this.apiService.getNazioniFilter(rq).subscribe((res: WebApiResponseFilter) => {\r\n        if (res.data.length > 0) {\r\n          this.model.cliente.nazioneObject = res.data[0];\r\n        }\r\n      });\r\n    }\r\n\r\n    if (this.booking) {\r\n      this.model.urlRichiesta = window.location.href;\r\n      this.model.urlReferrer = document.referrer;\r\n    } else {\r\n      this.model.dataVisualizzazione = this.getDate(moment());\r\n    }\r\n\r\n    this.model.isDayUse = false;\r\n\r\n    this.oidPortaleReceived = this.oidPortale != null;\r\n\r\n    if (this.oidAlbergo == null) {\r\n      this.sub = this.route.queryParamMap.subscribe(x => {\r\n        let oidPortale = x.get('oidPortale');\r\n        let oidAlbergo = x.get('oidAlbergo');\r\n\r\n        this.model.isDayUse = x.get('dayUse') == 'true';\r\n\r\n        if ((!!oidPortale && !isNaN(+oidPortale)) || (!!oidAlbergo && !isNaN(+oidAlbergo))) {\r\n          this.setIsLoading(true);\r\n\r\n          if (!!oidPortale && !isNaN(+oidPortale)) {\r\n            this.apiService.checkPortale(+oidPortale).subscribe((res: CheckPortaleRS) => {\r\n              if (res.data.success && res.data.oidAlbergo > 0) {\r\n                this.oidPortale = +oidPortale;\r\n                this.oidAlbergo = +res.data.oidAlbergo;\r\n                this.cssLoaderService.load(this.oidAlbergo, Pagina.Richiesta, res.data.oidUbicazioneIstat);\r\n\r\n                this.oidPortaleReceived = true;\r\n\r\n                this.init(x.get('lingua'), true);\r\n              } else {\r\n                this.router.navigate(['sbm']).then(() => {\r\n                  this.setIsLoading(false);\r\n                });\r\n              }\r\n            });\r\n          } else {\r\n            this.apiService.checkAlbergo(+oidAlbergo).subscribe((res: CheckAlbergoRS) => {\r\n              if (res.data.success) {\r\n                this.oidAlbergo = +oidAlbergo;\r\n                this.cssLoaderService.load(this.oidAlbergo, Pagina.Richiesta, res.data.oidUbicazioneIstat);\r\n\r\n                this.oidPortaleReceived = false;\r\n\r\n                this.init(x.get('lingua'), true);\r\n              } else {\r\n                this.router.navigate(['sbm']).then(() => {\r\n                  this.setIsLoading(false);\r\n                });\r\n              }\r\n            });\r\n          }\r\n        } else {\r\n          this.router.navigate(['sbm']);\r\n        }\r\n      });\r\n    } else {\r\n      this.setIsLoading(true);\r\n      this.init(this.language);\r\n    }\r\n  }\r\n\r\n  init(lingua: string, setTranslation: boolean = false) {\r\n    this.utility.setLingua(lingua).then((lingua: Lingua) => {\r\n      this.lingua = lingua?.codice;\r\n      this.linguaObj = lingua;\r\n\r\n      this.model.cliente.codiceLingua = this.lingua;\r\n\r\n      let rq = new GetFormV1ViewRQ();\r\n      rq.oidAlbergo = this.oidAlbergo;\r\n      rq.oidPortale = this.oidPortale;\r\n      rq.lingua = this.lingua;\r\n\r\n      this.apiService.getViewFormV1(rq).subscribe((res: GetFormV1ViewRS) => {\r\n        this.tipiCamera = res.data.tipiCamera;\r\n        this.tariffe = res.data.tariffe;\r\n        this.parametriRicercaMercato = res.data.parametriRicercaMercato;\r\n        this.parametriRicercaCanaleVendita = res.data.parametriRicercaCanaleVendita;\r\n        this.motiviViaggio = res.data.motiviViaggio;\r\n        this.newsLetterPortale = res.data.newsLetterPortale;\r\n\r\n        if (setTranslation && !!res.data.traduzioni) {\r\n          let json;\r\n\r\n          try {\r\n            json = JSON.parse(res.data.traduzioni);\r\n          } catch (e) { }\r\n\r\n          if (!!json) {\r\n            this.localizationService.setTranslation(this.localizationService.getCurrentLocale(), json);\r\n          }\r\n        }\r\n\r\n        this.portali = res.data.portali;\r\n        this.portaliList = this.portali.filter(x => x.isVisualizzaRichiesteCrm);\r\n\r\n        if (this.portaliList.length > 0 && this.oidPortale == null) {\r\n          this.oidPortale = this.portaliList[0].oid;\r\n        }\r\n\r\n        this.onPortaleChange();\r\n\r\n        this.onCameraAdd();\r\n        this.initialized = true;\r\n        this.setIsLoading(false);\r\n        this.onLoaded.emit();\r\n      });\r\n    });\r\n  }\r\n\r\n  onNumeroBambiniChange(cameraIndex: number, add: boolean, numero: number) {\r\n    if (add) {\r\n      let bambino = new RichiestaCamerePax();\r\n      bambino.tipo = TipoComponentePrenotazione.Bambino;\r\n      bambino.anni = this.etaMinimaBambini;\r\n      bambino.quantita = 1;\r\n      this.model.camere[cameraIndex].pax.push(bambino);\r\n    } else {\r\n      this.model.camere[cameraIndex].pax.pop();\r\n    }\r\n\r\n    this.model.camere[cameraIndex].numeroBambini = numero;\r\n  }\r\n\r\n  onNumeroAdultiChange(cameraIndex: number, numero: number) {\r\n    this.model.camere[cameraIndex].pax[0].quantita = numero;\r\n    this.model.camere[cameraIndex].numeroAdulti = numero;\r\n  }\r\n\r\n  onCameraAdd() {\r\n    if (this.model.camere.length < this.camerePrenotabili) {\r\n      let camera = new RichiestaCamere();\r\n      camera.numeroAdulti = this.adultiDefault;\r\n      camera.numeroBambini = 0;\r\n      let pax = new RichiestaCamerePax();\r\n      pax.tipo = TipoComponentePrenotazione.Adulto;\r\n      pax.anni = -1;\r\n      pax.quantita = this.adultiDefault;\r\n      camera.pax = [pax];\r\n      this.model.camere.push(camera);\r\n    }\r\n  }\r\n\r\n  onCameraRemove(index: number) {\r\n    this.model.camere.splice(index, 1);\r\n  }\r\n\r\n  save() {\r\n    if (this.model.isDayUse) {\r\n      this.model.dal = this.data;\r\n      this.model.al = this.data;\r\n    }\r\n\r\n    if (!!this.model.dal && !!this.model.al && this.model.dal <= this.model.al && !!this.model.cliente.cognome && (this.model.tipoRichiesta == TipoRichiestaPreventivo.Telefono || this.model.tipoRichiesta == TipoRichiestaPreventivo.WhatsApp || !!this.model.cliente.email)) {\r\n      if (((!this.cellulareRequired && this.model.tipoRichiesta != TipoRichiestaPreventivo.WhatsApp) || (!!this.model.cliente.cellulare && this.model.cliente.cellulare.length >= 8)) && (!this.tipoRichiestaRequired || this.model.tipoRichiesta != null) && (!this.mercatoRequired || (this.model.cliente.mercato != null && this.model.cliente.mercato.oid > 0)) && (!this.canaleVenditaRequired || (this.model.cliente.canaleVendita != null && this.model.cliente.canaleVendita.oid > 0)) && (!this.nazioneRequired || (this.model.cliente.nazioneObject != null && this.model.cliente.nazioneObject.oid > 0)) && (!this.noteRequired || !!this.model.note) && (!this.tipoCameraRequired || this.model.camere.every(x => x.tipoCameraOTA != null && x.tipoCameraOTA.oid > 0)) && (!this.tariffaRequired || this.model.camere.every(x => x.tariffaOTA != null && x.tariffaOTA.oid > 0)) && (!this.motivoViaggioRequired || (this.model.motivoViaggio != null && this.model.motivoViaggio.oid > 0)) && (!this.nomeRequired || !!this.model.cliente.nome)) {\r\n        if ((!!this.model.cliente.email && this.utility.validateEmail(this.model.cliente.email)) || (!this.model.cliente.email && (this.model.tipoRichiesta == TipoRichiestaPreventivo.Telefono || this.model.tipoRichiesta == TipoRichiestaPreventivo.WhatsApp))) {\r\n          if (this.oidAlbergo != null) {\r\n            this.model.albergo = new Albergo(this.oidAlbergo);\r\n          }\r\n\r\n          if (this.oidPortale != null) {\r\n            this.model.portaleXAlbergo = new PortaleXAlbergo(this.oidPortale);\r\n          }\r\n\r\n          this.model.dal = this.getDate(this.model.dal);\r\n          this.model.al = this.getDate(this.model.al);\r\n\r\n          let richiestaModel: Richiesta = JSON.parse(JSON.stringify(this.model));\r\n          delete richiestaModel.richiestaJSON;\r\n\r\n          for (let camera of richiestaModel.camere) {\r\n            delete camera.numeroAdulti;\r\n            delete camera.numeroBambini;\r\n            delete camera.richiesta;\r\n\r\n            for (let pax of camera.pax) {\r\n              delete pax.richiestaCamere;\r\n            }\r\n          }\r\n\r\n          this.model.richiestaJSON = JSON.stringify(richiestaModel);\r\n\r\n          this.setIsLoading(true);\r\n\r\n          let rq = new CreaRichiestaRQ();\r\n          rq.richiesta = this.model;\r\n          rq.isInviaEmail = this.booking;\r\n\r\n          this.apiService.creaRichiesta(rq).subscribe((res: CreaRichiestaRS) => {\r\n            if (res.data != null) {\r\n              this.model.oid = res.data.oidRichiesta;\r\n\r\n              if (this.gtmService != null && this.portale != null && this.portale.albergo != null) {\r\n                this.gtmService.pushTag({\r\n                  event: 'new_booking_form_richiesta',\r\n                  booking: {\r\n                    hotelId: this.portale.albergo.oid,\r\n                    hotelName: this.portale.albergo.nome,\r\n                    portalId: this.oidPortale,\r\n                    portalNome: this.portale.nome,\r\n                    rooms: this.model.camere.length,\r\n                    roomNights: Math.max(moment(this.model.al).diff(moment(this.model.dal), 'days'), 1),\r\n                    checkInDate: this.model.dal,\r\n                    checkOutDate: this.model.al,\r\n                    lingua: this.lingua\r\n                  }\r\n                });\r\n              }\r\n\r\n              if (!this.createPreventivo) {\r\n                this.setIsLoading(false);\r\n\r\n                this.showInfo('interfaces.form-v1.richiestaInviata').then(() => {\r\n                  if (this.dialogRef != null) {\r\n                    this.dialogRef.close(true);\r\n                  } else {\r\n                    window.location.reload();\r\n                  }\r\n                });\r\n              } else {\r\n                this.onRichiestaSaved.emit(this.model.oid);\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          this.showError('globals.messages.emailNonValida');\r\n        }\r\n      } else {\r\n        this.showError('globals.messages.inserireDati');\r\n      }\r\n    } else {\r\n      this.showError('globals.messages.inserireDati');\r\n    }\r\n  }\r\n\r\n  onArrivoChange() {\r\n    setTimeout(() => {\r\n      this.model.dal = this.getDate(this.model.dal);\r\n\r\n      if (moment(this.model.dal) < moment().startOf('day')) {\r\n        this.model.dal = this.getDate(moment());\r\n      }\r\n\r\n      if (this.model.al == null || moment(this.model.dal) >= moment(this.model.al)) {\r\n        this.model.al = this.getDate(moment(this.model.dal).add(1, 'day'));\r\n      }\r\n    }, 200);\r\n  }\r\n\r\n  onPartenzaChange() {\r\n    setTimeout(() => {\r\n      this.model.al = this.getDate(this.model.al);\r\n\r\n      if (moment(this.model.al) < moment().add(1, 'day').startOf('day')) {\r\n        this.model.al = this.getDate(moment().add(1, 'day'));\r\n      }\r\n\r\n      if (this.model.dal == null || moment(this.model.dal) >= moment(this.model.al)) {\r\n        this.model.dal = this.getDate(moment(this.model.al).subtract(1, 'day'));\r\n      }\r\n    }, 200);\r\n  }\r\n\r\n  onDataChange() {\r\n    setTimeout(() => {\r\n      this.data = this.getDate(this.data);\r\n\r\n      if (moment(this.data) < moment().startOf('day')) {\r\n        this.data = this.getDate(moment());\r\n      }\r\n    }, 200);\r\n  }\r\n\r\n  onPortaleChange() {\r\n    for (let camera of this.model.camere) {\r\n      camera.tipoCameraOTA.oid = -1;\r\n      camera.tariffaOTA.oid = -1;\r\n      camera.nomeTipoCamera = '';\r\n      camera.oidTariffe = [];\r\n    }\r\n\r\n    this.tipiCameraOTAPortale = this.tipiCamera.filter(x => x.portaleXAlbergo.oid == this.oidPortale && this.model.isDayUse == x.isDayUse);\r\n\r\n    if (this.tipiCameraOTAPortale.length > 0) {\r\n      let tipoCamera = new GetFormV1ViewRSTipoCamera();\r\n      tipoCamera.oid = -1;\r\n      tipoCamera.nome = '';\r\n      this.tipiCameraOTAPortale.unshift(tipoCamera);\r\n    }\r\n\r\n    this.tariffeOTAPortale = this.tariffe.filter(x => x.portaleXAlbergo.oid == this.oidPortale && this.model.isDayUse == x.isDayUse);\r\n\r\n    this.cellulareRequired = false;\r\n    this.tipoRichiestaRequired = false;\r\n    this.mercatoRequired = false;\r\n    this.canaleVenditaRequired = false;\r\n    this.nazioneRequired = false;\r\n    this.noteRequired = false;\r\n    this.nomeRequired = false;\r\n    this.tipoCameraRequired = false;\r\n    this.tariffaRequired = false;\r\n    this.motivoViaggioRequired = false;\r\n\r\n    if (this.oidPortale != null) {\r\n      this.portale = this.portali.find(x => x.oid == this.oidPortale);\r\n\r\n      if (this.portale != null) {\r\n        let camerePrenotabili = this.booking ? this.portale.camerePrenotabili : this.portale.camerePrenotabiliCrm;\r\n        this.camerePrenotabili = camerePrenotabili <= 0 ? 10 : Math.min(camerePrenotabili, 10);\r\n        this.etaMinimaBambini = this.portale.etaMinimaBambini > 0 && this.portale.etaMinimaBambini <= 17 ? this.portale.etaMinimaBambini : 0;\r\n        this.etaMassimaBambini = this.portale.etaMassimaBambini > 0 && this.portale.etaMassimaBambini <= 17 ? this.portale.etaMassimaBambini : 17;\r\n        this.adultiDefault = this.portale.adultiDefaultInPrenotazione <= 0 ? 1 : this.portale.adultiDefaultInPrenotazione;\r\n        this.adultiMax = Math.max(this.portale.numeroMassimoAdulti, 0);\r\n        this.bambiniMax = Math.max(this.portale.numeroMassimoRiduzioni, 0);\r\n\r\n        let minDate = moment().startOf('day');\r\n\r\n        if (!!this.portale.dataInizioGestione) {\r\n          let dataInizioGestione = moment(this.portale.dataInizioGestione).startOf('day');\r\n\r\n          if (dataInizioGestione.isAfter(minDate)) {\r\n            minDate = dataInizioGestione;\r\n          }\r\n        }\r\n\r\n        this.minDate = this.getDate(minDate);\r\n\r\n        let campiObbligatori: CampoObbligatorioFormRichiesta[] = [];\r\n\r\n        if (this.createPreventivo) {\r\n          if (!!this.portale.campiObbligatoriPreventivo) {\r\n            let campi = this.portale.campiObbligatoriPreventivo.split(';');\r\n\r\n            for (let campo of campi) {\r\n              if (campo != '' && !isNaN(+campo) && +campo in CampoObbligatorioFormRichiesta) {\r\n                campiObbligatori.push(+campo as CampoObbligatorioFormRichiesta);\r\n              }\r\n            }\r\n\r\n            if (campiObbligatori != null && campiObbligatori.length > 0) {\r\n              this.cellulareRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.Cellulare) >= 0;\r\n              this.tipoRichiestaRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.TipoRichiesta) >= 0;\r\n              this.mercatoRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.Mercato) >= 0;\r\n              this.canaleVenditaRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.CanaleVendita) >= 0;\r\n              this.nazioneRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.Nazione) >= 0;\r\n              this.motivoViaggioRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.MotivoViaggio) >= 0 && this.motiviViaggio != null && this.motiviViaggio.length > 0;\r\n              this.nomeRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.Nome) >= 0;\r\n            }\r\n          }\r\n        } else if (this.booking) {\r\n          this.isDisattivaRichiestaBambini = this.portale.isDisattivaRichiestaBambiniFormRichiesta;\r\n          this.banner = this.portale.bannerFormRichiesta;\r\n          this.coloreBanner = this.portale.coloreBannerFormRichiesta;\r\n\r\n          //DA CONTROLLARE\r\n          //if (!this.modal) {\r\n          this.isVisualizzaTipoCamera = this.portale.isVisualizzaTipoCameraFormRichiesta;\r\n          this.isVisualizzaTrattamento = this.portale.isVisualizzaTrattamentoFormRichiesta;\r\n\r\n          if (!!this.portale.campiObbligatoriFormRichiesta) {\r\n            let campi = this.portale.campiObbligatoriFormRichiesta.split(';');\r\n\r\n            for (let campo of campi) {\r\n              if (campo != '' && !isNaN(+campo) && +campo in CampoObbligatorioFormRichiesta) {\r\n                campiObbligatori.push(+campo as CampoObbligatorioFormRichiesta);\r\n              }\r\n            }\r\n\r\n            if (campiObbligatori != null && campiObbligatori.length > 0) {\r\n              this.cellulareRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.Cellulare) >= 0;\r\n              this.noteRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.Note) >= 0;\r\n              this.tipoCameraRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.TipoCamera) >= 0 && this.isVisualizzaTipoCamera && this.tipiCameraOTAPortale.length > 0;\r\n              this.tariffaRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.Tariffa) >= 0 && this.isVisualizzaTrattamento && this.tariffeOTAPortale.length > 0;\r\n              this.motivoViaggioRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.MotivoViaggio) >= 0 && this.motiviViaggio != null && this.motiviViaggio.length > 0;\r\n              this.nomeRequired = campiObbligatori.indexOf(CampoObbligatorioFormRichiesta.Nome) >= 0;\r\n            }\r\n          }\r\n          //}\r\n\r\n          if (!this.modal && this.oidPortaleReceived && this.gtmService == null && !!this.portale.googleGTM) {\r\n            this.gtmService = new GoogleTagManagerService(null, this.portale.googleGTM, null, null, null, null, null);\r\n\r\n            this.gtmService.pushTag({\r\n              event: 'page',\r\n              pageName: 'form-richiesta'\r\n            });\r\n          }\r\n        }\r\n\r\n        if (!!this.portale.dataInizioGestione && moment(this.getDate(this.portale.dataInizioGestione)).isAfter(moment().startOf('day'))) {\r\n          if (this.model.isDayUse) {\r\n            this.data = this.portale.dataInizioGestione;\r\n          } else {\r\n            this.model.dal = this.portale.dataInizioGestione;\r\n          }\r\n        }\r\n\r\n        if (!this.booking && this.portale.tipoRichiestaDefault != null) {\r\n          this.model.tipoRichiesta = this.portale.tipoRichiestaDefault;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.onPortaleSelected.emit(this.oidPortale);\r\n  }\r\n\r\n  openClienteSelect() {\r\n    let c: Cliente;\r\n\r\n    if (this.model.cliente != null && this.model.cliente.oid > 0) {\r\n      c = Object.assign({}, this.model.cliente);\r\n    } else {\r\n      c = new Cliente(-1);\r\n    }\r\n\r\n    let dialogOptions = new DialogOptions();\r\n    dialogOptions.width = '50vw';\r\n\r\n    let ref = this.showModalDialog(ClienteSelectComponent, dialogOptions);\r\n    let component = <ClienteSelectComponent>ref.componentInstance;\r\n\r\n    component.cliente = c;\r\n    component.dialogRef = ref;\r\n    component.linguaDefault = this.linguaObj;\r\n\r\n    ref.afterClosed().subscribe((cliente: Cliente) => {\r\n      if (cliente != null && cliente.oid > 0) {\r\n        this.model.cliente = cliente;\r\n\r\n        if (this.model.cliente.mercato == null) {\r\n          this.model.cliente.mercato = new ParametroRicerca();\r\n        }\r\n\r\n        if (this.model.cliente.canaleVendita == null) {\r\n          this.model.cliente.canaleVendita = new ParametroRicerca();\r\n        }\r\n\r\n        if (this.model.cliente.lingua == null) {\r\n          this.model.cliente.lingua = new Lingua();\r\n        }\r\n\r\n        this.model.cliente.nazioneObject = new Nazione();\r\n\r\n        if (!!this.model.cliente.nazione) {\r\n          let rq = WebApiRequestFilter.fromFilter('nomeItaliano', CriteriaOperator.Equal, this.model.cliente.nazione, FilterValueType.String);\r\n\r\n          this.apiService.getNazioniFilter(rq).subscribe((res: WebApiResponseFilter) => {\r\n            if (res.data.length > 0) {\r\n              this.model.cliente.nazioneObject = res.data[0];\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  openPrivacyDialog() {\r\n    this.setIsLoading(true);\r\n\r\n    let rq = new GetPrivacyPortaleRQ();\r\n    rq.oidPortale = this.oidPortale;\r\n    rq.lingua = this.lingua;\r\n\r\n    this.apiService.getPrivacyPortale(rq).subscribe(rs => {\r\n      this.setIsLoading(false);\r\n      this.openPrivacyNewsletterDialog(rs.data);\r\n    });\r\n  }\r\n\r\n  openNewsletterDialog() {\r\n    this.openPrivacyNewsletterDialog(this.newsLetterPortale);\r\n  }\r\n\r\n  openPrivacyNewsletterDialog(privacyNewsletterPortale: PrivacyPortale | NewsLetterPortale) {\r\n    if (!!privacyNewsletterPortale.html) {\r\n      let dialogOptions = new DialogOptions();\r\n\r\n      if (this.containerService.dimension.width >= 992) {\r\n        dialogOptions.width = \"50vw\";\r\n      } else {\r\n        dialogOptions.width = \"80vw\";\r\n      }\r\n\r\n      let ref = this.showModalDialog(PrivacyNewsletterDialogComponent, dialogOptions);\r\n      let component = <PrivacyNewsletterDialogComponent>ref.componentInstance;\r\n\r\n      component.text = privacyNewsletterPortale.html;\r\n    } else if (!!privacyNewsletterPortale.url) {\r\n      this.utility.openUrlInNewTab(privacyNewsletterPortale.url);\r\n    }\r\n  }\r\n\r\n  onTipoCameraChange(camera: RichiestaCamere, tipoCamera: GetFormV1ViewRSTipoCamera) {\r\n    if (tipoCamera.oid > 0) {\r\n      camera.tipoCameraOTA.oid = tipoCamera.oid;\r\n      camera.nomeTipoCamera = tipoCamera.nome;\r\n      camera.oidTariffe = tipoCamera.oidTariffe;\r\n\r\n      if (camera.oidTariffe != null && camera.oidTariffe.length > 0 && camera.tariffaOTA.oid > 0 && !camera.oidTariffe.includes(camera.tariffaOTA.oid)) {\r\n        camera.tariffaOTA.oid = -1;\r\n      }\r\n    } else {\r\n      camera.tipoCameraOTA.oid = -1;\r\n      camera.nomeTipoCamera = '';\r\n      camera.oidTariffe = [];\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.sub != null) {\r\n      this.sub.unsubscribe();\r\n    }\r\n  }\r\n}","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-privacy-newsletter-dialog',\n  templateUrl: './privacy-newsletter-dialog.component.html',\n  styleUrls: ['./privacy-newsletter-dialog.component.scss']\n})\nexport class PrivacyNewsletterDialogComponent {\n\n  @Input() text: string;\n\n  constructor() { }\n\n}","<button mat-icon-button [matDialogClose] class=\"modal-close-button\" [disableRipple]=\"true\">\n    <i class=\"material-icons-round\">clear</i>\n</button>\n\n<app-inner-html [_text]=\"text\"></app-inner-html>","<button mat-icon-button [matDialogClose] class=\"modal-close-button\" [disableRipple]=\"true\">\n    <i class=\"material-icons-round\">clear</i>\n</button>\n\n<div class=\"text-center mt-3 imageRow\">\n    <img class=\"rounded\" [src]=\"!!image.urlImmagine ? image.urlImmagine : image.base64String\" *ngIf=\"!!image.urlImmagine || !!image.base64String\">\n    <img class=\"rounded\" src=\"assets/images/sbm/no-image.png\" *ngIf=\"!image.urlImmagine && !image.base64String\">\n</div>\n\n<div class=\"mt-3 text-center\" *ngIf=\"!!image.urlImmagine\">\n    {{image.urlImmagine}}\n</div>\n\n<div class=\"mt-3 mb-3 text-center\">\n    <input autocompleteOff #fileSelect type=\"file\" accept=\"image/png, image/jpeg\" (change)=\"fileSelected(fileSelect)\">\n</div>\n\n<div class=\"mt-3 w-75 mx-auto\" *ngIf=\"image.hasOwnProperty('descrizione')\">\n    <mat-form-field class=\"w-100\">\n        <input autocompleteOff type=\"text\" matInput [placeholder]=\"'interfaces.images-list-edit.descrizione' | translate\" [(ngModel)]=\"$any(image).descrizione\">\n    </mat-form-field>\n</div>\n\n<div class=\"w-75 mx-auto\">\n    <mat-form-field class=\"w-100\">\n        <input autocompleteOff type=\"number\" matInput [placeholder]=\"'interfaces.images-list-edit.ordinamento' | translate\" [(ngModel)]=\"image.ordinamento\">\n    </mat-form-field>\n</div>\n\n<div class=\"mt-3 text-center\">\n    <mat-checkbox color=\"primary\" [(ngModel)]=\"image.isAttiva\">{{'interfaces.images-list-edit.isAttiva' | translate}}</mat-checkbox>\n</div>\n\n<div class=\"mt-4 text-center\">\n    <button mat-flat-button color=\"primary\" (click)=\"dialogRef.close(image)\">{{ 'globals.salva' | translate}}</button>\n    <button mat-flat-button color=\"blank\" (click)=\"delete()\" class=\"ml-1\" *ngIf=\"image != null && image.oid > 0\">{{ 'globals.elimina' | translate}}</button>\n</div>","import { Component, Input } from '@angular/core';\r\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\r\nimport * as detect from 'detect-file-type';\r\nimport {\r\n  AlbergoMasterImmagini,\r\n  ImmagineXTipoCameraOTA,\r\n  PortaleXAlbergoImmagini,\r\n  RisorsaImmagini,\r\n  TagCrmImmagini,\r\n} from 'src/app/shared/models/bo.model';\r\n\r\nimport { BaseComponent } from '../base-component/base-component';\r\n\r\n@Component({\r\n  selector: 'app-images-list-edit',\r\n  templateUrl: './images-list-edit.component.html',\r\n  styleUrls: ['./images-list-edit.component.scss']\r\n})\r\nexport class ImagesListEditComponent extends BaseComponent {\r\n\r\n  @Input() image: PortaleXAlbergoImmagini | AlbergoMasterImmagini | ImmagineXTipoCameraOTA | TagCrmImmagini | RisorsaImmagini;\r\n  @Input() dialogRef: MatDialogRef<{}, any>;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  fileSelected(fileSelect: any) {\r\n    let file: File = fileSelect.files == null || fileSelect.files.length == 0 ? null : fileSelect.files[0];\r\n\r\n    if (file != null && !!file.type && file.type.startsWith('image/')) {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        let base64 = reader.result.toString();\r\n\r\n        if (!!base64) {\r\n          detect.fromBuffer(Uint8Array.from(atob(base64.slice(base64.indexOf(',') + 1)), (c) => c.charCodeAt(0)), (err, result) => {\r\n            if (!err && result != null && !!result.mime && result.mime.startsWith('image/')) {\r\n              this.image.urlImmagine = null;\r\n              this.image.base64String = base64;\r\n            } else {\r\n              fileSelect.value = '';\r\n              this.showError('globals.messages.fileNonValido');\r\n            }\r\n          });\r\n        } else {\r\n          fileSelect.value = '';\r\n          this.showError('globals.messages.fileNonValido');\r\n        }\r\n      }\r\n    } else {\r\n      fileSelect.value = '';\r\n      this.showError('globals.messages.fileNonValido');\r\n    }\r\n  }\r\n\r\n  delete() {\r\n    this.showDialogConfirm('globals.eliminareImmagine')\r\n      .then(si => {\r\n        this.image.isDeleted = true;\r\n        this.dialogRef.close(this.image);\r\n      },\r\n        no => { }\r\n      );\r\n  }\r\n}","import { Component, Input } from '@angular/core';\r\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\r\nimport { SessionService } from 'src/app/core/session.service';\r\nimport { Cliente } from 'src/app/shared/models/bo.model';\r\nimport { LocalizationService } from 'src/app/shared/services/localization.service';\r\n\r\n@Component({\r\n  selector: 'app-richieste-add',\r\n  templateUrl: './richieste-add.component.html',\r\n  styleUrls: ['./richieste-add.component.scss']\r\n})\r\nexport class RichiesteAddComponent {\r\n\r\n  @Input() dialogRef: MatDialogRef<{}, any>;\r\n  @Input() oidAlbergo: number;\r\n  @Input() oidPortale: number;\r\n  @Input() language: string;\r\n  @Input() cliente: Cliente;\r\n  @Input() booking: boolean = false;\r\n\r\n  constructor(public sessionService: SessionService, public localizationService: LocalizationService) { }\r\n\r\n}","<button mat-icon-button [matDialogClose] class=\"modal-close-button\" [disableRipple]=\"true\">\r\n    <i class=\"material-icons-round\">clear</i>\r\n</button>\r\n\r\n<app-form-v1 [booking]=\"booking\" [modal]=\"true\" [createPreventivo]=\"false\" [oidAlbergo]=\"!!oidAlbergo ? oidAlbergo : sessionService.getOidAlbergo()\" [oidPortale]=\"oidPortale\" [language]=\"!!language ? language : localizationService.getCurrentLocale()\"\r\n    [cliente]=\"cliente\" [dialogRef]=\"dialogRef\"></app-form-v1>","<ng-container *ngIf=\"dataSource != null && dataSource.filteredData != null\">\n    <div class=\"mb-2 filter-checkbox-container\">\n        <mat-checkbox color=\"primary\" class=\"mr-3\" [(ngModel)]=\"richieste\" (change)=\"onFilterChange()\">{{'interfaces.storico-cliente.richieste' | translate}}</mat-checkbox>\n        <mat-checkbox color=\"primary\" class=\"mr-3\" [(ngModel)]=\"preventivi\" (change)=\"onFilterChange()\">{{'interfaces.storico-cliente.preventivi' | translate}}</mat-checkbox>\n        <mat-checkbox color=\"primary\" class=\"mr-3\" [(ngModel)]=\"prenotazioni\" (change)=\"onFilterChange()\">{{'interfaces.storico-cliente.prenotazioni' | translate}}</mat-checkbox>\n    </div>\n\n    <div [hidden]=\"dataSource.filteredData.length == 0\">\n        <div class=\"mat-table-container\">\n            <mat-table [dataSource]=\"dataSource\" class=\"mat-table\">\n                <ng-container matColumnDef=\"tipo\">\n                    <mat-header-cell *matHeaderCellDef>{{ 'globals.tipo' | translate}}</mat-header-cell>\n                    <mat-cell *matCellDef=\"let row\">{{getEnumKeyTranslation(enumTipoStoricoCliente, row.tipo, 'tipoStoricoCliente') | translate}}</mat-cell>\n                </ng-container>\n\n                <ng-container matColumnDef=\"codice\">\n                    <mat-header-cell *matHeaderCellDef>{{ 'globals.codice' | translate}}</mat-header-cell>\n                    <mat-cell *matCellDef=\"let row\">{{row.codice}}</mat-cell>\n                </ng-container>\n\n                <ng-container matColumnDef=\"data\">\n                    <mat-header-cell *matHeaderCellDef>{{ 'globals.data' | translate}}</mat-header-cell>\n                    <mat-cell *matCellDef=\"let row\">{{row.data | date:'dd/MM/yyyy'}}</mat-cell>\n                </ng-container>\n\n                <ng-container matColumnDef=\"arrivo\">\n                    <mat-header-cell *matHeaderCellDef>{{ 'globals.arrivo' | translate}}</mat-header-cell>\n                    <mat-cell *matCellDef=\"let row\">{{row.arrivo | date:'dd/MM/yyyy'}}</mat-cell>\n                </ng-container>\n\n                <ng-container matColumnDef=\"partenza\">\n                    <mat-header-cell *matHeaderCellDef>{{ 'globals.partenza' | translate}}</mat-header-cell>\n                    <mat-cell *matCellDef=\"let row\">{{row.partenza | date:'dd/MM/yyyy'}}</mat-cell>\n                </ng-container>\n\n                <ng-container matColumnDef=\"stato\">\n                    <mat-header-cell *matHeaderCellDef>{{ 'globals.stato' | translate}}</mat-header-cell>\n                    <mat-cell *matCellDef=\"let row\">{{row.stato | translate}}</mat-cell>\n                </ng-container>\n\n                <ng-container matColumnDef=\"totale\">\n                    <mat-header-cell *matHeaderCellDef class=\"justify-content-end\">{{ 'globals.totale' | translate}}</mat-header-cell>\n                    <mat-cell *matCellDef=\"let row\">\n                        <div class=\"w-100 text-right\">\n                            <b>{{row.totale | eurCurrency}}</b>\n                        </div>\n                    </mat-cell>\n                </ng-container>\n\n                <ng-container matColumnDef=\"openEdit\">\n                    <mat-header-cell *matHeaderCellDef></mat-header-cell>\n                    <mat-cell *matCellDef=\"let row\" class=\"justify-content-end\">\n                        <button mat-icon-button color=\"primary\" (click)=\"onOpen(row)\" *ngIf=\"row.tipo != enumTipoStoricoCliente.Richiesta\">\n                            <i class=\"material-icons mat-table-delete-row\">open_in_new</i>\n                        </button>\n\n                        <button mat-icon-button color=\"primary\" (click)=\"onEdit(row)\">\n                            <i class=\"material-icons mat-table-delete-row\">edit</i>\n                        </button>\n                    </mat-cell>\n                </ng-container>\n\n                <mat-header-row *matHeaderRowDef=\"displayedColumns; sticky: true\" class=\"mat-table-header\"></mat-header-row>\n                <mat-row [matTooltip]=\"isLocalhost && row.oid != null ? row.oid : ''\" matTooltipPosition=\"left\" matTooltipClass=\"oid-tooltip\" (contextmenu)=\"copyToClipboard(row.oid)\" *matRowDef=\"let row; columns: displayedColumns;\"></mat-row>\n            </mat-table>\n        </div>\n\n        <div class=\"paginator-container mb-0\">\n            <mat-paginator [pageSizeOptions]=\"small ? [5] : pageSizeOptions\" [pageSize]=\"small ? 5 : pageSize\" showFirstLastButtons></mat-paginator>\n        </div>\n    </div>\n\n    <div class=\"border rounded-lg p-3 bg-white\" *ngIf=\"dataSource.filteredData.length == 0\">\n        <h5>{{'globals.nessunDato' | translate}}</h5>\n    </div>\n</ng-container>","import { AfterViewInit, Component, Input, ViewChild } from '@angular/core';\r\nimport { MatLegacyPaginator as MatPaginator } from '@angular/material/legacy-paginator';\r\nimport { MatLegacyTableDataSource as MatTableDataSource } from '@angular/material/legacy-table';\r\nimport { BaseComponent } from 'src/app/interfaces/base-component/base-component';\r\nimport { StoricoCliente, WebApiResponse } from 'src/app/shared/models/dto';\r\nimport { TipoStoricoCliente } from 'src/app/shared/models/enum';\r\nimport { ApiService } from 'src/app/shared/services/api.service';\r\nimport { UtilityService } from 'src/app/shared/services/utility.service';\r\n\r\n@Component({\r\n  selector: 'app-storico-cliente',\r\n  templateUrl: './storico-cliente.component.html',\r\n  styleUrls: ['./storico-cliente.component.scss']\r\n})\r\nexport class StoricoClienteComponent extends BaseComponent implements AfterViewInit {\r\n\r\n  @Input() oidCliente: number;\r\n  @Input() small: boolean = false;\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n\r\n  public displayedColumns: any = ['tipo', 'codice', 'data', 'arrivo', 'partenza', 'stato', 'totale', 'openEdit'];\r\n  public dataSource: MatTableDataSource<StoricoCliente>;\r\n  public enumTipoStoricoCliente = TipoStoricoCliente;\r\n\r\n  public richieste: boolean = true;\r\n  public preventivi: boolean = true;\r\n  public prenotazioni: boolean = true;\r\n\r\n  constructor(private apiService: ApiService, private utility: UtilityService) { super(); }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.oidCliente != null && this.oidCliente > 0) {\r\n      this.setIsLoading(true);\r\n\r\n      this.apiService.getStoricoCliente(this.oidCliente).subscribe((rs: WebApiResponse) => {\r\n        this.dataSource = new MatTableDataSource(rs.data);\r\n\r\n        this.dataSource.filterPredicate = (data: StoricoCliente, filter: string) => {\r\n          let f: TipoStoricoCliente[] = null;\r\n\r\n          if (!!filter) {\r\n            try {\r\n              f = JSON.parse(filter);\r\n            } catch (e) { }\r\n          }\r\n\r\n          return f == null || f.includes(data.tipo);\r\n        };\r\n\r\n        setTimeout(() => {\r\n          this.dataSource.paginator = this.paginator;\r\n        }, 200);\r\n\r\n        this.setIsLoading(false);\r\n      });\r\n    }\r\n  }\r\n\r\n  onEdit(storico: StoricoCliente) {\r\n    let url: string;\r\n\r\n    if (storico.tipo == TipoStoricoCliente.Richiesta) {\r\n      url = '/sbm/home/(homeOutlet:richieste)?oidRichiesta=';\r\n    } else if (storico.tipo == TipoStoricoCliente.Preventivo) {\r\n      url = '/sbm/home/(homeOutlet:preventivi)?oidPreventivo=';\r\n    } else if (storico.tipo == TipoStoricoCliente.Prenotazione) {\r\n      url = '/sbm/home/(homeOutlet:prenotazioni)?oidPrenotazione=';\r\n    }\r\n\r\n    this.utility.openUrlInNewTab(url + storico.oid);\r\n  }\r\n\r\n  onOpen(storico: StoricoCliente) {\r\n    let url: string;\r\n\r\n    if (storico.tipo == TipoStoricoCliente.Preventivo) {\r\n      url = '/booking/mypage?uid=';\r\n    } else if (storico.tipo == TipoStoricoCliente.Prenotazione) {\r\n      url = '/booking/self-checkin?uid=';\r\n    }\r\n\r\n    this.utility.openUrlInNewTab(url + storico.uid);\r\n  }\r\n\r\n  onFilterChange() {\r\n    let filter: TipoStoricoCliente[] = [];\r\n\r\n    if (this.richieste) {\r\n      filter.push(TipoStoricoCliente.Richiesta);\r\n    }\r\n\r\n    if (this.preventivi) {\r\n      filter.push(TipoStoricoCliente.Preventivo);\r\n    }\r\n\r\n    if (this.prenotazioni) {\r\n      filter.push(TipoStoricoCliente.Prenotazione);\r\n    }\r\n\r\n    this.dataSource.filter = JSON.stringify(filter);\r\n  }\r\n}","import { Directive, HostBinding, Input, OnChanges, OnInit } from '@angular/core';\r\nimport * as Color from 'color';\r\n\r\n@Directive({\r\n  selector: '[appInvertColor]'\r\n})\r\nexport class InvertColorDirective implements OnInit, OnChanges {\r\n\r\n  @Input('appInvertColor') colore: string;\r\n  @Input() textColor: string;\r\n\r\n  @HostBinding('style.color') coloreInvertito: string = '#000000';\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.coloreInvertito = this.invertColor(true);\r\n  }\r\n\r\n  ngOnChanges() {\r\n    this.coloreInvertito = this.invertColor(true);\r\n  }\r\n\r\n  invertColor(bw: boolean): string {\r\n    if (this.colore) {\r\n      let color = Color('#FFFFFF');\r\n\r\n      try {\r\n        color = Color(this.colore);\r\n      } catch (e) { }\r\n\r\n      let r = color.red();\r\n      let g = color.green();\r\n      let b = color.blue();\r\n\r\n      if (bw) {\r\n        let txtColor: Color;\r\n\r\n        if (!!this.textColor) {\r\n          txtColor = Color(this.textColor);\r\n        }\r\n\r\n        if (color.luminosity() <= 0.5) {\r\n          return txtColor != null && txtColor.luminosity() > 0.5 ? txtColor.hex() : '#FFFFFF';\r\n        } else {\r\n          return txtColor != null && txtColor.luminosity() <= 0.5 ? txtColor.hex() : '#000000';\r\n        }\r\n      }\r\n\r\n      let ret = Color({ r: 255 - r, g: 255 - g, b: 255 - b });\r\n\r\n      return ret.hex();\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import { AfterViewInit, Directive, ElementRef, HostListener, Input } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appRectangle]'\r\n})\r\nexport class RectangleDirective implements AfterViewInit {\r\n\r\n  @Input() appRectangleActive: boolean = true;\r\n  @Input() heightMultiplier: number;\r\n  @Input() setLineHeight: boolean;\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(event) {\r\n    this.updateDivSize();\r\n  }\r\n\r\n  constructor(public el: ElementRef) { }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      this.updateDivSize();\r\n    }, 200);\r\n  }\r\n\r\n  updateDivSize() {\r\n    if (this.appRectangleActive) {\r\n      let height: string;\r\n\r\n      if (this.heightMultiplier == null || this.heightMultiplier <= 0) {\r\n        height = Math.floor(this.el.nativeElement.offsetWidth) + 'px';\r\n      } else {\r\n        height = Math.floor(this.el.nativeElement.offsetWidth * this.heightMultiplier) + 'px';\r\n      }\r\n\r\n      this.el.nativeElement.style.height = height;\r\n      this.el.nativeElement.style.minHeight = height;\r\n      this.el.nativeElement.style.maxHeight = height;\r\n\r\n      if (this.setLineHeight) {\r\n        this.el.nativeElement.style.lineHeight = height;\r\n      }\r\n    }\r\n  }\r\n}","import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Optional, Inject, NgModule } from '@angular/core';\n\nconst GoogleTagManagerConfigService = new InjectionToken('google-tag-manager-config');\n// adapted from https://github.com/auth0/auth0-angular#dynamic-configuration\nclass GoogleTagManagerConfiguration {\n    constructor(googleTagManagerConfig) {\n        this._googleTagManagerConfig = {\n            id: null,\n            gtm_auth: '',\n            gtm_preview: '',\n        };\n        if (googleTagManagerConfig) {\n            this.set(googleTagManagerConfig);\n        }\n    }\n    set(googleTagManagerConfig) {\n        this._googleTagManagerConfig = googleTagManagerConfig;\n    }\n    get() {\n        return this._googleTagManagerConfig;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerConfiguration, deps: [{ token: GoogleTagManagerConfigService, optional: true }], target: i0.FactoryTarget.Injectable }); }\n    static { this.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerConfiguration, providedIn: 'root' }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerConfiguration, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [GoogleTagManagerConfigService]\n                }] }]; } });\n\nclass GoogleTagManagerService {\n    constructor(googleTagManagerConfiguration, googleTagManagerId, googleTagManagerMode = \"noisy\", googleTagManagerAuth, googleTagManagerPreview, googleTagManagerResourcePath, googleTagManagerCSPNonce) {\n        this.googleTagManagerConfiguration = googleTagManagerConfiguration;\n        this.googleTagManagerId = googleTagManagerId;\n        this.googleTagManagerMode = googleTagManagerMode;\n        this.googleTagManagerAuth = googleTagManagerAuth;\n        this.googleTagManagerPreview = googleTagManagerPreview;\n        this.googleTagManagerResourcePath = googleTagManagerResourcePath;\n        this.googleTagManagerCSPNonce = googleTagManagerCSPNonce;\n        this.isLoaded = false;\n        this.browserGlobals = {\n            windowRef() {\n                return window;\n            },\n            documentRef() {\n                return document;\n            },\n        };\n        this.config = this.googleTagManagerConfiguration?.get();\n        if (this.config == null) {\n            this.config = { id: null };\n        }\n        this.config = {\n            ...this.config,\n            id: googleTagManagerId || this.config.id,\n            gtm_auth: googleTagManagerAuth || this.config.gtm_auth,\n            gtm_preview: googleTagManagerPreview || this.config.gtm_preview,\n            gtm_resource_path: googleTagManagerResourcePath || this.config.gtm_resource_path,\n        };\n        if (this.config.id == null) {\n            return;\n        }\n    }\n    checkForId() {\n        if (this.googleTagManagerMode !== \"silent\" && !this.config.id) {\n            throw new Error('Google tag manager ID not provided.');\n        }\n        else if (!this.config.id) {\n            return false;\n        }\n        return true;\n    }\n    getDataLayer() {\n        this.checkForId();\n        const window = this.browserGlobals.windowRef();\n        window.dataLayer = window.dataLayer || [];\n        return window.dataLayer;\n    }\n    pushOnDataLayer(obj) {\n        this.checkForId();\n        const dataLayer = this.getDataLayer();\n        dataLayer.push(obj);\n    }\n    addGtmToDom() {\n        return new Promise((resolve, reject) => {\n            if (this.isLoaded) {\n                return resolve(this.isLoaded);\n            }\n            else if (!this.checkForId()) {\n                return resolve(false);\n            }\n            const doc = this.browserGlobals.documentRef();\n            this.pushOnDataLayer({\n                'gtm.start': new Date().getTime(),\n                event: 'gtm.js',\n            });\n            const gtmScript = doc.createElement('script');\n            gtmScript.id = 'GTMscript';\n            gtmScript.async = true;\n            gtmScript.src = this.applyGtmQueryParams(this.config.gtm_resource_path\n                ? this.config.gtm_resource_path\n                : 'https://www.googletagmanager.com/gtm.js');\n            gtmScript.addEventListener('load', () => {\n                return resolve((this.isLoaded = true));\n            });\n            gtmScript.addEventListener('error', () => {\n                return reject(false);\n            });\n            if (this.googleTagManagerCSPNonce) {\n                gtmScript.setAttribute('nonce', this.googleTagManagerCSPNonce);\n            }\n            doc.head.insertBefore(gtmScript, doc.head.firstChild);\n        });\n    }\n    pushTag(item) {\n        return new Promise((resolve, reject) => {\n            if (!this.checkForId()) {\n                return resolve();\n            }\n            if (!this.isLoaded) {\n                this.addGtmToDom()\n                    .then(() => {\n                    this.pushOnDataLayer(item);\n                    return resolve();\n                })\n                    .catch(() => reject());\n            }\n            else {\n                this.pushOnDataLayer(item);\n                return resolve();\n            }\n        });\n    }\n    applyGtmQueryParams(url) {\n        if (url.indexOf('?') === -1) {\n            url += '?';\n        }\n        return (url +\n            Object.keys(this.config)\n                .filter((k) => this.config[k])\n                .map((k) => `${k}=${this.config[k]}`)\n                .join('&'));\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerService, deps: [{ token: GoogleTagManagerConfiguration, optional: true }, { token: 'googleTagManagerId', optional: true }, { token: 'googleTagManagerMode', optional: true }, { token: 'googleTagManagerAuth', optional: true }, { token: 'googleTagManagerPreview', optional: true }, { token: 'googleTagManagerResourcePath', optional: true }, { token: 'googleTagManagerCSPNonce', optional: true }], target: i0.FactoryTarget.Injectable }); }\n    static { this.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerService, providedIn: 'root' }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: GoogleTagManagerConfiguration, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [GoogleTagManagerConfiguration]\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: ['googleTagManagerId']\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: ['googleTagManagerMode']\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: ['googleTagManagerAuth']\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: ['googleTagManagerPreview']\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: ['googleTagManagerResourcePath']\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: ['googleTagManagerCSPNonce']\n                }] }]; } });\n\nclass GoogleTagManagerModule {\n    static forRoot(config) {\n        return {\n            ngModule: GoogleTagManagerModule,\n            providers: [{ provide: GoogleTagManagerConfigService, useValue: config }],\n        };\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerModule, deps: [], target: i0.FactoryTarget.NgModule }); }\n    static { this.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerModule }); }\n    static { this.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerModule }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.2\", ngImport: i0, type: GoogleTagManagerModule, decorators: [{\n            type: NgModule\n        }] });\n\n/*\n * Public API Surface of angular-google-tag-manager\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { GoogleTagManagerConfigService, GoogleTagManagerConfiguration, GoogleTagManagerModule, GoogleTagManagerService };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, EventEmitter, Component, Input, HostBinding, HostListener, Directive, Optional, Inject, Output, NgModule } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\nconst defaultOptions = {\n    'placement': 'top',\n    'autoPlacement': true,\n    'contentType': 'string',\n    'showDelay': 0,\n    'hideDelay': 300,\n    'hideDelayMobile': 0,\n    'hideDelayTouchscreen': 0,\n    'zIndex': 0,\n    'animationDuration': 300,\n    'animationDurationDefault': 300,\n    'trigger': 'hover',\n    'tooltipClass': '',\n    'display': true,\n    'displayMobile': true,\n    'displayTouchscreen': true,\n    'shadow': true,\n    'theme': 'dark',\n    'offset': 8,\n    'maxWidth': '',\n    'id': false,\n    'hideDelayAfterClick': 2000\n};\nconst backwardCompatibilityOptions = {\n    'delay': 'showDelay',\n    'show-delay': 'showDelay',\n    'hide-delay': 'hideDelay',\n    'hide-delay-mobile': 'hideDelayTouchscreen',\n    'hideDelayMobile': 'hideDelayTouchscreen',\n    'z-index': 'zIndex',\n    'animation-duration': 'animationDuration',\n    'animation-duration-default': 'animationDurationDefault',\n    'tooltip-class': 'tooltipClass',\n    'display-mobile': 'displayTouchscreen',\n    'displayMobile': 'displayTouchscreen',\n    'max-width': 'maxWidth'\n};\n\n/**\n * This is not a real service, but it looks like it from the outside.\n * It's just an InjectionToken used to import the config (initOptions) object, provided from the outside\n */\nconst TooltipOptionsService = new InjectionToken('TooltipOptions');\n\nclass TooltipComponent {\n    constructor(elementRef, renderer) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this._show = false;\n        this.events = new EventEmitter();\n    }\n    transitionEnd(event) {\n        if (this.show) {\n            this.events.emit({\n                type: 'shown'\n            });\n        }\n    }\n    onMouseEnter() {\n        if (this.hostStylePointerEvents === 'none') {\n            return;\n        }\n        this.events.emit({ type: 'mouseenter' });\n    }\n    onMouseLeave() {\n        if (this.hostStylePointerEvents === 'none') {\n            return;\n        }\n        this.events.emit({ type: 'mouseleave' });\n    }\n    set show(value) {\n        if (value) {\n            this.setPosition();\n        }\n        this._show = this.hostClassShow = value;\n    }\n    get show() {\n        return this._show;\n    }\n    get placement() {\n        return this.data.options.placement;\n    }\n    get autoPlacement() {\n        return this.data.options.autoPlacement;\n    }\n    get element() {\n        return this.data.element;\n    }\n    get elementPosition() {\n        return this.data.elementPosition;\n    }\n    get options() {\n        return this.data.options;\n    }\n    get value() {\n        return this.data.value;\n    }\n    get tooltipOffset() {\n        return Number(this.data.options.offset);\n    }\n    get isThemeLight() {\n        return this.options['theme'] === 'light';\n    }\n    ngOnInit() {\n        this.setCustomClass();\n        this.setStyles();\n    }\n    setPosition() {\n        if (this.setHostStyle(this.placement)) {\n            this.setPlacementClass(this.placement);\n            return;\n        }\n        else {\n            /* Is tooltip outside the visible area */\n            const placements = ['top', 'right', 'bottom', 'left'];\n            let isPlacementSet;\n            for (const placement of placements) {\n                if (this.setHostStyle(placement)) {\n                    this.setPlacementClass(placement);\n                    isPlacementSet = true;\n                    return;\n                }\n            }\n            /* Set original placement */\n            if (!isPlacementSet) {\n                this.setHostStyle(this.placement, true);\n                this.setPlacementClass(this.placement);\n            }\n        }\n    }\n    setPlacementClass(placement) {\n        this.renderer.addClass(this.elementRef.nativeElement, 'tooltip-' + placement);\n    }\n    setHostStyle(placement, disableAutoPlacement = false) {\n        const isSvg = this.element instanceof SVGElement;\n        const tooltip = this.elementRef.nativeElement;\n        const isCustomPosition = !this.elementPosition.right;\n        let elementHeight = isSvg ? this.element.getBoundingClientRect().height : this.element.offsetHeight;\n        let elementWidth = isSvg ? this.element.getBoundingClientRect().width : this.element.offsetWidth;\n        const tooltipHeight = tooltip.clientHeight;\n        const tooltipWidth = tooltip.clientWidth;\n        const scrollY = window.pageYOffset;\n        if (isCustomPosition) {\n            elementHeight = 0;\n            elementWidth = 0;\n        }\n        let topStyle;\n        let leftStyle;\n        if (placement === 'top') {\n            topStyle = (this.elementPosition.top + scrollY) - (tooltipHeight + this.tooltipOffset);\n        }\n        if (placement === 'bottom') {\n            topStyle = (this.elementPosition.top + scrollY) + elementHeight + this.tooltipOffset;\n        }\n        if (placement === 'top' || placement === 'bottom') {\n            leftStyle = (this.elementPosition.left + elementWidth / 2) - tooltipWidth / 2;\n        }\n        if (placement === 'left') {\n            leftStyle = this.elementPosition.left - tooltipWidth - this.tooltipOffset;\n        }\n        if (placement === 'right') {\n            leftStyle = this.elementPosition.left + elementWidth + this.tooltipOffset;\n        }\n        if (placement === 'left' || placement === 'right') {\n            topStyle = (this.elementPosition.top + scrollY) + elementHeight / 2 - tooltip.clientHeight / 2;\n        }\n        /* Is tooltip outside the visible area */\n        if (this.autoPlacement && !disableAutoPlacement) {\n            const topEdge = topStyle;\n            const bottomEdge = topStyle + tooltipHeight;\n            const leftEdge = leftStyle;\n            const rightEdge = leftStyle + tooltipWidth;\n            const bodyHeight = window.innerHeight + scrollY;\n            const bodyWidth = document.body.clientWidth;\n            if (topEdge < 0 || bottomEdge > bodyHeight || leftEdge < 0 || rightEdge > bodyWidth) {\n                return false;\n            }\n        }\n        this.hostStyleTop = topStyle + 'px';\n        this.hostStyleLeft = leftStyle + 'px';\n        return true;\n    }\n    setZIndex() {\n        if (this.options['zIndex'] !== 0) {\n            this.hostStyleZIndex = this.options['zIndex'];\n        }\n    }\n    setPointerEvents() {\n        if (this.options['pointerEvents']) {\n            this.hostStylePointerEvents = this.options['pointerEvents'];\n        }\n    }\n    setCustomClass() {\n        if (this.options['tooltipClass']) {\n            this.options['tooltipClass'].split(' ').forEach((className) => {\n                this.renderer.addClass(this.elementRef.nativeElement, className);\n            });\n        }\n    }\n    setAnimationDuration() {\n        if (Number(this.options['animationDuration']) != this.options['animationDurationDefault']) {\n            this.hostStyleTransition = 'opacity ' + this.options['animationDuration'] + 'ms';\n        }\n    }\n    setStyles() {\n        this.setZIndex();\n        this.setPointerEvents();\n        this.setAnimationDuration();\n        this.hostClassShadow = this.options['shadow'];\n        this.hostClassLight = this.isThemeLight;\n        this.hostStyleMaxWidth = this.options['maxWidth'];\n        this.hostStyleWidth = this.options['width'] ? this.options['width'] : '';\n    }\n}\nTooltipComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.9\", ngImport: i0, type: TooltipComponent, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.FactoryTarget.Component });\nTooltipComponent.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.2.9\", type: TooltipComponent, selector: \"tooltip\", inputs: { data: \"data\", show: \"show\" }, host: { listeners: { \"transitionend\": \"transitionEnd($event)\", \"focusin\": \"onMouseEnter()\", \"mouseenter\": \"onMouseEnter()\", \"focusout\": \"onMouseLeave()\", \"mouseleave\": \"onMouseLeave()\" }, properties: { \"style.top\": \"this.hostStyleTop\", \"style.left\": \"this.hostStyleLeft\", \"style.z-index\": \"this.hostStyleZIndex\", \"style.transition\": \"this.hostStyleTransition\", \"style.width\": \"this.hostStyleWidth\", \"style.max-width\": \"this.hostStyleMaxWidth\", \"style.pointer-events\": \"this.hostStylePointerEvents\", \"class.tooltip-show\": \"this.hostClassShow\", \"class.tooltip-shadow\": \"this.hostClassShadow\", \"class.tooltip-light\": \"this.hostClassLight\" }, classAttribute: \"tooltip\" }, ngImport: i0, template: \"<div *ngIf=\\\"isThemeLight\\\" class=\\\"tooltip-arrow\\\"></div>\\n\\n<div *ngIf=\\\"options['contentType'] === 'template' else htmlOrStringTemplate\\\">\\n\\n\\t<ng-container *ngTemplateOutlet=\\\"value\\\"></ng-container>\\n</div>\\n\\n<ng-template #htmlOrStringTemplate>\\n\\t<div [innerHTML]=\\\"value\\\"></div>\\n</ng-template>\\n\", styles: [\":host{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}:host.tooltip-show{opacity:1}:host.tooltip-shadow{box-shadow:0 7px 15px -5px #0006}:host.tooltip-light.tooltip-shadow{box-shadow:0 5px 15px -5px #0006}:host.tooltip:after{content:\\\"\\\";position:absolute;border-style:solid}:host.tooltip-top:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:black transparent transparent transparent}:host.tooltip-bottom:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:transparent transparent black transparent}:host.tooltip-left:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:transparent transparent transparent black}:host.tooltip-right:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:transparent black transparent transparent}:host.tooltip-light:after{display:none}:host.tooltip-light{border:1px solid rgba(0,0,0,.06);background-color:#fff;color:#000}:host.tooltip-light .tooltip-arrow{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}:host.tooltip-light .tooltip-arrow:after{background-color:#fff;content:\\\"\\\";display:block;position:absolute;width:10px;height:10px}:host.tooltip-top.tooltip-light{margin-top:-2px}:host.tooltip-top.tooltip-light .tooltip-arrow{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-top.tooltip-light .tooltip-arrow:after{top:1px;right:1px}:host.tooltip-bottom.tooltip-light .tooltip-arrow{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 50%)}:host.tooltip-bottom.tooltip-light .tooltip-arrow:after{top:-1px;right:-1px}:host.tooltip-left.tooltip-light .tooltip-arrow{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-left.tooltip-light .tooltip-arrow:after{top:1px;right:-1px}:host.tooltip-right.tooltip-light .tooltip-arrow{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-right.tooltip-light .tooltip-arrow:after{top:-1px;right:1px}\\n\"], dependencies: [{ kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.9\", ngImport: i0, type: TooltipComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'tooltip', host: {\n                        'class': 'tooltip'\n                    }, template: \"<div *ngIf=\\\"isThemeLight\\\" class=\\\"tooltip-arrow\\\"></div>\\n\\n<div *ngIf=\\\"options['contentType'] === 'template' else htmlOrStringTemplate\\\">\\n\\n\\t<ng-container *ngTemplateOutlet=\\\"value\\\"></ng-container>\\n</div>\\n\\n<ng-template #htmlOrStringTemplate>\\n\\t<div [innerHTML]=\\\"value\\\"></div>\\n</ng-template>\\n\", styles: [\":host{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}:host.tooltip-show{opacity:1}:host.tooltip-shadow{box-shadow:0 7px 15px -5px #0006}:host.tooltip-light.tooltip-shadow{box-shadow:0 5px 15px -5px #0006}:host.tooltip:after{content:\\\"\\\";position:absolute;border-style:solid}:host.tooltip-top:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:black transparent transparent transparent}:host.tooltip-bottom:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:transparent transparent black transparent}:host.tooltip-left:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:transparent transparent transparent black}:host.tooltip-right:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:transparent black transparent transparent}:host.tooltip-light:after{display:none}:host.tooltip-light{border:1px solid rgba(0,0,0,.06);background-color:#fff;color:#000}:host.tooltip-light .tooltip-arrow{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}:host.tooltip-light .tooltip-arrow:after{background-color:#fff;content:\\\"\\\";display:block;position:absolute;width:10px;height:10px}:host.tooltip-top.tooltip-light{margin-top:-2px}:host.tooltip-top.tooltip-light .tooltip-arrow{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-top.tooltip-light .tooltip-arrow:after{top:1px;right:1px}:host.tooltip-bottom.tooltip-light .tooltip-arrow{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 50%)}:host.tooltip-bottom.tooltip-light .tooltip-arrow:after{top:-1px;right:-1px}:host.tooltip-left.tooltip-light .tooltip-arrow{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-left.tooltip-light .tooltip-arrow:after{top:1px;right:-1px}:host.tooltip-right.tooltip-light .tooltip-arrow{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,rgba(0,0,0,.07) 50%,transparent 50%)}:host.tooltip-right.tooltip-light .tooltip-arrow:after{top:-1px;right:1px}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }]; }, propDecorators: { data: [{\n                type: Input\n            }], hostStyleTop: [{\n                type: HostBinding,\n                args: ['style.top']\n            }], hostStyleLeft: [{\n                type: HostBinding,\n                args: ['style.left']\n            }], hostStyleZIndex: [{\n                type: HostBinding,\n                args: ['style.z-index']\n            }], hostStyleTransition: [{\n                type: HostBinding,\n                args: ['style.transition']\n            }], hostStyleWidth: [{\n                type: HostBinding,\n                args: ['style.width']\n            }], hostStyleMaxWidth: [{\n                type: HostBinding,\n                args: ['style.max-width']\n            }], hostStylePointerEvents: [{\n                type: HostBinding,\n                args: ['style.pointer-events']\n            }], hostClassShow: [{\n                type: HostBinding,\n                args: ['class.tooltip-show']\n            }], hostClassShadow: [{\n                type: HostBinding,\n                args: ['class.tooltip-shadow']\n            }], hostClassLight: [{\n                type: HostBinding,\n                args: ['class.tooltip-light']\n            }], transitionEnd: [{\n                type: HostListener,\n                args: ['transitionend', ['$event']]\n            }], onMouseEnter: [{\n                type: HostListener,\n                args: ['focusin']\n            }, {\n                type: HostListener,\n                args: ['mouseenter']\n            }], onMouseLeave: [{\n                type: HostListener,\n                args: ['focusout']\n            }, {\n                type: HostListener,\n                args: ['mouseleave']\n            }], show: [{\n                type: Input\n            }] } });\n\nclass TooltipDirective {\n    constructor(initOptions, elementRef, componentFactoryResolver, appRef, injector) {\n        this.initOptions = initOptions;\n        this.elementRef = elementRef;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.appRef = appRef;\n        this.injector = injector;\n        this._options = {};\n        this._contentType = \"string\";\n        this.events = new EventEmitter();\n    }\n    set options(value) {\n        if (value && defaultOptions) {\n            this._options = value;\n        }\n    }\n    get options() {\n        return this._options;\n    }\n    // Content type\n    set contentTypeBackwardCompatibility(value) {\n        if (value) {\n            this._contentType = value;\n        }\n    }\n    set contentType(value) {\n        if (value) {\n            this._contentType = value;\n        }\n    }\n    get contentType() {\n        return this._contentType;\n    }\n    // z-index\n    set zIndexBackwardCompatibility(value) {\n        if (value) {\n            this._zIndex = value;\n        }\n    }\n    set zIndex(value) {\n        if (value) {\n            this._zIndex = value;\n        }\n    }\n    get zIndex() {\n        return this._zIndex;\n    }\n    // Animation duration\n    set animationDurationBackwardCompatibility(value) {\n        if (value) {\n            this._animationDuration = value;\n        }\n    }\n    set animationDuration(value) {\n        if (value) {\n            this._animationDuration = value;\n        }\n    }\n    get animationDuration() {\n        return this._animationDuration;\n    }\n    // Tooltip class\n    set tooltipClassBackwardCompatibility(value) {\n        if (value) {\n            this._tooltipClass = value;\n        }\n    }\n    set tooltipClass(value) {\n        if (value) {\n            this._tooltipClass = value;\n        }\n    }\n    get tooltipClass() {\n        return this._tooltipClass;\n    }\n    // Max width\n    set maxWidthBackwardCompatibility(value) {\n        if (value) {\n            this._maxWidth = value;\n        }\n    }\n    set maxWidth(value) {\n        if (value) {\n            this._maxWidth = value;\n        }\n    }\n    get maxWidth() {\n        return this._maxWidth;\n    }\n    // Show delay\n    set showDelayBackwardCompatibility(value) {\n        if (value) {\n            this._showDelay = value;\n        }\n    }\n    set showDelay(value) {\n        if (value) {\n            this._showDelay = value;\n        }\n    }\n    get showDelay() {\n        return this._showDelay;\n    }\n    // Hide delay\n    set hideDelayBackwardCompatibility(value) {\n        if (value) {\n            this._hideDelay = value;\n        }\n    }\n    set hideDelay(value) {\n        if (value) {\n            this._hideDelay = value;\n        }\n    }\n    get hideDelay() {\n        return this._hideDelay;\n    }\n    get isTooltipDestroyed() {\n        return this.componentRef && this.componentRef.hostView.destroyed;\n    }\n    get destroyDelay() {\n        if (this._destroyDelay) {\n            return this._destroyDelay;\n        }\n        else {\n            return Number(this.getHideDelay()) + Number(this.options['animationDuration']);\n        }\n    }\n    set destroyDelay(value) {\n        this._destroyDelay = value;\n    }\n    get tooltipPosition() {\n        if (this.options['position']) {\n            return this.options['position'];\n        }\n        else {\n            return this.elementPosition;\n        }\n    }\n    onMouseEnter() {\n        if (this.isDisplayOnHover == false) {\n            return;\n        }\n        this.show();\n    }\n    onMouseLeave() {\n        if (this.options['trigger'] === 'hover') {\n            this.destroyTooltip();\n        }\n    }\n    onClick() {\n        if (this.isDisplayOnClick == false) {\n            return;\n        }\n        this.show();\n        this.hideAfterClickTimeoutId = window.setTimeout(() => {\n            this.destroyTooltip();\n        }, this.options['hideDelayAfterClick']);\n    }\n    ngOnInit() {\n    }\n    ngOnChanges(changes) {\n        this.initOptions = this.renameProperties(this.initOptions);\n        let changedOptions = this.getProperties(changes);\n        changedOptions = this.renameProperties(changedOptions);\n        this.applyOptionsDefault(defaultOptions, changedOptions);\n    }\n    ngOnDestroy() {\n        this.destroyTooltip({\n            fast: true\n        });\n        if (this.componentSubscribe) {\n            this.componentSubscribe.unsubscribe();\n        }\n    }\n    getShowDelay() {\n        return this.options['showDelay'];\n    }\n    getHideDelay() {\n        const hideDelay = this.options['hideDelay'];\n        const hideDelayTouchscreen = this.options['hideDelayTouchscreen'];\n        return this.isTouchScreen ? hideDelayTouchscreen : hideDelay;\n    }\n    getProperties(changes) {\n        let directiveProperties = {};\n        let customProperties = {};\n        let allProperties = {};\n        for (var prop in changes) {\n            if (prop !== 'options' && prop !== 'tooltipValue') {\n                directiveProperties[prop] = changes[prop].currentValue;\n            }\n            if (prop === 'options') {\n                customProperties = changes[prop].currentValue;\n            }\n        }\n        allProperties = Object.assign({}, customProperties, directiveProperties);\n        return allProperties;\n    }\n    renameProperties(options) {\n        for (var prop in options) {\n            if (backwardCompatibilityOptions[prop]) {\n                options[backwardCompatibilityOptions[prop]] = options[prop];\n                delete options[prop];\n            }\n        }\n        return options;\n    }\n    getElementPosition() {\n        this.elementPosition = this.elementRef.nativeElement.getBoundingClientRect();\n    }\n    createTooltip() {\n        this.clearTimeouts();\n        this.getElementPosition();\n        this.createTimeoutId = window.setTimeout(() => {\n            this.appendComponentToBody(TooltipComponent);\n        }, this.getShowDelay());\n        this.showTimeoutId = window.setTimeout(() => {\n            this.showTooltipElem();\n        }, this.getShowDelay());\n    }\n    destroyTooltip(options = {\n        fast: false\n    }) {\n        this.clearTimeouts();\n        if (this.isTooltipDestroyed == false) {\n            this.hideTimeoutId = window.setTimeout(() => {\n                this.hideTooltip();\n            }, options.fast ? 0 : this.getHideDelay());\n            this.destroyTimeoutId = window.setTimeout(() => {\n                if (!this.componentRef || this.isTooltipDestroyed) {\n                    return;\n                }\n                this.appRef.detachView(this.componentRef.hostView);\n                this.componentRef.destroy();\n                this.events.emit({\n                    type: 'hidden',\n                    position: this.tooltipPosition\n                });\n            }, options.fast ? 0 : this.destroyDelay);\n        }\n    }\n    showTooltipElem() {\n        this.clearTimeouts();\n        this.componentRef.instance.show = true;\n        this.events.emit({\n            type: 'show',\n            position: this.tooltipPosition\n        });\n    }\n    hideTooltip() {\n        if (!this.componentRef || this.isTooltipDestroyed) {\n            return;\n        }\n        this.componentRef.instance.show = false;\n        this.events.emit({\n            type: 'hide',\n            position: this.tooltipPosition\n        });\n    }\n    appendComponentToBody(component, data = {}) {\n        this.componentRef = this.componentFactoryResolver\n            .resolveComponentFactory(component)\n            .create(this.injector);\n        this.componentRef.instance.data = {\n            value: this.tooltipValue,\n            element: this.elementRef.nativeElement,\n            elementPosition: this.tooltipPosition,\n            options: this.options\n        };\n        this.appRef.attachView(this.componentRef.hostView);\n        const domElem = this.componentRef.hostView.rootNodes[0];\n        document.body.appendChild(domElem);\n        this.componentSubscribe = this.componentRef.instance.events.subscribe((event) => {\n            this.handleEvents(event);\n        });\n    }\n    clearTimeouts() {\n        if (this.createTimeoutId) {\n            clearTimeout(this.createTimeoutId);\n        }\n        if (this.showTimeoutId) {\n            clearTimeout(this.showTimeoutId);\n        }\n        if (this.hideTimeoutId) {\n            clearTimeout(this.hideTimeoutId);\n        }\n        if (this.destroyTimeoutId) {\n            clearTimeout(this.destroyTimeoutId);\n        }\n    }\n    get isDisplayOnHover() {\n        if (this.options['display'] == false) {\n            return false;\n        }\n        if (this.options['displayTouchscreen'] == false && this.isTouchScreen) {\n            return false;\n        }\n        if (this.options['trigger'] !== 'hover') {\n            return false;\n        }\n        return true;\n    }\n    get isDisplayOnClick() {\n        if (this.options['display'] == false) {\n            return false;\n        }\n        if (this.options['displayTouchscreen'] == false && this.isTouchScreen) {\n            return false;\n        }\n        if (this.options['trigger'] != 'click') {\n            return false;\n        }\n        return true;\n    }\n    get isTouchScreen() {\n        var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n        var mq = function (query) {\n            return window.matchMedia(query).matches;\n        };\n        if (('ontouchstart' in window)) {\n            return true;\n        }\n        // include the 'heartz' as a way to have a non matching MQ to help terminate the join\n        // https://git.io/vznFH\n        var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n        return mq(query);\n    }\n    applyOptionsDefault(defaultOptions, options) {\n        this.options = Object.assign({}, defaultOptions, this.initOptions || {}, this.options, options);\n    }\n    handleEvents(event) {\n        if (event.type === 'shown') {\n            this.events.emit({\n                type: 'shown',\n                position: this.tooltipPosition\n            });\n        }\n        if (event.type === 'mouseenter') {\n            this.clearTimeouts();\n        }\n        if (event.type === 'mouseleave') {\n            this.destroyTooltip();\n        }\n    }\n    show() {\n        if (!this.tooltipValue) {\n            return;\n        }\n        if (!this.componentRef || this.isTooltipDestroyed) {\n            this.createTooltip();\n        }\n        else if (!this.isTooltipDestroyed) {\n            this.showTooltipElem();\n        }\n    }\n    hide() {\n        this.destroyTooltip();\n    }\n}\nTooltipDirective.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.9\", ngImport: i0, type: TooltipDirective, deps: [{ token: TooltipOptionsService, optional: true }, { token: i0.ElementRef }, { token: i0.ComponentFactoryResolver }, { token: i0.ApplicationRef }, { token: i0.Injector }], target: i0.FactoryTarget.Directive });\nTooltipDirective.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"15.2.9\", type: TooltipDirective, selector: \"[tooltip]\", inputs: { options: \"options\", tooltipValue: [\"tooltip\", \"tooltipValue\"], placement: \"placement\", autoPlacement: \"autoPlacement\", contentTypeBackwardCompatibility: [\"content-type\", \"contentTypeBackwardCompatibility\"], contentType: \"contentType\", hideDelayMobile: [\"hide-delay-mobile\", \"hideDelayMobile\"], hideDelayTouchscreen: \"hideDelayTouchscreen\", zIndexBackwardCompatibility: [\"z-index\", \"zIndexBackwardCompatibility\"], zIndex: \"zIndex\", animationDurationBackwardCompatibility: [\"animation-duration\", \"animationDurationBackwardCompatibility\"], animationDuration: \"animationDuration\", trigger: \"trigger\", tooltipClassBackwardCompatibility: [\"tooltip-class\", \"tooltipClassBackwardCompatibility\"], tooltipClass: \"tooltipClass\", display: \"display\", displayMobile: [\"display-mobile\", \"displayMobile\"], displayTouchscreen: \"displayTouchscreen\", shadow: \"shadow\", theme: \"theme\", offset: \"offset\", width: \"width\", maxWidthBackwardCompatibility: [\"max-width\", \"maxWidthBackwardCompatibility\"], maxWidth: \"maxWidth\", id: \"id\", showDelayBackwardCompatibility: [\"show-delay\", \"showDelayBackwardCompatibility\"], showDelay: \"showDelay\", hideDelayBackwardCompatibility: [\"hide-delay\", \"hideDelayBackwardCompatibility\"], hideDelay: \"hideDelay\", hideDelayAfterClick: \"hideDelayAfterClick\", pointerEvents: \"pointerEvents\", position: \"position\" }, outputs: { events: \"events\" }, host: { listeners: { \"focusin\": \"onMouseEnter()\", \"mouseenter\": \"onMouseEnter()\", \"focusout\": \"onMouseLeave()\", \"mouseleave\": \"onMouseLeave()\", \"click\": \"onClick()\" } }, exportAs: [\"tooltip\"], usesOnChanges: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.9\", ngImport: i0, type: TooltipDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[tooltip]',\n                    exportAs: 'tooltip',\n                }]\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [TooltipOptionsService]\n                }] }, { type: i0.ElementRef }, { type: i0.ComponentFactoryResolver }, { type: i0.ApplicationRef }, { type: i0.Injector }]; }, propDecorators: { options: [{\n                type: Input,\n                args: ['options']\n            }], tooltipValue: [{\n                type: Input,\n                args: ['tooltip']\n            }], placement: [{\n                type: Input,\n                args: ['placement']\n            }], autoPlacement: [{\n                type: Input,\n                args: ['autoPlacement']\n            }], contentTypeBackwardCompatibility: [{\n                type: Input,\n                args: ['content-type']\n            }], contentType: [{\n                type: Input,\n                args: ['contentType']\n            }], hideDelayMobile: [{\n                type: Input,\n                args: ['hide-delay-mobile']\n            }], hideDelayTouchscreen: [{\n                type: Input,\n                args: ['hideDelayTouchscreen']\n            }], zIndexBackwardCompatibility: [{\n                type: Input,\n                args: ['z-index']\n            }], zIndex: [{\n                type: Input,\n                args: ['zIndex']\n            }], animationDurationBackwardCompatibility: [{\n                type: Input,\n                args: ['animation-duration']\n            }], animationDuration: [{\n                type: Input,\n                args: ['animationDuration']\n            }], trigger: [{\n                type: Input,\n                args: ['trigger']\n            }], tooltipClassBackwardCompatibility: [{\n                type: Input,\n                args: ['tooltip-class']\n            }], tooltipClass: [{\n                type: Input,\n                args: ['tooltipClass']\n            }], display: [{\n                type: Input,\n                args: ['display']\n            }], displayMobile: [{\n                type: Input,\n                args: ['display-mobile']\n            }], displayTouchscreen: [{\n                type: Input,\n                args: ['displayTouchscreen']\n            }], shadow: [{\n                type: Input,\n                args: ['shadow']\n            }], theme: [{\n                type: Input,\n                args: ['theme']\n            }], offset: [{\n                type: Input,\n                args: ['offset']\n            }], width: [{\n                type: Input,\n                args: ['width']\n            }], maxWidthBackwardCompatibility: [{\n                type: Input,\n                args: ['max-width']\n            }], maxWidth: [{\n                type: Input,\n                args: ['maxWidth']\n            }], id: [{\n                type: Input,\n                args: ['id']\n            }], showDelayBackwardCompatibility: [{\n                type: Input,\n                args: ['show-delay']\n            }], showDelay: [{\n                type: Input,\n                args: ['showDelay']\n            }], hideDelayBackwardCompatibility: [{\n                type: Input,\n                args: ['hide-delay']\n            }], hideDelay: [{\n                type: Input,\n                args: ['hideDelay']\n            }], hideDelayAfterClick: [{\n                type: Input,\n                args: ['hideDelayAfterClick']\n            }], pointerEvents: [{\n                type: Input,\n                args: ['pointerEvents']\n            }], position: [{\n                type: Input,\n                args: ['position']\n            }], events: [{\n                type: Output\n            }], onMouseEnter: [{\n                type: HostListener,\n                args: ['focusin']\n            }, {\n                type: HostListener,\n                args: ['mouseenter']\n            }], onMouseLeave: [{\n                type: HostListener,\n                args: ['focusout']\n            }, {\n                type: HostListener,\n                args: ['mouseleave']\n            }], onClick: [{\n                type: HostListener,\n                args: ['click']\n            }] } });\n\nclass TooltipModule {\n    static forRoot(initOptions) {\n        return {\n            ngModule: TooltipModule,\n            providers: [\n                {\n                    provide: TooltipOptionsService,\n                    useValue: initOptions\n                }\n            ]\n        };\n    }\n}\nTooltipModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.9\", ngImport: i0, type: TooltipModule, deps: [], target: i0.FactoryTarget.NgModule });\nTooltipModule.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.2.9\", ngImport: i0, type: TooltipModule, declarations: [TooltipDirective,\n        TooltipComponent], imports: [CommonModule], exports: [TooltipDirective] });\nTooltipModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.2.9\", ngImport: i0, type: TooltipModule, imports: [CommonModule] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.9\", ngImport: i0, type: TooltipModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        TooltipDirective,\n                        TooltipComponent\n                    ],\n                    imports: [\n                        CommonModule\n                    ],\n                    exports: [\n                        TooltipDirective\n                    ]\n                }]\n        }] });\n\n/*\n * Public API Surface of ng2-tooltip-directive\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TooltipComponent, TooltipDirective, TooltipModule };\n"],"x_google_ignoreList":[19,20]}