"use strict";(self.webpackChunkwelcome_sbm=self.webpackChunkwelcome_sbm||[]).push([[110],{39110:(sv,On,d)=>{d.r(On),d.d(On,{BookingModule:()=>Ht});var s=d(96814),In=d(2065),V=d(1413),t=d(65879),X=d(42495),N=d(99397),ln=d(65592),E=d(92438),D=d(37398),Tt=d(63019),tt=d(59773),cn=d(94664),wo=d(36232),hn=d(22096),y=d(78645),xn=d(93997),qn=d(80927),Po=d(9769),To=d(65619),Jn=d(83620),Mo=d(47394),yo=d(69384),Zo=d(32181),ko=d(29028),Qn=d(49388),ct=d(62831),Un=d(48180),Ao=d(79360),So=d(80564);var Io=d(30812),qo=d(64716);const Jo=4,Uo=1e-7,No=10,Eo="function"==typeof Float32Array;function Nn(o,n){return 1-3*n+3*o}function En(o,n){return 3*n-6*o}function Dn(o){return 3*o}function pn(o,n,e){return((Nn(n,e)*o+En(n,e))*o+Dn(n))*o}function Ln(o,n,e){return 3*Nn(n,e)*o*o+2*En(n,e)*o+Dn(n)}function Bo(o){return o}function Vo(o,n,e,i){if(!(0<=o&&o<=1&&0<=e&&e<=1))throw new Error("bezier x values must be in [0, 1] range");if(o===n&&e===i)return Bo;let a=Eo?new Float32Array(11):new Array(11);for(let l=0;l<11;++l)a[l]=pn(.1*l,o,e);function r(l){let c=0,g=1;for(;10!==g&&a[g]<=l;++g)c+=.1;--g;let h=c+.1*((l-a[g])/(a[g+1]-a[g])),x=Ln(h,o,e);return x>=.001?function Lo(o,n,e,i){for(let a=0;a<Jo;++a){let r=Ln(n,e,i);if(0===r)return n;n-=(pn(n,e,i)-o)/r}return n}(l,h,o,e):0===x?h:function Do(o,n,e,i,a){let r,l,c=0;do{l=n+(e-n)/2,r=pn(l,i,a)-o,r>0?e=l:n=l}while(Math.abs(r)>Uo&&++c<No);return l}(l,c,c+.1,o,e)}return function(c){return 0===c?0:1===c?1:pn(r(c),n,i)}}const Yo=new t.OlP("SMOOTH_SCROLL_OPTIONS");class st{get _w(){return this._document.defaultView}get _now(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now}constructor(n,e,i){this._document=n,this._platform=e,this._onGoingScrolls=new Map,this._defaultOptions=(0,V.Z)({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},i)}_scrollElement(n,e,i){n.scrollLeft=e,n.scrollTop=i}_getElement(n,e){return"string"==typeof n?(e||this._document).querySelector(n):(0,X.fI)(n)}_initSmoothScroll(n){return this._onGoingScrolls.has(n)&&this._onGoingScrolls.get(n).next(),this._onGoingScrolls.set(n,new y.x).get(n)}_isFinished(n,e,i){return n.currentX!==n.x||n.currentY!==n.y||(e.next(),i(),!1)}_interrupted(n,e){return(0,Tt.T)((0,E.R)(n,"wheel",{passive:!0,capture:!0}),(0,E.R)(n,"touchmove",{passive:!0,capture:!0}),e).pipe((0,Un.q)(1))}_destroy(n,e){e.complete(),this._onGoingScrolls.delete(n)}_step(n){return new ln.y(e=>{let i=(this._now()-n.startTime)/n.duration;i=i>1?1:i;const a=n.easing(i);n.currentX=n.startX+(n.x-n.startX)*a,n.currentY=n.startY+(n.y-n.startY)*a,this._scrollElement(n.scrollable,n.currentX,n.currentY),qn.Z.schedule(()=>e.next(n))})}_applyScrollToOptions(n,e){if(!e.duration)return this._scrollElement(n,e.left,e.top),Promise.resolve();const i=this._initSmoothScroll(n),a={scrollable:n,startTime:this._now(),startX:n.scrollLeft,startY:n.scrollTop,x:null==e.left?n.scrollLeft:~~e.left,y:null==e.top?n.scrollTop:~~e.top,duration:e.duration,easing:Vo(e.easing.x1,e.easing.y1,e.easing.x2,e.easing.y2)};return new Promise(r=>{(0,hn.of)(null).pipe(function Oo(o,n=1/0,e){return n=(n||0)<1?1/0:n,(0,Ao.e)((i,a)=>(0,So.p)(i,a,o,n,void 0,!0,e))}(()=>this._step(a).pipe((0,Io.o)(l=>this._isFinished(l,i,r)))),(0,tt.R)(this._interrupted(n,i)),(0,qo.x)(()=>this._destroy(n,i))).subscribe()})}scrollTo(n,e){if((0,s.NF)(this._platform)){const i=this._getElement(n),a="rtl"===getComputedStyle(i).direction,r=(0,ct._i)(),l=(0,V.Z)((0,V.Z)((0,V.Z)({},this._defaultOptions),e),{left:null==e.left?a?e.end:e.start:e.left,right:null==e.right?a?e.start:e.end:e.right});return null!=l.bottom&&(l.top=i.scrollHeight-i.clientHeight-l.bottom),a&&0!==r?(null!=l.left&&(l.right=i.scrollWidth-i.clientWidth-l.left),2===r?l.left=l.right:1===r&&(l.left=l.right?-l.right:l.right)):null!=l.right&&(l.left=i.scrollWidth-i.clientWidth-l.right),this._applyScrollToOptions(i,l)}return Promise.resolve()}scrollToElement(n,e,i={}){const a=this._getElement(n),r=this._getElement(e,a),l=(0,V.Z)((0,V.Z)({},i),{left:r.offsetLeft+(i.left||0),top:r.offsetTop+(i.top||0)});return r?this.scrollTo(a,l):Promise.resolve()}}st.\u0275fac=function(n){return new(n||st)(t.LFG(s.K0),t.LFG(t.Lbi),t.LFG(Yo,8))},st.\u0275prov=t.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"});class gn{constructor(n,e){this.element=n,this.smoothScroll=e}scrollTo(n){return this.smoothScroll.scrollTo(this.element,n)}scrollToElement(n,e){return this.smoothScroll.scrollToElement(this.element,n,e)}}gn.\u0275fac=function(n){return new(n||gn)(t.Y36(t.SBq),t.Y36(st))},gn.\u0275dir=t.lG2({type:gn,selectors:[["","smoothScroll",""],["","smooth-scroll",""]],exportAs:["smoothScroll"],standalone:!0});const Fo=["scrollbarY"],Ho=["scrollbarX"];function Ro(o,n){if(1&o&&t._UZ(0,"scrollbar-x",null,4),2&o){const e=t.oxw(2);t.uIk("scrollable",e.state.isHorizontallyScrollable)("fit",e.state.verticalUsed)}}function Go(o,n){if(1&o&&t._UZ(0,"scrollbar-y",null,5),2&o){const e=t.oxw(2);t.uIk("scrollable",e.state.isVerticallyScrollable)("fit",e.state.horizontalUsed)}}function Ko(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ro,2,2,"scrollbar-x",3),t.YNc(2,Go,2,2,"scrollbar-y",3),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.state.horizontalUsed),t.xp6(1),t.Q6J("ngIf",e.state.verticalUsed)}}class Gt{constructor(n){this.el=n}set ngAttr(n){for(const[e,i]of Object.entries(n))this.el.nativeElement.setAttribute(e,i)}}function Bn(o){return(0,N.b)(()=>{o.onselectstart=()=>!1})}function Vn(o){return(0,N.b)(()=>{o.onselectstart=null})}function rt(){return(0,N.b)(o=>o.stopPropagation())}function bn(o,n){return o.clientX>=n.left&&o.clientX<=n.left+n.width&&o.clientY>=n.top&&o.clientY<=n.top+n.height}Gt.\u0275fac=function(n){return new(n||Gt)(t.Y36(t.SBq))},Gt.\u0275dir=t.lG2({type:Gt,selectors:[["","ngAttr",""]],inputs:{ngAttr:"ngAttr"},standalone:!0});class pt{get clientHeight(){return this.nativeElement.clientHeight}get clientWidth(){return this.nativeElement.clientWidth}get scrollHeight(){return this.nativeElement.scrollHeight}get scrollWidth(){return this.nativeElement.scrollWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get scrollMaxX(){return this.scrollWidth-this.clientWidth}get scrollMaxY(){return this.scrollHeight-this.clientHeight}get contentHeight(){var n;return(null===(n=this.contentWrapperElement)||void 0===n?void 0:n.clientHeight)||0}get contentWidth(){var n;return(null===(n=this.contentWrapperElement)||void 0===n?void 0:n.clientWidth)||0}constructor(n){this.viewPort=n,this.nativeElement=n.nativeElement}activatePointerEvents(n,e){this.hovered=new ln.y(i=>{const a=(0,E.R)(this.nativeElement,"mousemove",{passive:!0}),r=n?a:a.pipe(rt()),l=(0,E.R)(this.nativeElement,"mouseleave",{passive:!0}).pipe((0,D.U)(()=>!1));(0,Tt.T)(r,l).pipe((0,N.b)(c=>i.next(c)),(0,tt.R)(e)).subscribe()}),this.clicked=new ln.y(i=>{const a=(0,E.R)(this.nativeElement,"mousedown",{passive:!0}).pipe((0,N.b)(l=>i.next(l))),r=(0,E.R)(this.nativeElement,"mouseup",{passive:!0}).pipe((0,N.b)(()=>i.next(!1)));a.pipe((0,cn.w)(()=>r),(0,tt.R)(e)).subscribe()})}setAsWrapper(){this.nativeElement.className="ng-native-scrollbar-hider ng-scroll-layer",this.nativeElement.firstElementChild&&(this.nativeElement.firstElementChild.className="ng-scroll-layer")}setAsViewport(n){this.nativeElement.className=`ng-native-scrollbar-hider ng-scroll-viewport ${n}`,this.nativeElement.firstElementChild&&(this.contentWrapperElement=this.nativeElement.firstElementChild,this.contentWrapperElement.classList.add("ng-scroll-content"))}scrollYTo(n){this.nativeElement.scrollTop=n}scrollXTo(n){this.nativeElement.scrollLeft=n}}pt.\u0275fac=function(n){return new(n||pt)(t.Y36(t.SBq))},pt.\u0275dir=t.lG2({type:pt,selectors:[["","scrollViewport",""]],standalone:!0});class L{}L.\u0275fac=function(n){return new(n||L)},L.\u0275dir=t.lG2({type:L});class gt{get clicked(){const n=(0,E.R)(this.trackElement,"mousedown",{passive:!0}).pipe(rt(),Bn(this.document)),e=(0,E.R)(this.document,"mouseup",{passive:!0}).pipe(rt(),Vn(this.document),(0,cn.w)(()=>wo.E));return(0,Tt.T)(n,e)}get clientRect(){return this.trackElement.getBoundingClientRect()}constructor(n,e,i){this.cmp=n,this.trackElement=e,this.document=i}onTrackClicked(n,e,i){return(0,hn.of)(n).pipe((0,D.U)(a=>a[this.pageProperty]),(0,D.U)(a=>(a-this.offset-e/2)/this.size*i),(0,N.b)(a=>{this.cmp.scrollTo((0,V.Z)((0,V.Z)({},this.mapToScrollToOption(a)),{},{duration:(0,X.su)(this.cmp.trackClickScrollDuration)}))}))}}gt.\u0275fac=function(n){return new(n||gt)(t.Y36(L),t.Y36(HTMLElement),t.Y36(Document))},gt.\u0275dir=t.lG2({type:gt});class mt extends gt{get pageProperty(){return"pageX"}get offset(){return this.clientRect.left}get size(){return this.trackElement.clientWidth}constructor(n,e,i){super(n,e.nativeElement,i),this.cmp=n,this.document=i}mapToScrollToOption(n){return{left:n}}}mt.\u0275fac=function(n){return new(n||mt)(t.Y36(L),t.Y36(t.SBq),t.Y36(s.K0))},mt.\u0275dir=t.lG2({type:mt,selectors:[["","scrollbarTrackX",""]],standalone:!0,features:[t.qOj]});class dt extends gt{get pageProperty(){return"pageY"}get offset(){return this.clientRect.top}get size(){return this.trackElement.clientHeight}constructor(n,e,i){super(n,e.nativeElement,i),this.cmp=n,this.document=i}mapToScrollToOption(n){return{top:n}}}dt.\u0275fac=function(n){return new(n||dt)(t.Y36(L),t.Y36(t.SBq),t.Y36(s.K0))},dt.\u0275dir=t.lG2({type:dt,selectors:[["","scrollbarTrackY",""]],standalone:!0,features:[t.qOj]});class Mt{get trackMax(){return this.track.size-this.size}get clientRect(){return this.thumbElement.getBoundingClientRect()}get clicked(){return(0,E.R)(this.thumbElement,"mousedown",{passive:!0}).pipe(rt())}constructor(n,e,i,a){this.cmp=n,this.track=e,this.thumbElement=i,this.document=a,this._dragging=new y.x,this.dragging=this._dragging.pipe((0,xn.x)())}update(){const n=function Xo(o,n,e){const a=o/n*o;return Math.max(~~a,e)}(this.track.size,this.viewportScrollSize,this.cmp.minThumbSize),e=function $o(o,n,e){return o*e/n}(this.viewportScrollOffset,this.viewportScrollMax,this.trackMax);qn.Z.schedule(()=>this.updateStyles(this.handleDirection(e,this.trackMax),n))}dragged(n){let e,i;const a=(0,hn.of)(n).pipe(Bn(this.document),(0,N.b)(()=>{e=this.trackMax,i=this.viewportScrollMax,this.setDragging(!0)})),r=(0,E.R)(this.document,"mousemove",{capture:!0,passive:!0}).pipe(rt()),l=(0,E.R)(this.document,"mouseup",{capture:!0}).pipe(rt(),Vn(this.document),(0,N.b)(()=>this.setDragging(!1)));return a.pipe((0,D.U)(c=>c[this.pageProperty]),(0,D.U)(c=>c-this.dragStartOffset),(0,Po.z)(c=>r.pipe((0,D.U)(g=>g[this.clientProperty]),(0,D.U)(g=>g-this.track.offset),(0,D.U)(g=>i*(g-c)/e),(0,D.U)(g=>this.handleDrag(g,i)),(0,N.b)(g=>this.scrollTo(g)),(0,tt.R)(l))))}}Mt.\u0275fac=function(n){return new(n||Mt)(t.Y36(L),t.Y36(gt),t.Y36(HTMLElement),t.Y36(Document))},Mt.\u0275dir=t.lG2({type:Mt,outputs:{dragging:"dragging"}});class yt extends Mt{get clientProperty(){return"clientX"}get pageProperty(){return"pageX"}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get dragStartOffset(){return this.clientRect.left+this.document.defaultView.pageXOffset||0}get size(){return this.thumbElement.clientWidth}constructor(n,e,i,a,r){super(n,e,i.nativeElement,a),this.cmp=n,this.track=e,this.element=i,this.document=a,this.dir=r}updateStyles(n,e){this.thumbElement.style.width=`${e}px`,this.thumbElement.style.transform=`translate3d(${n}px, 0, 0)`}handleDrag(n,e){if("rtl"===this.dir.value){if(1===this.cmp.manager.rtlScrollAxisType)return n-e;if(2===this.cmp.manager.rtlScrollAxisType)return e-n}return n}handleDirection(n,e){if("rtl"===this.dir.value){if(2===this.cmp.manager.rtlScrollAxisType)return-n;if(0===this.cmp.manager.rtlScrollAxisType)return n-e}return n}setDragging(n){this.cmp.setDragging({horizontalDragging:n})}scrollTo(n){this.cmp.viewport.scrollXTo(n)}}yt.\u0275fac=function(n){return new(n||yt)(t.Y36(L),t.Y36(mt),t.Y36(t.SBq),t.Y36(s.K0),t.Y36(Qn.Is))},yt.\u0275dir=t.lG2({type:yt,selectors:[["","scrollbarThumbX",""]],standalone:!0,features:[t.qOj]});class Zt extends Mt{get pageProperty(){return"pageY"}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get clientProperty(){return"clientY"}get dragStartOffset(){return this.clientRect.top+this.document.defaultView.pageYOffset||0}get size(){return this.thumbElement.clientHeight}constructor(n,e,i,a){super(n,e,i.nativeElement,a),this.cmp=n,this.track=e,this.element=i,this.document=a}updateStyles(n,e){this.thumbElement.style.height=`${e}px`,this.thumbElement.style.transform=`translate3d(0px, ${n}px, 0)`}handleDrag(n){return n}handleDirection(n){return n}setDragging(n){this.cmp.setDragging({verticalDragging:n})}scrollTo(n){this.cmp.viewport.scrollYTo(n)}}Zt.\u0275fac=function(n){return new(n||Zt)(t.Y36(L),t.Y36(dt),t.Y36(t.SBq),t.Y36(s.K0))},Zt.\u0275dir=t.lG2({type:Zt,selectors:[["","scrollbarThumbY",""]],standalone:!0,features:[t.qOj]});class kt{constructor(n,e,i,a,r){this.el=n,this.cmp=e,this.platform=i,this.document=a,this.zone=r,this.destroyed=new y.x}activatePointerEvents(){let n,e,i;return"viewport"===this.cmp.pointerEventsMethod?(this.viewportTrackClicked=new y.x,this.viewportThumbClicked=new y.x,this.cmp.viewport.activatePointerEvents(this.cmp.viewportPropagateMouseMove,this.destroyed),n=this.viewportThumbClicked,e=this.viewportTrackClicked,i=this.cmp.viewport.hovered.pipe((0,D.U)(a=>!!a&&bn(a,this.el.getBoundingClientRect())),(0,xn.x)(),(0,N.b)(a=>this.document.onselectstart=a?()=>!1:null)),this.cmp.viewport.clicked.pipe((0,N.b)(a=>{a?bn(a,this.thumb.clientRect)?this.viewportThumbClicked.next(a):bn(a,this.track.clientRect)&&(this.cmp.setClicked(!0),this.viewportTrackClicked.next(a)):this.cmp.setClicked(!1)}),(0,tt.R)(this.destroyed)).subscribe()):(n=this.thumb.clicked,e=this.track.clicked,i=this.hovered),(0,Tt.T)(i.pipe((0,N.b)(a=>this.setHovered(a))),n.pipe((0,cn.w)(a=>this.thumb.dragged(a))),e.pipe((0,cn.w)(a=>this.track.onTrackClicked(a,this.thumb.size,this.viewportScrollSize))))}get hovered(){const n=(0,E.R)(this.el,"mouseenter",{passive:!0}).pipe(rt(),(0,D.U)(()=>!0)),e=(0,E.R)(this.el,"mouseleave",{passive:!0}).pipe(rt(),(0,D.U)(()=>!1));return(0,Tt.T)(n,e)}ngOnInit(){this.zone.runOutsideAngular(()=>{!(this.platform.IOS||this.platform.ANDROID)&&!this.cmp.pointerEventsDisabled&&this.activatePointerEvents().pipe((0,tt.R)(this.destroyed)).subscribe(),(0,Tt.T)(this.cmp.scrolled,this.cmp.updated).pipe((0,N.b)(()=>{var n;return null===(n=this.thumb)||void 0===n?void 0:n.update()}),(0,tt.R)(this.destroyed)).subscribe()})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.viewportThumbClicked&&this.viewportTrackClicked&&(this.viewportTrackClicked.complete(),this.viewportThumbClicked.complete())}}kt.\u0275fac=function(n){return new(n||kt)(t.Y36(HTMLElement),t.Y36(L),t.Y36(ct.t4),t.Y36(Document),t.Y36(t.R0b))},kt.\u0275dir=t.lG2({type:kt});class Kt extends kt{get viewportScrollSize(){return this.cmp.viewport.scrollHeight}constructor(n,e,i,a,r){super(n.nativeElement,e,i,a,r),this.cmp=e,this.platform=i,this.document=a,this.zone=r}setHovered(n){this.cmp.setHovered({verticalHovered:n})}}Kt.\u0275fac=function(n){return new(n||Kt)(t.Y36(t.SBq),t.Y36(L),t.Y36(ct.t4),t.Y36(s.K0),t.Y36(t.R0b))},Kt.\u0275cmp=t.Xpm({type:Kt,selectors:[["scrollbar-y"]],viewQuery:function(n,e){if(1&n&&(t.Gf(dt,7),t.Gf(Zt,7)),2&n){let i;t.iGM(i=t.CRH())&&(e.track=i.first),t.iGM(i=t.CRH())&&(e.thumb=i.first)}},hostVars:2,hostBindings:function(n,e){2&n&&t.ekj("scrollbar-control",!0)},standalone:!0,features:[t.qOj,t.jDz],decls:2,vars:6,consts:[["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA()),2&n&&(t.Gre("ng-scrollbar-track ",e.cmp.trackClass,""),t.xp6(1),t.Gre("ng-scrollbar-thumb ",e.cmp.thumbClass,""))},dependencies:[dt,Zt],styles:[".ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}  .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control{left:unset;right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}"],changeDetection:0});class jt extends kt{get viewportScrollSize(){return this.cmp.viewport.scrollWidth}constructor(n,e,i,a,r){super(n.nativeElement,e,i,a,r),this.cmp=e,this.platform=i,this.document=a,this.zone=r}setHovered(n){this.cmp.setHovered({horizontalHovered:n})}}jt.\u0275fac=function(n){return new(n||jt)(t.Y36(t.SBq),t.Y36(L),t.Y36(ct.t4),t.Y36(s.K0),t.Y36(t.R0b))},jt.\u0275cmp=t.Xpm({type:jt,selectors:[["scrollbar-x"]],viewQuery:function(n,e){if(1&n&&(t.Gf(mt,7),t.Gf(yt,7)),2&n){let i;t.iGM(i=t.CRH())&&(e.track=i.first),t.iGM(i=t.CRH())&&(e.thumb=i.first)}},hostVars:2,hostBindings:function(n,e){2&n&&t.ekj("scrollbar-control",!0)},standalone:!0,features:[t.qOj,t.jDz],decls:2,vars:6,consts:[["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA()),2&n&&(t.Gre("ng-scrollbar-track ",e.cmp.trackClass,""),t.xp6(1),t.Gre("ng-scrollbar-thumb ",e.cmp.thumbClass,""))},dependencies:[mt,yt],styles:[".ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}  .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}  .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}"],changeDetection:0});const Wo=new t.OlP("NG_SCROLLBAR_OPTIONS"),Yn={viewClass:"",trackClass:"",thumbClass:"",track:"vertical",appearance:"compact",visibility:"native",position:"native",pointerEventsMethod:"viewport",trackClickScrollDuration:300,minThumbSize:20,windowResizeDebounce:0,sensorDebounce:0,scrollAuditTime:0,viewportPropagateMouseMove:!0,autoHeightDisabled:!0,autoWidthDisabled:!0,sensorDisabled:!1,pointerEventsDisabled:!1};class _t{constructor(n){this.globalOptions=n?(0,V.Z)((0,V.Z)({},Yn),n):Yn,this.rtlScrollAxisType=(0,ct._i)()}}_t.\u0275fac=function(n){return new(n||_t)(t.LFG(Wo,8))},_t.\u0275prov=t.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"});class At{constructor(n,e,i){this.document=n,this.manager=e,this.platform=i,this._scrollbarSize=new To.X(this.getNativeScrollbarSize()),this.scrollbarSize=this._scrollbarSize.asObservable(),i.isBrowser&&(0,E.R)(this.document.defaultView,"resize",{passive:!0}).pipe((0,Jn.b)(this.manager.globalOptions.windowResizeDebounce),(0,D.U)(()=>this.getNativeScrollbarSize()),(0,xn.x)(),(0,N.b)(a=>this._scrollbarSize.next(a))).subscribe()}getNativeScrollbarSize(){if(!this.platform.isBrowser)return 0;if(this.platform.IOS)return 6;const n=this.document.createElement("div");n.className="ng-scrollbar-measure",n.style.left="0px",n.style.overflow="scroll",n.style.position="fixed",n.style.top="-9999px",this.document.body.appendChild(n);const e=n.getBoundingClientRect().right;return this.document.body.removeChild(n),e}}At.\u0275fac=function(n){return new(n||At)(t.LFG(s.K0),t.LFG(_t),t.LFG(ct.t4))},At.\u0275prov=t.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"});class Xt{constructor(n,e,i){this.renderer=e,this.hideNativeScrollbar=i,this._subscriber=Mo.w0.EMPTY,this._subscriber=i.scrollbarSize.subscribe(a=>{this.renderer.setStyle(n.nativeElement,"--native-scrollbar-size",`-${a}px`,t.JOm.DashCase)})}ngOnDestroy(){this._subscriber.unsubscribe()}}Xt.\u0275fac=function(n){return new(n||Xt)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(At))},Xt.\u0275dir=t.lG2({type:Xt,selectors:[["","hideNativeScrollbar",""]],standalone:!0});class $t{get debounce(){return this._debounce}set debounce(n){this._debounce=(0,X.su)(n),this._subscribe()}get disabled(){return this._disabled}set disabled(n){this._disabled=(0,X.Ig)(n),this._disabled?this._unsubscribe():this._subscribe()}constructor(n,e,i){if(this.zone=n,this.platform=e,this.scrollbar=i,this._disabled=!1,this._currentSubscription=null,this.event=new t.vpe,!i)throw new Error("[NgScrollbar Resize Sensor Directive]: Host element must be an NgScrollbar component.")}ngAfterContentInit(){!this._currentSubscription&&!this._disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){if(this._unsubscribe(),this.platform.isBrowser){const n=new ln.y(e=>{this._resizeObserver=new ResizeObserver(i=>e.next(i)),this._resizeObserver.observe(this.scrollbar.viewport.nativeElement),this.scrollbar.viewport.contentWrapperElement&&this._resizeObserver.observe(this.scrollbar.viewport.contentWrapperElement)});this.zone.runOutsideAngular(()=>{this._currentSubscription=(this._debounce?n.pipe((0,Jn.b)(this._debounce)):n).subscribe(this.event)})}}_unsubscribe(){var n,e;null===(n=this._resizeObserver)||void 0===n||n.disconnect(),null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}$t.\u0275fac=function(n){return new(n||$t)(t.Y36(t.R0b),t.Y36(ct.t4),t.Y36(L))},$t.\u0275dir=t.lG2({type:$t,selectors:[["","resizeSensor",""]],inputs:{debounce:["sensorDebounce","debounce"],disabled:["sensorDisabled","disabled"]},outputs:{event:"resizeSensor"},standalone:!0});class ut{get disabled(){return this._disabled}set disabled(n){this._disabled=(0,X.Ig)(n)}get sensorDisabled(){return this._sensorDisabled}set sensorDisabled(n){this._sensorDisabled=(0,X.Ig)(n)}get pointerEventsDisabled(){return this._pointerEventsDisabled}set pointerEventsDisabled(n){this._pointerEventsDisabled=(0,X.Ig)(n)}get viewportPropagateMouseMove(){return this._viewportPropagateMouseMove}set viewportPropagateMouseMove(n){this._viewportPropagateMouseMove=(0,X.Ig)(n)}get autoHeightDisabled(){return this._autoHeightDisabled}set autoHeightDisabled(n){this._autoHeightDisabled=(0,X.Ig)(n)}get autoWidthDisabled(){return this._autoWidthDisabled}set autoWidthDisabled(n){this._autoWidthDisabled=(0,X.Ig)(n)}get nativeElement(){return this.el.nativeElement}constructor(n,e,i,a,r,l){this.el=n,this.zone=e,this.changeDetectorRef=i,this.dir=a,this.smoothScroll=r,this.manager=l,this._disabled=!1,this._sensorDisabled=this.manager.globalOptions.sensorDisabled,this._pointerEventsDisabled=this.manager.globalOptions.pointerEventsDisabled,this._autoHeightDisabled=this.manager.globalOptions.autoHeightDisabled,this._autoWidthDisabled=this.manager.globalOptions.autoWidthDisabled,this._viewportPropagateMouseMove=this.manager.globalOptions.viewportPropagateMouseMove,this.viewClass=this.manager.globalOptions.viewClass,this.trackClass=this.manager.globalOptions.trackClass,this.thumbClass=this.manager.globalOptions.thumbClass,this.minThumbSize=this.manager.globalOptions.minThumbSize,this.trackClickScrollDuration=this.manager.globalOptions.trackClickScrollDuration,this.pointerEventsMethod=this.manager.globalOptions.pointerEventsMethod,this.track=this.manager.globalOptions.track,this.visibility=this.manager.globalOptions.visibility,this.appearance=this.manager.globalOptions.appearance,this.position=this.manager.globalOptions.position,this.sensorDebounce=this.manager.globalOptions.sensorDebounce,this.scrollAuditTime=this.manager.globalOptions.scrollAuditTime,this.updated=new t.vpe,this.state={},this.destroyed=new y.x}updateState(){let n=!1,e=!1,i=!1,a=!1;("all"===this.track||"vertical"===this.track)&&(i=this.viewport.scrollHeight>this.viewport.clientHeight,n="always"===this.visibility||i),("all"===this.track||"horizontal"===this.track)&&(a=this.viewport.scrollWidth>this.viewport.clientWidth,e="always"===this.visibility||a),this.setState({position:this.position,track:this.track,appearance:this.appearance,visibility:this.visibility,deactivated:this.disabled,dir:this.dir.value,pointerEventsMethod:this.pointerEventsMethod,verticalUsed:n,horizontalUsed:e,isVerticallyScrollable:i,isHorizontallyScrollable:a})}setState(n){this.state=(0,V.Z)((0,V.Z)({},this.state),n),this.changeDetectorRef.detectChanges()}getScrolledByDirection(n){let e;return this.scrolled.pipe((0,N.b)(i=>e=i),(0,D.U)(i=>i.target[n]),(0,yo.G)(),(0,Zo.h)(([i,a])=>i!==a),(0,D.U)(()=>e))}setHovered(n){this.zone.run(()=>this.setState((0,V.Z)({},n)))}setDragging(n){this.zone.run(()=>this.setState((0,V.Z)({},n)))}setClicked(n){this.zone.run(()=>this.setState({scrollbarClicked:n}))}ngOnInit(){this.zone.runOutsideAngular(()=>{this.customViewPort?(this.viewport=this.customViewPort,this.defaultViewPort.setAsWrapper()):this.viewport=this.defaultViewPort,this.viewport.setAsViewport(this.viewClass);let n=(0,E.R)(this.viewport.nativeElement,"scroll",{passive:!0});n=this.scrollAuditTime?n.pipe((0,ko.e)(this.scrollAuditTime)):n,this.scrolled=n.pipe((0,tt.R)(this.destroyed)),this.verticalScrolled=this.getScrolledByDirection("scrollTop"),this.horizontalScrolled=this.getScrolledByDirection("scrollLeft")})}ngOnChanges(n){this.viewport&&this.update()}ngAfterViewInit(){this.update(),this.dir.change.pipe((0,N.b)(()=>this.update()),(0,tt.R)(this.destroyed)).subscribe()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}update(){this.autoHeightDisabled||this.updateHeight(),this.autoWidthDisabled||this.updateWidth(),this.updateState(),this.updated.next()}scrollTo(n){return this.smoothScroll.scrollTo(this.viewport.nativeElement,n)}scrollToElement(n,e){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,n,e)}updateHeight(){"standard"===this.appearance&&this.scrollbarX?this.nativeElement.style.height=`${this.viewport.contentHeight+this.scrollbarX.nativeElement.clientHeight}px`:this.nativeElement.style.height=`${this.viewport.contentHeight}px`}updateWidth(){"standard"===this.appearance&&this.scrollbarY?this.nativeElement.style.width=`${this.viewport.contentWidth+this.scrollbarY.nativeElement.clientWidth}px`:this.nativeElement.style.width=`${this.viewport.contentWidth}px`}}ut.\u0275fac=function(n){return new(n||ut)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(Qn.Is),t.Y36(st),t.Y36(_t))},ut.\u0275cmp=t.Xpm({type:ut,selectors:[["ng-scrollbar"]],contentQueries:function(n,e,i){if(1&n&&t.Suo(i,pt,7),2&n){let a;t.iGM(a=t.CRH())&&(e.customViewPort=a.first)}},viewQuery:function(n,e){if(1&n&&(t.Gf(Fo,5,t.SBq),t.Gf(Ho,5,t.SBq),t.Gf(pt,7)),2&n){let i;t.iGM(i=t.CRH())&&(e.scrollbarY=i.first),t.iGM(i=t.CRH())&&(e.scrollbarX=i.first),t.iGM(i=t.CRH())&&(e.defaultViewPort=i.first)}},hostVars:2,hostBindings:function(n,e){2&n&&t.ekj("ng-scrollbar",!0)},inputs:{disabled:"disabled",sensorDisabled:"sensorDisabled",pointerEventsDisabled:"pointerEventsDisabled",viewportPropagateMouseMove:"viewportPropagateMouseMove",autoHeightDisabled:"autoHeightDisabled",autoWidthDisabled:"autoWidthDisabled",viewClass:"viewClass",trackClass:"trackClass",thumbClass:"thumbClass",minThumbSize:"minThumbSize",trackClickScrollDuration:"trackClickScrollDuration",pointerEventsMethod:"pointerEventsMethod",track:"track",visibility:"visibility",appearance:"appearance",position:"position",sensorDebounce:"sensorDebounce",scrollAuditTime:"scrollAuditTime"},outputs:{updated:"updated"},exportAs:["ngScrollbar"],standalone:!0,features:[t._Bn([{provide:L,useExisting:ut}]),t.TTD,t.jDz],ngContentSelectors:["*"],decls:6,vars:4,consts:[[1,"ng-scrollbar-wrapper",3,"ngAttr"],[1,"ng-scroll-viewport-wrapper",3,"sensorDebounce","sensorDisabled","resizeSensor"],["scrollViewport","","hideNativeScrollbar",""],[4,"ngIf"],["scrollbarX",""],["scrollbarY",""]],template:function(n,e){1&n&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1),t.NdJ("resizeSensor",function(){return e.update()}),t.TgZ(2,"div",2)(3,"div"),t.Hsn(4),t.qZA()()(),t.YNc(5,Ko,3,2,"ng-container",3),t.qZA()),2&n&&(t.Q6J("ngAttr",e.state),t.xp6(1),t.Q6J("sensorDebounce",e.sensorDebounce)("sensorDisabled",e.sensorDisabled),t.xp6(4),t.Q6J("ngIf",!e.disabled))},dependencies:[s.O5,Gt,$t,pt,Xt,jt,Kt],styles:[".ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}  .ng-scrollbar-measure::-webkit-scrollbar{display:none}[_nghost-%COMP%]{--scrollbar-border-radius: 7px;--scrollbar-padding: 4px;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-size: 5px;--scrollbar-hover-size: var(--scrollbar-size);--scrollbar-overscroll-behavior: initial;--scrollbar-transition-duration: .4s;--scrollbar-transition-delay: .8s;--scrollbar-thumb-transition: height ease-out .15s, width ease-out .15s;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}[_nghost-%COMP%] > .ng-scrollbar-wrapper[_ngcontent-%COMP%]{--scrollbar-total-size: calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size: var(--scrollbar-size);--horizontal-scrollbar-size: var(--scrollbar-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalDragging=true][_ngcontent-%COMP%]{--vertical-scrollbar-size: var(--scrollbar-hover-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalDragging=true][_ngcontent-%COMP%]{--horizontal-scrollbar-size: var(--scrollbar-hover-size);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:0;bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:var(--scrollbar-total-size);bottom:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport::-webkit-scrollbar{display:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{bottom:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{left:0;right:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{right:0;left:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%] > .scrollbar-control[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:hover > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:active > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:focus > .scrollbar-control[_ngcontent-%COMP%]{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow:auto}.ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{overflow:hidden}.ng-scroll-viewport[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}  .ng-scroll-content{display:inline-block;min-width:100%}.ng-scrollbar-wrapper[_ngcontent-%COMP%], .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], .ng-scroll-layer[_ngcontent-%COMP%],   .ng-scroll-viewport{position:absolute;inset:0}",".ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}  .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}  .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}  .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}  .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}  .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}"],changeDetection:0});class St{}St.\u0275fac=function(n){return new(n||St)},St.\u0275mod=t.oAB({type:St}),St.\u0275inj=t.cJS({});var ti=d(76967),ei=d(30395),ni=d(30087),oi=d(56208),S=d(52329),m=d(52374),w=d(6556),p=d(86107),z=d(14090),k=d(19209);class Ot extends z.H{constructor(n,e){super(),this.apiService=n,this.route=e}ngOnInit(){this.setIsLoading(!0),this.sub=this.route.queryParamMap.subscribe(n=>{let e=n.get("oidTransazione"),i=n.get("oidModalitaPagamento");e&&!isNaN(+e)&&i&&!isNaN(+i)?this.apiService.getModalitaPagamento(+i).subscribe(a=>{null!=a.data&&this.checkPagamento(a.data,+e,n)}):this.checkGestPayOrder(n.get("a"),n.get("b"))})}getTransaction(n){return new Promise(e=>{this.apiService.getTransazione(+n).subscribe(i=>{null!=i.data?e(i.data):e(null)})})}confirmTransaction(n){let e=new w.LHu(+n);e.urlRisposta=window.location.href,e.statoEsecuzione=m.g_.Eseguito,e.statoContabilizzazione=m.OV.Contabilizzato,this.apiService.updateTransazione(e).subscribe()}errorTransaction(n,e){let i=new w.LHu(+n);i.urlRisposta=window.location.href,i.statoEsecuzione=m.g_.Errore,i.statoContabilizzazione=m.OV.Nessuno,i.descrizioneEsito=e,this.apiService.updateTransazione(i).subscribe()}checkGestPayOrder(n,e){if(n&&e){let i=new p.DEw;i.shopId=n,this.apiService.getModalitaPagamentoGestPay(i).subscribe(a=>{null!=a.data&&!a.data.isUsePost&&this.verifyGestPayOrder(a.data,e).then(r=>{let l=new p.dOp;l.idTransazione=r.transaction_id,this.apiService.getTransazioneById(l).subscribe(c=>{null!=c.data&&this.confirmTransaction(c.data.oid)})},r=>{let l=new p.dOp;l.idTransazione=r.transaction_id,this.apiService.getTransazioneById(l).subscribe(c=>{null!=c.data&&this.errorTransaction(c.data.oid)})})})}}verifyGestPayOrder(n,e){return new Promise((a,r)=>{let l=p.sK_.getGestpayDecryptRQ(n.oidAlbergo,null,n.oid,null,null,null,null,null,null,null,null,null,null,null,null,null,n.gestpayShopId,n.gestpayApiKey,e,n.isTest);this.apiService.payment(l).subscribe(c=>{c.success&&c.transaction_id?a(c):r(c)})})}ngOnDestroy(){this.setIsLoading(!1),this.sub.unsubscribe()}}Ot.\u0275fac=function(n){return new(n||Ot)(t.Y36(k.s),t.Y36(S.gz))},Ot.\u0275cmp=t.Xpm({type:Ot,selectors:[["app-pagamento-form-result"]],features:[t.qOj],decls:0,vars:0,template:function(n,e){}});var b=d(89515);class Wt extends Ot{constructor(n,e){super(n,e),this.apiService=n,this.route=e}checkPagamento(n,e,i){(n.tipo==m.sc.XPay||n.tipo==m.sc.PayWay||n.tipo==m.sc.Holipay||n.tipo==m.sc.Siapay||n.tipo==m.sc.VirtualPay||n.tipo==m.sc.MyPOS)&&n.isUsePost||this.errorTransaction(+e)}}Wt.\u0275fac=function(n){return new(n||Wt)(t.Y36(k.s),t.Y36(S.gz))},Wt.\u0275cmp=t.Xpm({type:Wt,selectors:[["app-pagamento-form-error"]],features:[t.qOj],decls:4,vars:3,consts:[[1,"w-100","h-100","d-flex","justify-content-center","align-items-center"],[1,"pagamentoAnnullato","font-weight-bold"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"interfaces.pagamento-form.pagamentoAnnullato")))},dependencies:[b.X$],styles:[".pagamentoAnnullato[_ngcontent-%COMP%]{margin-bottom:140px}"]});class te extends Ot{constructor(n,e){super(n,e),this.apiService=n,this.route=e}checkPagamento(n,e,i){if((n.tipo==m.sc.PayWay||n.tipo==m.sc.ScalaPay)&&!n.isUsePost||n.tipo==m.sc.Unicredit||n.tipo==m.sc.Hobex||n.tipo==m.sc.XPay&&"true"==i.get("3DS"))this.getTransaction(+e).then(a=>{if(null!=a)if(n.tipo==m.sc.PayWay)this.verifyPayWayOrder(a,n).then(()=>{this.confirmTransaction(+e)},()=>{this.errorTransaction(+e)});else if(n.tipo==m.sc.Unicredit)this.verifyUnicreditOrder(a,n).then(()=>{this.confirmTransaction(+e)},()=>{this.errorTransaction(+e)});else if(n.tipo==m.sc.Hobex)this.verifyHobexOrder(a,n).then(()=>{this.confirmTransaction(+e)},()=>{this.errorTransaction(+e)});else if(n.tipo==m.sc.ScalaPay)this.captureScalaPayOrder(a,n,i.get("orderToken")).then(()=>{this.confirmTransaction(+e)},()=>{this.errorTransaction(+e)});else if(n.tipo==m.sc.XPay){let x=i.get("esito"),I=i.get("xpayNonce");if(x&&"ok"==x.toLowerCase()&&I){var r,l,c,g,_,u,h;let q=p.sK_.getXPayPagamento3DSRQ(a.oidAlbergo,null,n.oid,a.cliente,null===(r=a.cliente)||void 0===r||null===(r=r.lingua)||void 0===r?void 0:r.codice,null===(l=a.prenotazione)||void 0===l?void 0:l.arrivo,null===(c=a.prenotazione)||void 0===c?void 0:c.partenza,null,null,null===(g=a.prenotazione)||void 0===g?void 0:g.noteP,null===(_=a.prenotazione)||void 0===_||null===(_=_.codicePromozione)||void 0===_?void 0:_.oid,null===(u=a.prenotazione)||void 0===u||null===(u=u.motivoViaggio)||void 0===u?void 0:u.oid,null===(h=a.prenotazione)||void 0===h?void 0:h.caparra,null,null,null,n.xPayAlias,n.xPaySecretKey,a.importo,a.idTransazione,I,n.isTest);this.apiService.payment(q).subscribe(it=>{it.success?this.confirmTransaction(+e):this.errorTransaction(+e,it.error)})}else this.errorTransaction(+e,i.get("messaggio"))}});else if(n.tipo==m.sc.XPay){if(!n.isUsePost){let a=i.get("esito");a&&"ok"==a.toLowerCase()?this.confirmTransaction(+e):this.errorTransaction(+e,i.get("messaggio"))}}else n.tipo==m.sc.Siapay?n.isUsePost||("00"==i.get("RESULT")?this.confirmTransaction(+e):this.errorTransaction(+e)):n.tipo==m.sc.Holipay||n.tipo==m.sc.VirtualPay||n.tipo==m.sc.MyPOS?n.isUsePost||this.confirmTransaction(+e):n.tipo!=m.sc.PayWay&&this.confirmTransaction(+e)}verifyPayWayOrder(n,e){return new Promise((a,r)=>{var l,c,g,_,u,h,x;let I=p.sK_.getPayWayVerifyRQ(n.oidAlbergo,null,e.oid,n.cliente,null===(l=n.cliente)||void 0===l||null===(l=l.lingua)||void 0===l?void 0:l.codice,null===(c=n.prenotazione)||void 0===c?void 0:c.arrivo,null===(g=n.prenotazione)||void 0===g?void 0:g.partenza,null,null,null===(_=n.prenotazione)||void 0===_?void 0:_.noteP,null===(u=n.prenotazione)||void 0===u||null===(u=u.codicePromozione)||void 0===u?void 0:u.oid,null===(h=n.prenotazione)||void 0===h||null===(h=h.motivoViaggio)||void 0===h?void 0:h.oid,null===(x=n.prenotazione)||void 0===x?void 0:x.caparra,null,null,null,e.payWayTerminalId,e.payWaySecretKey,n.idTransazione,n.oid,e.isTest);this.apiService.payment(I).subscribe(q=>{q.success?a(q):r(q.error)})})}verifyUnicreditOrder(n,e){return new Promise((a,r)=>{var l,c,g,_,u,h,x;let I=p.sK_.getUnicreditVerifyRQ(n.oidAlbergo,null,e.oid,n.cliente,null===(l=n.cliente)||void 0===l||null===(l=l.lingua)||void 0===l?void 0:l.codice,null===(c=n.prenotazione)||void 0===c?void 0:c.arrivo,null===(g=n.prenotazione)||void 0===g?void 0:g.partenza,null,null,null===(_=n.prenotazione)||void 0===_?void 0:_.noteP,null===(u=n.prenotazione)||void 0===u||null===(u=u.codicePromozione)||void 0===u?void 0:u.oid,null===(h=n.prenotazione)||void 0===h||null===(h=h.motivoViaggio)||void 0===h?void 0:h.oid,null===(x=n.prenotazione)||void 0===x?void 0:x.caparra,null,null,null,e.unicreditTerminalId,e.unicreditSecretKey,n.idTransazione,n.oid,e.isTest);this.apiService.payment(I).subscribe(q=>{q.success?a(q):r(q.error)})})}verifyHobexOrder(n,e){return new Promise((a,r)=>{var l,c,g,_,u,h,x;let I=p.sK_.getHobexVerifyRQ(n.oidAlbergo,null,e.oid,n.cliente,null===(l=n.cliente)||void 0===l||null===(l=l.lingua)||void 0===l?void 0:l.codice,null===(c=n.prenotazione)||void 0===c?void 0:c.arrivo,null===(g=n.prenotazione)||void 0===g?void 0:g.partenza,null,null,null===(_=n.prenotazione)||void 0===_?void 0:_.noteP,null===(u=n.prenotazione)||void 0===u||null===(u=u.codicePromozione)||void 0===u?void 0:u.oid,null===(h=n.prenotazione)||void 0===h||null===(h=h.motivoViaggio)||void 0===h?void 0:h.oid,null===(x=n.prenotazione)||void 0===x?void 0:x.caparra,null,null,null,e.hobexEntityId,e.hobexAccessToken,n.idTransazione,e.isTest);this.apiService.payment(I).subscribe(q=>{q.success?a(q):r(q.error)})})}captureScalaPayOrder(n,e,i){return new Promise((r,l)=>{if(i){var c,g,_,u,h,x,I;let q=p.sK_.getScalaPayCaptureRQ(n.oidAlbergo,null,e.oid,n.cliente,null===(c=n.cliente)||void 0===c||null===(c=c.lingua)||void 0===c?void 0:c.codice,null===(g=n.prenotazione)||void 0===g?void 0:g.arrivo,null===(_=n.prenotazione)||void 0===_?void 0:_.partenza,null,null,null===(u=n.prenotazione)||void 0===u?void 0:u.noteP,null===(h=n.prenotazione)||void 0===h||null===(h=h.codicePromozione)||void 0===h?void 0:h.oid,null===(x=n.prenotazione)||void 0===x||null===(x=x.motivoViaggio)||void 0===x?void 0:x.oid,null===(I=n.prenotazione)||void 0===I?void 0:I.caparra,null,null,null,e.scalaPayApiKey,i,e.isTest);this.apiService.payment(q).subscribe(it=>{it.success?r(it):l(it.error)})}else l()})}}te.\u0275fac=function(n){return new(n||te)(t.Y36(k.s),t.Y36(S.gz))},te.\u0275cmp=t.Xpm({type:te,selectors:[["app-pagamento-form-success"]],features:[t.qOj],decls:4,vars:3,consts:[[1,"w-100","h-100","d-flex","justify-content-center","align-items-center"],[1,"pagamentoInCorso","font-weight-bold"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"interfaces.pagamento-form.pagamentoInCorso")))},dependencies:[b.X$],styles:[".pagamentoInCorso[_ngcontent-%COMP%]{margin-bottom:140px}"]});var Fn=d(4731);class ee extends z.H{constructor(n){super(),this.localStorage=n}ngOnInit(){this.setIsLoading(!0)}ngAfterViewInit(){setTimeout(()=>{let n=this.localStorage.get("paymentForm");this.localStorage.remove("paymentForm"),n&&(document.open(),document.write(n),document.close())},200)}}ee.\u0275fac=function(n){return new(n||ee)(t.Y36(Fn.n))},ee.\u0275cmp=t.Xpm({type:ee,selectors:[["app-payment-form"]],features:[t.qOj],decls:0,vars:0,template:function(n,e){}});class ne extends z.H{constructor(n){super(),this.localStorage=n}ngOnInit(){1==this.localStorage.get("popupCheckFailed")?window.close():(this.setIsLoading(!0),this.localStorage.set("popupCheckSuccess",!0,!0))}}ne.\u0275fac=function(n){return new(n||ne)(t.Y36(Fn.n))},ne.\u0275cmp=t.Xpm({type:ne,selectors:[["app-popup-check"]],features:[t.qOj],decls:0,vars:0,template:function(n,e){}});var v=d(2353),Q=d(86825),T=d(93724),C=d(94505),vn=d(34186),K=d(85105),Z=d(22165),B=d(79474);function ii(o,n){1&o&&(t.TgZ(0,"span",10),t._uU(1,"star"),t.qZA())}function ai(o,n){1&o&&(t.TgZ(0,"span",10),t._uU(1,"star_border"),t.qZA())}function ri(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ii,2,0,"span",9),t.YNc(2,ai,2,0,"span",9),t.BQk()),2&o){const e=n.index,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e<i.recensione.voto),t.xp6(1),t.Q6J("ngIf",e>=i.recensione.voto)}}function li(o,n){if(1&o&&(t.TgZ(0,"div",7),t.YNc(1,ri,3,2,"ng-container",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.utility.counter(5))}}function ci(o,n){if(1&o&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.recensione.titolo,"\n")}}function si(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.shortTextVisible?a.shortTextVisible=!1:null)}),t._UZ(1,"app-inner-html",13),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("_text",e.shortTextVisible?e.shortText:e.recensione.descrizione)}}const pi=function(o,n,e){return{"immagine-fonte-recensione":o,"immagine-fonte-recensione-square mt-2":n,"cursor-pointer":e}};function gi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"img",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.recensione.url?a.utility.openUrlInNewTab(a.recensione.url):null)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("ngClass",t.kEZ(2,pi,e.recensione.fonte!=e.enumFonteRecensione.Google&&e.recensione.fonte!=e.enumFonteRecensione.HolidayCheck,e.recensione.fonte==e.enumFonteRecensione.Google||e.recensione.fonte==e.enumFonteRecensione.HolidayCheck,!!e.recensione.url))("src",e.enumImmagineFonteRecensione[e.utility.getEnumKeyOriginal(e.enumFonteRecensione,e.recensione.fonte)],t.LSH)}}class It extends z.H{constructor(n,e){super(),this.utility=n,this.localizationService=e,this.enumFonteRecensione=m.Fb,this.enumImmagineFonteRecensione=m.$j,this.shortTextVisible=!1}ngOnInit(){if(this.recensione.limiteCaratteri>0){this.shortText=(0,vn.Z)(this.recensione.descrizione,this.recensione.limiteCaratteri,{html:!0,breakWords:!0});let n=this.shortText.lastIndexOf("\u2026");n>=0&&(this.shortText=this.shortText.slice(0,n)+'\u2026<a class="continuaLink" href="#" onclick="event.preventDefault()">'+this.localizationService.getTranslationSync("booking.more")+"</a>"+this.shortText.slice(n+1),this.shortTextVisible=!0)}}}It.\u0275fac=function(n){return new(n||It)(t.Y36(v.t),t.Y36(K.o))},It.\u0275cmp=t.Xpm({type:It,selectors:[["app-recensione"]],inputs:{recensione:"recensione"},features:[t.qOj],decls:10,vars:11,consts:[[1,"mb-1","text-center"],[1,"align-middle","d-inline-block","recensione-data"],["class","text-center mb-1",4,"ngIf"],["class","recensione-title text-center mb-2",4,"ngIf"],["class","recensione text-center overflow-auto thin-scrollbar",3,"click",4,"ngIf"],[1,"text-center"],[3,"ngClass","src","click",4,"ngIf"],[1,"text-center","mb-1"],[4,"ngFor","ngForOf"],["class","material-icons-round color-blue icon-small",4,"ngIf"],[1,"material-icons-round","color-blue","icon-small"],[1,"recensione-title","text-center","mb-2"],[1,"recensione","text-center","overflow-auto","thin-scrollbar",3,"click"],[3,"_text"],[3,"ngClass","src","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.ALo(3,"titlecase"),t.ALo(4,"momentFormat"),t.qZA()(),t.YNc(5,li,2,1,"div",2),t.YNc(6,ci,2,1,"div",3),t.YNc(7,si,2,1,"div",4),t.TgZ(8,"div",5),t.YNc(9,gi,1,6,"img",6),t.qZA()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,5,t.Dn7(4,7,e.recensione.data,"D MMMM YYYY",e.getLocale()))," "),t.xp6(3),t.Q6J("ngIf",e.recensione.voto>0),t.xp6(1),t.Q6J("ngIf",!!e.recensione.titolo),t.xp6(1),t.Q6J("ngIf",!!e.recensione.descrizione),t.xp6(2),t.Q6J("ngIf",e.recensione.fonte!=e.enumFonteRecensione.Nessuna))},dependencies:[s.mk,s.sg,s.O5,Z.W,s.rS,B.H],styles:[".recensione-data[_ngcontent-%COMP%]{font-size:12px;color:#666}.icon-small[_ngcontent-%COMP%]{font-size:16px;line-height:16px}.immagine-fonte-recensione[_ngcontent-%COMP%]{width:70px;height:50px;object-fit:contain}.immagine-fonte-recensione-square[_ngcontent-%COMP%]{width:25px;height:25px;object-fit:contain}.recensione-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;white-space:normal}.recensione[_ngcontent-%COMP%]{font-size:15px;white-space:normal;max-height:300px}"]});const mi=["reviewsContainer"],di=function(o,n){return{"circle-button":o,"circle-button-current":n}},_i=function(o,n){return{"circle-icon":o,"circle-icon-current":n}};function ui(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.disableButtons||l.reviewIndex==r?null:l.goToReview(r))}),t.TgZ(1,"i",11),t._uU(2,"lens"),t.qZA()()}if(2&o){const e=n.index,i=t.oxw(2);t.Q6J("ngClass",t.WLB(2,di,i.reviewIndex!=e,i.reviewIndex==e)),t.xp6(1),t.Q6J("ngClass",t.WLB(5,_i,i.reviewIndex!=e,i.reviewIndex==e))}}function fi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t.NdJ("mouseenter",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.stopInterval())})("mouseleave",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.resumeInterval())}),t.YNc(1,ui,3,8,"button",9),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.recensioni)}}function hi(o,n){if(1&o&&(t.TgZ(0,"div",12),t._UZ(1,"app-recensione",13),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("recensione",e)}}function xi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.operation="previous",t.KtG(a.toggleState())})("mouseenter",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.stopInterval())}),t.TgZ(1,"i",15),t._uU(2,"keyboard_arrow_left"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.disableButtons)}}function bi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.operation="next",t.KtG(a.toggleState())})("mouseenter",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.stopInterval())}),t.TgZ(1,"i",15),t._uU(2,"keyboard_arrow_right"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.disableButtons)}}class ft extends z.H{constructor(n,e,i){super(),this.cdRef=n,this.containerService=e,this.utility=i,this.reviewIndex=0,this.state="transparent",this.disableButtons=!1}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(()=>{this.refreshSize()}),null!=this.startSubject?this.sub1=this.startSubject.subscribe(()=>{this.toggleState(),null!=this.recensioni&&this.recensioni.length>1&&(this.interval=setInterval(this.changeReview.bind(this),7e3))}):(this.toggleState(),null!=this.recensioni&&this.recensioni.length>1&&(this.interval=setInterval(this.changeReview.bind(this),7e3)))}refreshSize(){this.reviewsContainer.nativeElement.scroll({top:0,left:this.reviewIndex*this.reviewsContainer.nativeElement.offsetWidth})}nextReview(){this.reviewIndex<this.recensioni.length-1?this.reviewIndex++:this.reviewIndex=0,this.reviewsContainer.nativeElement.scroll({top:0,left:this.reviewIndex*this.reviewsContainer.nativeElement.offsetWidth})}previousReview(){this.reviewIndex>0?this.reviewIndex--:this.reviewIndex=this.recensioni.length-1,this.reviewsContainer.nativeElement.scroll({top:0,left:this.reviewIndex*this.reviewsContainer.nativeElement.offsetWidth})}showReview(n){this.reviewIndex=n,this.reviewsContainer.nativeElement.scroll({top:0,left:this.reviewIndex*this.reviewsContainer.nativeElement.offsetWidth}),this.goToReviewIndex=null}toggleState(){this.state="opaque"==this.state?"transparent":"opaque",this.cdRef.destroyed||this.cdRef.detectChanges()}onAnimationDone(n){"transparent"==n?null!=this.goToReviewIndex?(this.showReview(this.goToReviewIndex),this.toggleState()):"next"==this.operation?(this.nextReview(),this.toggleState()):"previous"==this.operation&&(this.previousReview(),this.toggleState()):"opaque"==n&&(this.disableButtons=!1)}stopInterval(){null!=this.interval&&clearInterval(this.interval)}resumeInterval(){null!=this.interval&&(this.interval=setInterval(this.changeReview.bind(this),7e3))}changeReview(){this.operation="next",this.toggleState()}goToReview(n){this.goToReviewIndex=n,this.toggleState()}ngOnDestroy(){clearInterval(this.interval),this.sub.unsubscribe(),null!=this.sub1&&this.sub1.unsubscribe()}}function vi(o,n){if(1&o&&t._UZ(0,"app-booking-recensioni",2),2&o){const e=t.oxw();t.Q6J("recensioni",e.recensioni)}}ft.\u0275fac=function(n){return new(n||ft)(t.Y36(t.sBO),t.Y36(T.J),t.Y36(v.t))},ft.\u0275cmp=t.Xpm({type:ft,selectors:[["app-booking-recensioni"]],viewQuery:function(n,e){if(1&n&&t.Gf(mi,5),2&n){let i;t.iGM(i=t.CRH())&&(e.reviewsContainer=i.first)}},inputs:{recensioni:"recensioni",startSubject:"startSubject"},features:[t.qOj],decls:8,vars:5,consts:[["class","mb-2 text-center",3,"mouseenter","mouseleave",4,"ngIf"],[1,"position-relative"],[1,"recensioni-container","mx-auto"],[1,"h-100","w-100","reviewsContainer",3,"mouseenter","mouseleave"],["reviewsContainer",""],["class","h-100 w-100 d-inline-block pr-3 pl-3 align-top",4,"ngFor","ngForOf"],["mat-mini-fab","","class","previous-button-recensioni",3,"disabled","click","mouseenter",4,"ngIf"],["mat-mini-fab","","class","next-button-recensioni",3,"disabled","click","mouseenter",4,"ngIf"],[1,"mb-2","text-center",3,"mouseenter","mouseleave"],["class","mr-2","mat-icon-button","",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-icon-button","",1,"mr-2",3,"ngClass","click"],[1,"material-icons-round","color-blue",3,"ngClass"],[1,"h-100","w-100","d-inline-block","pr-3","pl-3","align-top"],[3,"recensione"],["mat-mini-fab","",1,"previous-button-recensioni",3,"disabled","click","mouseenter"],[1,"material-icons-round","next-previous-icon"],["mat-mini-fab","",1,"next-button-recensioni",3,"disabled","click","mouseenter"]],template:function(n,e){1&n&&(t.YNc(0,fi,2,1,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3,4),t.NdJ("@fade.start",function(){return e.disableButtons=!0})("@fade.done",function(a){return e.onAnimationDone(a.toState)})("mouseenter",function(){return e.stopInterval()})("mouseleave",function(){return e.resumeInterval()}),t.YNc(5,hi,2,1,"div",5),t.qZA()(),t.YNc(6,xi,3,1,"button",6),t.YNc(7,bi,3,1,"button",7),t.qZA()),2&n&&(t.Q6J("ngIf",null!=e.recensioni&&e.recensioni.length>1),t.xp6(3),t.Q6J("@fade",e.state),t.xp6(2),t.Q6J("ngForOf",e.recensioni),t.xp6(1),t.Q6J("ngIf",e.recensioni.length>1),t.xp6(1),t.Q6J("ngIf",e.recensioni.length>1))},dependencies:[s.mk,s.sg,s.O5,C.eB,It],styles:[".previous-button-recensioni[_ngcontent-%COMP%]{position:absolute!important;left:0!important;outline:0!important;width:50px!important;height:50px!important;top:0!important;box-shadow:none!important}.next-button-recensioni[_ngcontent-%COMP%]{position:absolute!important;right:0!important;outline:0!important;width:50px!important;height:50px!important;top:0!important;box-shadow:none!important}.previous-button-recensioni[_ngcontent-%COMP%], .next-button-recensioni[_ngcontent-%COMP%]{background-color:transparent!important}.previous-button-recensioni[_ngcontent-%COMP%]   .mat-ripple[_ngcontent-%COMP%], .next-button-recensioni[_ngcontent-%COMP%]   .mat-ripple[_ngcontent-%COMP%]{display:none!important}.previous-button-recensioni[_ngcontent-%COMP%]:enabled, .next-button-recensioni[_ngcontent-%COMP%]:enabled{color:#333!important}.next-previous-icon[_ngcontent-%COMP%]{font-size:60px;width:50px;line-height:50px;height:50px}  .previous-button-recensioni .mat-button-wrapper{padding:0!important;line-height:50px!important}  .next-button-recensioni .mat-button-wrapper{padding:0!important;line-height:50px!important}.recensioni-container[_ngcontent-%COMP%]{width:400px;max-width:75%}.reviewsContainer[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden}.circle-icon[_ngcontent-%COMP%]{font-size:8px;line-height:8px;opacity:.5}.circle-button[_ngcontent-%COMP%]{width:8px;height:8px;line-height:8px}.circle-icon-current[_ngcontent-%COMP%]{font-size:10px;line-height:10px}.circle-button-current[_ngcontent-%COMP%]{width:10px;height:10px;line-height:10px}"],data:{animation:[(0,Q.X$)("fade",[(0,Q.SB)("opaque",(0,Q.oB)({opacity:1})),(0,Q.SB)("transparent",(0,Q.oB)({opacity:0})),(0,Q.eR)("opaque => transparent",[(0,Q.jt)("700ms ease-out")]),(0,Q.eR)("transparent => opaque",[(0,Q.jt)("700ms ease-in")])])]}});class oe extends z.H{constructor(n,e,i){super(),this.apiService=n,this.utility=e,this.route=i,this.recensioni=[],this.initialized=!1}ngOnInit(){this.sub=this.route.queryParamMap.subscribe(n=>{let e=n.get("oidPortale");e&&!isNaN(+e)&&this.apiService.checkPortale(+e).subscribe(i=>{i.data.success&&this.utility.setLingua(n.get("lingua")).then(a=>{this.lingua=null==a?void 0:a.codice;let r=new p.L4R;r.oidPortale=+e,r.lingua=this.lingua,this.apiService.getRecensioniPortale(r).subscribe(l=>{this.recensioni=l.data,this.initialized=!0})})})})}ngOnDestroy(){this.sub.unsubscribe()}}oe.\u0275fac=function(n){return new(n||oe)(t.Y36(k.s),t.Y36(v.t),t.Y36(S.gz))},oe.\u0275cmp=t.Xpm({type:oe,selectors:[["app-blocco-recensioni"]],features:[t.qOj],decls:2,vars:1,consts:[[1,"recensioni-container","p-3","mx-auto"],[3,"recensioni",4,"ngIf"],[3,"recensioni"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,vi,1,1,"app-booking-recensioni",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",e.initialized))},dependencies:[s.O5,ft],styles:[".recensioni-container[_ngcontent-%COMP%]{width:500px;max-width:100%}"]});var Ci=d(2445);function zi(o,n){if(1&o&&t._UZ(0,"app-my-self",1),2&o){const e=t.oxw();t.Q6J("uid",e.uid)}}class ie extends z.H{constructor(n,e){super(),this.route=n,this.router=e,this.initialized=!1}ngOnInit(){this.setIsLoading(!0),this.sub=this.route.queryParamMap.subscribe(n=>{let e=n.get("uid");e?(this.uid=e,this.initialized=!0):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}ngOnDestroy(){this.sub.unsubscribe()}}ie.\u0275fac=function(n){return new(n||ie)(t.Y36(S.gz),t.Y36(S.F0))},ie.\u0275cmp=t.Xpm({type:ie,selectors:[["app-booking-self-checkin"]],features:[t.qOj],decls:1,vars:1,consts:[[3,"uid",4,"ngIf"],[3,"uid"]],template:function(n,e){1&n&&t.YNc(0,zi,1,1,"app-my-self",0),2&n&&t.Q6J("ngIf",e.initialized)},dependencies:[s.O5,Ci.l]});var Hn=d(88431),P=d(16676),ae=d.n(P),Cn=d(85494),wi=d(52038),Rn=d(47292),qt=d(98145),R=d(30724);class et{constructor(n,e){this.el=n,this.socialAuthService=e,this.width=200}ngOnInit(){this.socialAuthService.initState.pipe((0,Un.q)(1)).subscribe(()=>{google.accounts.id.renderButton(this.el.nativeElement,{type:"standard",size:"medium",text:"signin_with",shape:"rectangular",theme:"outline",logo_alignment:"left",locale:this.locale,width:"auto"==this.width?null:this.width})})}}et.\u0275fac=function(n){return new(n||et)(t.Y36(t.SBq),t.Y36(qt.xE))},et.\u0275dir=t.lG2({type:et,selectors:[["google-signin-button"]],inputs:{locale:"locale",width:"width"}});var mn=d(45754),M=d(84187),Y=d(42400),G=d(27599),f=d(56223);function Pi(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",17)(2,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.signInWithFB())}),t._UZ(3,"i",19),t.TgZ(4,"span",20),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",17)(8,"div",21,22),t._UZ(10,"google-signin-button",23),t.qZA()(),t.BQk()}if(2&o){const e=t.MAs(9),i=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,3,"booking.accediFacebook")),t.xp6(5),t.Q6J("locale",i.lingua)("width",e.clientWidth)}}function Ti(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h4",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",6)(5,"mat-form-field",7)(6,"input",8),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.email=a)})("keyup.enter",function(){t.CHM(e);const a=t.MAs(11),r=t.oxw();return t.KtG(r.login(a.value))}),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"div",9)(9,"mat-form-field",7)(10,"input",10,11),t.NdJ("keyup.enter",function(){t.CHM(e);const a=t.MAs(11),r=t.oxw();return t.KtG(r.login(a.value))}),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",12)(14,"button",13),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(11),r=t.oxw();return t.KtG(r.login(a.value))}),t._uU(15),t.ALo(16,"translate"),t.qZA()(),t.YNc(17,Pi,11,5,"ng-container",4),t.TgZ(18,"div",14)(19,"a",15),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw();return a.preventDefault(),t.KtG(r.registrazione=!0)}),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",14)(23,"a",16),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw();return a.preventDefault(),t.KtG(r.recuperoPassword=!0)}),t._uU(24),t.ALo(25,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,8,"booking.accedi")),t.xp6(4),t.Q6J("placeholder",t.lcZ(7,10,"booking.email"))("ngModel",e.email),t.xp6(4),t.Q6J("placeholder",t.lcZ(12,12,"booking.password")),t.xp6(5),t.Oqu(t.lcZ(16,14,"booking.accedi")),t.xp6(2),t.Q6J("ngIf",e.isVisualizzaBottoniLoginSocial),t.xp6(3),t.Oqu(t.lcZ(21,16,"booking.registrati")),t.xp6(4),t.Oqu(t.lcZ(25,18,"booking.recuperaPassword"))}}function Mi(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h4",5),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",9)(5,"mat-form-field",7)(6,"input",24,25),t.NdJ("keyup.enter",function(){t.CHM(e);const a=t.MAs(7),r=t.oxw();return t.KtG(r.recuperaPassword(a.value))}),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",12)(10,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(7),r=t.oxw();return t.KtG(r.recuperaPassword(a.value))}),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.recuperoPassword=!1)}),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"booking.recuperaPassword")),t.xp6(4),t.Q6J("placeholder",t.lcZ(8,7,"booking.email"))("value",e.email?e.email:""),t.xp6(5),t.Oqu(t.lcZ(12,9,"globals.conferma")),t.xp6(3),t.Oqu(t.lcZ(15,11,"globals.annulla"))}}function yi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"a",45),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(2);return a.preventDefault(),t.KtG(r.openNewsletterDialog())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.newsletter")))}function Zi(o,n){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.newsletter")))}function ki(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h4",28),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",29),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",30)(8,"div",31)(9,"mat-form-field",32)(10,"input",33),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.nome=a)})("keyup.enter",function(){t.CHM(e);const a=t.MAs(24),r=t.MAs(34),l=t.oxw();return t.KtG(l.register(a.value,r.value))}),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",34)(13,"mat-form-field",32)(14,"input",33),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.cognome=a)})("keyup.enter",function(){t.CHM(e);const a=t.MAs(24),r=t.MAs(34),l=t.oxw();return t.KtG(l.register(a.value,r.value))}),t.ALo(15,"translate"),t.qZA()()()(),t.TgZ(16,"div",35)(17,"div",31)(18,"mat-form-field",32)(19,"input",33),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.email=a)})("keyup.enter",function(){t.CHM(e);const a=t.MAs(24),r=t.MAs(34),l=t.oxw();return t.KtG(l.register(a.value,r.value))}),t.ALo(20,"translate"),t.qZA()()(),t.TgZ(21,"div",34)(22,"mat-form-field",32)(23,"input",36,37),t.NdJ("keyup.enter",function(){t.CHM(e);const a=t.MAs(24),r=t.MAs(34),l=t.oxw();return t.KtG(l.register(a.value,r.value))}),t.ALo(25,"translate"),t.qZA()()()(),t.TgZ(26,"div",35)(27,"div",31)(28,"mat-form-field",32)(29,"input",38),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.password=a)})("keyup.enter",function(){t.CHM(e);const a=t.MAs(24),r=t.MAs(34),l=t.oxw();return t.KtG(l.register(a.value,r.value))}),t.ALo(30,"translate"),t.qZA()()(),t.TgZ(31,"div",34)(32,"mat-form-field",32)(33,"input",10,39),t.NdJ("keyup.enter",function(){t.CHM(e);const a=t.MAs(24),r=t.MAs(34),l=t.oxw();return t.KtG(l.register(a.value,r.value))}),t.ALo(35,"translate"),t.qZA()()()(),t.TgZ(36,"div",40)(37,"div")(38,"mat-checkbox",41),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.privacy=a)}),t.TgZ(39,"a",42),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw();return a.preventDefault(),t.KtG(r.openPrivacyDialog())}),t._uU(40),t.ALo(41,"translate"),t.qZA()()(),t.TgZ(42,"div")(43,"mat-checkbox",41),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.newsletter=a)}),t.YNc(44,yi,3,3,"a",43),t.YNc(45,Zi,3,3,"span",4),t.qZA()()(),t.TgZ(46,"div",44)(47,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(24),r=t.MAs(34),l=t.oxw();return t.KtG(l.register(a.value,r.value))}),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.registrazione=!1)}),t._uU(51),t.ALo(52,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,19,"booking.registrazione")),t.xp6(3),t.Oqu(t.lcZ(6,21,"booking.testoRegistrazione")),t.xp6(5),t.Q6J("ngModel",e.cliente.nome)("placeholder",t.lcZ(11,23,"booking.nome")),t.xp6(4),t.Q6J("ngModel",e.cliente.cognome)("placeholder",t.lcZ(15,25,"booking.cognome")),t.xp6(5),t.Q6J("ngModel",e.cliente.email)("placeholder",t.lcZ(20,27,"booking.email")),t.xp6(4),t.Q6J("placeholder",t.lcZ(25,29,"booking.confermaEmail")),t.xp6(6),t.Q6J("ngModel",e.cliente.password)("placeholder",t.lcZ(30,31,"booking.password")),t.xp6(4),t.Q6J("placeholder",t.lcZ(35,33,"booking.confermaPassword")),t.xp6(5),t.Q6J("ngModel",e.cliente.privacy),t.xp6(2),t.Oqu(t.lcZ(41,35,"booking.privacy")),t.xp6(3),t.Q6J("ngModel",e.cliente.newsletter),t.xp6(1),t.Q6J("ngIf",!(null==e.newsLetterPortale||!e.newsLetterPortale.html&&!e.newsLetterPortale.url)),t.xp6(1),t.Q6J("ngIf",null==e.newsLetterPortale||!e.newsLetterPortale.html&&!e.newsLetterPortale.url),t.xp6(3),t.Oqu(t.lcZ(49,37,"globals.conferma")),t.xp6(3),t.Oqu(t.lcZ(52,39,"globals.annulla"))}}class re extends z.H{constructor(n,e,i,a,r){super(),this._authService=n,this.utility=e,this.apiService=i,this.authService=a,this.containerService=r,this.recuperoPassword=!1,this.registrazione=!1,this.cliente=new w.c1h}ngOnInit(){this.sub=this.authService.authState.subscribe(n=>{if(null!=n){let e=new p.dOc;e.oidAlbergo=this.oidAlbergo,e.email=n.email,this.apiService.getPasswordCliente(e).subscribe(i=>{i.data?(this.email=n.email,this.login(i.data)):this.showError("booking.credenzialiNonCorrette")})}})}login(n){this.email&&n?(this.setIsLoading(!0),this._authService.loginMySelf(!1,this.oidAlbergo,null,this.email,n).then(()=>{this.dialogRef.close(!0)},()=>{})):this.showError("globals.messages.inserireDati")}recuperaPassword(n){if(n){this.setIsLoading(!0);let e=new p.QPQ;e.email=n,e.oidPortale=this.oidPortale,this.apiService.recuperaPassword(e).subscribe(i=>{this.setIsLoading(!1),i.data.success?this.showInfo("booking.emailInviata").then(()=>{this.recuperoPassword=!1}):this.showError("booking.erroreRecuperoPassword").then(()=>{this.recuperoPassword=!1})})}else this.showError("globals.messages.inserireDati")}register(n,e){if(this.cliente.nome&&this.cliente.cognome&&this.cliente.email&&this.cliente.password)if(this.utility.validateEmail(this.cliente.email))if(n==this.cliente.email)if(this.utility.validatePassword(this.cliente.password))if(e==this.cliente.password){this.setIsLoading(!0),this.cliente.albergo=new w.Z$(this.oidAlbergo),this.cliente.codiceLingua=this.lingua;let i=new p.G14;i.oidPortale=this.oidPortale,i.cliente=this.cliente,this.apiService.registraCliente(i).subscribe(a=>{this.setIsLoading(!1),(null==a.errori||0==a.errori.length)&&this.showInfo("booking.successoRegistrazione").then(()=>{this.email=n,this.login(e)})})}else this.showError("booking.passwordDiverse");else this.showError("globals.messages.passwordNonValida");else this.showError("booking.emailDiverse");else this.showError("globals.messages.emailNonValida");else this.showError("globals.messages.inserireDati")}openPrivacyDialog(){this.setIsLoading(!0);let n=new p.YZY;n.oidPortale=this.oidPortale,n.lingua=this.lingua,this.apiService.getPrivacyPortale(n).subscribe(e=>{this.setIsLoading(!1),this.openPrivacyNewsletterDialog(e.data)})}openNewsletterDialog(){this.openPrivacyNewsletterDialog(this.newsLetterPortale)}openPrivacyNewsletterDialog(n){if(n.html){let e=new p.Zpt;this.containerService.dimension.width>=992?e.width="50vw":e.width="80vw",this.showModalDialog(wi.H,e).componentInstance.text=n.html}else n.url&&this.utility.openUrlInNewTab(n.url)}ngOnDestroy(){this.sub.unsubscribe()}}re.\u0275fac=function(n){return new(n||re)(t.Y36(Rn.$),t.Y36(v.t),t.Y36(k.s),t.Y36(qt.xE),t.Y36(T.J))},re.\u0275cmp=t.Xpm({type:re,selectors:[["app-booking-login"]],inputs:{oidPortale:"oidPortale",oidAlbergo:"oidAlbergo",lingua:"lingua",isVisualizzaBottoniLoginSocial:"isVisualizzaBottoniLoginSocial",newsLetterPortale:"newsLetterPortale",dialogRef:"dialogRef"},features:[t.qOj],decls:8,vars:4,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"container-fluid"],[1,"mx-auto","mt-4","mb-5"],[4,"ngIf"],[1,"color-blue","mb-5","text-center"],[1,"text-center","mb-4"],["floatLabel","always",1,"w-75","booking-login-input"],["autocompleteOff","","matInput","","required","",3,"placeholder","ngModel","ngModelChange","keyup.enter"],[1,"text-center"],["autocompleteOff","","type","password","matInput","","required","",3,"placeholder","keyup.enter"],["password",""],[1,"text-center","mt-4"],["mat-flat-button","",1,"w-75","button-blue",3,"click"],[1,"w-100","text-center","mt-3"],["href","#",1,"registrati",3,"click"],["href","#",1,"recuperaPassword",3,"click"],[1,"text-center","mt-2"],["mat-flat-button","",1,"w-75","loginButtons",3,"click"],[1,"fa","fa-facebook","align-middle","mr-2","facebook-icon"],[1,"align-middle"],[1,"w-75","loginButtons","overflow-hidden","mx-auto"],["googleSigninButtonContainer",""],[3,"locale","width"],["autocompleteOff","","matInput","","required","",3,"placeholder","value","keyup.enter"],["emailRecupero",""],["mat-flat-button","",1,"button-blue","mr-1",3,"click"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"color-blue","mb-2","text-center"],[1,"mb-5","text-center"],[1,"row"],[1,"col-6","pr-1","pl-0"],["floatLabel","always",1,"w-100","booking-login-input"],["autocompleteOff","","matInput","","required","",3,"ngModel","placeholder","ngModelChange","keyup.enter"],[1,"col-6","pl-1","pr-0"],[1,"row","mt-4"],["autocompleteOff","","matInput","","required","",3,"placeholder","keyup.enter"],["emailRegistrazione",""],["autocompleteOff","","type","password","matInput","","required","",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["passwordRegistrazione",""],[1,"mt-4","mr-n3","ml-n3"],[1,"booking-login-checkbox",3,"ngModel","ngModelChange"],["href","#",1,"privacyLink",3,"click"],["class","newsletterLink","href","#",3,"click",4,"ngIf"],[1,"text-center","mt-3"],["href","#",1,"newsletterLink",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t.YNc(5,Ti,26,20,"ng-container",4),t.YNc(6,Mi,16,13,"ng-container",4),t.YNc(7,ki,53,41,"ng-container",4),t.qZA()()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(5),t.Q6J("ngIf",!e.recuperoPassword&&!e.registrazione),t.xp6(1),t.Q6J("ngIf",e.recuperoPassword),t.xp6(1),t.Q6J("ngIf",e.registrazione))},dependencies:[s.O5,R.X,et,mn.FC,C.eB,M.v_,Y.k0,G.aO,f.Fj,f.JJ,f.Q7,f.On,b.X$],styles:[".booking-login-input .mat-form-field-infix{border-top:0!important}  .booking-login-input .mat-form-field-flex{border:1px solid #dddddd!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important}  .booking-login-input .mat-form-field-underline{visibility:hidden!important}  .booking-login-input .mat-form-field-wrapper{padding-bottom:0!important}.recuperaPassword[_ngcontent-%COMP%]{color:#004987!important;transition:all .5s ease-out!important}.recuperaPassword[_ngcontent-%COMP%]:hover{color:#006dc9!important;transition:all .5s ease-out!important}.registrati[_ngcontent-%COMP%]{color:#004987!important;transition:all .5s ease-out!important}.registrati[_ngcontent-%COMP%]:hover{color:#006dc9!important;transition:all .5s ease-out!important}.loginButtons[_ngcontent-%COMP%]{border:1px solid #6b6b6b!important;border-radius:7px!important;color:#6b6b6b!important;transition:all .4s ease-out!important;height:34px;line-height:34px}.loginButtons[_ngcontent-%COMP%]:hover{color:#adadad!important;border:1px solid #adadad!important;transition:all .4s ease-out!important}.facebook-icon[_ngcontent-%COMP%]{color:#3768f1}.privacyLink[_ngcontent-%COMP%], .privacyLink[_ngcontent-%COMP%]:hover, .newsletterLink[_ngcontent-%COMP%], .newsletterLink[_ngcontent-%COMP%]:hover{color:#004987!important}  .booking-login-checkbox .mat-checkbox-inner-container{margin-top:5px!important}"]});const Ai=["bannersContainer"],Si=function(o,n){return{"circle-button":o,"circle-button-current":n}},Oi=function(o,n){return{"circle-icon":o,"circle-icon-current":n}};function Ii(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.disableButtons||l.currentBanner==r?null:l.goToBanner(r))}),t.TgZ(1,"i",12),t._uU(2,"lens"),t.qZA()()}if(2&o){const e=n.index,i=t.oxw(2);t.Q6J("ngClass",t.WLB(2,Si,i.currentBanner!=e,i.currentBanner==e)),t.xp6(1),t.Q6J("ngClass",t.WLB(5,Oi,i.currentBanner!=e,i.currentBanner==e))}}const qi=function(o){return{"mr-2":o}};function Ji(o,n){if(1&o&&(t.TgZ(0,"span",9),t.YNc(1,Ii,3,8,"button",10),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(2,qi,e.modal)),t.xp6(1),t.Q6J("ngForOf",e.banner)}}function Qi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onCloseClick.emit())}),t.TgZ(1,"i",14),t._uU(2,"clear"),t.qZA()()}2&o&&t.Q6J("disableRipple",!0)}function Ui(o,n){if(1&o&&(t.TgZ(0,"div",15),t._UZ(1,"app-inner-html",16),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("_text",e.testo)}}const Ni=function(o){return{"mb-3":o}};class ht extends z.H{set _banner(n){null!=n&&(this.banner=n.slice(0,10),this.currentBanner=0,this.state="transparent",this.toggleState(),this.stopInterval(),this.startInterval())}constructor(n,e){super(),this.cdRef=n,this.containerService=e,this.modal=!1,this.onCloseClick=new t.vpe,this.currentBanner=0,this.banner=[],this.state="transparent",this.disableButtons=!1}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(()=>{this.updateScroll()})}startInterval(){this.banner.length>1&&(this.interval=setInterval(this.changeBanner.bind(this),7e3))}stopInterval(){null!=this.interval&&clearInterval(this.interval)}nextBanner(){this.currentBanner<this.banner.length-1?this.currentBanner++:this.currentBanner=0,this.updateScroll()}showBanner(){this.currentBanner=this.goToBannerIndex,this.updateScroll(),this.goToBannerIndex=null}toggleState(){this.state="opaque"==this.state?"transparent":"opaque",this.cdRef.destroyed||this.cdRef.detectChanges()}onAnimationDone(n){"transparent"==n?null!=this.goToBannerIndex?(this.showBanner(),this.toggleState()):"next"==this.operation&&(this.nextBanner(),this.toggleState()):"opaque"==n&&(this.disableButtons=!1)}updateScroll(){this.bannersContainer.nativeElement.scroll({top:0,left:this.currentBanner*this.bannersContainer.nativeElement.offsetWidth})}changeBanner(){this.operation="next",this.toggleState()}goToBanner(n){this.goToBannerIndex=n,this.toggleState()}ngOnDestroy(){this.sub.unsubscribe(),clearInterval(this.interval)}}ht.\u0275fac=function(n){return new(n||ht)(t.Y36(t.sBO),t.Y36(T.J))},ht.\u0275cmp=t.Xpm({type:ht,selectors:[["app-booking-banner"]],viewQuery:function(n,e){if(1&n&&t.Gf(Ai,5),2&n){let i;t.iGM(i=t.CRH())&&(e.bannersContainer=i.first)}},inputs:{_banner:"_banner",modal:"modal"},outputs:{onCloseClick:"onCloseClick"},features:[t.qOj],decls:10,vars:8,consts:[[1,"banners-outer-container","mat-elevation-z5",3,"ngClass","mouseenter","mouseleave"],[1,"pt-2","pb-2","font-weight-bold","banner-titolo-container","d-flex","w-100"],[1,"banner-titolo"],[1,"text-nowrap"],[3,"ngClass",4,"ngIf"],["mat-icon-button","","class","modal-close-button mr-2",3,"matDialogClose","disableRipple","click",4,"ngIf"],[1,"h-100","w-100","banners-container"],["bannersContainer",""],["class","h-100 w-100 d-inline-block p-3 overflow-auto thin-scrollbar align-top text-wrap",4,"ngFor","ngForOf"],[3,"ngClass"],["mat-icon-button","","class","mr-2",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-icon-button","",1,"mr-2",3,"ngClass","click"],[1,"material-icons-round",3,"ngClass"],["mat-icon-button","",1,"modal-close-button","mr-2",3,"matDialogClose","disableRipple","click"],[1,"material-icons-round"],[1,"h-100","w-100","d-inline-block","p-3","overflow-auto","thin-scrollbar","align-top","text-wrap"],[3,"_text"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.NdJ("mouseenter",function(){return e.stopInterval()})("mouseleave",function(){return e.startInterval()}),t.TgZ(1,"div",1)(2,"span",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,Ji,2,4,"span",4),t.YNc(6,Qi,3,1,"button",5),t.qZA()(),t.TgZ(7,"div",6,7),t.NdJ("@fade.start",function(){return e.disableButtons=!0})("@fade.done",function(a){return e.onAnimationDone(a.toState)}),t.YNc(9,Ui,2,1,"div",8),t.qZA()()),2&n&&(t.Q6J("ngClass",t.VKq(6,Ni,!e.modal)),t.xp6(3),t.Oqu(e.banner[e.currentBanner].titolo),t.xp6(2),t.Q6J("ngIf",e.banner.length>1),t.xp6(1),t.Q6J("ngIf",e.modal),t.xp6(1),t.Q6J("@fade",e.state),t.xp6(2),t.Q6J("ngForOf",e.banner))},dependencies:[s.mk,s.sg,s.O5,C.eB,G.aO,Z.W],styles:[".banners-outer-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;overflow:hidden}.banner-titolo-container[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff;justify-content:space-between}.banner-titolo[_ngcontent-%COMP%]{font-size:20px;padding-right:24px;padding-left:24px}.circle-icon[_ngcontent-%COMP%]{font-size:8px;line-height:8px;opacity:.5}.circle-button[_ngcontent-%COMP%]{width:8px;height:8px;line-height:8px}.circle-icon-current[_ngcontent-%COMP%]{font-size:10px;line-height:10px}.circle-button-current[_ngcontent-%COMP%]{width:10px;height:10px;line-height:10px}.banners-container[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden}.modal-close-button[_ngcontent-%COMP%]{position:static!important;color:#fff!important;background-color:transparent!important}"],data:{animation:[(0,Q.X$)("fade",[(0,Q.SB)("opaque",(0,Q.oB)({opacity:1})),(0,Q.SB)("transparent",(0,Q.oB)({opacity:0})),(0,Q.eR)("opaque => transparent",[(0,Q.jt)("700ms ease-out")]),(0,Q.eR)("transparent => opaque",[(0,Q.jt)("700ms ease-in")])])]}});var nt=d(2214),xt=d(18750),le=d(10244),Gn=d(6593),F=d(24678),U=d(48424),zn=d(16718),wn=d(32651),$=d(30481),H=d(6442),Ei=d(27513),Pn=d(98782),W=d(3305),Kn=d(25742);const Di=["tariffePanel"],Li=["tariffeRow"];function Bi(o,n){1&o&&(t.TgZ(0,"span",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.esaurita")," "))}function Vi(o,n){if(1&o&&(t.TgZ(0,"span",29),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.dayUse?"booking.ultimaDisponibilita":"booking.ultimaCamera")," ")}}function Yi(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Bi,3,3,"span",26),t.YNc(2,Vi,3,3,"span",27),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.room.disponibili<=0),t.xp6(1),t.Q6J("ngIf",1==e.room.disponibili)}}function Fi(o,n){1&o&&(t.TgZ(0,"span",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.offerteDisponibili")," "))}function Hi(o,n){if(1&o&&(t.TgZ(0,"div",24),t.YNc(1,Yi,3,2,"ng-container",6),t.YNc(2,Fi,3,3,"span",25),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",1==e.roomsNumber),t.xp6(1),t.Q6J("ngIf",(e.room.disponibili>1||e.roomsNumber>1)&&e.offersAvailable)}}function Ri(o,n){1&o&&(t.TgZ(0,"span",33),t._uU(1,"person"),t.qZA())}function Gi(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ri,2,0,"span",32),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.persone)}}const Ki=function(o,n){return{dimensione:o,"dimensione-not-available":n}};function ji(o,n){if(1&o&&(t.TgZ(0,"div",34),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.WLB(2,Ki,e.disponibili>0,e.disponibili<=0)),t.xp6(1),t.hij(" ",e.room.dimensione+" mq"," ")}}function Xi(o,n){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Gi,2,1,"ng-container",6),t.YNc(2,ji,2,5,"div",31),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isPaxStep1Visualizzate),t.xp6(1),t.Q6J("ngIf",!!e.room.dimensione)}}function $i(o,n){if(1&o&&(t.TgZ(0,"div",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.AsE(" ",e.room.disponibili," ",t.lcZ(2,2,e.dayUse?"booking.camereDisponibiliDayUse":"booking.camereDisponibili")," ")}}const O=function(o){return{"color-grey":o}};function Wi(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",36)(1,"span",37),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw();return a.stopPropagation(),r.openTariffaDetails(r.room),t.KtG(r.onButtonsClick.emit())}),t._UZ(2,"app-inner-html",38),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,O,e.disponibili<=0)),t.xp6(2),t.Q6J("_text",e.shortDescription)("block",!1)}}function ta(o,n){if(1&o&&t._UZ(0,"i"),2&o){const e=t.oxw(2).$implicit;t.Gre("d-inline-block align-middle ml-2 ",e.icona,"")}}function ea(o,n){if(1&o&&t._UZ(0,"img",45),2&o){const e=t.oxw(2).$implicit;t.Q6J("src",e.immagineIcona,t.LSH)}}function na(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"span",42),t._uU(2),t.qZA(),t.YNc(3,ta,1,3,"i",43),t.YNc(4,ea,1,1,"img",44),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.nome),t.xp6(1),t.Q6J("ngIf",!!e.icona&&!e.immagineIcona),t.xp6(1),t.Q6J("ngIf",!!e.immagineIcona)}}function oa(o,n){if(1&o&&(t.TgZ(0,"div",41),t.YNc(1,na,5,3,"ng-container",6),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!!e.nome)}}function ia(o,n){if(1&o&&(t.TgZ(0,"div",39),t.YNc(1,oa,2,1,"div",40),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(2,O,e.disponibili<=0)),t.xp6(1),t.Q6J("ngForOf",e.room.sistemazioni)}}function aa(o,n){if(1&o&&t._UZ(0,"img",52),2&o){const e=t.oxw(2).$implicit;t.Q6J("src",e.immagineIcona,t.LSH)}}function ra(o,n){if(1&o&&t._UZ(0,"i"),2&o){const e=t.oxw(2).$implicit;t.Gre("servizioIcon mr-1 mt-1 ",e.icona,"")}}function la(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",49),t.YNc(2,aa,1,1,"img",50),t.YNc(3,ra,1,3,"i",43),t.TgZ(4,"span",51),t._uU(5),t.qZA()(),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,O,i.disponibili<=0)),t.xp6(1),t.Q6J("ngIf",!!e.immagineIcona),t.xp6(1),t.Q6J("ngIf",!!e.icona&&!e.immagineIcona),t.xp6(2),t.Oqu(e.nome)}}function ca(o,n){if(1&o&&(t.ynx(0),t.YNc(1,la,6,6,"ng-container",6),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!!e.nome)}}function sa(o,n){if(1&o&&(t.TgZ(0,"div",46)(1,"div",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,ca,2,1,"ng-container",48),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(5,O,e.disponibili<=0)),t.xp6(1),t.Oqu(t.lcZ(3,3,"booking.servizi")),t.xp6(2),t.Q6J("ngForOf",e.room.servizi)}}function pa(o,n){if(1&o&&t._UZ(0,"img",52),2&o){const e=t.oxw(2).$implicit;t.Q6J("src",e.immagineIcona,t.LSH)}}function ma(o,n){if(1&o&&t._UZ(0,"i"),2&o){const e=t.oxw(2).$implicit;t.Gre("servizioIcon mr-1 mt-1 ",e.icona,"")}}function da(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",49),t.YNc(2,pa,1,1,"img",50),t.YNc(3,ma,1,3,"i",43),t.TgZ(4,"span",51),t._uU(5),t.qZA()(),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,O,i.disponibili<=0)),t.xp6(1),t.Q6J("ngIf",!!e.immagineIcona),t.xp6(1),t.Q6J("ngIf",!!e.icona&&!e.immagineIcona),t.xp6(2),t.Oqu(e.nome)}}function _a(o,n){if(1&o&&(t.ynx(0),t.YNc(1,da,6,6,"ng-container",6),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!!e.nome)}}function ua(o,n){if(1&o&&(t.TgZ(0,"div",53)(1,"div",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,_a,2,1,"ng-container",48),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(5,O,e.disponibili<=0)),t.xp6(1),t.Oqu(t.lcZ(3,3,"booking.servizi")),t.xp6(2),t.Q6J("ngForOf",e.room.servizi)}}function fa(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",55),t._uU(2),t.TgZ(3,"small",56),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"span",57),t._uU(7),t.TgZ(8,"small",56),t._uU(9),t.qZA()(),t.TgZ(10,"span",58),t._uU(11),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(8,O,e.disponibili<=0)),t.xp6(1),t.hij(" ",e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.prezzoScontato),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.prezzoScontato)),t.xp6(2),t.Q6J("ngClass",t.VKq(10,O,e.disponibili<=0)),t.xp6(1),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.prezzo)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.prezzo)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,O,e.disponibili<=0)),t.xp6(1),t.hij("-",e.sconto,"%")}}function ha(o,n){if(1&o&&(t.TgZ(0,"div",59),t._uU(1),t.TgZ(2,"small",56),t._uU(3),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.prezzo),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.prezzo))}}function xa(o,n){if(1&o&&(t.ynx(0),t.YNc(1,fa,12,14,"ng-container",6),t.YNc(2,ha,4,2,"div",54),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.prezzoScontato>0),t.xp6(1),t.Q6J("ngIf",e.prezzoScontato<=0)}}function ba(o,n){1&o&&(t.TgZ(0,"div",60),t._uU(1," --- "),t.qZA())}function va(o,n){1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",61),t._uU(5,"keyboard_arrow_up"),t.qZA(),t.BQk()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.nascondiOpzioni")))}function Ca(o,n){1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",61),t._uU(5,"keyboard_arrow_down"),t.qZA(),t.BQk()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.guardaLeOpzioni")))}function za(o,n){1&o&&(t.TgZ(0,"div",62)(1,"div",63),t._UZ(2,"span",64),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",65),t._uU(6),t.ALo(7,"translate"),t.qZA()()),2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,2,"booking.upgrade")," "),t.xp6(3),t.hij(" ",t.lcZ(7,4,"booking.upgradeTesto")," "))}function wa(o,n){1&o&&(t.TgZ(0,"div",83)(1,"span",84),t._uU(2," clear "),t.qZA(),t.TgZ(3,"span",85),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"booking.nonPrenotabile")," "))}function Pa(o,n){1&o&&(t.TgZ(0,"div",88)(1,"span",84),t._uU(2," euro "),t.qZA(),t.TgZ(3,"span",85),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"booking.offerta")," "))}const Ta=function(o){return{"mt-1":o}};function Ma(o,n){if(1&o&&(t.TgZ(0,"div",89)(1,"span",84),t._uU(2," thumb_up "),t.qZA(),t.TgZ(3,"span",85),t._uU(4),t.ALo(5,"translate"),t.qZA()()),2&o){const e=t.oxw(4).$implicit;t.Q6J("ngClass",t.VKq(4,Ta,e.prezzoScontato>0||!!e.nomePromozione)),t.xp6(4),t.hij(" ",t.lcZ(5,2,"booking.migliorPrezzo")," ")}}function ya(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Pa,6,3,"div",86),t.YNc(2,Ma,6,6,"div",87),t.BQk()),2&o){const e=t.oxw(3),i=e.$implicit,a=e.index,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.prezzoScontato>0||!!i.nomePromozione),t.xp6(1),t.Q6J("ngIf",a==r.bestPriceIndex)}}function Za(o,n){if(1&o&&(t.TgZ(0,"div",81),t.YNc(1,wa,6,3,"div",82),t.YNc(2,ya,3,2,"ng-container",6),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",!e.isPrenotabile),t.xp6(1),t.Q6J("ngIf",e.isPrenotabile)}}function ka(o,n){if(1&o&&(t.TgZ(0,"div",95),t._UZ(1,"app-inner-html",96),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.Q6J("ngClass",t.VKq(2,O,!e.isPrenotabile)),t.xp6(1),t.Q6J("_text",e.descrizioneDettagliata)}}function Aa(o,n){if(1&o&&(t.TgZ(0,"div",95),t._UZ(1,"app-inner-html",96),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.Q6J("ngClass",t.VKq(2,O,!e.isPrenotabile)),t.xp6(1),t.Q6J("_text",e.descrizionePromozione)}}function Sa(o,n){if(1&o&&t._UZ(0,"img",101),2&o){const e=t.oxw(2).$implicit;t.Q6J("src",e.immagineIcona,t.LSH)}}function Oa(o,n){if(1&o&&t._UZ(0,"i"),2&o){const e=t.oxw(2).$implicit;t.Gre("servizioIcon ",e.icona," d-inline-block align-middle")}}function Ia(o,n){if(1&o&&(t.TgZ(0,"span",99),t.YNc(1,Sa,1,1,"img",100),t.YNc(2,Oa,1,3,"i",43),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("matTooltip",e.nome),t.xp6(1),t.Q6J("ngIf",!!e.immagineIcona),t.xp6(1),t.Q6J("ngIf",!!e.icona&&!e.immagineIcona)}}function qa(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ia,3,3,"span",98),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!(!e.nome||!e.immagineIcona&&!e.icona))}}function Ja(o,n){if(1&o&&(t.TgZ(0,"div",97),t.YNc(1,qa,2,1,"ng-container",48),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",e.servizi)}}const Qa=function(o,n){return{"info-button":o,"info-button-best-price":n}};function Ua(o,n){if(1&o&&(t.TgZ(0,"div")(1,"div")(2,"button",90)(3,"span",91),t._uU(4," info "),t.qZA()(),t.TgZ(5,"span",92),t._uU(6),t.qZA()(),t.YNc(7,ka,2,4,"div",93),t.YNc(8,Aa,2,4,"div",93),t.YNc(9,Ja,2,1,"div",94),t.qZA()),2&o){const e=t.oxw(2),i=e.index,a=e.$implicit,r=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.WLB(7,Qa,i!=r.bestPriceIndex,i==r.bestPriceIndex))("disabled",!a.isPrenotabile),t.xp6(3),t.Q6J("ngClass",t.VKq(10,O,!a.isPrenotabile)),t.xp6(1),t.hij(" ",a.descrizione," "),t.xp6(1),t.Q6J("ngIf",r.isVisualizzaDescrizioneDettagliataTariffa&&!!a.descrizioneDettagliata),t.xp6(1),t.Q6J("ngIf",!!a.descrizionePromozione),t.xp6(1),t.Q6J("ngIf",a.isVisualizzaServiziBooking&&null!=a.servizi&&a.servizi.length>0)}}function Na(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.nonRimborsabile")," "))}function Ea(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.pagaInHotel")," "))}function Da(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.garanziaCartaDiCredito")," "))}function La(o,n){if(1&o&&(t.TgZ(0,"span",105),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"date"),t.qZA()),2&o){const e=t.oxw(4).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.dataCancellazioneGratuita")+" "+t.xi3(3,3,e.dataCancellazioneGratuita,"dd/MM/yyyy")," ")}}function Ba(o,n){if(1&o&&(t.TgZ(0,"li")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,La,4,6,"span",104),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.cancellazioneGratuita")),t.xp6(2),t.Q6J("ngIf",e.dataCancellazioneGratuita)}}function Va(o,n){if(1&o&&(t.TgZ(0,"div",106),t._UZ(1,"app-inner-html",96),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.Q6J("ngClass",t.VKq(2,O,!e.isPrenotabile)),t.xp6(1),t.Q6J("_text",e.cancellazione.descrizione)}}function Ya(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"ul",102),t.YNc(2,Na,3,3,"li",6),t.YNc(3,Ea,3,3,"li",6),t.YNc(4,Da,3,3,"li",6),t.YNc(5,Ba,5,4,"li",6),t.qZA(),t.YNc(6,Va,2,4,"div",103),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(6,O,!e.isPrenotabile)),t.xp6(1),t.Q6J("ngIf",e.cancellazione.isNonRimborsabile),t.xp6(1),t.Q6J("ngIf",e.cancellazione.isPagaHotel),t.xp6(1),t.Q6J("ngIf",e.cancellazione.isCartaCreditoGaranzia),t.xp6(1),t.Q6J("ngIf",e.cancellazione.isCancellazioneGratuita),t.xp6(1),t.Q6J("ngIf",i.isVisualizzaDescrizionePoliticaCancellazione&&!!e.cancellazione.descrizione)}}function Fa(o,n){if(1&o&&(t.TgZ(0,"div",107),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.testoTradottoNonPrenotabile," ")}}function Ha(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.nonRimborsabile")," "))}function Ra(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.pagaInHotel")," "))}function Ga(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.garanziaCartaDiCredito")," "))}function Ka(o,n){if(1&o&&(t.TgZ(0,"span",105),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"date"),t.qZA()),2&o){const e=t.oxw(4).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.dataCancellazioneGratuita")+" "+t.xi3(3,3,e.dataCancellazioneGratuita,"dd/MM/yyyy")," ")}}function ja(o,n){if(1&o&&(t.TgZ(0,"li")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Ka,4,6,"span",104),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.cancellazioneGratuita")),t.xp6(2),t.Q6J("ngIf",e.dataCancellazioneGratuita)}}function Xa(o,n){if(1&o&&(t.TgZ(0,"div",110),t._UZ(1,"app-inner-html",96),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.Q6J("ngClass",t.VKq(2,O,!e.isPrenotabile)),t.xp6(1),t.Q6J("_text",e.cancellazione.descrizione)}}function $a(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"ul",108),t.YNc(2,Ha,3,3,"li",6),t.YNc(3,Ra,3,3,"li",6),t.YNc(4,Ga,3,3,"li",6),t.YNc(5,ja,5,4,"li",6),t.qZA(),t.YNc(6,Xa,2,4,"div",109),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.cancellazione.isNonRimborsabile),t.xp6(1),t.Q6J("ngIf",e.cancellazione.isPagaHotel),t.xp6(1),t.Q6J("ngIf",e.cancellazione.isCartaCreditoGaranzia),t.xp6(1),t.Q6J("ngIf",e.cancellazione.isCancellazioneGratuita),t.xp6(1),t.Q6J("ngIf",i.isVisualizzaDescrizionePoliticaCancellazione&&!!e.cancellazione.descrizione)}}function Wa(o,n){if(1&o&&(t.TgZ(0,"div")(1,"div",114)(2,"span",115),t._uU(3),t.TgZ(4,"small",56),t._uU(5),t.qZA()()(),t.TgZ(6,"div")(7,"span",116),t._uU(8),t.TgZ(9,"small",56),t._uU(10),t.qZA()(),t.TgZ(11,"span",117),t._uU(12),t.qZA()()()),2&o){const e=t.oxw(3).$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.VKq(8,O,!e.isPrenotabile)),t.xp6(1),t.hij(" ",i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.prezzoScontato),""),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.prezzoScontato)),t.xp6(2),t.Q6J("ngClass",t.VKq(10,O,!e.isPrenotabile)),t.xp6(1),t.Oqu(i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.prezzo)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.prezzo)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,O,!e.isPrenotabile)),t.xp6(1),t.hij("-",e.scontoPercentuale,"%")}}function tr(o,n){if(1&o&&(t.TgZ(0,"div",114)(1,"span",115),t._uU(2),t.TgZ(3,"small",56),t._uU(4),t.qZA()()()),2&o){const e=t.oxw(3).$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,O,!e.isPrenotabile)),t.xp6(1),t.hij(" ",i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.prezzo),""),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.prezzo))}}function er(o,n){if(1&o&&(t.TgZ(0,"div",118),t.NdJ("click",function(i){return i.stopPropagation()}),t._UZ(1,"holipay-search-widget"),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&o){const e=t.oxw(3).$implicit,i=t.oxw(2);t.xp6(1),t.uIk("checkin",i.getDate(i.arrivo))("checkout",i.getDate(i.partenza))("price",t.Dn7(2,4,t.xi3(3,8,e.prezzoScontato>0?e.prezzoScontato:e.prezzo,"1.2-2"),",",""))("locale",i.lingua)}}function nr(o,n){if(1&o&&(t.TgZ(0,"div",118),t.NdJ("click",function(i){return i.stopPropagation()}),t._UZ(1,"scalapay-widget"),t.qZA()),2&o){const e=t.oxw(3).$implicit,i=t.oxw(2);t.xp6(1),t.uIk("amount",e.prezzoScontato>0?e.prezzoScontato:e.prezzo)("min",0)("max",999999)("locale",i.lingua)}}const or=function(o){return{"pr-4 col-12":o}};function ir(o,n){if(1&o&&(t.TgZ(0,"div",111)(1,"div",78),t.YNc(2,Wa,13,14,"div",6),t.YNc(3,tr,5,5,"div",112),t.YNc(4,er,4,11,"div",113),t.YNc(5,nr,2,4,"div",113),t.qZA()()),2&o){const e=t.oxw(2).$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(5,or,!i.wideScreen&&i.containerService.dimension.width>=992)),t.xp6(2),t.Q6J("ngIf",e.prezzoScontato>0),t.xp6(1),t.Q6J("ngIf",e.prezzoScontato<=0),t.xp6(1),t.Q6J("ngIf",e.isHolipayDisponibile),t.xp6(1),t.Q6J("ngIf",e.isScalaPayDisponibile)}}function ar(o,n){1&o&&(t.ynx(0),t.TgZ(1,"span",124),t._uU(2,"person"),t.qZA(),t.BQk())}function rr(o,n){1&o&&(t.ynx(0),t.TgZ(1,"span",125),t._uU(2,"person"),t.qZA(),t.BQk())}function lr(o,n){if(1&o&&(t.TgZ(0,"div",122)(1,"span",123),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,ar,3,0,"ng-container",48),t.YNc(5,rr,3,0,"ng-container",48),t.qZA()),2&o){const e=t.oxw(3).$implicit,i=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,"booking.prezzoPer")),t.xp6(2),t.Q6J("ngForOf",i.utility.counter(e.numeroAdulti)),t.xp6(1),t.Q6J("ngForOf",i.utility.counter(e.numeroBambini))}}const cr=function(o){return{"disabled-option":o}};function sr(o,n){if(1&o&&(t.TgZ(0,"mat-option",130),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.quantity)("disabled",e.disabled)("ngClass",t.VKq(4,cr,e.disabled)),t.xp6(1),t.hij(" ",e.viewValue," ")}}function pr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",126)(1,"mat-select",127,128),t.NdJ("selectionChange",function(){t.CHM(e);const a=t.MAs(2),r=t.oxw(3).$implicit,l=t.oxw(2);return t.KtG(l.quantityChange(r,a.value))}),t.TgZ(3,"mat-select-trigger"),t._uU(4),t.qZA(),t.YNc(5,sr,2,6,"mat-option",129),t.qZA()()}if(2&o){const e=t.MAs(2),i=t.oxw(3),a=i.$implicit,r=i.index,l=t.oxw(2);t.xp6(1),t.Q6J("panelClass","booking-select")("value",0)("disabled",!a.isPrenotabile),t.xp6(3),t.hij(" ",e.value," "),t.xp6(1),t.Q6J("ngForOf",l.quantities[r])}}const jn=function(o){return{"multiple-rooms-button":o}};function gr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"span")(1,"button",131),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(3).$implicit,l=t.oxw(2);return a.stopPropagation(),l.onButtonsClick.emit(),t.KtG(l.prenota(r))}),t.TgZ(2,"span",132),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}if(2&o){const e=t.oxw(3).$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("disabled",!e.isPrenotabile||i.roomsNumber>1&&i.prenotaButtonDisabled)("ngClass",t.VKq(5,jn,i.roomsNumber>1)),t.xp6(2),t.Oqu(t.lcZ(4,3,"booking.prenota"))}}function mr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",119),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(4);return a.stopPropagation(),t.KtG(r.onButtonsClick.emit())}),t.YNc(1,lr,6,5,"div",120),t.YNc(2,pr,6,5,"mat-form-field",121),t.YNc(3,gr,5,7,"span",6),t.qZA()}if(2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.roomsNumber>1),t.xp6(1),t.Q6J("ngIf",e.roomsNumber>1),t.xp6(1),t.Q6J("ngIf",!e.isDisplayOnly)}}function dr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",133)(1,"span",134),t._uU(2,"lock"),t.qZA(),t.TgZ(3,"span",135),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div")(7,"button",136),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(4);return a.stopPropagation(),r.onButtonsClick.emit(),t.KtG(r.login.emit())}),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(10,O,!e.isPrenotabile)),t.xp6(2),t.Q6J("ngClass",t.VKq(12,O,!e.isPrenotabile)),t.xp6(1),t.Oqu(t.lcZ(5,6,"booking.offertaSegreta")),t.xp6(3),t.Q6J("disabled",!e.isPrenotabile)("ngClass",t.VKq(14,jn,i.roomsNumber>1)),t.xp6(2),t.Oqu(t.lcZ(10,8,"booking.sblocca"))}}const _r=function(o,n){return{"inset-shadow":o,"best-price":n}},Xn=function(o){return{"pt-3":o}},ur=function(o,n){return{"pt-3 inset-shadow":o,"color-grey":n}},fr=function(o,n,e){return{"col-12":o,"offset-6":n,"offset-3":e}};function hr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",69,70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.openTariffaDetails(r.room,a))}),t.TgZ(2,"div",71),t.YNc(3,Za,3,2,"div",72),t.YNc(4,Ua,10,12,"div",6),t.YNc(5,Ya,7,8,"ng-container",6),t.YNc(6,Fa,2,1,"div",73),t.qZA(),t.TgZ(7,"div",74),t.YNc(8,$a,7,5,"ng-container",6),t.qZA(),t.TgZ(9,"div",71)(10,"div",75),t.YNc(11,ir,6,7,"div",76),t.TgZ(12,"div",77)(13,"div",78),t.YNc(14,mr,4,3,"div",79),t.YNc(15,dr,11,16,"div",80),t.qZA()()()()()}if(2&o){const e=t.oxw(),i=e.index,a=e.$implicit,r=t.oxw(2);t.Udp("height",r.containerService.dimension.width>=650&&r.tariffaRowHeight>0?r.tariffaRowHeight+"px":null),t.Q6J("ngClass",t.WLB(19,_r,i==r.firstTariffaIndex,i==r.bestPriceIndex)),t.xp6(2),t.Tol("pt-2 pb-2 pr-4 pl-3 position-relative "+(r.wideScreen?"col-7 col-lg-4":"col-12 col-650-6 col-lg-5")),t.Q6J("ngClass",t.VKq(22,Xn,i==r.firstTariffaIndex)),t.xp6(1),t.Q6J("ngIf",!a.isPrenotabile||a.prezzoScontato>0||!!a.nomePromozione||i==r.bestPriceIndex),t.xp6(1),t.Q6J("ngIf",!!a.descrizione),t.xp6(1),t.Q6J("ngIf",null!=a.cancellazione),t.xp6(1),t.Q6J("ngIf",!!a.testoTradottoNonPrenotabile),t.xp6(1),t.Q6J("ngClass",t.WLB(24,ur,i==r.firstTariffaIndex,!a.isPrenotabile)),t.xp6(1),t.Q6J("ngIf",null!=a.cancellazione),t.xp6(1),t.Tol("pt-2 pb-2 pr-4 pl-4 col-12 col-650-6 "+(r.wideScreen?"col-lg-5":"col-lg-4")),t.Q6J("ngClass",t.VKq(27,Xn,i==r.firstTariffaIndex)),t.xp6(2),t.Q6J("ngIf",(a.isPrenotabile||r.isVisualizzaTotaleSoggiornoSeNonDisponibile)&&(!a.isOffertaSegreta||r.sessionService.isLoggedInMySelf())),t.xp6(1),t.Q6J("ngClass",t.kEZ(29,fr,!r.wideScreen&&r.containerService.dimension.width>=992,(!a.isPrenotabile&&!r.isVisualizzaTotaleSoggiornoSeNonDisponibile||a.isOffertaSegreta&&!r.sessionService.isLoggedInMySelf())&&(r.wideScreen||r.containerService.dimension.width<992&&r.containerService.dimension.width>=650),(!a.isPrenotabile&&!r.isVisualizzaTotaleSoggiornoSeNonDisponibile||a.isOffertaSegreta&&!r.sessionService.isLoggedInMySelf())&&r.containerService.dimension.width<650)),t.xp6(2),t.Q6J("ngIf",!a.isOffertaSegreta||r.sessionService.isLoggedInMySelf()),t.xp6(1),t.Q6J("ngIf",a.isOffertaSegreta&&!r.sessionService.isLoggedInMySelf())}}function xr(o,n){if(1&o&&(t.ynx(0),t.YNc(1,hr,16,33,"div",68),t.BQk()),2&o){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.disponibili>0&&(null==i.trattamento||e.mealPlanType==i.trattamento&&e.isPrenotabile))}}function br(o,n){if(1&o&&(t.TgZ(0,"div",66)(1,"div",67),t.YNc(2,xr,2,1,"ng-container",48),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.room.tariffe)}}const vr=function(o){return{"room-container-disabled":o}},$n=function(o){return{"col-12":o}},Cr=function(o,n){return{"button-blue":o,"button-blue-indietro":n}};class ce extends z.H{set _room(n){if(null!=n){if(this.room=n,this.immagini=this.room.immagini.map(e=>e.immagine),this.descrizioni=this.room.immagini.map(e=>e.descrizione),this.initialization(this.room.tariffe),this.persone=new Array(this.room.paxMax>=0?this.room.paxMax:0).fill(0),this.room.descrizione){let e='\u2026<a class="continuaLink" href="#" onclick="event.preventDefault()">'+this.localizationService.getTranslationSync("booking.more")+"</a>";this.shortDescription=(0,vn.Z)(this.room.descrizione,115,{html:!0,breakWords:!0});let i=this.shortDescription.lastIndexOf("\u2026");i>=0?this.shortDescription=this.shortDescription.slice(0,i)+e+this.shortDescription.slice(i+1):this.shortDescription!=this.room.descrizione&&(this.shortDescription+=e)}if(null!=this.room.tariffe&&this.room.tariffe.length>0)for(let e of this.room.tariffe)e.testoNonPrenotabile&&(e.testoTradottoNonPrenotabile=this.localizationService.getTranslationSync(e.testoNonPrenotabile,{value:e.valoreNonPrenotabile}));setTimeout(()=>{this.refreshHolipayWidget()},100)}}set roomsSelected(n){if(null!=n){this.tariffeTipiCamera=n,this.roomsSelectedNumber=0;for(let e of n)this.roomsSelectedNumber+=e.quantity;this.setDisabledQuantities()}}set rooms(n){null!=n&&(this.roomsNumber=n.length)}set _trattamento(n){this.trattamento=n,this.filteredTariffe=this.room.tariffe.filter(e=>e.mealPlanType==this.trattamento&&e.isPrenotabile),this.showTariffe&&this.onShowTariffeClick(),this.initialization(null==this.trattamento?this.room.tariffe:this.filteredTariffe)}constructor(n,e,i,a){super(),this.containerService=n,this.utility=e,this.sessionService=i,this.localizationService=a,this.login=new t.vpe,this.onPrenota=new t.vpe,this.onQuantityChange=new t.vpe,this.onButtonsClick=new t.vpe,this.persone=[],this.showTariffe=!1,this.prenotaButtonDisabled=!0,this.quantities=[],this.quantitiesSelected=[],this.selectedQuantity=0,this.roomsNumber=0,this.roomsSelectedNumber=0,this.immagini=[],this.descrizioni=[],this.tariffeTipiCamera=[]}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(n=>{n.width>=1250?this.wideScreen=!0:this.wideScreen=!1,this.tariffaRowHeight=0,setTimeout(()=>{for(let e of this.tariffeRow.toArray())this.tariffaRowHeight=Math.max(this.tariffaRowHeight,e.nativeElement.offsetHeight)},200)}),null!=this.disablePrenotaButton&&(this.sub2=this.disablePrenotaButton.subscribe(n=>{this.prenotaButtonDisabled=n})),this.sub1=this.loginSubject.subscribe(()=>{this.calculatePrice(null==this.trattamento?this.room.tariffe:this.filteredTariffe)}),this.setDisabledQuantities()}ngAfterViewInit(){setTimeout(()=>{this.containerService.dimension.width>=1250?this.wideScreen=!0:this.wideScreen=!1,this.isVisualizzaTariffeEspanse&&this.onShowTariffeClick()},200)}initialization(n){this.firstTariffaIndex=0;for(let e of this.room.tariffe){if(e.disponibili>0&&(null==this.trattamento||e.mealPlanType==this.trattamento&&e.isPrenotabile))break;this.firstTariffaIndex++}if(this.calculatePrice(n),null!=this.room.tariffe&&this.room.tariffe.length>0){this.quantities=[];for(let e of this.room.tariffe){let i=[];for(let a=0;a<=this.disponibili;a++){let r=new p.o2G;r.quantity=a,r.disabled=!1,r.tariffaOid=e.rateId,r.oidPromozione=e.oidPromozione,r.numeroAdulti=e.numeroAdulti,r.numeroBambini=e.numeroBambini,r.viewValue=0==a?"0":a+" ("+((e.prezzoScontato>0?e.prezzoScontato:e.prezzo)*a).toFixed(2)+this.utility.getValuta(this.valuta)+")",i.push(r)}this.quantities.push(i)}}}calculatePrice(n){if(this.prezzo=0,this.prezzoScontato=0,this.sconto=0,null!=n&&n.length>0){this.disponibili=this.room.disponibili;let e=Number.POSITIVE_INFINITY,i=0;for(let a of n)a.isPrenotabile&&(a.disponibili>0&&(this.disponibili=Math.min(a.disponibili,this.disponibili)),a.prezzoScontato>0?(this.offersAvailable=!0,a.prezzoScontato<e&&(!a.isOffertaSegreta||this.sessionService.isLoggedInMySelf())&&(e=a.prezzoScontato,this.prezzo=a.prezzo,this.prezzoScontato=a.prezzoScontato,this.sconto=a.scontoPercentuale,this.bestPriceIndex=i)):a.prezzo<e&&(!a.isOffertaSegreta||this.sessionService.isLoggedInMySelf())&&(e=a.prezzo,this.prezzo=a.prezzo,this.prezzoScontato=0,this.sconto=0,this.bestPriceIndex=i)),i++}else this.disponibili=0}quantityChange(n,e){let i=new p.bDS;i.tariffa=n,i.quantity=e,this.onQuantityChange.emit(i);let a=this.quantitiesSelected.findIndex(r=>null!=r.tariffa&&r.tariffa.rateId==n.rateId&&r.tariffa.oidPromozione==n.oidPromozione&&r.tariffa.numeroAdulti==n.numeroAdulti&&r.tariffa.numeroBambini==n.numeroBambini);a>=0?e>0?this.quantitiesSelected[a].quantity=e:this.quantitiesSelected.splice(a,1):e>0&&this.quantitiesSelected.push(i),this.selectedQuantity=0;for(let r of this.quantitiesSelected)this.selectedQuantity+=r.quantity;this.setDisabledQuantities()}setDisabledQuantities(){let n=0;for(let e of this.quantities){let i=0;for(let a of e){let r=this.roomsNumber-this.roomsSelectedNumber,l=this.disponibili-this.selectedQuantity;if(null!=this.room.camereWelcomeDisponibiliXTipoCamera&&this.room.tipoCameraIdHotel>0){let g=this.tariffeTipiCamera.filter(_=>null!=_.tipoCamera&&_.tipoCamera.tipoCameraIdHotel==this.room.tipoCameraIdHotel).reduce((_,u)=>_+u.quantity,0);if(g>0){let _=this.room.camereWelcomeDisponibiliXTipoCamera-g;_<l&&(l=_)}}let c=this.quantitiesSelected.find(g=>null!=g.tariffa&&g.tariffa.rateId==a.tariffaOid&&g.tariffa.oidPromozione==a.oidPromozione&&g.tariffa.numeroAdulti==a.numeroAdulti&&g.tariffa.numeroBambini==a.numeroBambini);null!=c&&c.quantity>0&&(r+=c.quantity,l+=c.quantity),0==a.quantity||null!=c&&a.quantity<=c.quantity?this.quantities[n][i].disabled=!1:this.quantities[n][i].disabled=a.quantity>r||a.quantity>l,i++}n++}}openTariffaDetails(n,e){let i=new p.Zpt;this.containerService.dimension.width>=992?i.width="50vw":i.width="80vw",i.panelClass="dialog-overlay";let r=this.showModalDialog(Pn.w,i).componentInstance;r.tariffa=e,r.tipoCamera=n,r.isVisualizzaDettaglioGiornaliero=this.isVisualizzaDettaglioGiornaliero,r.valuta=this.valuta}prenota(n){this.roomsNumber>1?this.onPrenota.emit():this.onPrenota.emit(n)}onShowTariffeClick(){!this.tariffePanel.disabled&&this.disponibili>0&&null!=this.room.tariffe&&this.room.tariffe.length>0&&(this.showTariffe||(this.showTariffe=!0,this.tariffaRowHeight=0),this.tariffePanel.toggle(),this.tariffePanel.disabled=!0)}afterExpand(){this.refreshHolipayWidget(),this.tariffePanel.disabled=!1,this.tariffaRowHeight=0,setTimeout(()=>{for(let n of this.tariffeRow.toArray())this.tariffaRowHeight=Math.max(this.tariffaRowHeight,n.nativeElement.offsetHeight)},200)}afterCollapse(){this.showTariffe=!1,this.tariffePanel.disabled=!1,this.tariffaRowHeight=0}refreshHolipayWidget(){this.room.tariffe.some(n=>n.isHolipayDisponibile)&&null!=holipay&&holipay.updateWidgets()}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),null!=this.sub2&&this.sub2.unsubscribe()}}ce.\u0275fac=function(n){return new(n||ce)(t.Y36(T.J),t.Y36(v.t),t.Y36(nt.m),t.Y36(K.o))},ce.\u0275cmp=t.Xpm({type:ce,selectors:[["app-booking-room"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Di,5),t.Gf(Li,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.tariffePanel=i.first),t.iGM(i=t.CRH())&&(e.tariffeRow=i)}},inputs:{_room:"_room",roomsSelected:"roomsSelected",rooms:"rooms",_trattamento:"_trattamento",disablePrenotaButton:"disablePrenotaButton",loginSubject:"loginSubject",dayUse:"dayUse",isVisualizzaTotaleSoggiornoSeNonDisponibile:"isVisualizzaTotaleSoggiornoSeNonDisponibile",isPaxStep1Visualizzate:"isPaxStep1Visualizzate",isCamereLibereStep1Visualizzate:"isCamereLibereStep1Visualizzate",isVisualizzaDettaglioGiornaliero:"isVisualizzaDettaglioGiornaliero",isDisplayOnly:"isDisplayOnly",isVisualizzaDescrizionePoliticaCancellazione:"isVisualizzaDescrizionePoliticaCancellazione",isVisualizzaDescrizioneDettagliataTariffa:"isVisualizzaDescrizioneDettagliataTariffa",isVisualizzaTariffeEspanse:"isVisualizzaTariffeEspanse",arrivo:"arrivo",partenza:"partenza",lingua:"lingua",valuta:"valuta"},outputs:{login:"login",onPrenota:"onPrenota",onQuantityChange:"onQuantityChange",onButtonsClick:"onButtonsClick"},features:[t.qOj],decls:32,vars:48,consts:[[1,"container-fluid","pl-0","pr-0","pt-0","mb-3",3,"ngClass"],[1,"row","mr-0","ml-0","room-container",3,"click"],[1,"col-12","p-0"],[1,"w-100"],[3,"images","showButtons","autoSlide","minimumHeight","maximumHeight","onButtonsClick"],["class","mt-1 mb-2",4,"ngIf"],[4,"ngIf"],[1,"color-blue","room-nome","align-middle","mr-2",3,"ngClass"],["class","camereDisponibili",4,"ngIf"],["class","mt-2 room-descrizione",3,"ngClass",4,"ngIf"],["class","mt-3 mb-3",3,"ngClass",4,"ngIf"],["class","mt-3 mb-3 d-block d-lg-none",4,"ngIf"],[1,"col-3","pt-4","pr-4","pl-4","servizi-col","pb-3","d-none","d-lg-block"],["class","pt-3",4,"ngIf"],[1,"row","pt-0","pt-lg-3"],[1,"col-6","text-center",3,"ngClass"],[1,"prezzo-minimo","color-blue",3,"ngClass"],["class","prezzo color-grey",4,"ngIf"],[1,"col-6","p-0","text-center",3,"ngClass"],["mat-flat-button","",1,"p-0","pr-2","pl-2","mt-1","mw-100","showTariffeButton",3,"ngClass","disabled"],["class","mt-2",4,"ngIf"],[1,"booking-tariffe-panel",3,"afterExpand","afterCollapse"],["tariffePanel",""],["class","pr-2 pl-2",4,"ngIf"],[1,"mt-1","mb-2"],["class","color-red text-small font-weight-bold mat-elevation-z4 text-offerteDisponibili",4,"ngIf"],["class","color-red text-small font-weight-bold text-esaurita",4,"ngIf"],["class","color-red text-small font-weight-bold mat-elevation-z4 text-ultimaCamera",4,"ngIf"],[1,"color-red","text-small","font-weight-bold","text-esaurita"],[1,"color-red","text-small","font-weight-bold","mat-elevation-z4","text-ultimaCamera"],[1,"color-red","text-small","font-weight-bold","mat-elevation-z4","text-offerteDisponibili"],["class","pr-1 pl-1 dimensione d-inline-block align-middle p-1 float-right",3,"ngClass",4,"ngIf"],["class","material-icons-round align-middle persona-icon",4,"ngFor","ngForOf"],[1,"material-icons-round","align-middle","persona-icon"],[1,"pr-1","pl-1","dimensione","d-inline-block","align-middle","p-1","float-right",3,"ngClass"],[1,"camereDisponibili"],[1,"mt-2","room-descrizione",3,"ngClass"],[3,"click"],[3,"_text","block"],[1,"mt-3","mb-3",3,"ngClass"],["class","sistemazione",4,"ngFor","ngForOf"],[1,"sistemazione"],[1,"d-inline-block","align-middle"],[3,"class",4,"ngIf"],["class","d-inline-block align-middle immagine-sistemazione ml-2",3,"src",4,"ngIf"],[1,"d-inline-block","align-middle","immagine-sistemazione","ml-2",3,"src"],[1,"mt-3","mb-3","d-block","d-lg-none"],[1,"font-weight-bold","text-small","mb-1",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"servizio",3,"ngClass"],["class","servizioIcon immagine-servizio mr-1",3,"src",4,"ngIf"],[1,"servizioText"],[1,"servizioIcon","immagine-servizio","mr-1",3,"src"],[1,"pt-3"],["class","prezzo text-nowrap",4,"ngIf"],[1,"prezzo","text-nowrap",3,"ngClass"],[1,"price-decimals"],[1,"prezzo-sconto","text-nowrap",3,"ngClass"],[1,"ml-1","sconto","text-nowrap",3,"ngClass"],[1,"prezzo","text-nowrap"],[1,"prezzo","color-grey"],[1,"material-icons-round"],[1,"mt-2"],[1,"color-red","text-small","font-weight-bold","mat-elevation-z4","room-upgrade"],[1,"fas","fa-gift"],[1,"text-upgrade","mt-1"],[1,"pr-2","pl-2"],[1,"tariffe-container"],["class","row ml-0 mr-0 tariffa-row",3,"height","ngClass","click",4,"ngIf"],[1,"row","ml-0","mr-0","tariffa-row",3,"ngClass","click"],["tariffeRow",""],[3,"ngClass"],["class","mb-1",4,"ngIf"],["class","mt-3 testoTariffaNonPrenotabile",4,"ngIf"],[1,"col-3","pt-2","pb-2","pr-4","pl-4","d-none","d-lg-block","cancellazione-col","text-smaller",3,"ngClass"],[1,"row","h-100"],["class","col-6 d-flex justify-content-center align-items-center",3,"ngClass",4,"ngIf"],[1,"col-6","p-0","d-flex","justify-content-center","align-items-center",3,"ngClass"],[1,"w-100","text-center"],["class","text-nowrap",3,"click",4,"ngIf"],["class","color-blue text-center",4,"ngIf"],[1,"mb-1"],["class","nonPrenotabile mat-elevation-z4 p-1 pl-3 pr-3 mt-n1 fadeInLeft",4,"ngIf"],[1,"nonPrenotabile","mat-elevation-z4","p-1","pl-3","pr-3","mt-n1","fadeInLeft"],[1,"align-middle","material-icons-round"],[1,"align-middle"],["class","offerta mat-elevation-z4 p-1 pl-3 pr-3 mt-n1 fadeInLeft",4,"ngIf"],["class","miglior-prezzo mat-elevation-z4 p-1 pl-3 pr-3 fadeInLeft",3,"ngClass",4,"ngIf"],[1,"offerta","mat-elevation-z4","p-1","pl-3","pr-3","mt-n1","fadeInLeft"],[1,"miglior-prezzo","mat-elevation-z4","p-1","pl-3","pr-3","fadeInLeft",3,"ngClass"],["mat-icon-button","",1,"align-middle","ml-n2","mr-2",3,"ngClass","disabled"],[1,"material-icons-round","info-icon"],[1,"align-middle","ml-n2","tariffa-descrizione","text-wrap",3,"ngClass"],["class","mt-3 tariffa-descrizionePomozione text-wrap",3,"ngClass",4,"ngIf"],["class","mb-2 mt-2",4,"ngIf"],[1,"mt-3","tariffa-descrizionePomozione","text-wrap",3,"ngClass"],[3,"_text"],[1,"mb-2","mt-2"],["class","mr-1 align-middle d-inline-block","matTooltipPosition","below","matTooltipClass","booking-icona-servizio-tooltip-class",3,"matTooltip",4,"ngIf"],["matTooltipPosition","below","matTooltipClass","booking-icona-servizio-tooltip-class",1,"mr-1","align-middle","d-inline-block",3,"matTooltip"],["class","servizioIcon immagine-servizio d-inline-block align-middle",3,"src",4,"ngIf"],[1,"servizioIcon","immagine-servizio","d-inline-block","align-middle",3,"src"],[1,"mb-0","pl-4","d-block","d-lg-none","text-smaller",3,"ngClass"],["class","mt-3 d-block d-lg-none text-wrap",3,"ngClass",4,"ngIf"],["class","dataCancellazioneGratuitaText",4,"ngIf"],[1,"dataCancellazioneGratuitaText"],[1,"mt-3","d-block","d-lg-none","text-wrap",3,"ngClass"],[1,"mt-3","testoTariffaNonPrenotabile"],[1,"mb-0","pl-4","text-smaller"],["class","mt-3 text-wrap",3,"ngClass",4,"ngIf"],[1,"mt-3","text-wrap",3,"ngClass"],[1,"col-6","d-flex","justify-content-center","align-items-center",3,"ngClass"],["class","text-nowrap prezzo-tariffa-container",4,"ngIf"],["class","mt-2 mb-3",3,"click",4,"ngIf"],[1,"text-nowrap","prezzo-tariffa-container"],[1,"prezzo-tariffa","align-middle","text-nowrap",3,"ngClass"],[1,"prezzo-sconto-tariffa","text-nowrap",3,"ngClass"],[1,"ml-1","sconto-tariffa","text-nowrap",3,"ngClass"],[1,"mt-2","mb-3",3,"click"],[1,"text-nowrap",3,"click"],["class","prezzoPer font-weight-bold color-blue mb-2",4,"ngIf"],["class","quantity-select mt-1 mr-2",4,"ngIf"],[1,"prezzoPer","font-weight-bold","color-blue","mb-2"],[1,"d-inline-block","align-middle","mr-1"],[1,"material-icons-round","adult-icon","align-bottom"],[1,"material-icons-round","child-icon","align-bottom"],[1,"quantity-select","mt-1","mr-2"],[3,"panelClass","value","disabled","selectionChange"],["quantitySelect",""],[3,"value","disabled","ngClass",4,"ngFor","ngForOf"],[3,"value","disabled","ngClass"],["mat-flat-button","",1,"prenotaButton","mt-1","mw-100",3,"disabled","ngClass","click"],[1,"btn-label"],[1,"color-blue","text-center"],[1,"material-icons-round","align-middle","icon-small",3,"ngClass"],[1,"ml-1","align-middle",3,"ngClass"],["mat-flat-button","",1,"button-blue","mt-1","sbloccaButton","mw-100",3,"disabled","ngClass","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return e.onShowTariffeClick()}),t.TgZ(2,"div",2)(3,"div",3)(4,"app-image-slider",4),t.NdJ("onButtonsClick",function(){return e.onButtonsClick.emit()}),t.qZA()()(),t.TgZ(5,"div"),t.YNc(6,Hi,3,2,"div",5),t.YNc(7,Xi,3,2,"div",6),t.TgZ(8,"span",7),t._uU(9),t.qZA(),t.YNc(10,$i,3,4,"div",8),t.YNc(11,Wi,3,5,"div",9),t.YNc(12,ia,2,4,"div",10),t.YNc(13,sa,5,7,"div",11),t.qZA(),t.TgZ(14,"div",12),t.YNc(15,ua,5,7,"div",13),t.qZA(),t.TgZ(16,"div")(17,"div",14)(18,"div",15)(19,"div",16),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.YNc(22,xa,3,2,"ng-container",6),t.YNc(23,ba,2,0,"div",17),t.qZA(),t.TgZ(24,"div",18)(25,"button",19),t.YNc(26,va,6,3,"ng-container",6),t.YNc(27,Ca,6,3,"ng-container",6),t.qZA()()(),t.YNc(28,za,8,6,"div",20),t.qZA()(),t.TgZ(29,"mat-expansion-panel",21,22),t.NdJ("afterExpand",function(){return e.afterExpand()})("afterCollapse",function(){return e.afterCollapse()}),t.YNc(31,br,3,1,"div",23),t.qZA()()),2&n&&(t.Q6J("ngClass",t.VKq(35,vr,e.disponibili<=0)),t.xp6(3),t.Udp("height","330px"),t.xp6(1),t.Q6J("images",e.immagini)("showButtons",!0)("autoSlide",!1)("minimumHeight",330)("maximumHeight",330),t.xp6(1),t.Tol("pl-4 pr-4 pt-2 pb-3 "+(e.wideScreen?"col-7 col-lg-4":"col-12 col-lg-5")),t.xp6(1),t.Q6J("ngIf",e.room.disponibili<=1&&1==e.roomsNumber||e.offersAvailable),t.xp6(1),t.Q6J("ngIf",e.isPaxStep1Visualizzate&&null!=e.persone&&e.persone.length>0||!!e.room.dimensione),t.xp6(1),t.Q6J("ngClass",t.VKq(37,O,e.disponibili<=0)),t.xp6(1),t.Oqu(e.room.nome),t.xp6(1),t.Q6J("ngIf",(!e.dayUse||!e.room.isIllimitata)&&e.isCamereLibereStep1Visualizzate&&e.room.disponibili>1),t.xp6(1),t.Q6J("ngIf",!!e.room.descrizione),t.xp6(1),t.Q6J("ngIf",null!=e.room.sistemazioni&&e.room.sistemazioni.length>0),t.xp6(1),t.Q6J("ngIf",null!=e.room.servizi&&e.room.servizi.length>0),t.xp6(2),t.Q6J("ngIf",null!=e.room.servizi&&e.room.servizi.length>0),t.xp6(1),t.Tol("text-center pl-4 pr-4 prezzo-col pb-3 pt-0 pt-lg-4 "+(e.wideScreen?"col-5":"col-12 col-lg-4")),t.xp6(2),t.Q6J("ngClass",t.VKq(39,$n,!e.wideScreen)),t.xp6(1),t.Q6J("ngClass",t.VKq(41,O,e.disponibili<=0)),t.xp6(1),t.Oqu(t.lcZ(21,33,"booking.prezzoMinimo")),t.xp6(2),t.Q6J("ngIf",e.disponibili>0&&e.prezzo>0),t.xp6(1),t.Q6J("ngIf",e.disponibili<=0||e.prezzo<=0),t.xp6(1),t.Q6J("ngClass",t.VKq(43,$n,!e.wideScreen)),t.xp6(1),t.Q6J("ngClass",t.WLB(45,Cr,!e.showTariffe,e.showTariffe))("disabled",e.disponibili<=0||null==e.room.tariffe||e.room.tariffe.length<=0),t.xp6(1),t.Q6J("ngIf",e.showTariffe),t.xp6(1),t.Q6J("ngIf",!e.showTariffe),t.xp6(1),t.Q6J("ngIf",!!e.room.roomUpgradeId),t.xp6(3),t.Q6J("ngIf",null!=e.room.tariffe&&e.showTariffe))},dependencies:[s.mk,s.sg,s.O5,C.eB,M.v_,F.CK,U.x8,U.Cb,W.ib,$.Kd,H.V,Z.W,s.JJ,s.uU,Kn.A,b.X$],styles:['.tariffa-row[_ngcontent-%COMP%]{background-color:#fff;border-bottom:2px solid #E5E5E5;cursor:pointer;transition:background-color .4s ease-out!important}.tariffa-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;transition:background-color .4s ease-out!important}.tariffa-row[_ngcontent-%COMP%]:hover   .prezzo-tariffa[_ngcontent-%COMP%]{font-size:30px;transition:font-size .3s ease-out!important}.tariffa-row[_ngcontent-%COMP%]:hover   .prezzo-tariffa-container[_ngcontent-%COMP%]{margin-bottom:-.5rem;transition:margin-bottom .3s ease-out!important}.tariffa-row[_ngcontent-%COMP%]:hover   .cancellazione-col[_ngcontent-%COMP%]{background-color:#f0f0f0;transition:background-color .4s ease-out!important}.room-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;cursor:pointer;overflow:hidden;box-shadow:none;transition:box-shadow .4s ease-out!important}.room-container-disabled[_ngcontent-%COMP%]{border-radius:5px;background-color:#f1f1f1!important;cursor:default!important}.room-container[_ngcontent-%COMP%]:hover{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;transition:box-shadow .4s ease-out!important}.prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:#004987;text-decoration-color:#004987;font-size:18px;font-weight:600;color:#999}.prezzo-sconto-tariffa[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:#004987;text-decoration-color:#004987;font-size:18px;font-weight:600;color:#999;transition:font-size .3s ease-out!important}.prezzo[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#004987}.prezzo-tariffa[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:#004987;transition:font-size .3s ease-out!important}.prezzo-tariffa-container[_ngcontent-%COMP%]{margin-bottom:0;transition:margin-bottom .3s ease-out!important}.sconto[_ngcontent-%COMP%]{font-size:15px;color:#004987;font-weight:600}.sconto-tariffa[_ngcontent-%COMP%]{font-size:15px;color:#004987;font-weight:600;transition:font-size .3s ease-out!important}.prezzo-minimo[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#000000de}.tariffe-container[_ngcontent-%COMP%]{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.inset-shadow[_ngcontent-%COMP%]{box-shadow:inset 0 10px 10px -10px #0006}.tariffe-container[_ngcontent-%COMP%]   .tariffa-row[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-bottom:none}.cancellazione-col[_ngcontent-%COMP%]{background-color:#f5f5f5;transition:background-color .4s ease-out!important}.best-price[_ngcontent-%COMP%]{background-color:#f0ffe9}.best-price[_ngcontent-%COMP%]   .prezzo-tariffa[_ngcontent-%COMP%]{color:#1b8f57}.best-price[_ngcontent-%COMP%]   .prenotaButton[_ngcontent-%COMP%]:enabled{background-image:linear-gradient(to right,#1B8F57,#82BF41)!important;border-image:linear-gradient(to right,#1B8F57,#82BF41)!important;border-image-width:2px 0 2px 0!important;border-left:none!important;border-right:none!important}.best-price[_ngcontent-%COMP%]   .cancellazione-col[_ngcontent-%COMP%]{background-color:#dff7d5!important;transition:background-color .4s ease-out!important}.best-price.tariffa-row[_ngcontent-%COMP%]:hover{background-color:#dff7d5!important}.best-price.tariffa-row[_ngcontent-%COMP%]:hover   .cancellazione-col[_ngcontent-%COMP%]{background-color:#cff5bf!important;transition:background-color .4s ease-out!important}.tariffa-descrizione[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#000}.tariffa-descrizionePomozione[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#004987}.persona-icon[_ngcontent-%COMP%]{color:#666;font-size:18px}.room-nome[_ngcontent-%COMP%]{font-size:22px;font-weight:600}.disabled-option[_ngcontent-%COMP%]{background:rgba(220,53,34,.1)!important}.quantity-select[_ngcontent-%COMP%]{width:40px!important}  .quantity-select .mat-form-field-infix{border-top:0!important}  .quantity-select .mat-form-field-flex{border:1px solid #bbbbbb!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important}  .quantity-select .mat-form-field-underline{visibility:hidden!important}  .quantity-select .mat-form-field-wrapper{padding-bottom:0!important}.room-descrizione[_ngcontent-%COMP%]{font-size:14px;color:#000}.color-red[_ngcontent-%COMP%]{color:#d9534f}.text-small[_ngcontent-%COMP%]{font-size:15px}.text-smaller[_ngcontent-%COMP%]{font-size:14px}.background-grey[_ngcontent-%COMP%]{background-color:#f2f2f2}.icon-small[_ngcontent-%COMP%]{font-size:16px}.info-button[_ngcontent-%COMP%], .info-button-best-price[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}.info-icon[_ngcontent-%COMP%]{font-size:20px;line-height:20px}.info-button[_ngcontent-%COMP%]:enabled{color:#004987!important;transition:all .5s ease-out!important}.info-button[_ngcontent-%COMP%]:hover:enabled{color:#006dc9!important;transition:all .5s ease-out!important}.info-button-best-price[_ngcontent-%COMP%]:enabled{color:#1b8f57!important;transition:all .5s ease-out!important}.info-button-best-price[_ngcontent-%COMP%]:hover:enabled{color:#82bf41!important;transition:all .5s ease-out!important}.dimensione[_ngcontent-%COMP%]{position:relative;background-color:#fff;border:1px solid #B2B2B2;color:#666;font-size:13px}.dimensione[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-1px;left:-1px;border:1px solid white;height:calc(100% + 2px);width:calc(100% + 2px);border-radius:8px}.dimensione-not-available[_ngcontent-%COMP%]{position:relative;background-color:#f1f1f1;border:1px solid #B2B2B2;color:#666;font-size:13px}.dimensione-not-available[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-1px;left:-1px;border:1px solid #F1F1F1;height:calc(100% + 2px);width:calc(100% + 2px);border-radius:8px}.nonPrenotabile[_ngcontent-%COMP%]{border-radius:5px;background-color:#d9534f;color:#fff;margin-left:-23px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:table;font-size:13px!important;line-height:13px!important}.nonPrenotabile[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:13px!important;line-height:13px!important}.offerta[_ngcontent-%COMP%]{border-radius:5px;background-image:linear-gradient(to right,#13437D,#38A2D8);color:#fff;margin-left:-23px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:table;font-size:13px!important;line-height:13px!important}.miglior-prezzo[_ngcontent-%COMP%]{border-radius:5px;background-image:linear-gradient(to right,#1B8F57,#82BF41);color:#fff;margin-left:-23px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:table;font-size:13px!important;line-height:13px!important}.offerta[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%], .miglior-prezzo[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:13px!important;line-height:13px!important}.sistemazione[_ngcontent-%COMP%]{font-size:smaller;font-style:italic}.camereDisponibili[_ngcontent-%COMP%]{font-size:smaller}@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate3d(-100%,0,0)}to{opacity:1;transform:none}}.fadeInLeft[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInLeft;animation-delay:.3s;animation-duration:1s;animation-fill-mode:both;animation-timing-function:cubic-bezier(.075,.82,.165,1)}.sbloccaButton[_ngcontent-%COMP%]{width:150px;color:#fff!important}.prenotaButton[_ngcontent-%COMP%]{width:150px;overflow:hidden;padding:0!important}.multiple-rooms-button[_ngcontent-%COMP%]{width:100px!important}.prenotaButton[_ngcontent-%COMP%]:enabled{background:#004987;border:2px solid #004987;transition:all .5s;border-radius:7px}.prenotaButton[_ngcontent-%COMP%]:enabled:hover, .prenotaButton[_ngcontent-%COMP%]:enabled:active{color:#fff;border-color:#006dc9;background:#006DC9}.btn-label[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-right:0;transition:padding-right .5s;color:#fff}.btn-label[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-50px;opacity:0;top:33%;width:10px;height:10px;margin-right:-15px;background:rgba(0,0,0,0);border:3px solid #fff;border-top:none;border-right:none;transition:opacity .5s,top .5s,right .5s;transform:rotate(225deg)}.prenotaButton[_ngcontent-%COMP%]:enabled:hover   .btn-label[_ngcontent-%COMP%], .prenotaButton[_ngcontent-%COMP%]:enabled:active   .btn-label[_ngcontent-%COMP%]{padding-right:15px;color:#f5f1e7}.prenotaButton[_ngcontent-%COMP%]:enabled:hover   .btn-label[_ngcontent-%COMP%]:after, .prenotaButton[_ngcontent-%COMP%]:enabled:active   .btn-label[_ngcontent-%COMP%]:after{transition:opacity .5s,top .5s,right .5s;opacity:1;right:10px;top:33%}.servizi-col[_ngcontent-%COMP%]{background-color:#f5f5f5}  .booking-tariffe-panel{box-shadow:none!important;border-radius:0!important;background-color:transparent!important;overflow:visible!important}  .booking-tariffe-panel .mat-expansion-panel-content{font:inherit!important}  .booking-tariffe-panel .mat-expansion-panel-body{padding:0!important}.color-grey[_ngcontent-%COMP%]{color:gray!important;-webkit-text-decoration-color:#808080!important;text-decoration-color:gray!important}.servizio[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:stretch;white-space:nowrap;color:#004987;font-size:14px}.servizioIcon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;width:25px;text-align:center}.servizioText[_ngcontent-%COMP%]{align-self:flex-start;white-space:normal}.dataCancellazioneGratuitaText[_ngcontent-%COMP%]{font-weight:700}  .booking-icona-servizio-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#fff!important;color:#004987!important;opacity:1!important;font-weight:600!important;font-size:12px!important}.testoTariffaNonPrenotabile[_ngcontent-%COMP%]{font-size:13px;color:#d9534f;font-weight:600}.showTariffeButton[_ngcontent-%COMP%]{width:160px}.text-ultimaCamera[_ngcontent-%COMP%]{color:#fff;padding:2px 10px;background-image:linear-gradient(90deg,#f92121,#fc4c4c);margin-bottom:.5rem;border-radius:5px}.room-upgrade[_ngcontent-%COMP%]{color:#fff;padding:2px 10px;background-image:linear-gradient(90deg,#e9a30c,#fcc44c);margin-bottom:.5rem;border-radius:5px}.text-upgrade[_ngcontent-%COMP%]{font-size:smaller;font-style:italic}.text-offerteDisponibili[_ngcontent-%COMP%]{color:#fff;padding:2px 10px;background-image:linear-gradient(90deg,#1b8f57,#82bf41);margin-bottom:.5rem;border-radius:5px}.adult-icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:1px}.child-icon[_ngcontent-%COMP%]{font-size:14px;margin-bottom:2px}.prezzoPer[_ngcontent-%COMP%]{font-size:14px}']});var bt=d(56263),Jt=d(32549),Tn=d(27162),Qt=d(1477);function zr(o,n){if(1&o&&(t.TgZ(0,"h4",7),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.articolo.extra.nome)}}function wr(o,n){if(1&o&&(t.TgZ(0,"p"),t._UZ(1,"app-inner-html",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("_text",e.articolo.extra.descrizione)("block",!1)}}function Pr(o,n){if(1&o&&(t.TgZ(0,"div",16)(1,"div",11),t._uU(2),t.ALo(3,"titlecase"),t.ALo(4,"momentFormat"),t.qZA(),t.TgZ(5,"div",12),t._uU(6),t.qZA(),t.TgZ(7,"div",12),t._uU(8),t.qZA(),t.TgZ(9,"div",13),t._uU(10),t.ALo(11,"eurCurrency"),t.qZA()()),2&o){const e=n.$implicit,i=t.oxw().$implicit,a=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,4,t.Dn7(4,6,i.data,"dddd DD MMM YYYY",a.getLocale()))," "),t.xp6(4),t.hij(" ",e.indiceComponente>0?e.indiceComponente:"-"," "),t.xp6(2),t.hij(" ",e.quantita," "),t.xp6(2),t.hij(" ",t.Dn7(11,10,e.prezzo,null,a.valuta)," ")}}function Tr(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Pr,12,14,"div",15),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngForOf",e.dettagli)}}function Mr(o,n){if(1&o&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",12),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",12),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",13),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.YNc(14,Tr,2,1,"ng-container",14),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,5,"globals.data")," "),t.xp6(3),t.hij(" ",t.lcZ(7,7,"booking.componente")," "),t.xp6(3),t.hij(" ",t.lcZ(10,9,"globals.quantita")," "),t.xp6(3),t.hij(" ",t.lcZ(13,11,"globals.totale")," "),t.xp6(2),t.Q6J("ngForOf",e.giorni)}}const yr=function(o){return[o]};class Ut extends z.H{constructor(){super(),this.giorni=[]}ngOnInit(){for(let n of this.articolo.extra.giorni.filter(e=>e.selected)){let e=new p.yI$;if(e.data=n.data,e.dettagli=[],this.articolo.extra.tipo==m.E9.Persona&&null!=this.numeroPax)for(let i=0;i<this.articolo.quantita;i++){let a=i%this.numeroPax,r=e.dettagli[a];null==r&&(r=new p.pyF,r.indiceComponente=a+1,r.quantita=0,e.dettagli.push(r)),r.quantita++,r.prezzo=(n.prezzoScontato>0?n.prezzoScontato:n.prezzo)*r.quantita}else{let i=new p.pyF;i.quantita=this.articolo.quantita,i.prezzo=(n.prezzoScontato>0?n.prezzoScontato:n.prezzo)*i.quantita,e.dettagli.push(i)}this.giorni.push(e)}}}Ut.\u0275fac=function(n){return new(n||Ut)},Ut.\u0275cmp=t.Xpm({type:Ut,selectors:[["app-articolo-dialog"]],inputs:{numeroPax:"numeroPax",articolo:"articolo",valuta:"valuta"},features:[t.qOj],decls:8,vars:10,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[3,"images","minimumHeight","maximumHeight","gallery"],[1,"pt-3","pb-3","pr-4","pl-4"],["class","color-blue",4,"ngIf"],[4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"color-blue"],[3,"_text","block"],[1,"mt-3"],[1,"row","mb-1","font-weight-bold","color-blue"],[1,"col-3"],[1,"col-3","text-center"],[1,"col-3","text-right"],[4,"ngFor","ngForOf"],["class","row text-small",4,"ngFor","ngForOf"],[1,"row","text-small"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t._UZ(3,"app-image-slider",2),t.TgZ(4,"div",3),t.YNc(5,zr,2,1,"h4",4),t.YNc(6,wr,2,2,"p",5),t.YNc(7,Mr,15,13,"div",6),t.qZA()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(3),t.Q6J("images",t.VKq(8,yr,e.articolo.extra.urlImmagine))("minimumHeight",350)("maximumHeight",350)("gallery",!1),t.xp6(2),t.Q6J("ngIf",!!e.articolo.extra.nome),t.xp6(1),t.Q6J("ngIf",!!e.articolo.extra.descrizione),t.xp6(1),t.Q6J("ngIf",e.giorni.length>0))},dependencies:[s.sg,s.O5,C.eB,G.aO,H.V,Z.W,s.rS,Qt.f,B.H,b.X$],styles:[".text-small[_ngcontent-%COMP%]{font-size:14px}"]});class Nt{constructor(){}}function Zr(o,n){if(1&o&&(t.TgZ(0,"div",5),t._UZ(1,"app-inner-html",6),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("_text",e.descrizione)}}function kr(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Zr,2,1,"div",4),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.cancellazioni)}}Nt.\u0275fac=function(n){return new(n||Nt)},Nt.\u0275cmp=t.Xpm({type:Nt,selectors:[["app-condizioni-prenotazione-dialog"]],inputs:{condizioniPrenotazione:"condizioniPrenotazione"},decls:7,vars:5,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[3,"_text"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"h5",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"app-inner-html",3)),2&n&&(t.Q6J("disableRipple",!0),t.xp6(4),t.Oqu(t.lcZ(5,3,"booking.condizioniPrenotazione")),t.xp6(2),t.Q6J("_text",e.condizioniPrenotazione))},dependencies:[C.eB,G.aO,Z.W,b.X$]});class se{constructor(){}}function Ar(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",12)(2,"div",13)(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",13)(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",13)(11,"span",14),t._uU(12," nights_stay "),t.qZA()(),t.TgZ(13,"div",13)(14,"span",14),t._uU(15," person "),t.qZA()()(),t.TgZ(16,"div",15)(17,"div",13)(18,"span"),t._uU(19),t.ALo(20,"titlecase"),t.ALo(21,"momentFormat"),t.qZA()(),t.TgZ(22,"div",13)(23,"span"),t._uU(24),t.ALo(25,"titlecase"),t.ALo(26,"momentFormat"),t.qZA()()(),t.TgZ(27,"div",16)(28,"div",13)(29,"span"),t._uU(30),t.ALo(31,"titlecase"),t.ALo(32,"momentFormat"),t.qZA()(),t.TgZ(33,"div",13)(34,"span"),t._uU(35),t.ALo(36,"titlecase"),t.ALo(37,"momentFormat"),t.qZA()(),t.TgZ(38,"div",13)(39,"span"),t._uU(40),t.qZA()(),t.TgZ(41,"div",13)(42,"span"),t._uU(43),t.qZA()()(),t.TgZ(44,"div",17)(45,"div",13)(46,"span"),t._uU(47),t.ALo(48,"titlecase"),t.ALo(49,"momentFormat"),t.qZA()(),t.TgZ(50,"div",13)(51,"span"),t._uU(52),t.ALo(53,"titlecase"),t.ALo(54,"momentFormat"),t.qZA()()(),t.BQk()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,10,"booking.arrivo")),t.xp6(4),t.Oqu(t.lcZ(9,12,"booking.partenza")),t.xp6(11),t.Oqu(t.lcZ(20,14,t.Dn7(21,16,e.from,"dddd",e.getLocale()))),t.xp6(5),t.Oqu(t.lcZ(25,20,t.Dn7(26,22,e.to,"dddd",e.getLocale()))),t.xp6(6),t.Oqu(t.lcZ(31,26,t.Dn7(32,28,e.from,"D MMM",e.getLocale()))),t.xp6(5),t.Oqu(t.lcZ(36,32,t.Dn7(37,34,e.to,"D MMM",e.getLocale()))),t.xp6(5),t.Oqu(e.nights),t.xp6(3),t.Oqu(e.numeroPax),t.xp6(4),t.Oqu(t.lcZ(48,38,t.Dn7(49,40,e.from,"YYYY",e.getLocale()))),t.xp6(5),t.Oqu(t.lcZ(53,44,t.Dn7(54,46,e.to,"YYYY",e.getLocale())))}}function Sr(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",12)(2,"div",18)(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",18)(7,"span",14),t._uU(8," person "),t.qZA()()(),t.TgZ(9,"div",15)(10,"div",18)(11,"span"),t._uU(12),t.ALo(13,"titlecase"),t.ALo(14,"momentFormat"),t.qZA()()(),t.TgZ(15,"div",16)(16,"div",18)(17,"span"),t._uU(18),t.ALo(19,"titlecase"),t.ALo(20,"momentFormat"),t.qZA()(),t.TgZ(21,"div",18)(22,"span"),t._uU(23),t.qZA()()(),t.TgZ(24,"div",17)(25,"div",18)(26,"span"),t._uU(27),t.ALo(28,"titlecase"),t.ALo(29,"momentFormat"),t.qZA()()(),t.BQk()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"booking.arrivo")),t.xp6(8),t.Oqu(t.lcZ(13,7,t.Dn7(14,9,e.from,"dddd",e.getLocale()))),t.xp6(6),t.Oqu(t.lcZ(19,13,t.Dn7(20,15,e.from,"D MMM",e.getLocale()))),t.xp6(5),t.Oqu(e.numeroPax),t.xp6(4),t.Oqu(t.lcZ(28,19,t.Dn7(29,21,e.from,"YYYY",e.getLocale())))}}function Or(o,n){if(1&o&&(t.TgZ(0,"span",23),t._uU(1),t.TgZ(2,"small",10),t._uU(3),t.qZA()()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Oqu(i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.tariffa.prezzoScontato)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.tariffa.prezzoScontato))}}function Ir(o,n){if(1&o&&(t.TgZ(0,"span",30),t._uU(1),t.TgZ(2,"small",10),t._uU(3),t.qZA()()),2&o){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.Oqu(i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.extra.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.extra.totale))}}function qr(o,n){1&o&&(t.TgZ(0,"span",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.extraCompreso")))}function Jr(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(3);return a.quantita=0,t.KtG(r.onChange.emit())}),t.TgZ(2,"i",27),t._uU(3),t.qZA()(),t.TgZ(4,"a",28),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw(2).$implicit,c=t.oxw();return a.preventDefault(),t.KtG(c.openArticoloDetails(r,l.pax.getNumeroPax()))}),t._uU(5),t.qZA(),t.YNc(6,Ir,4,2,"span",29),t.YNc(7,qr,3,3,"span",29),t.BQk()}if(2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("disabled",e.extra.isExtraAutomatico||i.disabled),t.xp6(2),t.Oqu(e.extra.isExtraAutomatico?"play_arrow":"clear"),t.xp6(2),t.Oqu(e.quantita+"x "+e.extra.nome),t.xp6(1),t.Q6J("ngIf",!e.extra.isExtraIncluso),t.xp6(1),t.Q6J("ngIf",e.extra.isExtraIncluso)}}function Qr(o,n){if(1&o&&(t.TgZ(0,"div",25),t.YNc(1,Jr,8,5,"ng-container",3),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",e.quantita>0)}}function Ur(o,n){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Qr,2,1,"div",24),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.extras)}}se.\u0275fac=function(n){return new(n||se)},se.\u0275cmp=t.Xpm({type:se,selectors:[["app-politica-cancellazione-dialog"]],inputs:{cancellazioni:"cancellazioni"},decls:7,vars:5,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[4,"ngIf"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[3,"_text"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"h5",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,kr,2,1,"ng-container",3)),2&n&&(t.Q6J("disableRipple",!0),t.xp6(4),t.Oqu(t.lcZ(5,3,"booking.politicaCancellazione")),t.xp6(2),t.Q6J("ngIf",null!=e.cancellazioni))},dependencies:[s.sg,s.O5,C.eB,G.aO,Z.W,b.X$]});const Nr=function(o,n){return{prezzo:o,"prezzo-sconto":n}};function Er(o,n){if(1&o&&(t.TgZ(0,"div",19)(1,"div",7)(2,"span",20),t._uU(3),t.qZA(),t.TgZ(4,"span",9),t._uU(5),t.TgZ(6,"small",10),t._uU(7),t.qZA()()(),t.TgZ(8,"div",7)(9,"span",21),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.YNc(12,Or,4,2,"span",22),t.qZA(),t.YNc(13,Ur,2,1,"div",3),t.qZA()),2&o){const e=n.$implicit,i=t.oxw();t.xp6(3),t.Oqu(e.tipoCamera.nome),t.xp6(1),t.Q6J("ngClass",t.WLB(9,Nr,e.tariffa.prezzoScontato<=0,e.tariffa.prezzoScontato>0)),t.xp6(1),t.Oqu(i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.tariffa.prezzo)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.tariffa.prezzo)),t.xp6(3),t.Oqu(e.tariffa.descrizione+(e.tariffa.codicePromozione?" - "+t.lcZ(11,7,"booking.codicePromozionale")+" "+e.tariffa.codicePromozione:"")),t.xp6(2),t.Q6J("ngIf",e.tariffa.prezzoScontato>0),t.xp6(1),t.Q6J("ngIf",null!=e.extras&&e.extras.length>0)}}function Dr(o,n){if(1&o&&(t.TgZ(0,"div",31)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"small",10),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.totaleScontato)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.totaleScontato))}}const Lr=function(o){return{"mb-3":o}};function Br(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",39)(1,"a",40),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(2);return a.preventDefault(),t.KtG(r.visualizzaCondizioniPrenotazione())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Lr,null==e.cancellazioni||0==e.cancellazioni.length)),t.xp6(2),t.hij(" ",t.lcZ(3,2,"booking.condizioniPrenotazione")," ")}}function Vr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",41)(1,"a",42),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(2);return a.preventDefault(),t.KtG(r.visualizzaPoliticheCancellazione())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.politicaCancellazione")))}function Yr(o,n){if(1&o&&(t.TgZ(0,"div",45)(1,"div",46)(2,"span",47),t._uU(3,"check"),t.qZA(),t.TgZ(4,"span",48),t._uU(5),t.qZA()()()),2&o){const e=n.$implicit;t.xp6(5),t.Oqu(e)}}function Fr(o,n){if(1&o&&(t.TgZ(0,"div",43),t.YNc(1,Yr,6,1,"div",44),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.bulletPoints)}}function Hr(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",49)(1,"button",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.continue.emit())}),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",14),t._uU(6,"keyboard_arrow_right"),t.qZA()()()}2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"booking.continua")))}const Rr=function(o){return{"col-12 pr-3":o}};function Gr(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,Br,4,6,"div",32),t.YNc(2,Vr,4,3,"div",33),t.YNc(3,Fr,2,1,"div",34),t.TgZ(4,"div",35)(5,"div",36)(6,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back.emit())}),t.TgZ(7,"span",14),t._uU(8,"keyboard_arrow_left"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.YNc(12,Hr,7,3,"div",38),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!!e.condizioniPrenotazione),t.xp6(1),t.Q6J("ngIf",null!=e.cancellazioni&&e.cancellazioni.length>0),t.xp6(1),t.Q6J("ngIf",null!=e.bulletPoints&&e.bulletPoints.length>0),t.xp6(2),t.Q6J("ngClass",t.VKq(9,Rr,!e.continuaButtonVisible)),t.xp6(1),t.Q6J("disabled",e.disabled),t.xp6(4),t.Oqu(t.lcZ(11,7,"booking.indietro")),t.xp6(2),t.Q6J("ngIf",e.continuaButtonVisible)}}const Kr=function(o,n){return{"prezzo prezzo-totale":o,"prezzo-sconto":n}};class vt extends z.H{set prenotazioneDetails(n){if(null!=n&&null!=n.camerePax&&null!=n.extraSelected&&null!=n.tariffeTipiCamera&&null!=n.sistemazioni){this._prenotazioneDetails=n;let e=0;for(let i of n.tariffeTipiCamera)for(let a=0;a<i.quantity;a++)e++;if(n.camerePax.length==e&&(n.extraSelected.length==e||0==n.extraSelected.length)&&n.sistemazioni.length==e){let i=this.rooms;this.rooms=[],this.totale=0,this.totaleScontato=0;for(let l of n.tariffeTipiCamera)if(null!=l.tariffa){let c=l.tariffa.prezzo*l.quantity;this.totale+=c,l.tariffa.prezzoScontato>0?this.totaleScontato+=l.tariffa.prezzoScontato*l.quantity:this.totaleScontato+=c}this.totaleScontato==this.totale&&(this.totaleScontato=0);let a=0;for(let l of n.tariffeTipiCamera)for(let c=0;c<l.quantity;c++){let g=new p.G5F;if(g.tariffa=l.tariffa,g.tipoCamera=l.tipoCamera,g.oidSistemazione=n.sistemazioni[a],g.pax=n.camerePax[a],i.length>a&&null!=i[a].cliente?g.cliente=i[a].cliente:g.cliente=new p.oHO,g.extras=[],null!=n.extraSelected[a])for(let _ of n.extraSelected[a])if(null!=_.extras)for(let u of _.extras)null!=u.extra.giorni&&u.extra.giorni.length>0?u.extra.totale=u.extra.giorni.filter(h=>h.selected).reduce((h,x)=>h+x.prezzo,0):u.extra.totale=u.extra.prezzo*(null!=this.nights?this.nights:n.notti),u.extra.totale*=u.quantita,g.extras.push(u),this.totale+=u.extra.totale,this.totaleScontato&&(this.totaleScontato+=u.extra.totale);if(null!=l.tariffa.extras)for(let _ of l.tariffa.extras){let u=new p.bgL;u.quantita=_.quantita,u.extra=new p.RId,u.extra.extraId=_.extraId,u.extra.nome=_.nome,u.extra.urlImmagine=_.urlImmagine,u.extra.prezzo=_.prezzo,u.extra.modalitaCalcoloPrezzo=_.modalitaCalcoloPrezzo,u.extra.isExtraAutomatico=!0,u.extra.isExtraIncluso=_.isExtraIncluso,u.extra.giorni=_.giorni,u.extra.isPerPersona=_.isPerPersona,u.extra.indexComponente=_.indexComponente,u.extra.tipoProduzione=_.tipoProduzione,u.extra.tipo=m.E9.Camera,null!=_.giorni&&_.giorni.length>0?u.extra.totale=_.giorni.reduce((h,x)=>h+x.prezzo,0)*_.quantita:u.extra.totale=_.prezzo*_.quantita,g.extras.push(u),_.tipoDisponibilitaArticolo!=m.Bw.DisponibilePrezzoNonCompresoStep1&&_.modalitaCalcoloPrezzo!=m.kS.Tassa&&(this.totale+=u.extra.totale,this.totaleScontato&&(this.totaleScontato+=u.extra.totale))}this.rooms.push(g),a++}null!=n.scontoVoucher&&n.scontoVoucher>0&&(this.totale=Math.max(this.totale-n.scontoVoucher,0),this.totaleScontato&&(this.totaleScontato=Math.max(this.totaleScontato-n.scontoVoucher,0)));let r=new p.ws6;r.totale=this.totale,r.totaleScontato=this.totaleScontato,r.rooms=this.rooms,this.prenotazioneDetailsOutput.emit(r)}}}constructor(n,e){super(),this.containerService=n,this.utility=e,this.mobileSummary=!1,this.prenotazioneDetailsOutput=new t.vpe,this.back=new t.vpe,this.continue=new t.vpe,this.onChange=new t.vpe,this.rooms=[],this.totale=0,this.totaleScontato=0,this.enumTipoSupplemento=m.E9}visualizzaCondizioniPrenotazione(){let n=new p.Zpt;n.panelClass="booking-dialog",this.containerService.dimension.width>=992?(n.width="50vw",n.maxHeight="50vh"):n.width="80vw",this.showModalDialog(Nt,n).componentInstance.condizioniPrenotazione=this.condizioniPrenotazione}visualizzaPoliticheCancellazione(){let n=new p.Zpt;n.panelClass="booking-dialog",this.containerService.dimension.width>=992?(n.width="50vw",n.maxHeight="50vh"):n.width="80vw",this.showModalDialog(se,n).componentInstance.cancellazioni=this.cancellazioni}openArticoloDetails(n,e){let i=new p.Zpt;this.containerService.dimension.width>=992?i.width="50vw":i.width="80vw",i.panelClass="booking-dialog-no-padding";let r=this.showModalDialog(Ut,i).componentInstance;r.articolo=n,r.numeroPax=e,r.valuta=this.valuta}}vt.\u0275fac=function(n){return new(n||vt)(t.Y36(T.J),t.Y36(v.t))},vt.\u0275cmp=t.Xpm({type:vt,selectors:[["app-prenotazione-summary"]],inputs:{prenotazioneDetails:"prenotazioneDetails",condizioniPrenotazione:"condizioniPrenotazione",from:"from",to:"to",nights:"nights",numeroPax:"numeroPax",dayUse:"dayUse",mobileSummary:"mobileSummary",continuaButtonVisible:"continuaButtonVisible",disabled:"disabled",cancellazioni:"cancellazioni",bulletPoints:"bulletPoints",valuta:"valuta"},outputs:{prenotazioneDetailsOutput:"prenotazioneDetailsOutput",back:"back",continue:"continue",onChange:"onChange"},features:[t.qOj],decls:22,vars:20,consts:[[1,"prenotazione-details-container","border","mat-elevation-z5","p-3"],[1,"title","color-blue","mb-2","font-weight-bold"],[1,"mb-3","prenotazione-details-row","border-bottom","pb-2"],[4,"ngIf"],[1,"camere-selezionate","mb-2","color-blue"],["class","pb-1 pt-1",4,"ngFor","ngForOf"],[1,"mb-2","mt-2","border-top","pt-3"],[1,"clearfix"],[1,"totale"],[1,"float-right",3,"ngClass"],[1,"price-decimals"],["class","text-right w-100 prezzo prezzo-totale",4,"ngIf"],[1,"row","text-center","title-row"],[1,"col-3","pr-1","pl-1"],[1,"material-icons-round"],[1,"row","text-center","top-row"],[1,"row","text-center","number-row"],[1,"row","text-center","bottom-row"],[1,"col-6","pr-1","pl-1"],[1,"pb-1","pt-1"],[1,"tipoCamera"],[1,"tariffa"],["class","float-right prezzo",4,"ngIf"],[1,"float-right","prezzo"],["class","div-container-servizi-compresi",4,"ngFor","ngForOf"],[1,"div-container-servizi-compresi"],["mat-icon-button","",1,"remove-extra-button","mr-1",3,"disabled","click"],[1,"material-icons-round","remove-extra-icon"],["href","#",1,"extra",3,"click"],["class","float-right extra-prezzo",4,"ngIf"],[1,"float-right","extra-prezzo"],[1,"text-right","w-100","prezzo","prezzo-totale"],["class","mb-1",3,"ngClass",4,"ngIf"],["class","mb-3",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"row"],[1,"col-6","pr-1",3,"ngClass"],["mat-flat-button","",1,"w-100","button-blue-indietro",3,"disabled","click"],["class","col-6 pl-1",4,"ngIf"],[1,"mb-1",3,"ngClass"],["href","#",1,"condizioniPrenotazioneLink",3,"click"],[1,"mb-3"],["href","#",1,"politicaCancellazioneLink",3,"click"],[1,"mb-4"],["class","vantaggiPrenotazione",4,"ngFor","ngForOf"],[1,"vantaggiPrenotazione"],[1,"bulletPoint"],[1,"material-icons-round","icon-small","mr-1","mt-1","bulletPointIcon"],[1,"bulletPointText"],[1,"col-6","pl-1"],["mat-flat-button","",1,"w-100","button-blue",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,Ar,55,50,"ng-container",3),t.YNc(6,Sr,30,25,"ng-container",3),t.qZA(),t.TgZ(7,"div",4),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,Er,14,12,"div",5),t.TgZ(11,"div",6)(12,"div",7)(13,"span",8),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"span",9),t._uU(17),t.TgZ(18,"small",10),t._uU(19),t.qZA()()(),t.YNc(20,Dr,5,2,"div",11),t.qZA(),t.YNc(21,Gr,13,11,"ng-container",3),t.qZA()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,11,"booking.riepilogoPrenotazione")," "),t.xp6(3),t.Q6J("ngIf",!e.dayUse),t.xp6(1),t.Q6J("ngIf",e.dayUse),t.xp6(2),t.Oqu(t.lcZ(9,13,"booking.camereSelezionate")),t.xp6(2),t.Q6J("ngForOf",e.rooms),t.xp6(4),t.Oqu(t.lcZ(15,15,"booking.totale")),t.xp6(2),t.Q6J("ngClass",t.WLB(17,Kr,!e.totaleScontato,!!e.totaleScontato)),t.xp6(1),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.totale)),t.xp6(1),t.Q6J("ngIf",!!e.totaleScontato),t.xp6(1),t.Q6J("ngIf",!e.mobileSummary))},dependencies:[s.mk,s.sg,s.O5,C.eB,s.rS,B.H,b.X$],styles:[".prenotazione-details-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.number-row[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.title-row[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#004987}.top-row[_ngcontent-%COMP%], .bottom-row[_ngcontent-%COMP%]{font-size:14px}.prenotazione-details-row[_ngcontent-%COMP%]{color:#000000de}.prezzo[_ngcontent-%COMP%]{color:#004987;font-weight:600}.prezzo-totale[_ngcontent-%COMP%]{font-size:22px}.prezzo-sconto[_ngcontent-%COMP%]{color:#aaabad;text-decoration:line-through}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #cccccc}.border-top[_ngcontent-%COMP%]{border-top:1px solid #cccccc}.tariffa[_ngcontent-%COMP%]{font-size:13px;color:#999}.extra[_ngcontent-%COMP%]{font-size:13px;color:#aaa}.extra-prezzo[_ngcontent-%COMP%]{font-size:14px;color:#666}.tipoCamera[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.totale[_ngcontent-%COMP%], .camere-selezionate[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#555}.condizioniPrenotazioneLink[_ngcontent-%COMP%], .politicaCancellazioneLink[_ngcontent-%COMP%]{font-weight:600;color:#555}.vantaggiPrenotazione[_ngcontent-%COMP%]{font-weight:600;color:#00b572}.icon-small[_ngcontent-%COMP%]{font-size:18px}.remove-extra-button[_ngcontent-%COMP%]{color:#d9534f;line-height:18px;width:18px;height:18px}.remove-extra-icon[_ngcontent-%COMP%]{font-size:18px;line-height:18px}.bulletPoint[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:stretch}.bulletPointIcon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start}.bulletPointText[_ngcontent-%COMP%]{align-self:flex-start}.title[_ngcontent-%COMP%]{font-size:22px}"]});const jr=["container"];function Xr(o,n){1&o&&(t.TgZ(0,"h5",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"interfaces.pagamento-form.nessunaModalitaPagamento")))}function $r(o,n){1&o&&(t.TgZ(0,"h3",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.inserisciDatiCliente")," "))}function Wr(o,n){if(1&o&&t._UZ(0,"google-signin-button",45),2&o){const e=t.oxw(3);t.Q6J("locale",e.lingua)}}function tl(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.login())}),t.TgZ(1,"span",47),t._uU(2,"person"),t.qZA(),t.TgZ(3,"span",39),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"booking.possiedoAccount")))}function el(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",48)(1,"button",49),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.login())}),t.TgZ(2,"span",47),t._uU(3,"person"),t.qZA(),t.TgZ(4,"span",39),t._uU(5),t.ALo(6,"translate"),t.qZA()()()}2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"booking.possiedoAccount")))}function nl(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",36)(2,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.signInWithFB())}),t._UZ(3,"i",38),t.TgZ(4,"span",39),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",40)(8,"div",41),t.YNc(9,Wr,1,1,"google-signin-button",42),t.qZA(),t.YNc(10,tl,6,3,"button",43),t.qZA(),t.YNc(11,el,7,3,"div",44),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,4,"booking.accediFacebook")),t.xp6(4),t.Q6J("ngIf",!!e.lingua),t.xp6(1),t.Q6J("ngIf",!e.sessionService.isLoggedInMySelf()&&e.containerService.dimension.width>=1300),t.xp6(1),t.Q6J("ngIf",!e.sessionService.isLoggedInMySelf()&&e.containerService.dimension.width<1300)}}function ol(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",50)(2,"mat-form-field",16)(3,"input",51),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.details.codiceFiscale=a)}),t.ALo(4,"translate"),t.qZA()()(),t.TgZ(5,"div",50)(6,"mat-form-field",16)(7,"input",51),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.details.partitaIva=a)}),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",50)(10,"mat-form-field",16)(11,"input",51),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.details.indirizzo=a)}),t.ALo(12,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("placeholder",t.lcZ(4,12,"booking.codiceFiscale"))("ngModel",e.details.codiceFiscale)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(4),t.Q6J("placeholder",t.lcZ(8,14,"booking.partitaIva"))("ngModel",e.details.partitaIva)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(4),t.Q6J("placeholder",t.lcZ(12,16,"booking.indirizzo"))("ngModel",e.details.indirizzo)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled)}}function il(o,n){if(1&o&&(t.TgZ(0,"mat-option",53),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.oid),t.xp6(1),t.hij(" ",e.nome," ")}}function al(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",18)(1,"mat-form-field",16)(2,"mat-select",52),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.oidMotivoViaggio=a)}),t.ALo(3,"translate"),t._UZ(4,"mat-option",53),t.YNc(5,il,2,2,"mat-option",54),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("panelClass","booking-select")("placeholder",t.lcZ(3,7,"booking.motivoViaggio"))("ngModel",e.oidMotivoViaggio)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(2),t.Q6J("value",null),t.xp6(1),t.Q6J("ngForOf",e.motiviViaggio)}}function rl(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h6",58),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",14)(5,"div",59)(6,"mat-form-field",16)(7,"input",60),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.cliente.nome=a)})("ngModelChange",function(){const a=t.CHM(e),r=a.$implicit,l=a.index,c=t.oxw(3);return r.cliente.nome&&(r.cliente.nome=c.utility.capitalize(r.cliente.nome)),0==l&&(c.primoOspiteUpdated=!0),t.KtG(c.checkFormValidity())}),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",59)(10,"mat-form-field",16)(11,"input",60),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.cliente.cognome=a)})("ngModelChange",function(){const a=t.CHM(e),r=a.$implicit,l=a.index,c=t.oxw(3);return r.cliente.cognome&&(r.cliente.cognome=c.utility.capitalize(r.cliente.cognome)),0==l&&(c.primoOspiteUpdated=!0),t.KtG(c.checkFormValidity())}),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",59)(14,"mat-form-field",16)(15,"input",60),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.cliente.email=a)})("ngModelChange",function(){const r=t.CHM(e).index,l=t.oxw(3);return 0==r&&(l.primoOspiteUpdated=!0),t.KtG(l.checkFormValidity())}),t.ALo(16,"translate"),t.qZA()()()(),t.BQk()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,7,(a.dayUse?"booking-day-use":"booking")+".camera")+" "+(i+1)),t.xp6(5),t.Q6J("placeholder",t.lcZ(8,9,"booking.nome"))("ngModel",e.cliente.nome),t.xp6(4),t.Q6J("placeholder",t.lcZ(12,11,"booking.cognome"))("ngModel",e.cliente.cognome),t.xp6(4),t.Q6J("placeholder",t.lcZ(16,13,"booking.email"))("ngModel",e.cliente.email)}}function ll(o,n){if(1&o&&(t.TgZ(0,"div",55)(1,"h4",56),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,rl,17,15,"ng-container",57),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.ospiti")),t.xp6(2),t.Q6J("ngForOf",e.rooms)}}function cl(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",61)(1,"mat-form-field",62)(2,"input",63),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.voucher=a)}),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"button",64),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(null==a.oidVoucher?a.verificaVoucher():a.resetVoucher())}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("placeholder",t.lcZ(3,5,"booking.inserisciVoucher"))("ngModel",e.voucher)("disabled",null!=e.oidVoucher),t.xp6(2),t.Q6J("disabled",!e.voucher||!e.details.email),t.xp6(1),t.hij(" ",t.lcZ(6,7,null==e.oidVoucher?"booking.applica":"booking.rimuovi")," ")}}function sl(o,n){if(1&o&&(t.TgZ(0,"mat-option",53),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.accomodationId),t.xp6(1),t.hij(" ",e.nome," ")}}function pl(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",16)(2,"mat-select",66),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().$implicit;return t.KtG(r.oidSistemazione=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw(),r=a.index,l=a.$implicit,c=t.oxw(3);return c.prenotazioneDetails.sistemazioni[r]=l.oidSistemazione,c.onChange.emit(),t.KtG(c.checkFormValidity())}),t.ALo(3,"translate"),t.TgZ(4,"mat-option",53),t._uU(5,"---"),t.qZA(),t.YNc(6,sl,2,2,"mat-option",54),t.qZA(),t.TgZ(7,"mat-error"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(),i=e.$implicit,a=e.index,r=t.oxw(3);t.xp6(2),t.Q6J("errorStateMatcher",r.oidErrorStateMatcher)("panelClass","booking-select")("ngModel",i.oidSistemazione)("placeholder",t.lcZ(3,9,(r.dayUse?"booking-day-use":"booking")+".camera")+" "+(a+1))("required",r.portale.isSistemazioneObbligatoria)("disabled",r.buttonsDisabled),t.xp6(2),t.Q6J("value",-1),t.xp6(2),t.Q6J("ngForOf",i.tipoCamera.sistemazioni),t.xp6(2),t.Oqu(t.lcZ(9,11,"globals.required"))}}function gl(o,n){if(1&o&&(t.ynx(0),t.YNc(1,pl,10,13,"ng-container",7),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.tipoCamera.sistemazioni&&e.tipoCamera.sistemazioni.length>0)}}function ml(o,n){if(1&o&&(t.TgZ(0,"div",65)(1,"h4",56),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,gl,2,1,"ng-container",57),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.sistemazioni")),t.xp6(2),t.Q6J("ngForOf",e.rooms)}}function dl(o,n){if(1&o&&(t.TgZ(0,"div",67)(1,"h4",58),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-inner-html",68),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.condizioniPrenotazione")),t.xp6(2),t.Q6J("_text",e.condizioniPrenotazione)}}function _l(o,n){1&o&&(t.TgZ(0,"h3",69),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.prenotazioneCompletata")," "))}function ul(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,$r,3,3,"h3",11),t.YNc(2,nl,12,6,"div",12),t.TgZ(3,"div",13)(4,"div",14)(5,"div",15)(6,"mat-form-field",16)(7,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.details.nome=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return a.details.nome&&(a.details.nome=a.utility.capitalize(a.details.nome)),a.updateInformazioniPrimoOspite(),t.KtG(a.checkFormValidity())}),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"mat-error"),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",15)(13,"mat-form-field",16)(14,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.details.cognome=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return a.details.cognome&&(a.details.cognome=a.utility.capitalize(a.details.cognome)),a.updateInformazioniPrimoOspite(),t.KtG(a.checkFormValidity())}),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"mat-error"),t._uU(17),t.ALo(18,"translate"),t.qZA()()()(),t.TgZ(19,"div",14)(20,"div",18)(21,"mat-form-field",16)(22,"input",19),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.details.email=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return a.updateInformazioniPrimoOspite(),t.KtG(a.checkFormValidity())}),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"mat-error"),t._uU(25),t.ALo(26,"translate"),t.qZA()()(),t.TgZ(27,"div",18)(28,"mat-form-field",16)(29,"input",20),t.NdJ("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkFormValidity())})("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.emailConferma=a)}),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"mat-error"),t._uU(32),t.ALo(33,"translate"),t.qZA()()()(),t.TgZ(34,"div",14)(35,"div",18)(36,"mat-form-field",16)(37,"input",21),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.details.cellulare=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkFormValidity())}),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"mat-error"),t._uU(40),t.ALo(41,"translate"),t.qZA()()(),t.TgZ(42,"div",18)(43,"mat-form-field",16)(44,"input",22),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.oraArrivo=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkFormValidity())})("blur",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.oraArrivo=a.utility.checkOrario(a.oraArrivo,a.portale.orarioDiArrivoMinimo,a.portale.orarioDiArrivoMassimo))}),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"mat-error"),t._uU(47),t.ALo(48,"translate"),t.qZA()()()(),t.YNc(49,ol,13,18,"div",23),t.TgZ(50,"div",14)(51,"div",18)(52,"app-view-select",24),t.NdJ("valueChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.details.nazione=a)})("valueChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkFormValidity())}),t.ALo(53,"translate"),t.qZA()(),t.YNc(54,al,6,9,"div",25),t.qZA(),t.TgZ(55,"div",26)(56,"mat-form-field",27)(57,"textarea",28),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.details.richieste=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkFormValidity())}),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"mat-error"),t._uU(60),t.ALo(61,"translate"),t.qZA()()()(),t.YNc(62,ll,5,4,"div",29),t.YNc(63,cl,7,9,"div",30),t.YNc(64,ml,5,4,"div",31),t.YNc(65,dl,5,4,"div",32),t.YNc(66,_l,3,3,"h3",33),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.buttonsDisabled),t.xp6(1),t.Q6J("ngIf",!e.buttonsDisabled&&e.albergo.isVisualizzaBottoniSocialLoginStep2),t.xp6(5),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(8,62,"booking.nome"))("ngModel",e.details.nome)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(11,64,"globals.required")),t.xp6(4),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(15,66,"booking.cognome"))("ngModel",e.details.cognome)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(18,68,"globals.required")),t.xp6(5),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(23,70,"booking.email"))("ngModel",e.details.email)("readOnly",e.buttonsDisabled||null!=e.oidVoucher)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(26,72,"globals.required")),t.xp6(4),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(30,74,"booking.confermaEmail"))("ngModel",e.emailConferma)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(33,76,"globals.required")),t.xp6(5),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(38,78,"booking.cellulare"))("ngModel",e.details.cellulare)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled)("required",e.portale.isCellulareObbligatorio),t.xp6(3),t.Oqu(t.lcZ(41,80,"globals.required")),t.xp6(4),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(45,82,"booking.oraArrivo"))("ngModel",e.oraArrivo)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled)("required",e.portale.isOraArrivoObbligatoria),t.xp6(3),t.Oqu(t.lcZ(48,84,"globals.required")),t.xp6(2),t.Q6J("ngIf",e.portale.isRichiediDatiFatturazione),t.xp6(3),t.Q6J("blue",!0)("dataLoader",e.getDataLoaderNazioni())("value",e.details.nazione)("placeholder",t.lcZ(53,86,"booking.nazione"))("disabled",e.buttonsDisabled)("required",e.portale.isNazioneObbligatoria)("showErrorRequired",!0),t.xp6(2),t.Q6J("ngIf",null!=e.motiviViaggio&&e.motiviViaggio.length>0),t.xp6(2),t.Q6J("floatLabel","always"),t.xp6(1),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(58,88,"booking.richieste"))("ngModel",e.details.richieste)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled)("required",e.portale.isRichiesteObbligatorie),t.xp6(3),t.Oqu(t.lcZ(61,90,"globals.required")),t.xp6(2),t.Q6J("ngIf",e.isRichiediInformazioniOspiti&&e.rooms.length>1&&!e.buttonsDisabled),t.xp6(1),t.Q6J("ngIf",e.numeroVoucher>0&&!e.buttonsDisabled),t.xp6(1),t.Q6J("ngIf",e.sistemazioni&&!e.buttonsDisabled),t.xp6(1),t.Q6J("ngIf",e.portale.isVisualizzaCondizioniPrenotazioneStep2&&!!e.condizioniPrenotazione&&!e.buttonsDisabled),t.xp6(1),t.Q6J("ngIf",e.buttonsDisabled)}}function fl(o,n){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"globals.messages.emailNonValida")," "))}function hl(o,n){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.emailDiverse")," "))}function xl(o,n){if(1&o&&(t.TgZ(0,"div",72),t._UZ(1,"app-inner-html",68),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("_text",e.descrizioneFinale)}}function bl(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",70),t.YNc(2,fl,3,3,"ng-container",7),t.YNc(3,hl,3,3,"ng-container",7),t.qZA(),t.YNc(4,xl,2,1,"div",71),t.BQk()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!!e.details.email&&!e.utility.validateEmail(e.details.email)),t.xp6(1),t.Q6J("ngIf",!!e.details.email&&e.utility.validateEmail(e.details.email)&&!!e.emailConferma&&e.details.email!=e.emailConferma),t.xp6(1),t.Q6J("ngIf",e.buttonsDisabled&&!!e.descrizioneFinale)}}const vl=function(o){return{"sticky-top":o}},Cl=function(o,n,e){return{lingua:o,oidPortale:n,oidAlbergo:e}};class pe extends z.H{set _prenotazioneDetails(n){if(null!=n&&null!=n.camerePax&&null!=n.extraSelected&&null!=n.tariffeTipiCamera&&null!=n.sistemazioni){this.prenotazioneDetails=n,this.modalitaPagamento=[];let e=[];for(let i of n.tariffeTipiCamera)e=e.concat(i.tariffa.modalitaPagamento);for(let i of e)-1==this.modalitaPagamento.findIndex(a=>a.paymentId==i.paymentId)&&e.filter(a=>a.paymentId==i.paymentId).length==n.tariffeTipiCamera.length&&this.modalitaPagamento.push(i)}}set _lingua(n){n&&(this.lingua=n,this.sessionService.isLoggedInMySelf()&&null!=this.details&&(this.details.nazione=this.sessionService.getNazioneTradotta(this.lingua)))}constructor(n,e,i,a,r,l){super(),this.utility=n,this.apiService=e,this.containerService=i,this.authService=a,this.sessionService=r,this.localizationService=l,this.back=new t.vpe,this.loginEvent=new t.vpe,this.onChange=new t.vpe,this.onTotaleChange=new t.vpe,this.onPrenotazioneCompleted=new t.vpe,this.details=new p.oHO,this.rooms=[],this.totale=0,this.totaleScontato=0,this.modalitaPagamento=[],this.formValid=!1,this.errorMessage="globals.messages.inserireDati",this.noPaymentMethod=!1,this.buttonsDisabled=!1,this.sistemazioni=!1,this.primoOspiteUpdated=!1,this.privacy=!1,this.newsletter=!1}ngOnInit(){this.sub=this.authService.authState.subscribe(n=>{null!=n&&null!=this.details&&(this.details.nome=n.firstName,this.details.cognome=n.lastName,this.details.email=n.email,this.updateInformazioniPrimoOspite(!0),this.resetVoucher(),this.checkFormValidity())}),this.sub1=this.loginSubject.subscribe(()=>{this.sessionService.isLoggedInMySelf()&&null!=this.details&&(this.details.nome=this.sessionService.sessione.clienteMySelf.nome,this.details.cognome=this.sessionService.sessione.clienteMySelf.cognome,this.details.email=this.sessionService.sessione.clienteMySelf.email,this.details.cellulare=this.sessionService.sessione.clienteMySelf.cellulare,this.details.nazione=this.sessionService.getNazioneTradotta(this.lingua),this.privacy=this.sessionService.sessione.clienteMySelf.privacy,this.newsletter=this.sessionService.sessione.clienteMySelf.newsletter,this.updateInformazioniPrimoOspite(!0),this.resetVoucher(),this.checkFormValidity())}),this.sub2=this.scroll.subscribe(()=>{this.containerService.dimension.width<992?setTimeout(()=>{null!=this.container&&this.container.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop()})}ngAfterViewInit(){setTimeout(()=>{this.sessionService.isLoggedInMySelf()&&null!=this.details&&(this.details.nome=this.sessionService.sessione.clienteMySelf.nome,this.details.cognome=this.sessionService.sessione.clienteMySelf.cognome,this.details.email=this.sessionService.sessione.clienteMySelf.email,this.details.cellulare=this.sessionService.sessione.clienteMySelf.cellulare,this.privacy=this.sessionService.sessione.clienteMySelf.privacy,this.newsletter=this.sessionService.sessione.clienteMySelf.newsletter,this.updateInformazioniPrimoOspite(),this.resetVoucher(),this.checkFormValidity())},200)}prenota(n){if(n.isPrenotazioneCreata)this.onPrenotazioneCreata(n.oidTransazione,n.codicePrenotazione);else{this.setIsLoading(!0);let e=new p.qJy;e.arrivo=this.from,e.partenza=this.to,e.oidPortale=this.portale.oid,e.camere=this.rooms,e.cliente=this.details,e.pagamento=n,e.oraArrivo=this.oraArrivo,e.lingua=this.lingua,e.oidCodicePromozione=this.oidCodicePromozione,e.oidMotivoViaggio=this.oidMotivoViaggio,e.oidVoucher=this.oidVoucher,e.isGoogleHotelsTravel=this.isGoogleHotelsTravel,e.isTrivago=this.isTrivago,e.bookingSolutionUid=this.bookingSolutionUid,this.apiService.createPrenotazione(e).subscribe(i=>{(null==i.errori||0==i.errori.length)&&this.onPrenotazioneCreata(null!=i.data.transazione?i.data.transazione.oid:i.data.bookingIdGA,i.data.bookingCode)})}}onPrenotazioneCreata(n,e){null!=this.gtmService&&this.gtmService.pushTag({event:"new_booking",booking:{hotelId:this.albergo.codice,hotelName:this.albergo.nome,portalId:this.portale.oid,portalNome:this.portale.nome,transactionId:n,bookingCode:e,currencyCode:"EUR",rooms:this.rooms.length,roomNights:this.nights,totalAmount:this.totale,totalAmountTax:this.totale,checkInDate:this.from,checkOutDate:this.to,lingua:this.lingua}}),this.portale.googleUA&&setTimeout(()=>{let i={id:n,name:this.albergo.nome,affiliation:this.albergo.nome,revenue:this.totale,currency:"EUR"};ga("ecommerce:addTransaction",i),null!=this.rooms&&this.rooms.forEach(a=>{ga("ecommerce:addItem",{id:n,name:a.tariffa.descrizione,category:a.tipoCamera.nome,price:a.tariffa.prezzoScontato,quantity:"1"})}),ga("ecommerce:send")},2e3),this.portale.facebookPixel&&setTimeout(()=>{fbq("track","Purchase",{value:this.totale,currency:"EUR",content_type:this.portale.nome})},2e3),this.setIsLoading(!1),this.showInfo("globals.messages.prenotazioneCompletata").then(()=>{this.buttonsDisabled=!0,this.onPrenotazioneCompleted.emit(),this.containerService.scrollToTop()})}checkFormValidity(){!(this.details.nome&&this.details.cognome&&this.details.email)||this.portale.isCellulareObbligatorio&&!this.details.cellulare||this.portale.isRichiesteObbligatorie&&!this.details.richieste||this.portale.isOraArrivoObbligatoria&&!this.oraArrivo||this.portale.isSistemazioneObbligatoria&&this.sistemazioni&&!this.rooms.every(n=>n.oidSistemazione>0)||this.portale.isNazioneObbligatoria&&!(null!=this.details.nazione&&this.details.nazione.oid>0)||!this.rooms.every(n=>!n.cliente.nome&&!n.cliente.cognome&&!n.cliente.email||!!n.cliente.nome&&!!n.cliente.cognome&&!!n.cliente.email)?(this.errorMessage="globals.messages.inserireDati",this.formValid=!1):this.utility.validateEmail(this.details.email)?this.details.email==this.emailConferma?(this.formValid=!0,this.cliente=new w.c1h,this.cliente.nome=this.details.nome,this.cliente.cognome=this.details.cognome,this.cliente.email=this.details.email,this.cliente.cellulare=this.details.cellulare):(this.errorMessage="booking.emailDiverse",this.formValid=!1):(this.errorMessage="globals.messages.emailNonValida",this.formValid=!1)}onPrenotazioneDetailsOutput(n){null!=n&&(this.totale=n.totale,this.totaleScontato=n.totaleScontato,this.rooms=n.rooms,this.sistemazioni=this.rooms.some(e=>null!=e.tipoCamera.sistemazioni&&e.tipoCamera.sistemazioni.length>0),this.onTotaleChange.emit(this.totaleScontato>0?this.totaleScontato:this.totale))}login(){this.loginEvent.emit()}verificaVoucher(){this.setIsLoading(!0);let n=new p.Piw;n.oidAlbergo=this.albergo.oid,n.oidPortale=this.portale.oid,n.codice=this.voucher,n.email=this.details.email,n.arrivo=this.from,this.apiService.verificaVoucher(n).subscribe(e=>{null!=e.data.oidVoucher&&e.data.oidVoucher>0?(this.oidVoucher=e.data.oidVoucher,this.prenotazioneDetails.scontoVoucher=e.data.sconto,this.onChange.emit(),this.showInfo("booking.codiceApplicato",{value:Math.min(e.data.sconto,this.totaleScontato>0?this.totaleScontato:this.totale)+" "+this.utility.getValuta(this.portale.valuta,!1)})):(this.resetVoucher(),this.showError("booking.erroreVoucher")),this.setIsLoading(!1)})}resetVoucher(){(null!=this.voucher||null!=this.oidVoucher||null!=this.prenotazioneDetails.scontoVoucher)&&(this.voucher=null,this.oidVoucher=null,this.prenotazioneDetails.scontoVoucher=null,this.onChange.emit())}updateInformazioniPrimoOspite(n=!1){this.isRichiediInformazioniOspiti&&(n||!this.primoOspiteUpdated)&&null!=this.rooms&&this.rooms.length>0&&null!=this.rooms[0].cliente&&(this.rooms[0].cliente.nome=this.details.nome,this.rooms[0].cliente.cognome=this.details.cognome,this.rooms[0].cliente.email=this.details.email),n&&(this.primoOspiteUpdated=!1)}getDataLoaderNazioni(){let n=new p.dxh;return n.addEmptyItem=!this.portale.isNazioneObbligatoria,n.lingua=this.lingua,this.apiService.getNazioniTradotte(n)}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe()}}pe.\u0275fac=function(n){return new(n||pe)(t.Y36(v.t),t.Y36(k.s),t.Y36(T.J),t.Y36(qt.xE),t.Y36(nt.m),t.Y36(K.o))},pe.\u0275cmp=t.Xpm({type:pe,selectors:[["app-prenotazione-details"]],viewQuery:function(n,e){if(1&n&&t.Gf(jr,5),2&n){let i;t.iGM(i=t.CRH())&&(e.container=i.first)}},inputs:{scroll:"scroll",_prenotazioneDetails:"_prenotazioneDetails",_lingua:"_lingua",albergo:"albergo",portale:"portale",condizioniPrenotazione:"condizioniPrenotazione",condizioniContratto:"condizioniContratto",cancellazioni:"cancellazioni",from:"from",to:"to",nights:"nights",numeroPax:"numeroPax",dayUse:"dayUse",descrizioneFinale:"descrizioneFinale",loginSubject:"loginSubject",bulletPoints:"bulletPoints",gtmService:"gtmService",allModalitaPagamento:"allModalitaPagamento",oidCodicePromozione:"oidCodicePromozione",oidMotivoViaggio:"oidMotivoViaggio",numeroVoucher:"numeroVoucher",isGoogleHotelsTravel:"isGoogleHotelsTravel",isTrivago:"isTrivago",isRichiediInformazioniOspiti:"isRichiediInformazioniOspiti",motiviViaggio:"motiviViaggio",bookingSolutionUid:"bookingSolutionUid"},outputs:{back:"back",loginEvent:"loginEvent",onChange:"onChange",onTotaleChange:"onTotaleChange",onPrenotazioneCompleted:"onPrenotazioneCompleted"},features:[t.qOj],decls:11,vars:46,consts:[[1,"d-flex","flex-column","flex-lg-row","justify-content-center"],[1,"summary-col","mx-auto","mx-lg-0",3,"ngClass"],[3,"prenotazioneDetails","condizioniPrenotazione","from","to","nights","numeroPax","dayUse","continuaButtonVisible","disabled","cancellazioni","bulletPoints","valuta","prenotazioneDetailsOutput","back","onChange"],[1,"informations-col","mx-auto","mx-lg-0","mt-3","mt-lg-0"],[1,"prenotazione-details-container","border","mat-elevation-z5","p-3"],["container",""],["class","font-weight-bold mb-0 text-center",4,"ngIf"],[4,"ngIf"],[1,"mt-3","mb-3",3,"hidden"],[3,"_totale","linguaPortaleAlbergo","_modalitaPagamento","allModalitaPagamento","cliente","_formValid","errorMessage","disabled","_recaptchaAttiva","_isAccettaContrattoPrenotazioneStep2","isVerificaCartaCredito","isVisualizzaCRO","condizioniContratto","arrivo","partenza","_camere","note","oidCodicePromozione","oidMotivoViaggio","valuta","bookingSolutionUid","privacy","newsletter","createOrder","noPaymentMethod"],[1,"font-weight-bold","mb-0","text-center"],["class","font-weight-bold mb-1 text-center color-blue",4,"ngIf"],["class","row mb-4 mt-3",4,"ngIf"],[1,"cliente-details-container","border","mat-elevation-z5","p-3"],[1,"row"],[1,"col-12","col-sm-6"],[1,"w-100"],["autocompleteOff","","matInput","","required","",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","ngModelChange"],[1,"col-12","col-sm-6","mt-2"],["autocompleteOff","","matInput","","type","email","required","",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","ngModelChange"],["autocompleteOff","","matInput","","type","email","required","",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","input","ngModelChange"],["autocompleteOff","","matInput","","type","text",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","required","ngModelChange"],["autocompleteOff","","matInput","","type","time",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","required","ngModelChange","blur"],["class","row",4,"ngIf"],["displayMember","nome",3,"blue","dataLoader","value","placeholder","disabled","required","showErrorRequired","valueChange"],["class","col-12 col-sm-6 mt-2",4,"ngIf"],[1,"border","mat-elevation-z1","richieste-container","p-3","mb-3","mt-2"],[1,"w-100","richieste-textarea",3,"floatLabel"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","required","ngModelChange"],["class","ospiti-container border mat-elevation-z5 p-3 mt-3",4,"ngIf"],["class","voucher-container border mat-elevation-z5 pr-3 pl-3 pt-3 mt-3",4,"ngIf"],["class","sistemazioni-container border mat-elevation-z5 p-3 mt-3",4,"ngIf"],["class","condizioni-prenotazione-container border mat-elevation-z5 p-3 mt-3",4,"ngIf"],["class","font-weight-bold text-center color-blue mt-3 mb-3",4,"ngIf"],[1,"font-weight-bold","mb-1","text-center","color-blue"],[1,"row","mb-4","mt-3"],[1,"col-12","col-sm-6","text-center","text-sm-right","facebook-col"],["mat-flat-button","",1,"loginButtons",3,"click"],[1,"fa","fa-facebook","align-middle","mr-2","facebook-icon"],[1,"align-middle"],[1,"col-12","col-sm-6","text-center","text-sm-left","google-col"],[1,"loginButtons","d-inline-block","overflow-hidden","mt-3","mt-sm-0"],[3,"locale",4,"ngIf"],["mat-flat-button","","class","loginButton align-top",3,"click",4,"ngIf"],["class","col-12 text-center",4,"ngIf"],[3,"locale"],["mat-flat-button","",1,"loginButton","align-top",3,"click"],[1,"material-icons-round","align-middle","mr-2"],[1,"col-12","text-center"],["mat-flat-button","",1,"loginButton","mt-3",3,"click"],[1,"col-12","col-sm-4","mt-2"],["autocompleteOff","","matInput","","type","text",3,"placeholder","ngModel","readOnly","disabled","ngModelChange"],[3,"panelClass","placeholder","ngModel","readOnly","disabled","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"ospiti-container","border","mat-elevation-z5","p-3","mt-3"],[1,"color-blue","font-weight-bold","mb-3"],[4,"ngFor","ngForOf"],[1,"color-blue","font-weight-bold"],[1,"col-4"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","ngModelChange"],[1,"voucher-container","border","mat-elevation-z5","pr-3","pl-3","pt-3","mt-3"],[1,"d-inline-block","align-middle","mr-3","voucher-input"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","disabled","ngModelChange"],["mat-flat-button","",1,"button-blue","d-inline-block","align-middle","voucher-button",3,"disabled","click"],[1,"sistemazioni-container","border","mat-elevation-z5","p-3","mt-3"],[3,"errorStateMatcher","panelClass","ngModel","placeholder","required","disabled","ngModelChange","selectionChange"],[1,"condizioni-prenotazione-container","border","mat-elevation-z5","p-3","mt-3"],[3,"_text"],[1,"font-weight-bold","text-center","color-blue","mt-3","mb-3"],[1,"text-center","error-text"],["class","descrizione-finale-container border mat-elevation-z5 p-3",4,"ngIf"],[1,"descrizione-finale-container","border","mat-elevation-z5","p-3"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-prenotazione-summary",2),t.NdJ("prenotazioneDetailsOutput",function(a){return e.onPrenotazioneDetailsOutput(a)})("back",function(){return e.back.emit()})("onChange",function(){return e.onChange.emit()}),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4,5),t.YNc(6,Xr,3,3,"h5",6),t.YNc(7,ul,67,92,"ng-container",7),t.TgZ(8,"div",8)(9,"app-pagamento-form",9),t.NdJ("createOrder",function(a){return e.prenota(a)})("noPaymentMethod",function(){return e.noPaymentMethod=!0}),t.qZA()(),t.YNc(10,bl,5,3,"ng-container",7),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("ngClass",t.VKq(40,vl,e.containerService.dimension.width>=992)),t.xp6(1),t.Q6J("prenotazioneDetails",e.prenotazioneDetails)("condizioniPrenotazione",e.condizioniPrenotazione)("from",e.from)("to",e.to)("nights",e.nights)("numeroPax",e.numeroPax)("dayUse",e.dayUse)("continuaButtonVisible",!1)("disabled",e.buttonsDisabled)("cancellazioni",e.cancellazioni)("bulletPoints",e.bulletPoints)("valuta",e.portale.valuta),t.xp6(4),t.Q6J("ngIf",e.noPaymentMethod),t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod),t.xp6(1),t.Q6J("hidden",e.noPaymentMethod),t.xp6(1),t.Q6J("_totale",e.totaleScontato?e.totaleScontato:e.totale)("linguaPortaleAlbergo",t.kEZ(42,Cl,e.lingua,e.portale.oid,e.albergo.oid))("_modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.allModalitaPagamento)("cliente",e.cliente)("_formValid",e.formValid&&!e.buttonsDisabled)("errorMessage",e.buttonsDisabled?"":e.errorMessage)("disabled",e.buttonsDisabled)("_recaptchaAttiva",e.albergo.isRecaptchaAttiva)("_isAccettaContrattoPrenotazioneStep2",e.portale.isAccettaContrattoPrenotazioneStep2)("isVerificaCartaCredito",e.portale.isVerificaCartaCredito)("isVisualizzaCRO",e.portale.isVisualizzaCRO)("condizioniContratto",e.condizioniContratto)("arrivo",e.from)("partenza",e.to)("_camere",e.rooms)("note",e.details.richieste)("oidCodicePromozione",e.oidCodicePromozione)("oidMotivoViaggio",e.oidMotivoViaggio)("valuta",e.portale.valuta)("bookingSolutionUid",e.bookingSolutionUid)("privacy",e.privacy)("newsletter",e.newsletter),t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod))},dependencies:[s.mk,s.sg,s.O5,R.X,et,C.eB,bt.IC,M.nI,M.v_,Y.k0,F.CK,U.x8,f.Fj,f.JJ,f.Q7,f.On,Jt.Q,Z.W,Tn.d,vt,b.X$],styles:[".prenotazione-details-container[_ngcontent-%COMP%], .condizioni-prenotazione-container[_ngcontent-%COMP%], .sistemazioni-container[_ngcontent-%COMP%], .ospiti-container[_ngcontent-%COMP%], .voucher-container[_ngcontent-%COMP%], .cliente-details-container[_ngcontent-%COMP%], .descrizione-finale-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}textarea.mat-input-element[_ngcontent-%COMP%]{margin:0;padding:0}.richieste-container[_ngcontent-%COMP%]{border-radius:5px}.informations-col[_ngcontent-%COMP%]{padding-left:0;flex:1;max-width:1000px;width:100%}.summary-col[_ngcontent-%COMP%]{width:100%;max-width:100%;min-width:100%;top:10px!important;align-self:flex-start!important}@media (min-width: 992px){.summary-col[_ngcontent-%COMP%]{width:330px;max-width:330px;min-width:330px}.informations-col[_ngcontent-%COMP%]{padding-left:15px}}textarea[_ngcontent-%COMP%]:disabled{color:#000000de!important}.loginButtons[_ngcontent-%COMP%]{border:1px solid #6b6b6b!important;border-radius:7px!important;color:#6b6b6b!important;transition:all .4s ease-out!important;height:34px;line-height:34px}.loginButtons[_ngcontent-%COMP%]:hover{color:#adadad!important;border:1px solid #adadad!important;transition:all .4s ease-out!important}.loginButton[_ngcontent-%COMP%]{color:#004987!important;background-color:#fff!important;border-radius:7px!important;height:34px;line-height:34px}  .richieste-textarea .mat-form-field-underline{visibility:hidden!important}  .richieste-textarea .mat-form-field-wrapper{padding-bottom:0!important}.facebook-icon[_ngcontent-%COMP%]{color:#3768f1}.facebook-col[_ngcontent-%COMP%]{padding-right:.75rem!important}.google-col[_ngcontent-%COMP%]{padding-left:.75rem!important}.error-text[_ngcontent-%COMP%]{font-size:15px;color:#d9534f;font-weight:700}.voucher-input[_ngcontent-%COMP%]{width:calc(100% - 1rem - 100px)}.voucher-button[_ngcontent-%COMP%]{width:100px}"]});var Wn=d(81830);function zl(o,n){1&o&&(t.ynx(0),t._uU(1," 0 "),t.BQk())}function wl(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"eurCurrency"),t.BQk()),2&o){const e=t.oxw(),i=e.index,a=e.$implicit,r=t.oxw(2).index,l=t.oxw();t.xp6(1),t.hij(" ",l.getQuantity(r,i)+" ("+t.Dn7(2,1,a,null,l.valuta)+")"," ")}}function Pl(o,n){if(1&o&&(t.TgZ(0,"mat-option",15),t.YNc(1,zl,2,0,"ng-container",5),t.YNc(2,wl,3,5,"ng-container",5),t.qZA()),2&o){const e=n.index,i=t.oxw(2).index,a=t.oxw();t.Q6J("value",a.getQuantity(i,e)),t.xp6(1),t.Q6J("ngIf",0==e),t.xp6(1),t.Q6J("ngIf",e>0)}}function Tl(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",19)(2,"div"),t._uU(3),t.ALo(4,"titlecase"),t.ALo(5,"momentFormat"),t.qZA()(),t.TgZ(6,"div",20),t._uU(7),t.TgZ(8,"small",21),t._uU(9),t.qZA()(),t.TgZ(10,"div")(11,"mat-slide-toggle",22),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.selected=a)})("change",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.calculatePrices())}),t.qZA()()()}if(2&o){const e=n.$implicit,i=t.oxw(3).$implicit,a=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,5,t.Dn7(5,7,e.data,"ddd D",a.getLocale()))," "),t.xp6(4),t.Oqu(a.utility.getValuta(a.valuta)+a.utility.getPriceIntegerPart(e.prezzo)),t.xp6(2),t.Oqu(","+a.utility.getPriceDecimalPart(e.prezzo)),t.xp6(2),t.Q6J("ngModel",e.selected)("disabled",a.checkGiornoDisabled(i.extra.giorni,e.selected))}}function Ml(o,n){if(1&o&&(t.TgZ(0,"div",16),t.YNc(1,Tl,12,11,"div",17),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.extra.giorni)}}function yl(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8)(5,"div",9),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-form-field",10)(9,"mat-select",11,12),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().$implicit;return t.KtG(r.quantita=a)}),t.TgZ(11,"mat-select-trigger"),t._uU(12),t.qZA(),t.YNc(13,Pl,3,3,"mat-option",13),t.qZA()()()(),t.YNc(14,Ml,2,1,"div",14),t.BQk()}if(2&o){const e=t.oxw(),i=e.index,a=e.$implicit,r=t.oxw();t.xp6(3),t.hij(" ",r.headers[i]," "),t.xp6(3),t.Oqu(t.lcZ(7,7,"booking.qtCamera")+(i+1)),t.xp6(3),t.Q6J("panelClass","booking-select")("ngModel",a.quantita),t.xp6(3),t.hij(" ",a.quantita," "),t.xp6(1),t.Q6J("ngForOf",r.quantities[i]),t.xp6(1),t.Q6J("ngIf",null!=a.extra.giorni&&a.extra.giorni.length>1&&a.extra.isVisualizzaGiorniWeb)}}function Zl(o,n){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,yl,15,9,"ng-container",5),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null!=e)}}class ge extends z.H{constructor(n){super(),this.utility=n,this.headers=[],this.quantities=[]}ngOnInit(){this.calculatePrices()}calculatePrices(){if(null!=this.extras&&this.extras.length>0){let n=this.extras[0].extra.prezzo,e=0;this.headers=[],this.quantities=[];for(let i of this.tariffeTipiCamera)for(let a=0;a<i.quantity;a++){this.headers.push(i.tipoCamera.nome+"-"+i.tariffa.descrizione),this.quantities.push([]);let r=this.getQuantitaMassima(e),l=this.camerePax[e].getNumeroPax();for(let c=0;c<=(1==this.extras[e].extra.isApplicaATuttiComponenti?Math.ceil(r/l):r);c++){let g=0;g=null!=this.extras[e]&&null!=this.extras[e].extra.giorni&&this.extras[e].extra.giorni.length>0?this.extras[e].extra.giorni.filter(_=>_.selected).reduce((_,u)=>_+u.prezzo,0):n*this.nights,this.quantities[e].push((1==this.extras[e].extra.isApplicaATuttiComponenti?c*l:c)*g)}e++}}}checkGiornoDisabled(n,e){return n.filter(i=>i.selected).length<=1&&e}getQuantitaMassima(n){return this.extras[n].extra.quantitaMassima>0?this.extras[n].extra.quantitaMassima:1==this.extras[n].extra.isApplicaATuttiComponenti?10*this.camerePax[n].getNumeroPax():10}getQuantity(n,e){let i=this.extras[n].extra.isApplicaATuttiComponenti,a=e*this.camerePax[n].getNumeroPax();return 1==i?Math.min(a,this.getQuantitaMassima(n)):e}}ge.\u0275fac=function(n){return new(n||ge)(t.Y36(v.t))},ge.\u0275cmp=t.Xpm({type:ge,selectors:[["app-extra-select-modal"]],inputs:{extras:"extras",tariffeTipiCamera:"tariffeTipiCamera",camerePax:"camerePax",nights:"nights",valuta:"valuta",dialogRef:"dialogRef"},features:[t.qOj],decls:10,vars:8,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[4,"ngFor","ngForOf"],["mat-flat-button","",1,"w-100","button-blue","mt-3",3,"click"],[4,"ngIf"],[1,"row","mt-2"],[1,"col-4"],[1,"col-8"],[1,"d-inline-block","font-weight-bold","mr-3"],[1,"quantity-select"],[3,"panelClass","ngModel","ngModelChange"],["quantitySelect",""],[3,"value",4,"ngFor","ngForOf"],["class","text-center pb-2 mb-2 text-nowrap overflow-auto thin-scrollbar",4,"ngIf"],[3,"value"],[1,"text-center","pb-2","mb-2","text-nowrap","overflow-auto","thin-scrollbar"],["class","border giorno mr-1 ml-1 mt-3",4,"ngFor","ngForOf"],[1,"border","giorno","mr-1","ml-1","mt-3"],[1,"giorno-header","pr-2","pl-2","pt-1","pb-1"],[1,"giorno-prezzo","font-weight-bold","pr-2","pl-2","pt-1","pb-1"],[1,"price-decimals"],[1,"booking-giorno-toggle",3,"ngModel","disabled","ngModelChange","change"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"h4",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,Zl,2,1,"div",3),t.TgZ(7,"button",4),t.NdJ("click",function(){return e.dialogRef.close(e.extras)}),t._uU(8),t.ALo(9,"translate"),t.qZA()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(4),t.Oqu(t.lcZ(5,4,"booking.selezionaQuantitaExtra")),t.xp6(2),t.Q6J("ngForOf",e.extras),t.xp6(2),t.hij(" ",t.lcZ(9,6,"globals.conferma"),"\n"))},dependencies:[s.sg,s.O5,C.eB,M.v_,F.CK,U.x8,U.Cb,Wn.iZ,G.aO,f.JJ,f.On,s.rS,Qt.f,B.H,b.X$],styles:[".quantity-select[_ngcontent-%COMP%]{width:50px!important}  .quantity-select .mat-form-field-infix{border-top:0!important}  .quantity-select .mat-form-field-flex{border:1px solid #bbbbbb!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important;height:30px!important}  .quantity-select .mat-form-field-underline{visibility:hidden!important}  .quantity-select .mat-form-field-wrapper{padding-bottom:0!important}.giorno-header[_ngcontent-%COMP%]{background-color:#004987;color:#fff;font-size:12px}.giorno[_ngcontent-%COMP%]{border-radius:7px;overflow:hidden;display:inline-table}.giorno-prezzo[_ngcontent-%COMP%]{font-size:15px}.booking-giorno-toggle.mat-disabled[_ngcontent-%COMP%]{opacity:1!important}  .booking-giorno-toggle.mat-checked .mat-slide-toggle-bar{background-color:#00498780!important}  .booking-giorno-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#004987!important}"]});const kl=["quantitySelect"],Al=["row"],Sl=["imageContainer"],Ol=function(o){return[o]};function Il(o,n){if(1&o&&t._UZ(0,"app-image-slider",23),2&o){const e=t.oxw();t.Q6J("images",t.VKq(7,Ol,e.extra.extra.urlImmagine))("minimumHeight",250)("maximumHeight",250)("fullHeight",!e.showImageTop)("minimumWidth",e.imageWidth)("maximumWidth",e.imageWidth)("updateSize",e.updateImageSize)}}function ql(o,n){1&o&&t._UZ(0,"div",24)}function Jl(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",27),t._uU(2),t.TgZ(3,"small",28),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"span",29),t._uU(7),t.TgZ(8,"small",28),t._uU(9),t.qZA()(),t.TgZ(10,"span",30),t._uU(11),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.extra.extra.prezzo),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.extra.extra.prezzo)),t.xp6(3),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.extra.extra.prezzoPieno)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.extra.extra.prezzoPieno)),t.xp6(2),t.hij("-",e.extra.extra.sconto,"%")}}function Ql(o,n){if(1&o&&(t.TgZ(0,"div",27),t._uU(1),t.TgZ(2,"small",28),t._uU(3),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.extra.extra.prezzo),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.extra.extra.prezzo))}}function Ul(o,n){if(1&o&&(t.TgZ(0,"div",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.getTipoExtra()))}}function Nl(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Jl,12,5,"ng-container",15),t.YNc(2,Ql,4,2,"div",25),t.YNc(3,Ul,3,3,"div",26),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.extra.extra.sconto>0),t.xp6(1),t.Q6J("ngIf",null==e.extra.extra.sconto||e.extra.extra.sconto<=0),t.xp6(1),t.Q6J("ngIf",e.extra.extra.tipo==e.enumTipoSupplemento.Camera||e.extra.extra.tipo==e.enumTipoSupplemento.Persona)}}function El(o,n){if(1&o&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Dl(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",36)(2,"div"),t._uU(3),t.ALo(4,"titlecase"),t.ALo(5,"momentFormat"),t.qZA()(),t.TgZ(6,"div",37),t._uU(7),t.TgZ(8,"small",28),t._uU(9),t.qZA()(),t.TgZ(10,"div")(11,"mat-slide-toggle",38),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.selected=a)})("change",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onGiornoSelected.emit())}),t.qZA()()()}if(2&o){const e=n.$implicit,i=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,5,t.Dn7(5,7,e.data,"ddd D",i.getLocale()))," "),t.xp6(4),t.Oqu(i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.prezzo)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.prezzo)),t.xp6(2),t.Q6J("ngModel",e.selected)("disabled",i.checkGiornoDisabled(i.extra.extra.giorni,e.selected))}}function Ll(o,n){if(1&o&&(t.TgZ(0,"div",33),t.YNc(1,Dl,12,11,"div",34),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.extra.extra.giorni)}}const Bl=function(o,n){return{"col-12":o,"col-4":n}},Vl=function(o,n){return{"col-sm-8":o,"col-sm-5":n}},Yl=function(o,n){return{"col-sm-4":o,"col-sm-3":n}};class Et extends z.H{constructor(n,e){super(),this.containerService=n,this.utility=e,this.onExtraAdd=new t.vpe,this.onGiornoSelected=new t.vpe,this.hideImage=!1,this.showImageTop=!1,this.rowHeight=0,this.imageWidth=0,this.updateImageSize=new y.x,this.initialized=!1,this.enumTipoSupplemento=m.E9}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(n=>{this.hideImage=!0,setTimeout(()=>{n.width>=1200&&n.width<=1550||n.width<992?this.showImageTop=!0:this.showImageTop=!1,setTimeout(()=>{this.rowHeight=Math.floor(this.row.nativeElement.offsetHeight+1),this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth+1),this.hideImage=!1,this.updateImageSize.next()},200)},200)}),this.showPrezzo=null==this.extra.extra.giorni||0==this.extra.extra.giorni.length||!this.extra.extra.isVisualizzaGiorniWeb||this.extra.extra.giorni.every(n=>n.prezzo==this.extra.extra.prezzo)}ngAfterViewInit(){setTimeout(()=>{this.containerService.dimension.width>=1200&&this.containerService.dimension.width<=1550||this.containerService.dimension.width<992?this.showImageTop=!0:this.showImageTop=!1,this.rowHeight=Math.floor(this.row.nativeElement.offsetHeight+1),this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth+1),this.initialized=!0},200)}checkGiornoDisabled(n,e){return n.filter(i=>i.selected).length<=1&&e}onAggiungiClick(){if(this.multipleRooms)this.onExtraAdd.emit();else if(null==this.extra.extra.isApplicaATuttiComponenti)this.onExtraAdd.emit(this.extra.quantita+1);else if(1==this.extra.extra.isApplicaATuttiComponenti){let n=this.extra.quantita+this.quantityToAdd;this.onExtraAdd.emit(this.extra.extra.quantitaMassima<=0?n:Math.min(n,this.extra.extra.quantitaMassima))}else 0==this.extra.extra.isApplicaATuttiComponenti&&this.quantitySelect.open()}getTipoExtra(){return this.extra.extra.tipo==m.E9.Camera?this.extra.extra.tipoApplicazione==m.x6.PrimoGiorno||this.extra.extra.tipoApplicazione==m.x6.UltimoGiorno?"booking.perCameraSingoloGiorno":"booking.perCamera":this.extra.extra.tipoApplicazione==m.x6.PrimoGiorno||this.extra.extra.tipoApplicazione==m.x6.UltimoGiorno?"booking.perPersonaSingoloGiorno":"booking.perPersona"}ngOnDestroy(){this.sub.unsubscribe(),this.updateImageSize.complete()}}Et.\u0275fac=function(n){return new(n||Et)(t.Y36(T.J),t.Y36(v.t))},Et.\u0275cmp=t.Xpm({type:Et,selectors:[["app-extra"]],viewQuery:function(n,e){if(1&n&&(t.Gf(kl,5),t.Gf(Al,5),t.Gf(Sl,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.quantitySelect=i.first),t.iGM(i=t.CRH())&&(e.row=i.first),t.iGM(i=t.CRH())&&(e.imageContainer=i.first)}},inputs:{extra:"extra",multipleRooms:"multipleRooms",quantityToAdd:"quantityToAdd",valuta:"valuta"},outputs:{onExtraAdd:"onExtraAdd",onGiornoSelected:"onGiornoSelected"},features:[t.qOj],decls:26,vars:27,consts:[[1,"extra-container","mat-elevation-z4"],[1,"row","mr-0","ml-0"],["row",""],[1,"text-center","p-0","room-image-col",3,"ngClass"],[1,"w-100",3,"ngClass"],["imageContainer",""],[3,"images","minimumHeight","maximumHeight","fullHeight","minimumWidth","maximumWidth","updateSize",4,"ngIf"],["class","w-100 h-100 image-mask position-absolute",4,"ngIf"],[1,"pt-4","pb-4","pr-0","pl-0","col-12",3,"ngClass"],[1,"pr-3","pl-3","border-right","h-100"],[1,"extra-nome","mb-2"],[1,"extra-descrizione"],[3,"_text"],[1,"pt-0","pt-sm-4","pb-4","d-flex","justify-content-center","align-items-center","col-12",3,"ngClass"],[1,"w-100","text-center"],[4,"ngIf"],[1,"mt-2","w-75","mx-auto"],["mat-flat-button","",1,"button-blue","w-100",3,"disabled","click"],[1,"quantity-select"],[3,"panelClass","selectionChange"],["quantitySelect",""],[3,"value",4,"ngFor","ngForOf"],["class","text-center mr-3 ml-3 pb-2 mb-2 text-nowrap overflow-auto thin-scrollbar",4,"ngIf"],[3,"images","minimumHeight","maximumHeight","fullHeight","minimumWidth","maximumWidth","updateSize"],[1,"w-100","h-100","image-mask","position-absolute"],["class","extra-prezzo text-nowrap",4,"ngIf"],["class","extra-tipo",4,"ngIf"],[1,"extra-prezzo","text-nowrap"],[1,"price-decimals"],[1,"extra-prezzo-sconto","text-nowrap"],[1,"ml-1","extra-sconto","text-nowrap"],[1,"extra-tipo"],[3,"value"],[1,"text-center","mr-3","ml-3","pb-2","mb-2","text-nowrap","overflow-auto","thin-scrollbar"],["class","border giorno mr-1 ml-1 mt-3",4,"ngFor","ngForOf"],[1,"border","giorno","mr-1","ml-1","mt-3"],[1,"giorno-header","pr-2","pl-2","pt-1","pb-1"],[1,"giorno-prezzo","font-weight-bold","pr-2","pl-2","pt-1","pb-1"],[1,"booking-giorno-toggle",3,"ngModel","disabled","ngModelChange","change"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3)(4,"div",4,5),t.YNc(6,Il,1,9,"app-image-slider",6),t.YNc(7,ql,1,0,"div",7),t.qZA()(),t.TgZ(8,"div",8)(9,"div",9)(10,"div",10),t._uU(11),t.qZA(),t.TgZ(12,"div",11),t._UZ(13,"app-inner-html",12),t.qZA()()(),t.TgZ(14,"div",13)(15,"div",14),t.YNc(16,Nl,4,3,"ng-container",15),t.TgZ(17,"div",16)(18,"button",17),t.NdJ("click",function(){return e.onAggiungiClick()}),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"mat-form-field",18)(22,"mat-select",19,20),t.NdJ("selectionChange",function(a){return e.onExtraAdd.emit(e.extra.quantita+a.value)}),t.YNc(24,El,2,2,"mat-option",21),t.qZA()()()()()(),t.YNc(25,Ll,2,1,"div",22),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngClass",t.WLB(18,Bl,e.showImageTop,!e.showImageTop)),t.xp6(1),t.Udp("height",e.hideImage?"0":(e.showImageTop?250:e.rowHeight>180?e.rowHeight:180)+"px"),t.Q6J("ngClass",e.showImageTop?"extra-image-container-image-top":"extra-image-container"),t.xp6(2),t.Q6J("ngIf",e.initialized),t.xp6(1),t.Q6J("ngIf",!e.showImageTop&&!e.multipleRooms&&null!=e.extra.extra.giorni&&e.extra.extra.giorni.length>0&&e.extra.extra.isVisualizzaGiorniWeb),t.xp6(1),t.Q6J("ngClass",t.WLB(21,Vl,e.showImageTop,!e.showImageTop)),t.xp6(3),t.Oqu(e.extra.extra.nome),t.xp6(2),t.Q6J("_text",e.extra.extra.descrizione),t.xp6(1),t.Q6J("ngClass",t.WLB(24,Yl,e.showImageTop,!e.showImageTop)),t.xp6(2),t.Q6J("ngIf",e.showPrezzo),t.xp6(2),t.Q6J("disabled",e.extra.extra.quantitaMassima>0&&e.extra.quantita>=e.extra.extra.quantitaMassima),t.xp6(1),t.Oqu(t.lcZ(20,16,"booking.aggiungi")),t.xp6(3),t.Q6J("panelClass","booking-select"),t.xp6(2),t.Q6J("ngForOf",e.utility.counter(e.extra.extra.quantitaMassima<=0?10:e.extra.extra.quantitaMassima-e.extra.quantita,1)),t.xp6(1),t.Q6J("ngIf",!e.multipleRooms&&null!=e.extra.extra.giorni&&e.extra.extra.giorni.length>1&&e.extra.extra.isVisualizzaGiorniWeb))},dependencies:[s.mk,s.sg,s.O5,C.eB,M.v_,F.CK,U.x8,Wn.iZ,f.JJ,f.On,H.V,Z.W,s.rS,B.H,b.X$],styles:[".extra-nome[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#004987}.extra-descrizione[_ngcontent-%COMP%]{font-size:15px;max-height:200px;overflow:auto}.extra-prezzo[_ngcontent-%COMP%]{font-size:25px;line-height:25px;font-weight:600;color:#004987}.extra-prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:#004987;text-decoration-color:#004987;font-size:16px;font-weight:600;color:#999}.extra-sconto[_ngcontent-%COMP%]{font-size:13px;color:#004987;font-weight:600}.extra-tipo[_ngcontent-%COMP%]{font-size:13px;color:#004987}.extra-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:7px;overflow:hidden}.text-small[_ngcontent-%COMP%]{font-size:15px}@media (min-width: 576px){.border-right[_ngcontent-%COMP%]{border-right:2px solid #cccccc!important}}  .extra-image-container img{-webkit-mask-image:linear-gradient(to right,rgb(255,255,255) 70%,rgba(255,255,255,0))!important;mask-image:linear-gradient(to right,rgb(255,255,255) 70%,rgba(255,255,255,0))!important}  .extra-image-container-image-top img{-webkit-mask-image:linear-gradient(to bottom,rgb(255,255,255) 70%,rgba(255,255,255,0))!important;mask-image:linear-gradient(to bottom,rgb(255,255,255) 70%,rgba(255,255,255,0))!important}.giorno-header[_ngcontent-%COMP%]{background-color:#004987;color:#fff;font-size:12px}.giorno[_ngcontent-%COMP%]{border-radius:7px;overflow:hidden;display:inline-table}.giorno-prezzo[_ngcontent-%COMP%]{font-size:15px}.image-mask[_ngcontent-%COMP%]{top:0;left:0;background-color:#fff;-webkit-mask-image:linear-gradient(to top,rgb(255,255,255),rgba(255,255,255,0) 5%);mask-image:linear-gradient(to top,rgb(255,255,255),rgba(255,255,255,0) 5%)}.booking-giorno-toggle.mat-disabled[_ngcontent-%COMP%]{opacity:1!important}  .booking-giorno-toggle.mat-checked .mat-slide-toggle-bar{background-color:#00498780!important}  .booking-giorno-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#004987!important}.quantity-select[_ngcontent-%COMP%]{visibility:hidden!important;width:100%!important;height:0!important;padding:0!important;margin:0!important;border:0!important}"]});const Fl=["container"];function Hl(o,n){if(1&o&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.debitEntryId),t.xp6(1),t.hij(" ",e.nome?e.nome:"---"," ")}}function Rl(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",13),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-form-field",14)(5,"mat-select",15),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.voceAddebitoOid=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onFilter())}),t.TgZ(6,"mat-option",16),t._uU(7," --- "),t.qZA(),t.YNc(8,Hl,2,2,"mat-option",17),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"booking.filtraPerTipologia")),t.xp6(3),t.Q6J("panelClass","booking-select-unlimited-height")("ngModel",e.voceAddebitoOid),t.xp6(1),t.Q6J("value",-1),t.xp6(2),t.Q6J("ngForOf",e.prenotazioneDetails.vociAddebito)}}function Gl(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",28)(1,"app-extra",29),t.NdJ("onExtraAdd",function(a){const l=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.onExtraAdd(l,a))})("onGiornoSelected",function(){const r=t.CHM(e).$implicit,l=t.oxw(4);return t.KtG(l.onGiornoSelected(r))}),t.qZA()()}if(2&o){const e=n.$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("extra",e)("multipleRooms",null!=i.prenotazioneDetails&&null!=i.prenotazioneDetails.camerePax&&i.prenotazioneDetails.camerePax.length>1)("quantityToAdd",i.prenotazioneDetails.camerePax[0].getNumeroPax())("valuta",i.valuta)}}function Kl(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-expansion-panel",19,20)(3,"mat-expansion-panel-header",21)(4,"div",22)(5,"div",23),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",24)(9,"span",25),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",26),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.YNc(15,Gl,2,4,"div",27),t.qZA(),t.BQk()),2&o){const e=t.MAs(2),i=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("expanded",i.voceAddebito.isVisualizzaEspanso||a.voceAddebitoOid>0),t.xp6(2),t.Q6J("collapsedHeight","32px")("expandedHeight","32px"),t.xp6(3),t.hij(" ",null==i.voceAddebito||-1==i.voceAddebito.debitEntryId?t.lcZ(7,7,"booking.nessunTipo"):i.voceAddebito.nome?i.voceAddebito.nome:"---"," "),t.xp6(4),t.Oqu(t.lcZ(11,9,e.expanded?"booking.nascondiOpzioni":"booking.guardaLeOpzioni")),t.xp6(3),t.Oqu(t.lcZ(14,11,e.expanded?"keyboard_arrow_up":"keyboard_arrow_down")),t.xp6(2),t.Q6J("ngForOf",i.extras)}}function jl(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Kl,16,13,"ng-container",9),t.BQk()),2&o){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",-1==i.voceAddebitoOid||null!=e.voceAddebito&&e.voceAddebito.debitEntryId==i.voceAddebitoOid)}}function Xl(o,n){if(1&o&&(t.ynx(0),t.YNc(1,jl,2,1,"ng-container",18),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.selectableExtras)}}function $l(o,n){1&o&&(t.ynx(0),t.TgZ(1,"div",30)(2,"h5",31),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.BQk()),2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"booking.nessunSupplemento")))}const Wl=function(o){return{"sticky-top":o}};class me extends z.H{set _prenotazioneDetails(n){if(null!=n&&null!=n.camerePax&&null!=n.extraSelected&&null!=n.tariffeTipiCamera&&null!=n.sistemazioni&&null!=n.vociAddebito){this.prenotazioneDetails=n,this.selectableExtras=[];for(let e of this.prenotazioneDetails.extraSelected)for(let i of e){let a=this.selectableExtras.findIndex(r=>null==r.voceAddebito&&(null==i||null==i.voceAddebito)||null!=r.voceAddebito&&null!=i&&null!=i.voceAddebito&&r.voceAddebito.debitEntryId==i.voceAddebito.debitEntryId);if(a<0)this.selectableExtras.push(i);else for(let r of i.extras)null==this.selectableExtras[a].extras.find(l=>l.extra.extraId==r.extra.extraId)&&this.selectableExtras[a].extras.push(r)}}}constructor(n,e){super(),this.utility=n,this.containerService=e,this.back=new t.vpe,this.continue=new t.vpe,this.onChange=new t.vpe,this.prenotazioneDetails=new p.fsc,this.selectableExtras=[],this.voceAddebitoOid=-1,this.noExtras=!1}ngOnInit(){null!=this.prenotaSubject&&(this.sub=this.prenotaSubject.subscribe(()=>{this.voceAddebitoOid=-1,this.noExtras=!1})),this.sub1=this.scroll.subscribe(()=>{this.containerService.dimension.width<992?setTimeout(()=>{null!=this.container&&this.container.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop()})}onExtraAdd(n,e){if(null!=this.prenotazioneDetails&&null!=this.prenotazioneDetails.camerePax&&null!=this.prenotazioneDetails.tariffeTipiCamera)if(1==this.prenotazioneDetails.camerePax.length)n.quantita=e,this.onChange.emit();else if(this.prenotazioneDetails.camerePax.length>1&&null!=this.prenotazioneDetails.extraSelected&&this.prenotazioneDetails.extraSelected.length>0){let i=null,a=0,r=0,l=0;for(let c of this.selectableExtras){let g=0;for(let _ of c.extras){if(_.extra.extraId==n.extra.extraId){i=[];for(let u of this.prenotazioneDetails.extraSelected)i.push(null!=u[l]?JSON.parse(JSON.stringify(u[l].extras[g])):null);a=l,r=g;break}g++}if(null!=i)break;l++}if(null!=i){let c=new p.Zpt;c.panelClass="booking-dialog",this.containerService.dimension.width>=992?c.width="50vw":c.width="80vw";let g=this.showModalDialog(ge,c),_=g.componentInstance;_.extras=i,_.tariffeTipiCamera=this.prenotazioneDetails.tariffeTipiCamera,_.nights=this.nights,_.camerePax=this.prenotazioneDetails.camerePax,_.valuta=this.valuta,_.dialogRef=g,g.afterClosed().subscribe(u=>{if(null!=u&&u.length>0){let h=0;for(let x of u)null!=x&&(this.prenotazioneDetails.extraSelected[h][a].extras[r].quantita=x.quantita,this.prenotazioneDetails.extraSelected[h][a].extras[r].extra.giorni=x.extra.giorni),h++;this.onChange.emit()}})}}}onGiornoSelected(n){n.quantita>0&&this.onChange.emit()}onFilter(){if(-1!=this.voceAddebitoOid){this.noExtras=!0;let n=0;for(let e of this.selectableExtras){if(e.voceAddebito.debitEntryId==this.voceAddebitoOid){this.noExtras=!1;break}n++}}else this.noExtras=!1}ngOnDestroy(){null!=this.sub&&this.sub.unsubscribe(),this.sub1.unsubscribe()}}me.\u0275fac=function(n){return new(n||me)(t.Y36(v.t),t.Y36(T.J))},me.\u0275cmp=t.Xpm({type:me,selectors:[["app-extra-select"]],viewQuery:function(n,e){if(1&n&&t.Gf(Fl,5),2&n){let i;t.iGM(i=t.CRH())&&(e.container=i.first)}},inputs:{scroll:"scroll",_prenotazioneDetails:"_prenotazioneDetails",condizioniPrenotazione:"condizioniPrenotazione",cancellazioni:"cancellazioni",from:"from",to:"to",nights:"nights",numeroPax:"numeroPax",dayUse:"dayUse",prenotaSubject:"prenotaSubject",bulletPoints:"bulletPoints",valuta:"valuta"},outputs:{back:"back",continue:"continue",onChange:"onChange"},features:[t.qOj],decls:21,vars:23,consts:[[1,"d-flex","flex-column","flex-lg-row","justify-content-center"],[1,"summary-col","mx-auto","mx-lg-0",3,"ngClass"],[3,"prenotazioneDetails","condizioniPrenotazione","from","to","nights","numeroPax","dayUse","continuaButtonVisible","cancellazioni","bulletPoints","valuta","back","continue","onChange"],[1,"extra-col","mx-auto","mx-lg-0","mt-3","mt-lg-0"],["container",""],[1,"filtro-extra-container","mat-elevation-z5","border","p-3","mb-3"],[1,"row"],[1,"col-12","col-lg-8"],[1,"color-blue","font-weight-bold","mb-3","d-block"],[4,"ngIf"],[1,"col-4","d-none","d-lg-flex","continua-col"],["mat-flat-button","",1,"button-blue","float-right",3,"click"],[1,"material-icons-round"],[1,"text-big","font-weight-bold","mr-3"],[1,"extra-select"],[3,"panelClass","ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["hideToggle","",1,"booking-extra-select-panel","pb-3",3,"expanded"],["panel",""],[1,"pr-0","pl-0",3,"collapsedHeight","expandedHeight"],[1,"extra-tipo","pt-1","pb-1","w-100","font-weight-bold","mat-elevation-z4"],[1,"d-inline-block"],[1,"d-inline-block","float-right","text-small"],[1,"d-inline-block","align-middle"],[1,"material-icons-round","align-middle"],["class","mt-3",4,"ngFor","ngForOf"],[1,"mt-3"],[3,"extra","multipleRooms","quantityToAdd","valuta","onExtraAdd","onGiornoSelected"],[1,"no-extra-container","mat-elevation-z5","border","p-3"],[1,"mb-0","font-weight-bold"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-prenotazione-summary",2),t.NdJ("back",function(){return e.back.emit()})("continue",function(){return e.continue.emit()})("onChange",function(){return e.onChange.emit()}),t.qZA()(),t.TgZ(3,"div",3,4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,Rl,9,7,"ng-container",9),t.qZA(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return e.continue.emit()}),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"span",12),t._uU(18,"keyboard_arrow_right"),t.qZA()()()()(),t.YNc(19,Xl,2,1,"ng-container",9),t.YNc(20,$l,5,3,"ng-container",9),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("ngClass",t.VKq(21,Wl,e.containerService.dimension.width>=992)),t.xp6(1),t.Q6J("prenotazioneDetails",e.prenotazioneDetails)("condizioniPrenotazione",e.condizioniPrenotazione)("from",e.from)("to",e.to)("nights",e.nights)("numeroPax",e.numeroPax)("dayUse",e.dayUse)("continuaButtonVisible",!0)("cancellazioni",e.cancellazioni)("bulletPoints",e.bulletPoints)("valuta",e.valuta),t.xp6(7),t.Oqu(t.lcZ(10,17,"booking.scopriServizi")),t.xp6(2),t.Q6J("ngIf",null!=e.prenotazioneDetails.vociAddebito&&e.prenotazioneDetails.vociAddebito.length>1),t.xp6(4),t.Oqu(t.lcZ(16,19,"booking.continua")),t.xp6(4),t.Q6J("ngIf",!e.noExtras&&null!=e.selectableExtras&&e.selectableExtras.length>0),t.xp6(1),t.Q6J("ngIf",e.noExtras))},dependencies:[s.mk,s.sg,s.O5,C.eB,M.v_,F.CK,U.x8,W.ib,W.yz,f.JJ,f.On,vt,Et,b.X$],styles:[".filtro-extra-container[_ngcontent-%COMP%], .no-extra-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.extra-col[_ngcontent-%COMP%]{padding-left:0;flex:1;max-width:1000px;width:100%}.summary-col[_ngcontent-%COMP%]{width:100%;max-width:100%;min-width:100%;top:10px!important;align-self:flex-start!important}@media (min-width: 992px){.summary-col[_ngcontent-%COMP%]{width:330px;max-width:330px;min-width:330px}.extra-col[_ngcontent-%COMP%]{padding-left:15px}}  .extra-select .mat-form-field-flex{border:1px solid #bbbbbb!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important}  .extra-select .mat-form-field-wrapper{padding-bottom:0!important}  .extra-select .mat-form-field-underline{visibility:hidden!important}  .extra-select .mat-form-field-infix{border-top:0!important}  .extra-select{max-width:100%!important}.continua-col[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center}.extra-tipo[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff;border-radius:7px;padding-right:10px;padding-left:24px;height:32px}  .booking-extra-select-panel{box-shadow:none!important;border-radius:0!important;background-color:transparent!important}  .booking-extra-select-panel .mat-expansion-panel-content{font:inherit!important}  .booking-extra-select-panel .mat-expansion-panel-body{padding:0!important}  .booking-extra-select-panel .mat-expansion-panel-header{font:inherit!important}  .booking-extra-select-panel .mat-expansion-panel-header .mat-content{overflow:visible!important}.text-small[_ngcontent-%COMP%]{font-size:14px}"]});const tc=["calendar"];function ec(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"titlecase"),t.ALo(7,"momentFormat"),t.ALo(8,"momentFormat"),t.ALo(9,"translate"),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.nessunaDisponibilita")),t.xp6(3),t.Oqu(t.lcZ(6,4,t.Dn7(7,6,e.from,"ddd D MMM YYYY",e.getLocale())+" - "+t.Dn7(8,10,e.to,"ddd D MMM YYYY",e.getLocale())+" ("+e.notti+t.lcZ(9,14,"booking.notti")+")"))}}function nc(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"titlecase"),t.ALo(7,"momentFormat"),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.nessunaDisponibilitaDayUse")),t.xp6(3),t.Oqu(t.lcZ(6,4,t.Dn7(7,6,e.from,"ddd D MMM YYYY",e.getLocale())))}}function oc(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"titlecase"),t.ALo(3,"momentFormat"),t.BQk()),2&o){const e=t.oxw().index,i=t.oxw().index,a=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,t.Dn7(3,3,a.disponibilita[0].disponibilita[i*a.dayCountInRow+e].data,"MMM YYYY",a.getLocale()))," ")}}function ic(o,n){if(1&o&&(t.TgZ(0,"td",26),t.YNc(1,oc,4,7,"ng-container",0),t.qZA()),2&o){const e=n.index,i=t.oxw().index,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",a.isMonthVisible(e,a.disponibilita[0].disponibilita[i*a.dayCountInRow+e].data))}}function ac(o,n){if(1&o&&(t.TgZ(0,"td",27)(1,"div",28),t._uU(2),t.ALo(3,"uppercase"),t.ALo(4,"momentFormat"),t.qZA(),t.TgZ(5,"div",29),t._uU(6),t.ALo(7,"momentFormat"),t.qZA()()),2&o){const e=n.index,i=t.oxw().index,a=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,2,t.Dn7(4,4,a.disponibilita[0].disponibilita[i*a.dayCountInRow+e].data,"dd",a.getLocale()))," "),t.xp6(4),t.hij(" ",t.Dn7(7,8,a.disponibilita[0].disponibilita[i*a.dayCountInRow+e].data,"D",a.getLocale())," ")}}function rc(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",(e.camera.paxMin>0?e.camera.paxMin:"")+(e.camera.paxMin>0&&e.camera.paxMax>0?" - ":"")+(e.camera.paxMax>0?e.camera.paxMax:"")," ")}}function lc(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.camera.paxMin>0?e.camera.paxMin:""," ")}}function cc(o,n){if(1&o&&(t.TgZ(0,"span",35),t._uU(1),t.ALo(2,"eurCurrency"),t.qZA()),2&o){const e=t.oxw().index,i=t.oxw().$implicit,a=t.oxw().index,r=t.oxw(3);t.xp6(1),t.Oqu(t.Dn7(2,1,i.disponibilita[a*r.dayCountInRow+e].prezzoMin,"1.0-0",r.valuta))}}function sc(o,n){if(1&o&&(t.TgZ(0,"td",33),t.YNc(1,cc,3,5,"span",34),t.qZA()),2&o){const e=n.index,i=t.oxw(),a=i.$implicit,r=i.index,l=t.oxw().index,c=t.oxw(3);t.Gre("text-center day-cell ",a.disponibilita[l*c.dayCountInRow+e].cssClass,""),t.Q6J("matTooltip",c.tooltips[r][e])("matTooltipDisabled","limitations"!=a.disponibilita[l*c.dayCountInRow+e].cssClass),t.xp6(1),t.Q6J("ngIf",a.disponibilita[l*c.dayCountInRow+e].prezzoMin>=0)}}function pc(o,n){if(1&o&&(t.TgZ(0,"tr")(1,"td",30),t._uU(2),t.qZA(),t.TgZ(3,"td",31),t.YNc(4,rc,2,1,"ng-container",0),t.YNc(5,lc,2,1,"ng-container",0),t.qZA(),t.YNc(6,sc,2,6,"td",32),t.qZA()),2&o){const e=n.$implicit,i=t.oxw(4);t.xp6(2),t.hij(" ",e.camera.nome," "),t.xp6(2),t.Q6J("ngIf",e.camera.paxMin!=e.camera.paxMax),t.xp6(1),t.Q6J("ngIf",e.camera.paxMin==e.camera.paxMax),t.xp6(1),t.Q6J("ngForOf",i.utility.counter(i.dayCountInRow))}}function gc(o,n){if(1&o&&(t.TgZ(0,"div",20)(1,"table")(2,"tr"),t._UZ(3,"td")(4,"td"),t.YNc(5,ic,2,1,"td",21),t.qZA(),t.TgZ(6,"tr"),t._UZ(7,"td"),t.TgZ(8,"td",22)(9,"span",23),t._uU(10,"person"),t.qZA()(),t.YNc(11,ac,8,12,"td",24),t.qZA(),t.YNc(12,pc,7,4,"tr",25),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(5),t.Q6J("ngForOf",e.utility.counter(e.dayCountInRow)),t.xp6(6),t.Q6J("ngForOf",e.utility.counter(e.dayCountInRow)),t.xp6(1),t.Q6J("ngForOf",e.disponibilita)}}function mc(o,n){if(1&o&&(t.TgZ(0,"div",10,11),t.YNc(2,gc,13,3,"div",12),t.TgZ(3,"div",7)(4,"div")(5,"span",13),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div")(9,"span",14),t._UZ(10,"div",15),t.TgZ(11,"span",16),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.TgZ(14,"span",14),t._UZ(15,"div",17),t.TgZ(16,"span",16),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"span",14),t._UZ(20,"div",18),t.TgZ(21,"span",19),t._uU(22),t.ALo(23,"translate"),t.qZA()()()()()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.utility.counter(e.rowsCount)),t.xp6(4),t.Oqu(t.lcZ(7,5,"booking.legenda")),t.xp6(6),t.Oqu(t.lcZ(13,7,"booking.disponibile")),t.xp6(5),t.Oqu(t.lcZ(18,9,"booking.nonDisponibile")),t.xp6(5),t.Oqu(t.lcZ(23,11,"booking.limitazioni"))}}function dc(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.YNc(2,ec,10,16,"ng-container",0),t.YNc(3,nc,8,10,"ng-container",0),t.TgZ(4,"div",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",3),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.callNumber(a.cellulare))}),t.TgZ(8,"span",4),t._uU(9,"phone_enabled"),t.qZA(),t.TgZ(10,"span",5),t._uU(11),t.qZA()(),t.TgZ(12,"div",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.sendEmail(a.email))}),t.TgZ(13,"span",4),t._uU(14,"email"),t.qZA(),t.TgZ(15,"span",5),t._uU(16),t.qZA()(),t.TgZ(17,"div",7)(18,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.inviaRichiesta())}),t._uU(19),t.ALo(20,"translate"),t.qZA()()(),t.YNc(21,mc,24,13,"div",9),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Udp("width",e.calendarWidth+"px"),t.xp6(1),t.Q6J("ngIf",!e.dayUse),t.xp6(1),t.Q6J("ngIf",e.dayUse),t.xp6(2),t.Oqu(t.lcZ(6,9,"booking.perMaggioriInformazioni")),t.xp6(6),t.Oqu(e.cellulare?e.cellulare:"---"),t.xp6(5),t.Oqu(e.email?e.email:"---"),t.xp6(3),t.Oqu(t.lcZ(20,11,"booking.inviaRichiestaDiPreventivo")),t.xp6(2),t.Q6J("ngIf",null!=e.disponibilita&&e.disponibilita.length>0&&e.tipoVisualizzazioneGrigliaDisponibilita==e.enumTipoVisualizzazioneGrigliaDisponibilita.SenzaDisponibilita)}}class de extends z.H{constructor(n,e,i,a,r){super(),this.apiService=n,this.translationService=e,this.utility=i,this.containerService=a,this.sessionService=r,this.onInitialized=new t.vpe,this.disponibilita=[],this.tooltips=[],this.initialized=!1,this.rowsCount=1,this.dayCount=30,this.maxDayCount=30,this.dayCountInRow=30,this.enumTipoVisualizzazioneGrigliaDisponibilita=m.lm}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(()=>{this.resizeCalendar(),setTimeout(()=>{null!=this.calendar&&(this.calendarWidth=this.calendar.nativeElement.offsetWidth)},200)}),this.getDisponibilita()}ngAfterViewInit(){this.resizeCalendar()}resizeCalendar(){this.containerService.dimension.width<900?(this.rowsCount=3,this.dayCount=18):this.containerService.dimension.width<1100?(this.rowsCount=3,this.dayCount=21):this.containerService.dimension.width<1350?(this.rowsCount=3,this.dayCount=30):(this.rowsCount=2,this.dayCount=30),this.dayCountInRow=Math.floor(this.dayCount/this.rowsCount)}getDisponibilita(){this.setIsLoading(!0),this.initialized=!1;let n=new p.BFw;n.dal=this.getDate(this.from),n.al=this.getDate(P(this.from).add(this.maxDayCount-1,"day")),n.oidPortale=this.oidPortale,n.dayUse=this.dayUse,n.lingua=this.lingua,this.apiService.getCalendarioDisponibilitaCamere(n).subscribe(e=>{this.disponibilita=e.data.disponibilita,this.tooltips=[];let i=0;for(let a of this.disponibilita){this.tooltips.push([]);for(let r of a.disponibilita)if("limitations"==r.cssClass){let l="";if(r.durataMinimaSoggiorno>0&&(l=this.translationService.getTranslationSync("booking.durataMinimaSoggiorno",{value:r.durataMinimaSoggiorno})),r.durataMassimaSoggiorno>0){let c=this.translationService.getTranslationSync("booking.durataMassimaSoggiorno",{value:r.durataMassimaSoggiorno});l?l+="\n"+c:l=c}this.tooltips[i].push(l)}else this.tooltips[i].push(null);i++}this.initialized=!0,this.onInitialized.emit(),setTimeout(()=>{null!=this.calendar&&(this.calendarWidth=this.calendar.nativeElement.offsetWidth)},200),this.setIsLoading(!1)})}isMonthVisible(n,e){let i=P(e),a=i.date(),r=i.daysInMonth();return 1==a&&n<this.dayCountInRow-3||0==n&&a<r-3&&n<this.dayCountInRow-3}inviaRichiesta(){let n=new p.Zpt;this.containerService.dimension.width>=992?n.width="80vw":n.width="95vw",n.minHeight="80vh",n.maxHeight="95vh",n.panelClass="booking-dialog-no-padding";let e=this.showModalDialog(Cn.u,n),i=e.componentInstance;if(i.dialogRef=e,i.oidAlbergo=this.oidAlbergo,i.oidPortale=this.oidPortale,i.language=this.lingua,i.booking=!0,null!=this.sessionService.sessione&&null!=this.sessionService.sessione.clienteMySelf){let a=new w.c1h;a.nome=this.sessionService.sessione.clienteMySelf.nome,a.cognome=this.sessionService.sessione.clienteMySelf.cognome,a.email=this.sessionService.sessione.clienteMySelf.email,a.cellulare=this.sessionService.sessione.clienteMySelf.cellulare,i.cliente=a}}ngOnDestroy(){this.sub.unsubscribe()}}de.\u0275fac=function(n){return new(n||de)(t.Y36(k.s),t.Y36(K.o),t.Y36(v.t),t.Y36(T.J),t.Y36(nt.m))},de.\u0275cmp=t.Xpm({type:de,selectors:[["app-booking-room-calendar"]],viewQuery:function(n,e){if(1&n&&t.Gf(tc,5),2&n){let i;t.iGM(i=t.CRH())&&(e.calendar=i.first)}},inputs:{from:"from",to:"to",notti:"notti",oidAlbergo:"oidAlbergo",oidPortale:"oidPortale",lingua:"lingua",dayUse:"dayUse",tipoVisualizzazioneGrigliaDisponibilita:"tipoVisualizzazioneGrigliaDisponibilita",cellulare:"cellulare",email:"email",valuta:"valuta"},outputs:{onInitialized:"onInitialized"},features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mx-auto","p-3","nessunaDisponibilita","text-center","w-100"],[1,"mt-2"],[1,"mb-1","text-nowrap","contatti","mt-2",3,"click"],[1,"material-icons-round","mr-1","align-middle","contatti-icon"],[1,"align-middle"],[1,"text-nowrap","contatti",3,"click"],[1,"mt-4","fit-content","mx-auto"],["mat-flat-button","",1,"button-blue",3,"click"],["class","mx-auto mat-elevation-z5 border pr-3 pl-3 pb-3 mt-3 calendar-inner-container w-100 d-none d-sm-block overflow-auto scrollbar-dark",4,"ngIf"],[1,"mx-auto","mat-elevation-z5","border","pr-3","pl-3","pb-3","mt-3","calendar-inner-container","w-100","d-none","d-sm-block","overflow-auto","scrollbar-dark"],["calendar",""],["class","mt-3 pr-3 fit-content mx-auto",4,"ngFor","ngForOf"],[1,"legenda","font-weight-bold"],[1,"text-nowrap"],[1,"mr-1","align-middle","d-inline-block","border","rounded","legenda-icon","available"],[1,"legenda-text","align-middle","mr-2"],[1,"mr-1","align-middle","d-inline-block","border","rounded","legenda-icon","not-available"],[1,"mr-1","align-middle","d-inline-block","border","rounded","legenda-icon","limitations"],[1,"legenda-text","align-middle"],[1,"mt-3","pr-3","fit-content","mx-auto"],["class","month-cell",4,"ngFor","ngForOf"],[1,"text-center","pax-icon-cell","pr-3","pl-3"],[1,"material-icons-round"],["class","text-center date-cell",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"month-cell"],[1,"text-center","date-cell"],[1,"day"],[1,"day-number"],[1,"room-name-cell"],[1,"text-center","pax-cell","pr-3","pl-3"],["matTooltipClass","tooltip-class",3,"class","matTooltip","matTooltipDisabled",4,"ngFor","ngForOf"],["matTooltipClass","tooltip-class",3,"matTooltip","matTooltipDisabled"],["class","prezzo",4,"ngIf"],[1,"prezzo"]],template:function(n,e){1&n&&t.YNc(0,dc,22,13,"ng-container",0),2&n&&t.Q6J("ngIf",e.initialized)},dependencies:[s.sg,s.O5,C.eB,$.Kd,s.gd,s.rS,Qt.f,B.H,b.X$],styles:[".available[_ngcontent-%COMP%]{background-color:#c2fec5!important}.not-available[_ngcontent-%COMP%]{background-color:#fdd!important;cursor:default!important}.limitations[_ngcontent-%COMP%]{background-color:#f9ffa8!important}.legenda-icon[_ngcontent-%COMP%]{width:20px!important;height:20px!important}.legenda-text[_ngcontent-%COMP%]{font-size:14px!important;color:#666!important}.legenda[_ngcontent-%COMP%]{font-size:16px!important}.day-cell[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px;max-width:40px;max-height:40px;border:1px solid #cccccc}.day-number[_ngcontent-%COMP%]{color:#aaa}.day[_ngcontent-%COMP%]{color:#999;font-weight:600}.room-name-cell[_ngcontent-%COMP%]{font-weight:600;white-space:nowrap}.pax-cell[_ngcontent-%COMP%]{white-space:nowrap}.month-cell[_ngcontent-%COMP%]{width:30px;max-width:30px;min-width:30px;overflow:visible;white-space:nowrap;font-weight:600}.nessunaDisponibilita[_ngcontent-%COMP%]{border-radius:5px;border:1px solid red;font-weight:600;background-color:#fdd;color:red}.calendar-inner-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}  .tooltip-class{white-space:pre!important;font-size:11px!important}.fit-content[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:table}.prezzo[_ngcontent-%COMP%]{font-size:12px;color:#aaa}.contatti-icon[_ngcontent-%COMP%]{font-size:18px;line-height:18px}.contatti[_ngcontent-%COMP%]{cursor:pointer}"]});class _e{constructor(n){this.utility=n}ngOnInit(){this.backgroundImage=this.utility.getRandomImage()}}function _c(o,n){if(1&o&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"small",9),t._uU(4),t.qZA()()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.Oqu(i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.extra.prezzoScontato)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.extra.prezzoScontato))}}_e.\u0275fac=function(n){return new(n||_e)(t.Y36(v.t))},_e.\u0275cmp=t.Xpm({type:_e,selectors:[["app-booking-error-page"]],inputs:{errorMessage:"errorMessage"},decls:11,vars:11,consts:[["id","booking-error-page",1,"container-fluid","w-100","h-100"],[1,"mx-auto","border","mat-elevation-z5","error","p-5","text-center"],[1,"mb-3"],[1,"error-message"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",3),t._uU(9),t.ALo(10,"translate"),t.qZA()()()),2&n&&(t.Udp("background-image",e.backgroundImage),t.xp6(3),t.Oqu(t.lcZ(4,5,e.errorMessage)),t.xp6(3),t.Oqu(t.lcZ(7,7,"booking.errore2")),t.xp6(3),t.Oqu(t.lcZ(10,9,"booking.errore3")))},dependencies:[b.X$],styles:[".error[_ngcontent-%COMP%]{border-radius:5px;background-color:#ffffffeb;margin-top:200px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:table}.error-message[_ngcontent-%COMP%]{font-size:18px;color:#999}#booking-error-page[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-position:center;background-repeat:no-repeat;background-size:cover}"]});const uc=function(o,n){return{"extra-prezzo":o,"extra-prezzo-sconto":n}};function fc(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div")(2,"button",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw();return a.quantita=0,t.KtG(r.onChange.emit())}),t.TgZ(3,"i",13),t._uU(4,"clear"),t.qZA()(),t.TgZ(5,"a",14),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw();return a.preventDefault(),t.KtG(l.openArticoloDetails(r))}),t._uU(6),t.qZA(),t.TgZ(7,"span",8)(8,"span"),t._uU(9),t.qZA(),t.TgZ(10,"small",9),t._uU(11),t.qZA()(),t.YNc(12,_c,5,2,"div",15),t.qZA(),t.BQk()}if(2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("disabled",i.disabled),t.xp6(4),t.Oqu(e.quantita+"x "+e.extra.nome),t.xp6(1),t.Q6J("ngClass",t.WLB(6,uc,null==e.extra.prezzoScontato,null!=e.extra.prezzoScontato)),t.xp6(2),t.Oqu(i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.extra.prezzo*e.quantita)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.extra.prezzo*e.quantita)),t.xp6(1),t.Q6J("ngIf",null!=e.extra.prezzoScontato)}}function hc(o,n){if(1&o&&(t.ynx(0),t.YNc(1,fc,13,9,"ng-container",11),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",e.quantita>0)}}function xc(o,n){if(1&o&&(t.TgZ(0,"div",17),t._uU(1),t.TgZ(2,"small",9),t._uU(3),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.totaleScontato),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.totaleScontato))}}function bc(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",22)(1,"a",23),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(2);return a.preventDefault(),t.KtG(r.visualizzaCondizioniPrenotazione())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.condizioniPrenotazione")))}const vc=function(o){return{"col-12 pr-3":o}};function Cc(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.back.emit())}),t.TgZ(2,"span",26),t._uU(3,"keyboard_arrow_left"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()()()}if(2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(5,vc,!e.continuaButtonVisible)),t.xp6(1),t.Q6J("disabled",e.disabled),t.xp6(4),t.Oqu(t.lcZ(6,3,"booking.indietro"))}}const zc=function(o){return{"col-12 pl-3":o}};function wc(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",27)(1,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.continue.emit())}),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",26),t._uU(6,"keyboard_arrow_right"),t.qZA()()()}if(2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(5,zc,!e.backButtonVisible)),t.xp6(1),t.Q6J("disabled",e.continuaButtonDisabled),t.xp6(2),t.Oqu(t.lcZ(4,3,"booking.continua"))}}function Pc(o,n){if(1&o&&(t.ynx(0),t.YNc(1,bc,4,3,"div",18),t.TgZ(2,"div",19),t.YNc(3,Cc,7,7,"div",20),t.YNc(4,wc,7,7,"div",21),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!!e.condizioniPrenotazione),t.xp6(2),t.Q6J("ngIf",e.backButtonVisible),t.xp6(1),t.Q6J("ngIf",e.continuaButtonVisible)}}const Tc=function(o){return{"border-top mt-3 pt-3":o}},Mc=function(o,n){return{"prezzo prezzo-totale":o,"prezzo-sconto":n}};class Ct extends z.H{set _bookingExtraInput(n){if(null!=n&&null!=n.extras&&null!=n.extraSelected){this.bookingExtraInput=n,this.totale=0,this.totaleScontato=null,this.noExtraSelected=!0;for(let e of this.bookingExtraInput.extraSelected){let i=e.extra.prezzo*e.quantita;this.totale+=i,null!=e.extra.prezzoScontato?null==this.totaleScontato?this.totaleScontato=e.extra.prezzoScontato:this.totaleScontato+=e.extra.prezzoScontato:null==this.totaleScontato?this.totaleScontato=i:this.totaleScontato+=i,e.quantita>0&&(this.noExtraSelected=!1)}this.totaleScontato==this.totale&&(this.totaleScontato=null),null!=this.totaleScontato&&this.totaleScontato<=0&&(this.totaleScontato=.01),this.extraChanged.emit(null!=this.totaleScontato?this.totaleScontato:this.totale)}}constructor(n,e){super(),this.containerService=n,this.utility=e,this.mobileSummary=!1,this.back=new t.vpe,this.continue=new t.vpe,this.extraChanged=new t.vpe,this.onChange=new t.vpe,this.totale=0,this.enumTipoSupplemento=m.E9,this.bookingExtraInput=new p.v_9,this.noExtraSelected=!0}visualizzaCondizioniPrenotazione(){let n=new p.Zpt;n.panelClass="booking-dialog",this.containerService.dimension.width>=992?(n.width="50vw",n.maxHeight="50vh"):n.width="80vw",this.showModalDialog(Nt,n).componentInstance.condizioniPrenotazione=this.condizioniPrenotazione}openArticoloDetails(n){let e=new p.Zpt;this.containerService.dimension.width>=992?e.width="50vw":e.width="80vw",e.panelClass="booking-dialog-no-padding";let a=this.showModalDialog(Ut,e).componentInstance;a.articolo=n,a.valuta=this.valuta}}Ct.\u0275fac=function(n){return new(n||Ct)(t.Y36(T.J),t.Y36(v.t))},Ct.\u0275cmp=t.Xpm({type:Ct,selectors:[["app-booking-extra-select-summary"]],inputs:{_bookingExtraInput:"_bookingExtraInput",condizioniPrenotazione:"condizioniPrenotazione",backButtonVisible:"backButtonVisible",disabled:"disabled",continuaButtonVisible:"continuaButtonVisible",continuaButtonDisabled:"continuaButtonDisabled",mobileSummary:"mobileSummary",scontoCodicePromozionale:"scontoCodicePromozionale",valuta:"valuta"},outputs:{back:"back",continue:"continue",extraChanged:"extraChanged",onChange:"onChange"},features:[t.qOj],decls:20,vars:21,consts:[[1,"extra-select-container","border","mat-elevation-z5","p-3"],[1,"title","color-blue","mb-2","font-weight-bold"],[1,"extra-select-row"],[1,"extra-selezionati","mb-2","color-blue"],[4,"ngFor","ngForOf"],[1,"mt-2","mb-2",3,"ngClass"],[1,"clearfix"],[1,"totale"],[1,"float-right",3,"ngClass"],[1,"price-decimals"],["class","text-right w-100 prezzo prezzo-totale",4,"ngIf"],[4,"ngIf"],["mat-icon-button","",1,"remove-extra-button","mr-1",3,"disabled","click"],[1,"material-icons-round","remove-extra-icon"],["href","#",1,"extra",3,"click"],["class","text-right extra-prezzo extra-prezzo-row",4,"ngIf"],[1,"text-right","extra-prezzo","extra-prezzo-row"],[1,"text-right","w-100","prezzo","prezzo-totale"],["class","mb-3",4,"ngIf"],[1,"row"],["class","col-6 pr-1",3,"ngClass",4,"ngIf"],["class","col-6 pl-1",3,"ngClass",4,"ngIf"],[1,"mb-3"],["href","#",1,"condizioniPrenotazioneLink",3,"click"],[1,"col-6","pr-1",3,"ngClass"],["mat-flat-button","",1,"w-100","button-blue-indietro",3,"disabled","click"],[1,"material-icons-round"],[1,"col-6","pl-1",3,"ngClass"],["mat-flat-button","",1,"w-100","button-blue",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2)(5,"div",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,hc,2,1,"ng-container",4),t.TgZ(9,"div",5)(10,"div",6)(11,"span",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"span",8),t._uU(15),t.TgZ(16,"small",9),t._uU(17),t.qZA()()(),t.YNc(18,xc,4,2,"div",10),t.qZA(),t.YNc(19,Pc,5,3,"ng-container",11),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,10,"booking.riepilogoPrenotazione")," "),t.xp6(4),t.Oqu(t.lcZ(7,12,"booking.extraSelezionati")),t.xp6(2),t.Q6J("ngForOf",e.bookingExtraInput.extraSelected),t.xp6(1),t.Q6J("ngClass",t.VKq(16,Tc,null!=e.bookingExtraInput.extraSelected&&e.bookingExtraInput.extraSelected.length>0&&!e.noExtraSelected)),t.xp6(3),t.Oqu(t.lcZ(13,14,"booking.totale")),t.xp6(2),t.Q6J("ngClass",t.WLB(18,Mc,null==e.totaleScontato,null!=e.totaleScontato)),t.xp6(1),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.totale)),t.xp6(1),t.Q6J("ngIf",null!=e.totaleScontato),t.xp6(1),t.Q6J("ngIf",!e.mobileSummary))},dependencies:[s.mk,s.sg,s.O5,C.eB,b.X$],styles:[".extra-select-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.extra-select-row[_ngcontent-%COMP%]{color:#000000de}.prezzo[_ngcontent-%COMP%]{color:#004987;font-weight:600}.prezzo-totale[_ngcontent-%COMP%]{font-size:22px}.prezzo-sconto[_ngcontent-%COMP%]{color:#aaabad;text-decoration:line-through}.extra[_ngcontent-%COMP%]{font-size:13px;color:#aaa}.extra-prezzo-row[_ngcontent-%COMP%]{line-height:12px}.extra-prezzo[_ngcontent-%COMP%]{font-size:14px;color:#004987;font-weight:600}.extra-prezzo-sconto[_ngcontent-%COMP%]{font-size:14px;color:#666;text-decoration:line-through}.totale[_ngcontent-%COMP%], .extra-selezionati[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#555}.condizioniPrenotazioneLink[_ngcontent-%COMP%]{font-weight:600;color:#555}.vantaggiPrenotazione[_ngcontent-%COMP%]{font-weight:600;color:#00b572}.border-top[_ngcontent-%COMP%]{border-top:1px solid #cccccc}.remove-extra-button[_ngcontent-%COMP%]{color:#d9534f;line-height:18px;width:18px;height:18px}.remove-extra-icon[_ngcontent-%COMP%]{font-size:18px;line-height:18px}.title[_ngcontent-%COMP%]{font-size:22px}"]});const yc=["container"];function Zc(o,n){if(1&o&&(t.TgZ(0,"div",15),t._UZ(1,"app-inner-html",16),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("_text",e.descrizioneExtra)}}function kc(o,n){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.debitEntryId),t.xp6(1),t.hij(" ",e.nome?e.nome:"---"," ")}}function Ac(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",17),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-form-field",18)(5,"mat-select",19),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.voceAddebitoOid=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onFilter())}),t.TgZ(6,"mat-option",20),t._uU(7," --- "),t.qZA(),t.YNc(8,kc,2,2,"mat-option",21),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,5,"booking.filtraPerTipologia")),t.xp6(3),t.Q6J("panelClass","booking-select-unlimited-height")("ngModel",e.voceAddebitoOid),t.xp6(1),t.Q6J("value",-1),t.xp6(2),t.Q6J("ngForOf",e.bookingExtraInput.vociAddebito)}}function Sc(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",32)(1,"app-extra",33),t.NdJ("onExtraAdd",function(){const r=t.CHM(e).$implicit,l=t.oxw(5);return t.KtG(l.onExtraAdd(r))}),t.qZA()()}if(2&o){const e=n.$implicit,i=t.oxw(5);t.xp6(1),t.Q6J("extra",e)("valuta",i.valuta)}}function Oc(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-expansion-panel",23,24)(3,"mat-expansion-panel-header",25)(4,"div",26)(5,"div",27),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",28)(9,"span",29),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",30),t._uU(13),t.qZA()()()(),t.YNc(14,Sc,2,2,"div",31),t.qZA(),t.BQk()),2&o){const e=t.MAs(2),i=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("expanded",i.voceAddebito.isVisualizzaEspanso||a.voceAddebitoOid>0),t.xp6(2),t.Q6J("collapsedHeight","32px")("expandedHeight","32px"),t.xp6(3),t.hij(" ",null==i.voceAddebito||-1==i.voceAddebito.debitEntryId?t.lcZ(7,7,"booking.nessunTipo"):i.voceAddebito.nome?i.voceAddebito.nome:"---"," "),t.xp6(4),t.Oqu(t.lcZ(11,9,e.expanded?"booking.nascondiOpzioni":"booking.guardaLeOpzioni")),t.xp6(3),t.Oqu(e.expanded?"keyboard_arrow_up":"keyboard_arrow_down"),t.xp6(1),t.Q6J("ngForOf",i.extras)}}function Ic(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Oc,15,11,"ng-container",11),t.BQk()),2&o){const e=n.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",-1==i.voceAddebitoOid||null!=e.voceAddebito&&e.voceAddebito.debitEntryId==i.voceAddebitoOid)}}function qc(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ic,2,1,"ng-container",22),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.bookingExtraInput.extras)}}function Jc(o,n){1&o&&(t.ynx(0),t.TgZ(1,"div",34)(2,"h5",35),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.BQk()),2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"booking.nessunSupplementoSelezionabile")))}const Qc=function(o){return{"sticky-top":o}},Uc=function(o){return{"mb-3":o}};function Nc(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"app-booking-extra-select-summary",3),t.NdJ("continue",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onExtraSelected.emit())})("onChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onChange.emit())}),t.qZA()(),t.TgZ(3,"div",4,5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"h4",9),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,Zc,2,1,"div",10),t.YNc(12,Ac,9,7,"ng-container",11),t.qZA(),t.TgZ(13,"div",12)(14,"button",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onExtraSelected.emit())}),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"span",14),t._uU(19,"keyboard_arrow_right"),t.qZA()()()()(),t.YNc(20,qc,2,1,"ng-container",11),t.YNc(21,Jc,5,3,"ng-container",11),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(19,Qc,e.containerService.dimension.width>=992)),t.xp6(1),t.Q6J("_bookingExtraInput",e.bookingExtraInput)("condizioniPrenotazione",e.condizioniPrenotazione)("backButtonVisible",!1)("continuaButtonVisible",!0)("continuaButtonDisabled",e.noExtraSelected)("valuta",e.valuta),t.xp6(6),t.Q6J("ngClass",t.VKq(21,Uc,!e.descrizioneExtra)),t.xp6(1),t.hij(" ",t.lcZ(10,15,"booking.scopriServizi"),""),t.xp6(2),t.Q6J("ngIf",!!e.descrizioneExtra),t.xp6(1),t.Q6J("ngIf",null!=e.bookingExtraInput.vociAddebito&&e.bookingExtraInput.vociAddebito.length>1),t.xp6(2),t.Q6J("disabled",e.noExtraSelected),t.xp6(2),t.Oqu(t.lcZ(17,17,"booking.continua")),t.xp6(4),t.Q6J("ngIf",!e.noExtras),t.xp6(1),t.Q6J("ngIf",e.noExtras)}}class ue extends z.H{set _bookingExtraInput(n){if(null!=n&&null!=n.extras&&null!=n.extraSelected&&null!=n.vociAddebito&&(this.bookingExtraInput=n,this.checkNoExtrasSelected(),!this.initialized)){this.noExtras=!0;for(let e of this.bookingExtraInput.extras)if(e.extras.length>0){this.noExtras=!1;break}this.setIsLoading(!1),this.initialized=!0}}constructor(n,e){super(),this.utility=n,this.containerService=e,this.onExtraSelected=new t.vpe,this.onChange=new t.vpe,this.verificaCodicePromozionale=new t.vpe,this.noExtraSelectedEvent=new t.vpe,this.bookingExtraInput=new p.v_9,this.voceAddebitoOid=-1,this.noExtras=!1,this.noExtraSelected=!0,this.initialized=!1}ngOnInit(){this.sub=this.scroll.subscribe(()=>{this.containerService.dimension.width<992?setTimeout(()=>{null!=this.container&&this.container.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop()})}onExtraAdd(n){n.quantita++,this.onChange.emit(),this.verificaCodicePromozionale.emit()}onFilter(){if(-1!=this.voceAddebitoOid){let n=this.bookingExtraInput.extras.filter(e=>e.voceAddebito.debitEntryId==this.voceAddebitoOid);this.noExtras=0==n.length||0==n[0].extras.length}else{this.noExtras=!0;for(let n of this.bookingExtraInput.extras)if(n.extras.length>0){this.noExtras=!1;break}}}checkNoExtrasSelected(){this.noExtraSelected=!0,this.noExtraSelectedEvent.emit(this.noExtraSelected);for(let n of this.bookingExtraInput.extraSelected)if(n.quantita>0){this.noExtraSelected=!1,this.noExtraSelectedEvent.emit(this.noExtraSelected);break}}ngOnDestroy(){this.sub.unsubscribe()}}ue.\u0275fac=function(n){return new(n||ue)(t.Y36(v.t),t.Y36(T.J))},ue.\u0275cmp=t.Xpm({type:ue,selectors:[["app-booking-extra-select"]],viewQuery:function(n,e){if(1&n&&t.Gf(yc,5),2&n){let i;t.iGM(i=t.CRH())&&(e.container=i.first)}},inputs:{scroll:"scroll",_bookingExtraInput:"_bookingExtraInput",condizioniPrenotazione:"condizioniPrenotazione",descrizioneExtra:"descrizioneExtra",valuta:"valuta"},outputs:{onExtraSelected:"onExtraSelected",onChange:"onChange",verificaCodicePromozionale:"verificaCodicePromozionale",noExtraSelectedEvent:"noExtraSelectedEvent"},features:[t.qOj],decls:1,vars:1,consts:[["class","d-flex flex-column flex-lg-row justify-content-center",4,"ngIf"],[1,"d-flex","flex-column","flex-lg-row","justify-content-center"],[1,"summary-col","mx-auto","mx-lg-0",3,"ngClass"],[3,"_bookingExtraInput","condizioniPrenotazione","backButtonVisible","continuaButtonVisible","continuaButtonDisabled","valuta","continue","onChange"],[1,"extra-col","mx-auto","mx-lg-0","mt-3","mt-lg-0"],["container",""],[1,"filtro-extra-container","mat-elevation-z5","border","p-3","mb-3"],[1,"row"],[1,"col-12","col-lg-8"],[1,"color-blue","font-weight-bold","d-block",3,"ngClass"],["class","mb-3",4,"ngIf"],[4,"ngIf"],[1,"col-4","d-none","d-lg-flex","continua-col"],["mat-flat-button","",1,"button-blue","float-right",3,"disabled","click"],[1,"material-icons-round"],[1,"mb-3"],[3,"_text"],[1,"text-big","font-weight-bold","mr-3"],[1,"booking-extra-select"],[3,"panelClass","ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["hideToggle","",1,"booking-extra-select-panel","pb-3",3,"expanded"],["panel",""],[1,"pr-0","pl-0",3,"collapsedHeight","expandedHeight"],[1,"extra-tipo","pt-1","pb-1","w-100","font-weight-bold","mat-elevation-z4"],[1,"d-inline-block"],[1,"d-inline-block","float-right","text-small"],[1,"d-inline-block","align-middle"],[1,"material-icons-round","align-middle"],["class","mt-3",4,"ngFor","ngForOf"],[1,"mt-3"],[3,"extra","valuta","onExtraAdd"],[1,"no-extra-container","mat-elevation-z5","border","p-3"],[1,"mb-0","font-weight-bold"]],template:function(n,e){1&n&&t.YNc(0,Nc,22,23,"div",0),2&n&&t.Q6J("ngIf",e.initialized)},dependencies:[s.mk,s.sg,s.O5,C.eB,M.v_,F.CK,U.x8,W.ib,W.yz,f.JJ,f.On,Z.W,Et,Ct,b.X$],styles:[".filtro-extra-container[_ngcontent-%COMP%], .no-extra-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.extra-col[_ngcontent-%COMP%]{padding-left:0;flex:1;max-width:1000px;width:100%}.summary-col[_ngcontent-%COMP%]{width:100%;max-width:100%;min-width:100%;top:10px!important;align-self:flex-start!important}@media (min-width: 992px){.summary-col[_ngcontent-%COMP%]{width:330px;max-width:330px;min-width:330px}.extra-col[_ngcontent-%COMP%]{padding-left:15px}}  .booking-extra-select .mat-form-field-flex{border:1px solid #bbbbbb!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important}  .booking-extra-select .mat-form-field-wrapper{padding-bottom:0!important}  .booking-extra-select .mat-form-field-underline{visibility:hidden!important}  .booking-extra-select .mat-form-field-infix{border-top:0!important}  .booking-extra-select{max-width:100%!important}.continua-col[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center}.extra-tipo[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff;border-radius:7px;padding-right:10px;padding-left:24px;height:32px}  .booking-extra-select-panel{box-shadow:none!important;border-radius:0!important;background-color:transparent!important}  .booking-extra-select-panel .mat-expansion-panel-content{font:inherit!important}  .booking-extra-select-panel .mat-expansion-panel-body{padding:0!important}  .booking-extra-select-panel .mat-expansion-panel-header{font:inherit!important}  .booking-extra-select-panel .mat-expansion-panel-header .mat-content{overflow:visible!important}.text-small[_ngcontent-%COMP%]{font-size:14px}"]});var to=d(99173);const Ec=["container"];function Dc(o,n){1&o&&(t.TgZ(0,"h5",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"interfaces.pagamento-form.nessunaModalitaPagamento")))}function Lc(o,n){1&o&&(t.TgZ(0,"h3",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.inserisciDatiCliente")," "))}function Bc(o,n){if(1&o&&t._UZ(0,"google-signin-button",39),2&o){const e=t.oxw(3);t.Q6J("locale",e.lingua)}}function Vc(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.loginEvent.emit())}),t.TgZ(1,"span",41),t._uU(2,"person"),t.qZA(),t.TgZ(3,"span",33),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"booking.possiedoAccount")))}function Yc(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",42)(1,"button",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.loginEvent.emit())}),t.TgZ(2,"span",41),t._uU(3,"person"),t.qZA(),t.TgZ(4,"span",33),t._uU(5),t.ALo(6,"translate"),t.qZA()()()}2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"booking.possiedoAccount")))}function Fc(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.signInWithFB())}),t._UZ(3,"i",32),t.TgZ(4,"span",33),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",34)(8,"div",35),t.YNc(9,Bc,1,1,"google-signin-button",36),t.qZA(),t.YNc(10,Vc,6,3,"button",37),t.qZA(),t.YNc(11,Yc,7,3,"div",38),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,4,"booking.accediFacebook")),t.xp6(4),t.Q6J("ngIf",!!e.lingua),t.xp6(1),t.Q6J("ngIf",!e.sessionService.isLoggedInMySelf()&&e.containerService.dimension.width>=1300),t.xp6(1),t.Q6J("ngIf",!e.sessionService.isLoggedInMySelf()&&e.containerService.dimension.width<1300)}}function Hc(o,n){if(1&o&&(t.TgZ(0,"div",44)(1,"h4",45),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-inner-html",46),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.condizioniPrenotazione")),t.xp6(2),t.Q6J("_text",e.condizioniPrenotazione)}}function Rc(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",48)(2,"input",49),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.codicePromozionale=a)}),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"button",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(null==a.oidCodicePromozione?a.verificaCodicePromozionale():a.resetCodicePromozionale())}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Q6J("placeholder",t.lcZ(3,5,"booking.inserisciCodicePromozionale"))("ngModel",e.codicePromozionale)("disabled",null!=e.oidCodicePromozione),t.xp6(2),t.Q6J("disabled",!e.codicePromozionale),t.xp6(1),t.hij(" ",t.lcZ(6,7,null==e.oidCodicePromozione?"booking.applica":"booking.rimuovi")," ")}}const dn=function(){return["nome"]};function Gc(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",51)(2,"div",52)(3,"mat-form-field",16)(4,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.indirizzo=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.checkFormValidity())}),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"mat-error"),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",52)(10,"app-autocomplete",53),t.NdJ("updateOptionsEvent",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onUpdateOptionsComune(a))})("optionSelectedEvent",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onComuneSelected(a))})("onInput",function(a){t.CHM(e);const r=t.oxw(3);return r.citta=a,t.KtG(r.checkFormValidity())}),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",51)(13,"div",52)(14,"mat-form-field",16)(15,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.provincia=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.checkFormValidity())}),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"mat-error"),t._uU(18),t.ALo(19,"translate"),t.qZA()()(),t.TgZ(20,"div",52)(21,"mat-form-field",16)(22,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.cap=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.checkFormValidity())}),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"mat-error"),t._uU(25),t.ALo(26,"translate"),t.qZA()()()(),t.TgZ(27,"div",54)(28,"app-autocomplete",55),t.NdJ("updateOptionsEventString",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onUpdateOptionsNazione(a))})("optionSelectedEvent",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onNazioneSelected(a))})("onInput",function(a){t.CHM(e);const r=t.oxw(3);return r.nazione=a,t.KtG(r.checkFormValidity())}),t.ALo(29,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(3);t.xp6(4),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(5,34,"booking.indirizzo"))("ngModel",e.indirizzo)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(8,36,"globals.required")),t.xp6(3),t.Q6J("dataLoader",e.dataLoaderComune)("viewProperties",t.DdM(50,dn))("viewPropertiesSelected",t.DdM(51,dn))("label",t.lcZ(11,38,"booking.citta"))("required",!0)("showErrorRequired",!0)("selected",e.selectedComune)("disabled",e.buttonsDisabled),t.xp6(5),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(16,40,"booking.provincia"))("ngModel",e.provincia)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(19,42,"globals.required")),t.xp6(4),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(23,44,"booking.cap"))("ngModel",e.cap)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(26,46,"globals.required")),t.xp6(3),t.Q6J("dataLoader",e.dataLoaderNazione)("viewProperties",t.DdM(52,dn))("viewPropertiesSelected",t.DdM(53,dn))("label",t.lcZ(29,48,"booking.nazione"))("required",!0)("showErrorRequired",!0)("selected",e.selectedNazione)("disabled",e.buttonsDisabled)}}function Kc(o,n){if(1&o&&(t.TgZ(0,"div",47),t.YNc(1,Rc,7,9,"ng-container",7),t.YNc(2,Gc,30,54,"ng-container",7),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.buttonsDisabled),t.xp6(1),t.Q6J("ngIf",e.isAttivaSpedizioneBookingExtra)}}function jc(o,n){1&o&&(t.TgZ(0,"h3",56),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.prenotazioneCompletata")," "))}function Xc(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,Lc,3,3,"h3",11),t.YNc(2,Fc,12,6,"div",12),t.TgZ(3,"div",13)(4,"div",14)(5,"div",15)(6,"mat-form-field",16)(7,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.nome=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return a.cliente.nome&&(a.cliente.nome=a.utility.capitalize(a.cliente.nome)),t.KtG(a.checkFormValidity())}),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"mat-error"),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",15)(13,"mat-form-field",16)(14,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.cognome=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return a.cliente.cognome&&(a.cliente.cognome=a.utility.capitalize(a.cliente.cognome)),t.KtG(a.checkFormValidity())}),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"mat-error"),t._uU(17),t.ALo(18,"translate"),t.qZA()()()(),t.TgZ(19,"div",14)(20,"div",18)(21,"mat-form-field",16)(22,"input",19),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.email=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkFormValidity())}),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"mat-error"),t._uU(25),t.ALo(26,"translate"),t.qZA()()(),t.TgZ(27,"div",18)(28,"mat-form-field",16)(29,"input",20),t.NdJ("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkFormValidity())})("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.emailConferma=a)}),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"mat-error"),t._uU(32),t.ALo(33,"translate"),t.qZA()()()(),t.TgZ(34,"div",14)(35,"div",18)(36,"mat-form-field",16)(37,"input",21),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cliente.cellulare=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkFormValidity())}),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"mat-error"),t._uU(40),t.ALo(41,"translate"),t.qZA()()()(),t.TgZ(42,"div",22)(43,"mat-form-field",23)(44,"textarea",24),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.richieste=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.checkFormValidity())}),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"mat-error"),t._uU(47),t.ALo(48,"translate"),t.qZA()()()(),t.YNc(49,Hc,5,4,"div",25),t.YNc(50,Kc,3,2,"div",26),t.YNc(51,jc,3,3,"h3",27),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.buttonsDisabled),t.xp6(1),t.Q6J("ngIf",!e.buttonsDisabled&&e.isVisualizzaBottoniSocialLoginStep2),t.xp6(5),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(8,44,"booking.nome"))("ngModel",e.cliente.nome)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(11,46,"globals.required")),t.xp6(4),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(15,48,"booking.cognome"))("ngModel",e.cliente.cognome)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(18,50,"globals.required")),t.xp6(5),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(23,52,"booking.email"))("ngModel",e.cliente.email)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(26,54,"globals.required")),t.xp6(4),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(30,56,"booking.confermaEmail"))("ngModel",e.emailConferma)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled),t.xp6(3),t.Oqu(t.lcZ(33,58,"globals.required")),t.xp6(5),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(38,60,"booking.cellulare"))("ngModel",e.cliente.cellulare)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled)("required",e.isCellulareObbligatorio),t.xp6(3),t.Oqu(t.lcZ(41,62,"globals.required")),t.xp6(3),t.Q6J("floatLabel","always"),t.xp6(1),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(45,64,"booking.richieste"))("ngModel",e.richieste)("readOnly",e.buttonsDisabled)("disabled",e.buttonsDisabled)("required",e.isRichiesteObbligatorie),t.xp6(3),t.Oqu(t.lcZ(48,66,"globals.required")),t.xp6(2),t.Q6J("ngIf",e.isVisualizzaCondizioniPrenotazioneStep2&&!!e.condizioniPrenotazione&&!e.buttonsDisabled),t.xp6(1),t.Q6J("ngIf",!e.buttonsDisabled||e.isAttivaSpedizioneBookingExtra),t.xp6(1),t.Q6J("ngIf",e.buttonsDisabled)}}function $c(o,n){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"globals.messages.emailNonValida")," "))}function Wc(o,n){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.emailDiverse")," "))}function ts(o,n){if(1&o&&(t.TgZ(0,"div",59),t.YNc(1,$c,3,3,"ng-container",7),t.YNc(2,Wc,3,3,"ng-container",7),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!!e.cliente.email&&!e.utility.validateEmail(e.cliente.email)),t.xp6(1),t.Q6J("ngIf",!!e.cliente.email&&e.utility.validateEmail(e.cliente.email)&&!!e.emailConferma&&e.cliente.email!=e.emailConferma)}}function es(o,n){if(1&o&&(t.TgZ(0,"div",60),t._UZ(1,"app-inner-html",46),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("_text",e.descrizioneFinale)}}function ns(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ts,3,2,"div",57),t.YNc(2,es,2,1,"div",58),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null!=e.cliente),t.xp6(1),t.Q6J("ngIf",e.buttonsDisabled&&!!e.descrizioneFinale)}}const os=function(o){return{"sticky-top":o}},is=function(o,n,e){return{lingua:o,oidPortale:n,oidAlbergo:e}};class fe extends z.H{set _isAttivaSpedizioneBookingExtra(n){if(null!=n&&(this.isAttivaSpedizioneBookingExtra=n,this.sessionService.isLoggedInMySelf()&&this.isAttivaSpedizioneBookingExtra)){if(this.indirizzo=this.sessionService.sessione.clienteMySelf.indirizzo,this.citta=this.sessionService.sessione.clienteMySelf.comuneString,null!=this.sessionService.sessione.clienteMySelf.comune)this.selectedComune=Object.assign({},this.sessionService.sessione.clienteMySelf.comune);else{let e=new w.AlI;e.nome=this.citta,this.selectedComune=e}this.cap=this.sessionService.sessione.clienteMySelf.cap,this.provincia=this.sessionService.sessione.clienteMySelf.provincia,this.nazione=this.sessionService.sessione.clienteMySelf.nazioneString,this.selectedNazione=this.sessionService.getNazioneTradotta(this.lingua),this.checkFormValidity()}}constructor(n,e,i,a,r){super(),this.utility=n,this.apiService=e,this.containerService=i,this.authService=a,this.sessionService=r,this.back=new t.vpe,this.loginEvent=new t.vpe,this.onChange=new t.vpe,this.onTotaleChange=new t.vpe,this.onPrenotazioneCompleted=new t.vpe,this.cliente=new w.c1h,this.formValid=!1,this.errorMessage="globals.messages.inserireDati",this.noPaymentMethod=!1,this.buttonsDisabled=!1,this.selectedComune=new w.AlI,this.selectedNazione=new w.uyR}ngOnInit(){this.sub=this.authService.authState.subscribe(n=>{null!=n&&null!=this.cliente&&(this.cliente.nome=n.firstName,this.cliente.cognome=n.lastName,this.cliente.email=n.email,this.checkFormValidity())}),this.sub1=this.loginSubject.subscribe(()=>{if(this.sessionService.isLoggedInMySelf()){if(null!=this.cliente&&(this.cliente.nome=this.sessionService.sessione.clienteMySelf.nome,this.cliente.cognome=this.sessionService.sessione.clienteMySelf.cognome,this.cliente.email=this.sessionService.sessione.clienteMySelf.email,this.cliente.cellulare=this.sessionService.sessione.clienteMySelf.cellulare,this.cliente.privacy=this.sessionService.sessione.clienteMySelf.privacy,this.cliente.newsletter=this.sessionService.sessione.clienteMySelf.newsletter),this.isAttivaSpedizioneBookingExtra){if(this.indirizzo=this.sessionService.sessione.clienteMySelf.indirizzo,this.citta=this.sessionService.sessione.clienteMySelf.comuneString,null!=this.sessionService.sessione.clienteMySelf.comune)this.selectedComune=Object.assign({},this.sessionService.sessione.clienteMySelf.comune);else{let n=new w.AlI;n.nome=this.citta,this.selectedComune=n}this.cap=this.sessionService.sessione.clienteMySelf.cap,this.provincia=this.sessionService.sessione.clienteMySelf.provincia,this.nazione=this.sessionService.sessione.clienteMySelf.nazioneString,this.selectedNazione=this.sessionService.getNazioneTradotta(this.lingua)}this.checkFormValidity()}else this.cliente=new w.c1h,this.indirizzo=null,this.citta=null,this.cap=null,this.provincia=null,this.nazione=null,this.selectedComune=new w.AlI,this.selectedNazione=new w.uyR,this.checkFormValidity()}),this.sub3=this.scroll.subscribe(()=>{this.containerService.dimension.width<992?setTimeout(()=>{null!=this.container&&this.container.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop()}),this.sub2=this.verificaCodicePromozionaleSubject.subscribe(()=>{null!=this.oidCodicePromozione&&this.verificaCodicePromozionale(!0)})}ngAfterViewInit(){setTimeout(()=>{this.sessionService.isLoggedInMySelf()?null!=this.cliente&&(this.cliente.nome=this.sessionService.sessione.clienteMySelf.nome,this.cliente.cognome=this.sessionService.sessione.clienteMySelf.cognome,this.cliente.email=this.sessionService.sessione.clienteMySelf.email,this.cliente.cellulare=this.sessionService.sessione.clienteMySelf.cellulare,this.cliente.privacy=this.sessionService.sessione.clienteMySelf.privacy,this.cliente.newsletter=this.sessionService.sessione.clienteMySelf.newsletter,this.checkFormValidity()):(this.cliente=new w.c1h,this.indirizzo=null,this.citta=null,this.cap=null,this.provincia=null,this.nazione=null,this.selectedComune=new w.AlI,this.selectedNazione=new w.uyR,this.checkFormValidity())},200)}prenota(n){this.setIsLoading(!0);let e=new p.Rlz;e.oidPortale=this.oidPortale,e.extra=this.bookingExtraInput.extraSelected,e.cliente=this.cliente,e.pagamento=n,e.lingua=this.lingua,e.oidCodicePromozionale=this.oidCodicePromozione,e.indirizzo=this.indirizzo,e.citta=this.citta,e.cap=this.cap,e.nazione=this.nazione,e.provincia=this.provincia,e.totale=this.totale,e.uid=this.uid,e.richieste=this.richieste,this.apiService.createPrenotazioneExtra(e).subscribe(()=>{this.setIsLoading(!1),this.showInfo("globals.messages.prenotazioneCompletata").then(()=>{this.buttonsDisabled=!0,this.onPrenotazioneCompleted.emit(),this.containerService.scrollToTop()})})}checkFormValidity(){!(this.cliente.nome&&this.cliente.cognome&&this.cliente.email)||this.isCellulareObbligatorio&&!this.cliente.cellulare||this.isRichiesteObbligatorie&&!this.richieste||this.isAttivaSpedizioneBookingExtra&&!(this.indirizzo&&this.citta&&this.cap&&this.provincia&&this.nazione)?(this.errorMessage="globals.messages.inserireDati",this.formValid=!1):this.utility.validateEmail(this.cliente.email)?this.cliente.email==this.emailConferma?this.formValid=!0:(this.errorMessage="booking.emailDiverse",this.formValid=!1):(this.errorMessage="globals.messages.emailNonValida",this.formValid=!1)}verificaCodicePromozionale(n=!1){this.setIsLoading(!0),null!=this.verificaCodicePromozionaleSubscription&&this.verificaCodicePromozionaleSubscription.unsubscribe(),this.bookingExtraInput.extraSelected.forEach(i=>i.extra.prezzoScontato=null);let e=new p.NUT;e.oidAlbergo=this.oidAlbergo,e.oidPortale=this.oidPortale,e.codice=this.codicePromozionale,e.extras=this.bookingExtraInput.extraSelected,this.verificaCodicePromozionaleSubscription=this.apiService.verificaCodicePromozionale(e).subscribe(i=>{if(null!=i.data.oidCodicePromozione&&i.data.oidCodicePromozione>0){this.oidCodicePromozione=i.data.oidCodicePromozione;let a=0;for(let r of this.bookingExtraInput.extraSelected)r.extra.prezzoScontato=i.data.extras[a].extra.prezzoScontato,a++;this.onChange.emit(),n||this.showInfo("booking.codiceApplicato",{value:i.data.sconto+" "+this.utility.getValuta(this.valuta,!1)})}else this.resetCodicePromozionale(),this.showError("booking.erroreCodice");this.setIsLoading(!1)})}resetCodicePromozionale(){this.codicePromozionale=null,this.oidCodicePromozione=null,this.bookingExtraInput.extraSelected.forEach(n=>n.extra.prezzoScontato=null),this.onChange.emit()}onChangeEvent(){null!=this.oidCodicePromozione?this.verificaCodicePromozionale(!0):this.onChange.emit()}onUpdateOptionsComune(n){this.dataLoaderComune=new p.hkX(this.apiService.getComuniFilter(n))}onComuneSelected(n){null!=n&&n.oid>0&&(this.citta=n.nome,this.cap=n.cap,this.provincia=n.provincia,this.checkFormValidity())}onUpdateOptionsNazione(n){let e=new p.dxh;e.lingua=this.lingua,e.nome=n,e.addEmptyItem=!1,this.dataLoaderNazione=new p.hkX(this.apiService.getNazioniTradotte(e))}onNazioneSelected(n){null!=n&&n.oid>0&&(this.nazione=n.nomeItaliano,this.checkFormValidity())}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe()}}function as(o,n){1&o&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.tiProponiamoSoluzioniAlternative")," "))}function rs(o,n){1&o&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.tiProponiamoSoluzioniAlternativeMobile")," "))}function ls(o,n){1&o&&(t.TgZ(0,"span",26),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("---"))}function cs(o,n){if(1&o&&(t.TgZ(0,"span",26),t._uU(1),t.TgZ(2,"small",27),t._uU(3),t.qZA()()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Oqu(i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.prezzoMinimo)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.prezzoMinimo))}}function ss(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),t._uU(5),t.ALo(6,"momentFormat"),t.qZA(),t.TgZ(7,"div",18),t._uU(8),t.ALo(9,"momentFormat"),t.qZA()(),t.TgZ(10,"div",16)(11,"div")(12,"span",19),t._uU(13,"arrow_forward"),t.qZA()(),t.TgZ(14,"div",20)(15,"span",21),t._uU(16),t.ALo(17,"translate"),t.qZA()()(),t.TgZ(18,"div",16)(19,"div",17),t._uU(20),t.ALo(21,"momentFormat"),t.qZA(),t.TgZ(22,"div",18),t._uU(23),t.ALo(24,"momentFormat"),t.qZA()()(),t.TgZ(25,"div",22)(26,"span",1),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.YNc(29,ls,2,1,"span",23),t.YNc(30,cs,4,2,"span",23),t.qZA(),t.TgZ(31,"div",24)(32,"button",25),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.dateSelected.emit(r))}),t._uU(33),t.ALo(34,"translate"),t.qZA()()()()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw();t.xp6(5),t.hij(" ",t.Dn7(6,9,e.arrivo,"ddd",a.getLocale())," "),t.xp6(3),t.hij(" ",t.Dn7(9,13,e.arrivo,"D",a.getLocale())," "),t.xp6(8),t.Oqu(a.nights[i]+t.lcZ(17,17,1==a.nights[i]?"booking.notte":"booking.piuNotti")),t.xp6(4),t.hij(" ",t.Dn7(21,19,e.partenza,"ddd",a.getLocale())," "),t.xp6(3),t.hij(" ",t.Dn7(24,23,e.partenza,"D",a.getLocale())," "),t.xp6(4),t.Oqu(t.lcZ(28,27,"booking.da")),t.xp6(2),t.Q6J("ngIf",null==e.prezzoMinimo),t.xp6(1),t.Q6J("ngIf",null!=e.prezzoMinimo),t.xp6(3),t.Oqu(t.lcZ(34,29,"booking.seleziona"))}}function ps(o,n){1&o&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.oppureSelezionaAltreDate")," "))}function gs(o,n){1&o&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.selezionaAltreDate")," "))}fe.\u0275fac=function(n){return new(n||fe)(t.Y36(v.t),t.Y36(k.s),t.Y36(T.J),t.Y36(qt.xE),t.Y36(nt.m))},fe.\u0275cmp=t.Xpm({type:fe,selectors:[["app-booking-extra-select-pagamento"]],viewQuery:function(n,e){if(1&n&&t.Gf(Ec,5),2&n){let i;t.iGM(i=t.CRH())&&(e.container=i.first)}},inputs:{scroll:"scroll",bookingExtraInput:"bookingExtraInput",modalitaPagamento:"modalitaPagamento",lingua:"lingua",oidAlbergo:"oidAlbergo",oidPortale:"oidPortale",uid:"uid",condizioniPrenotazione:"condizioniPrenotazione",descrizioneFinale:"descrizioneFinale",loginSubject:"loginSubject",recaptchaAttiva:"recaptchaAttiva",isVisualizzaCondizioniPrenotazioneStep2:"isVisualizzaCondizioniPrenotazioneStep2",isAccettaContrattoPrenotazioneStep2:"isAccettaContrattoPrenotazioneStep2",isVerificaCartaCredito:"isVerificaCartaCredito",isVisualizzaCRO:"isVisualizzaCRO",condizioniContratto:"condizioniContratto",isVisualizzaBottoniSocialLoginStep2:"isVisualizzaBottoniSocialLoginStep2",isCellulareObbligatorio:"isCellulareObbligatorio",isRichiesteObbligatorie:"isRichiesteObbligatorie",verificaCodicePromozionaleSubject:"verificaCodicePromozionaleSubject",valuta:"valuta",_isAttivaSpedizioneBookingExtra:"_isAttivaSpedizioneBookingExtra"},outputs:{back:"back",loginEvent:"loginEvent",onChange:"onChange",onTotaleChange:"onTotaleChange",onPrenotazioneCompleted:"onPrenotazioneCompleted"},features:[t.qOj],decls:11,vars:34,consts:[[1,"d-flex","flex-column","flex-lg-row","justify-content-center"],[1,"summary-col","mx-auto","mx-lg-0",3,"ngClass"],[3,"_bookingExtraInput","condizioniPrenotazione","backButtonVisible","disabled","continuaButtonVisible","valuta","back","extraChanged","onChange"],[1,"informations-col","mx-auto","mx-lg-0","mt-3","mt-lg-0"],[1,"prenotazione-details-container","border","mat-elevation-z5","p-3"],["container",""],["class","font-weight-bold mb-0 text-center",4,"ngIf"],[4,"ngIf"],[1,"mt-3","mb-3",3,"hidden"],[3,"_totale","linguaPortaleAlbergo","_modalitaPagamento","allModalitaPagamento","cliente","_formValid","errorMessage","_recaptchaAttiva","disabled","_isAccettaContrattoPrenotazioneStep2","isVerificaCartaCredito","isVisualizzaCRO","condizioniContratto","note","valuta","privacy","newsletter","createOrder","noPaymentMethod"],[1,"font-weight-bold","mb-0","text-center"],["class","font-weight-bold mb-1 text-center color-blue",4,"ngIf"],["class","row mb-4 mt-3",4,"ngIf"],[1,"cliente-details-container","border","mat-elevation-z5","p-3"],[1,"row"],[1,"col-12","col-sm-6"],[1,"w-100"],["autocompleteOff","","matInput","","required","",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","ngModelChange"],[1,"col-12","col-sm-6","mt-2"],["autocompleteOff","","matInput","","type","email","required","",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","ngModelChange"],["autocompleteOff","","matInput","","type","email","required","",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","input","ngModelChange"],["autocompleteOff","","matInput","","type","text",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","required","ngModelChange"],[1,"border","mat-elevation-z1","richieste-container","p-3","mb-3","mt-2"],[1,"w-100","richieste-textarea",3,"floatLabel"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","required","ngModelChange"],["class","condizioni-prenotazione-container border mat-elevation-z5 p-3 mt-3",4,"ngIf"],["class","codice-promozionale-container border mat-elevation-z5 p-3 mt-3",4,"ngIf"],["class","font-weight-bold text-center color-blue mt-3 mb-3",4,"ngIf"],[1,"font-weight-bold","mb-1","text-center","color-blue"],[1,"row","mb-4","mt-3"],[1,"col-12","col-sm-6","text-center","text-sm-right","facebook-col"],["mat-flat-button","",1,"loginButtons",3,"click"],[1,"fa","fa-facebook","align-middle","mr-2","facebook-icon"],[1,"align-middle"],[1,"col-12","col-sm-6","text-center","text-sm-left","google-col"],[1,"loginButtons","d-inline-block","overflow-hidden","mt-3","mt-sm-0"],[3,"locale",4,"ngIf"],["mat-flat-button","","class","loginButton align-top",3,"click",4,"ngIf"],["class","col-12 text-center",4,"ngIf"],[3,"locale"],["mat-flat-button","",1,"loginButton","align-top",3,"click"],[1,"material-icons-round","align-middle","mr-2"],[1,"col-12","text-center"],["mat-flat-button","",1,"loginButton","mt-3",3,"click"],[1,"condizioni-prenotazione-container","border","mat-elevation-z5","p-3","mt-3"],[1,"color-blue","font-weight-bold"],[3,"_text"],[1,"codice-promozionale-container","border","mat-elevation-z5","p-3","mt-3"],[1,"d-inline-block","align-middle","mr-3","codice-promozionale-input"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","disabled","ngModelChange"],["mat-flat-button","",1,"button-blue","d-inline-block","align-middle","codice-promozionale-button",3,"disabled","click"],[1,"row","mt-2"],[1,"col-6"],[3,"dataLoader","viewProperties","viewPropertiesSelected","label","required","showErrorRequired","selected","disabled","updateOptionsEvent","optionSelectedEvent","onInput"],[1,"mt-2"],[3,"dataLoader","viewProperties","viewPropertiesSelected","label","required","showErrorRequired","selected","disabled","updateOptionsEventString","optionSelectedEvent","onInput"],[1,"font-weight-bold","text-center","color-blue","mt-3","mb-3"],["class","text-center error-text",4,"ngIf"],["class","descrizione-finale-container border mat-elevation-z5 p-3",4,"ngIf"],[1,"text-center","error-text"],[1,"descrizione-finale-container","border","mat-elevation-z5","p-3"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-booking-extra-select-summary",2),t.NdJ("back",function(){return e.back.emit()})("extraChanged",function(a){return e.totale=a,e.onTotaleChange.emit(e.totale)})("onChange",function(){return e.onChangeEvent()}),t.qZA()(),t.TgZ(3,"div",3)(4,"div",4,5),t.YNc(6,Dc,3,3,"h5",6),t.YNc(7,Xc,52,68,"ng-container",7),t.TgZ(8,"div",8)(9,"app-pagamento-form",9),t.NdJ("createOrder",function(a){return e.prenota(a)})("noPaymentMethod",function(){return e.noPaymentMethod=!0}),t.qZA()(),t.YNc(10,ns,3,2,"ng-container",7),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("ngClass",t.VKq(28,os,e.containerService.dimension.width>=992)),t.xp6(1),t.Q6J("_bookingExtraInput",e.bookingExtraInput)("condizioniPrenotazione",e.condizioniPrenotazione)("backButtonVisible",!0)("disabled",e.buttonsDisabled)("continuaButtonVisible",!1)("valuta",e.valuta),t.xp6(4),t.Q6J("ngIf",e.noPaymentMethod),t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod),t.xp6(1),t.Q6J("hidden",e.noPaymentMethod),t.xp6(1),t.Q6J("_totale",e.totale)("linguaPortaleAlbergo",t.kEZ(30,is,e.lingua,e.oidPortale,e.oidAlbergo))("_modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.modalitaPagamento)("cliente",e.cliente)("_formValid",e.formValid&&!e.buttonsDisabled)("errorMessage",e.buttonsDisabled?"":e.errorMessage)("_recaptchaAttiva",e.recaptchaAttiva)("disabled",e.buttonsDisabled)("_isAccettaContrattoPrenotazioneStep2",e.isAccettaContrattoPrenotazioneStep2)("isVerificaCartaCredito",e.isVerificaCartaCredito)("isVisualizzaCRO",e.isVisualizzaCRO)("condizioniContratto",e.condizioniContratto)("note",e.richieste)("valuta",e.valuta)("privacy",e.cliente.privacy)("newsletter",e.cliente.newsletter),t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod))},dependencies:[s.mk,s.O5,R.X,et,C.eB,bt.IC,M.nI,M.v_,Y.k0,f.Fj,f.JJ,f.Q7,f.On,to.Y,Jt.Q,Z.W,Ct,b.X$],styles:[".prenotazione-details-container[_ngcontent-%COMP%], .condizioni-prenotazione-container[_ngcontent-%COMP%], .codice-promozionale-container[_ngcontent-%COMP%], .cliente-details-container[_ngcontent-%COMP%], .descrizione-finale-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.informations-col[_ngcontent-%COMP%]{padding-left:0;flex:1;max-width:1000px;width:100%}.summary-col[_ngcontent-%COMP%]{width:100%;max-width:100%;min-width:100%;top:10px!important;align-self:flex-start!important}@media (min-width: 992px){.summary-col[_ngcontent-%COMP%]{width:330px;max-width:330px;min-width:330px}.informations-col[_ngcontent-%COMP%]{padding-left:15px}}.loginButtons[_ngcontent-%COMP%]{border:1px solid #6b6b6b!important;border-radius:7px!important;color:#6b6b6b!important;transition:all .4s ease-out!important;height:34px;line-height:34px}.loginButtons[_ngcontent-%COMP%]:hover{color:#adadad!important;border:1px solid #adadad!important;transition:all .4s ease-out!important}.loginButton[_ngcontent-%COMP%]{color:#004987!important;background-color:#fff!important;border-radius:7px!important;height:34px;line-height:34px}.facebook-icon[_ngcontent-%COMP%]{color:#3768f1}.facebook-col[_ngcontent-%COMP%]{padding-right:.75rem!important}.google-col[_ngcontent-%COMP%]{padding-left:.75rem!important}.error-text[_ngcontent-%COMP%]{font-size:15px;color:#d9534f;font-weight:700}.codice-promozionale-input[_ngcontent-%COMP%]{width:calc(100% - 1rem - 100px)}.codice-promozionale-button[_ngcontent-%COMP%]{width:100px}  .richieste-textarea .mat-form-field-underline{visibility:hidden!important}  .richieste-textarea .mat-form-field-wrapper{padding-bottom:0!important}textarea.mat-input-element[_ngcontent-%COMP%]{margin:0;padding:0}.richieste-container[_ngcontent-%COMP%]{border-radius:5px}textarea[_ngcontent-%COMP%]:disabled{color:#000000de!important}"]});class he extends z.H{set _dateAlternative(n){if(null!=n){this.dateAlternative=n,this.nights=[];for(let e of this.dateAlternative)this.nights.push(Math.max(P(e.partenza).diff(P(e.arrivo),"days"),1))}}constructor(n){super(),this.utility=n,this.dateSelected=new t.vpe,this.nights=[]}}he.\u0275fac=function(n){return new(n||he)(t.Y36(v.t))},he.\u0275cmp=t.Xpm({type:he,selectors:[["app-booking-non-disponibile"]],inputs:{_dateAlternative:"_dateAlternative",valuta:"valuta"},outputs:{dateSelected:"dateSelected"},features:[t.qOj],decls:23,vars:17,consts:[[1,"container-fluid","p-3","border","mat-elevation-z5","dateAlternativeContainer"],[1,"color-blue"],[1,"text-big","color-blue","mb-3"],[1,"mb-3","d-none","d-lg-block"],[1,"material-icons-round","mr-2","float-left"],[1,"font-weight-bold"],["class","font-weight-bold mb-2 d-none d-lg-block",4,"ngIf"],["class","font-weight-bold mb-2 d-block d-lg-none",4,"ngIf"],[1,"row","m-0"],["class","col-6 col-sm-4 col-md-3 p-1",4,"ngFor","ngForOf"],["class","mt-2 font-weight-bold d-block d-lg-none",4,"ngIf"],[1,"font-weight-bold","mb-2","d-none","d-lg-block"],[1,"font-weight-bold","mb-2","d-block","d-lg-none"],[1,"col-6","col-sm-4","col-md-3","p-1"],[1,"border","rounded-lg"],[1,"row","data-row","m-0"],[1,"col-4","text-center","p-0"],[1,"text-small","day-name"],[1,"font-weight-bold","text-big"],[1,"material-icons-round"],[1,"mt-n2"],[1,"color-blue","notti"],[1,"text-center","mt-2"],["class","text-big font-weight-bold color-blue",4,"ngIf"],[1,"p-1","mt-1"],["mat-flat-button","",1,"button-blue","w-100",3,"click"],[1,"text-big","font-weight-bold","color-blue"],[1,"price-decimals"],[1,"mt-2","font-weight-bold","d-block","d-lg-none"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",3)(8,"span",4),t._uU(9,"arrow_back"),t.qZA(),t.TgZ(10,"span")(11,"div",5),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div"),t._uU(15),t.ALo(16,"translate"),t.qZA()()(),t.YNc(17,as,3,3,"div",6),t.YNc(18,rs,3,3,"div",7),t.TgZ(19,"div",8),t.YNc(20,ss,35,31,"div",9),t.qZA(),t.YNc(21,ps,3,3,"div",10),t.YNc(22,gs,3,3,"div",10),t.qZA()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,9,"booking.cheSfortuna")," "),t.xp6(3),t.hij(" ",t.lcZ(6,11,"booking.nonAbbiamoCamereDisponibili")," "),t.xp6(7),t.hij(" ",t.lcZ(13,13,"booking.selezionaAltreDate")," "),t.xp6(3),t.hij(" ",t.lcZ(16,15,"booking.anteprimaDisponibilitaEPrezzi")," "),t.xp6(2),t.Q6J("ngIf",null!=e.dateAlternative&&e.dateAlternative.length>0),t.xp6(1),t.Q6J("ngIf",null!=e.dateAlternative&&e.dateAlternative.length>0),t.xp6(2),t.Q6J("ngForOf",e.dateAlternative),t.xp6(1),t.Q6J("ngIf",null!=e.dateAlternative&&e.dateAlternative.length>0),t.xp6(1),t.Q6J("ngIf",null==e.dateAlternative||0==e.dateAlternative.length))},dependencies:[s.sg,s.O5,C.eB,B.H,b.X$],styles:[".text-big[_ngcontent-%COMP%]{font-size:18px}.text-small[_ngcontent-%COMP%]{font-size:14px}.dateAlternativeContainer[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.data-row[_ngcontent-%COMP%]{background-color:#f2f2f2}.icon-small[_ngcontent-%COMP%]{font-size:16px}.notti[_ngcontent-%COMP%]{font-size:13px}.day-name[_ngcontent-%COMP%]{font-weight:600}"]});const ms=["row"],ds=["imageContainer"],_s=function(o,n){return{"circle-button":o,"circle-button-current":n}},us=function(o,n){return{"circle-icon":o,"circle-icon-current":n}};function fs(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.isChanging||l.currentPromozione==r?null:l.showPromozione(r))}),t.TgZ(1,"i",22),t._uU(2,"lens"),t.qZA()()}if(2&o){const e=n.index,i=t.oxw(2);t.Q6J("ngClass",t.WLB(2,_s,i.currentPromozione!=e,i.currentPromozione==e)),t.xp6(1),t.Q6J("ngClass",t.WLB(5,us,i.currentPromozione!=e,i.currentPromozione==e))}}function hs(o,n){if(1&o&&(t.TgZ(0,"span",19),t.YNc(1,fs,3,8,"button",20),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.promozioni)}}function xs(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-image-slider",23),t.NdJ("onImageChangeStart",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onImageChangeStart(a))})("onImageChangeStop",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onImageChangeStop())}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("images",e.images)("minimumHeight",250)("maximumHeight",250)("fullHeight",!e.showImageTop)("minimumWidth",e.imageWidth)("maximumWidth",e.imageWidth)("intervalStart",e.intervalStart)("intervalStop",e.intervalStop)("showImage",e.showImage)("showButtons",!1)("equalDimension",!1)}}function bs(o,n){if(1&o&&(t.TgZ(0,"div",24),t._uU(1),t.TgZ(2,"small",25),t._uU(3),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.promozioni[e.currentPromozione].prezzo),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.promozioni[e.currentPromozione].prezzo))}}const vs=function(o,n){return{"col-12":o,"col-4":n}},Cs=function(o,n){return{"col-sm-8":o,"col-sm-5":n}},zs=function(o,n){return{"col-sm-4":o,"col-sm-3":n}};class xe{set _promozioni(n){null!=n&&(this.promozioni=n.slice(0,10))}constructor(n,e){this.containerService=n,this.utility=e,this.onPromozioneSelected=new t.vpe,this.showImageTop=!1,this.rowHeight=0,this.imageWidth=0,this.initialized=!1,this.currentPromozione=0,this.promozioni=[],this.isChanging=!1,this.images=[],this.intervalStop=new y.x,this.intervalStart=new y.x,this.showImage=new y.x}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(n=>{setTimeout(()=>{n.width>=1200&&n.width<=1550||n.width<992?this.showImageTop=!0:this.showImageTop=!1,this.rowHeight=Math.floor(this.row.nativeElement.offsetHeight+48+1),this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth+1)},200)});for(let n of this.promozioni)this.images.push(n.urlImmagineEvidenza);this.startInterval()}ngAfterViewInit(){setTimeout(()=>{this.containerService.dimension.width>=1200&&this.containerService.dimension.width<=1550||this.containerService.dimension.width<992?this.showImageTop=!0:this.showImageTop=!1,this.rowHeight=Math.floor(this.row.nativeElement.offsetHeight+48+1),this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth+1),this.initialized=!0},200)}startInterval(){this.intervalStart.next()}stopInterval(){this.intervalStop.next()}showPromozione(n){this.showImage.next(n)}onImageChangeStart(n){this.isChanging=!0,this.currentPromozione=n,setTimeout(()=>{this.rowHeight=Math.floor(this.row.nativeElement.offsetHeight+48+1),this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth+1)},200)}onImageChangeStop(){this.isChanging=!1}ngOnDestroy(){this.sub.unsubscribe(),this.intervalStart.complete(),this.intervalStop.complete()}}xe.\u0275fac=function(n){return new(n||xe)(t.Y36(T.J),t.Y36(v.t))},xe.\u0275cmp=t.Xpm({type:xe,selectors:[["app-pacchetti"]],viewQuery:function(n,e){if(1&n&&(t.Gf(ms,5),t.Gf(ds,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.row=i.first),t.iGM(i=t.CRH())&&(e.imageContainer=i.first)}},inputs:{_promozioni:"_promozioni",valuta:"valuta"},outputs:{onPromozioneSelected:"onPromozioneSelected"},decls:25,vars:26,consts:[[1,"pacchetti-container","mb-3","mat-elevation-z5",3,"mouseenter","mouseleave"],[1,"pt-2","pb-2","font-weight-bold","scopriPacchetti","w-100"],[1,"scopriPacchettiText"],["class","float-right d-none d-sm-inline-block",4,"ngIf"],[1,"row","mr-0","ml-0"],[1,"text-center","p-0","room-image-col",3,"ngClass"],[1,"w-100",3,"ngClass"],["imageContainer",""],[3,"images","minimumHeight","maximumHeight","fullHeight","minimumWidth","maximumWidth","intervalStart","intervalStop","showImage","showButtons","equalDimension","onImageChangeStart","onImageChangeStop",4,"ngIf"],[1,"pt-4","pb-4","pr-0","pl-0","col-12",3,"ngClass"],[1,"pr-3","pl-3","border-right","h-100"],["row",""],[1,"pacchetto-nome","mb-2"],[1,"pacchetto-descrizione"],[3,"_text"],[1,"pt-4","pb-4","d-flex","justify-content-center","align-items-center","col-12",3,"ngClass"],[1,"w-100","text-center"],["class","pacchetto-prezzo",4,"ngIf"],["mat-flat-button","",1,"mt-2","button-blue","w-75",3,"click"],[1,"float-right","d-none","d-sm-inline-block"],["mat-icon-button","","class","mr-2",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-icon-button","",1,"mr-2",3,"ngClass","click"],[1,"material-icons-round",3,"ngClass"],[3,"images","minimumHeight","maximumHeight","fullHeight","minimumWidth","maximumWidth","intervalStart","intervalStop","showImage","showButtons","equalDimension","onImageChangeStart","onImageChangeStop"],[1,"pacchetto-prezzo"],[1,"price-decimals"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.NdJ("mouseenter",function(){return e.stopInterval()})("mouseleave",function(){return e.startInterval()}),t.TgZ(1,"div",1)(2,"span",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,hs,2,1,"span",3),t.qZA(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6,7),t.YNc(10,xs,1,11,"app-image-slider",8),t.qZA()(),t.TgZ(11,"div",9)(12,"div",10)(13,"div",null,11)(15,"div",12),t._uU(16),t.qZA(),t.TgZ(17,"div",13),t._UZ(18,"app-inner-html",14),t.qZA()()()(),t.TgZ(19,"div",15)(20,"div",16),t.YNc(21,bs,4,2,"div",17),t.TgZ(22,"button",18),t.NdJ("click",function(){return e.onPromozioneSelected.emit(e.promozioni[e.currentPromozione])}),t._uU(23),t.ALo(24,"translate"),t.qZA()()()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,13,"booking.scopriPacchetti")),t.xp6(2),t.Q6J("ngIf",e.promozioni.length>1),t.xp6(2),t.Q6J("ngClass",t.WLB(17,vs,e.showImageTop,!e.showImageTop)),t.xp6(1),t.Udp("height",(e.showImageTop?250:e.rowHeight>200?e.rowHeight:200)+"px"),t.Q6J("ngClass",e.showImageTop?"pacchetto-image-container-image-top":"pacchetto-image-container"),t.xp6(2),t.Q6J("ngIf",e.initialized&&!e.isChanging),t.xp6(1),t.Q6J("ngClass",t.WLB(20,Cs,e.showImageTop,!e.showImageTop)),t.xp6(5),t.Oqu(e.promozioni[e.currentPromozione].nome),t.xp6(2),t.Q6J("_text",e.promozioni[e.currentPromozione].descrizione),t.xp6(1),t.Q6J("ngClass",t.WLB(23,zs,e.showImageTop,!e.showImageTop)),t.xp6(2),t.Q6J("ngIf",e.promozioni[e.currentPromozione].prezzo>0),t.xp6(2),t.Oqu(t.lcZ(24,15,"booking.scopriEPrenota")))},dependencies:[s.mk,s.sg,s.O5,C.eB,H.V,Z.W,b.X$],styles:[".pacchetto-nome[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#004987}.pacchetto-descrizione[_ngcontent-%COMP%]{font-size:15px}.pacchetto-prezzo[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:#004987}.pacchetti-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;overflow:hidden}.text-small[_ngcontent-%COMP%]{font-size:15px}.scopriPacchetti[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff;padding-right:24px;padding-left:24px}@media (min-width: 576px){.border-right[_ngcontent-%COMP%]{border-right:2px solid #cccccc!important}}  .pacchetto-image-container img{-webkit-mask-image:linear-gradient(to right,rgb(255,255,255) 70%,rgba(255,255,255,0))!important;mask-image:linear-gradient(to right,rgb(255,255,255) 70%,rgba(255,255,255,0))!important}  .pacchetto-image-container-image-top img{-webkit-mask-image:linear-gradient(to bottom,rgb(255,255,255) 70%,rgba(255,255,255,0))!important;mask-image:linear-gradient(to bottom,rgb(255,255,255) 70%,rgba(255,255,255,0))!important}.circle-icon[_ngcontent-%COMP%]{font-size:8px;line-height:8px;opacity:.5}.circle-button[_ngcontent-%COMP%]{width:8px;height:8px;line-height:8px}.circle-icon-current[_ngcontent-%COMP%]{font-size:10px;line-height:10px}.circle-button-current[_ngcontent-%COMP%]{width:10px;height:10px;line-height:10px}.scopriPacchettiText[_ngcontent-%COMP%]{font-size:20px}"]});const ws=function(o,n){return{"circle-button":o,"circle-button-current":n}},Ps=function(o,n){return{"circle-icon":o,"circle-icon-current":n}};function Ts(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.isChanging||l.currentPromozione==r?null:l.showImage.next(r))}),t.TgZ(1,"i",23),t._uU(2,"lens"),t.qZA()()}if(2&o){const e=n.index,i=t.oxw(2);t.Q6J("ngClass",t.WLB(2,ws,i.currentPromozione!=e,i.currentPromozione==e)),t.xp6(1),t.Q6J("ngClass",t.WLB(5,Ps,i.currentPromozione!=e,i.currentPromozione==e))}}function Ms(o,n){if(1&o&&(t.TgZ(0,"span",20),t.YNc(1,Ts,3,8,"button",21),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.promozioni)}}function ys(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-image-slider",24),t.NdJ("onImageChangeStart",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onImageChangeStart(a))})("onImageChangeStop",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.isChanging=!1)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("images",e.images)("minimumHeight",330)("maximumHeight",330)("intervalStart",e.intervalStart)("intervalStop",e.intervalStop)("showImage",e.showImage)("showButtons",!1)("equalDimension",!1)}}function Zs(o,n){if(1&o&&t._UZ(0,"app-inner-html",25),2&o){const e=t.oxw();t.Q6J("_text",e.promozioni[e.currentPromozione].tariffa.descrizionePromozione)}}function ks(o,n){1&o&&(t.ynx(0),t._uU(1,"\xa0"),t.BQk())}function As(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",28),t._uU(2),t.TgZ(3,"small",29),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"span",30),t._uU(7),t.TgZ(8,"small",29),t._uU(9),t.qZA()(),t.TgZ(10,"span",31),t._uU(11),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.promozioni[e.currentPromozione].tariffa.prezzoScontato),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.promozioni[e.currentPromozione].tariffa.prezzoScontato)),t.xp6(3),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.promozioni[e.currentPromozione].tariffa.prezzo)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.promozioni[e.currentPromozione].tariffa.prezzo)),t.xp6(2),t.hij("-",e.promozioni[e.currentPromozione].tariffa.scontoPercentuale,"%")}}function Ss(o,n){if(1&o&&(t.TgZ(0,"div",28),t._uU(1),t.TgZ(2,"small",29),t._uU(3),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.promozioni[e.currentPromozione].tariffa.prezzo),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.promozioni[e.currentPromozione].tariffa.prezzo))}}function Os(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(2);return a.stopPropagation(),r.onButtonsClick.emit(),t.KtG(r.onPromozioneSelected.emit(r.promozioni[r.currentPromozione]))}),t.TgZ(1,"span",33),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.prenota")))}function Is(o,n){if(1&o&&(t.ynx(0),t.YNc(1,As,12,5,"ng-container",16),t.YNc(2,Ss,4,2,"div",26),t.YNc(3,Os,4,3,"button",27),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.promozioni[e.currentPromozione].tariffa.prezzoScontato>0),t.xp6(1),t.Q6J("ngIf",e.promozioni[e.currentPromozione].tariffa.prezzoScontato<=0),t.xp6(1),t.Q6J("ngIf",!e.isDisplayOnly)}}function qs(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",34),t._uU(2,"lock"),t.qZA(),t.TgZ(3,"span",35),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div")(7,"button",36),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw();return a.stopPropagation(),r.onButtonsClick.emit(),t.KtG(r.login.emit())}),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.BQk()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"booking.offertaSegreta")),t.xp6(5),t.Oqu(t.lcZ(10,4,"booking.sblocca")))}class be extends z.H{set _promozioni(n){null!=n&&(this.promozioni=n.slice(0,10),this.images=this.promozioni.map(e=>e.tariffa.urlImmaginePromozione),this.currentPromozione=0,this.showImage.next(0),this.intervalStop.next(),this.intervalStart.next())}constructor(n,e,i){super(),this.utility=n,this.containerService=e,this.sessionService=i,this.onPromozioneSelected=new t.vpe,this.login=new t.vpe,this.onButtonsClick=new t.vpe,this.currentPromozione=0,this.promozioni=[],this.isChanging=!1,this.images=[],this.intervalStop=new y.x,this.intervalStart=new y.x,this.showImage=new y.x}onImageChangeStart(n){this.isChanging=!0,this.currentPromozione=n}showDetails(n,e){let i=new p.Zpt;this.containerService.dimension.width>=992?i.width="50vw":i.width="80vw",i.panelClass="dialog-overlay";let r=this.showModalDialog(Pn.w,i).componentInstance;r.tariffa=e,r.tipoCamera=n,r.isVisualizzaDettaglioGiornaliero=this.isVisualizzaDettaglioGiornaliero,r.valuta=this.valuta}ngOnDestroy(){this.intervalStart.complete(),this.intervalStop.complete()}}be.\u0275fac=function(n){return new(n||be)(t.Y36(v.t),t.Y36(T.J),t.Y36(nt.m))},be.\u0275cmp=t.Xpm({type:be,selectors:[["app-pacchetti-evidenza"]],inputs:{_promozioni:"_promozioni",isVisualizzaDettaglioGiornaliero:"isVisualizzaDettaglioGiornaliero",valuta:"valuta",isDisplayOnly:"isDisplayOnly"},outputs:{onPromozioneSelected:"onPromozioneSelected",login:"login",onButtonsClick:"onButtonsClick"},features:[t.qOj],decls:30,vars:15,consts:[[1,"pacchetti-container","mb-3","mat-elevation-z5",3,"mouseenter","mouseleave"],[1,"pt-2","pb-2","font-weight-bold","promozioniInEvidenza","w-100"],[1,"promozioniInEvidenzaText"],["class","float-right",4,"ngIf"],[1,"w-100"],[3,"images","minimumHeight","maximumHeight","intervalStart","intervalStop","showImage","showButtons","equalDimension","onImageChangeStart","onImageChangeStop",4,"ngIf"],[1,"row","mr-0","ml-0",3,"click"],[1,"col-12","col-sm-6","col-xl-4","pl-4","pr-4","pt-3","pb-3"],[1,"mb-1","text-nowrap"],["mat-icon-button","",1,"align-middle","ml-n2","mr-2","info-button"],[1,"material-icons-round","info-icon"],[1,"d-inline-block","align-middle","camera-nome","text-wrap"],[1,"pacchetto-nome","mb-1","d-block","d-xl-none"],[1,"pacchetto-nome","mb-1"],[1,"pacchetto-descrizione"],[3,"_text",4,"ngIf"],[4,"ngIf"],[1,"col-4","d-none","d-xl-block","pl-4","pr-4","pt-3","pb-3"],[1,"tariffa-descrizione","mt-1"],[1,"w-100","text-center"],[1,"float-right"],["mat-icon-button","","class","mr-2",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-icon-button","",1,"mr-2",3,"ngClass","click"],[1,"material-icons-round",3,"ngClass"],[3,"images","minimumHeight","maximumHeight","intervalStart","intervalStop","showImage","showButtons","equalDimension","onImageChangeStart","onImageChangeStop"],[3,"_text"],["class","pacchetto-prezzo text-nowrap",4,"ngIf"],["mat-flat-button","","class","prenotaButton mt-2 mw-100",3,"click",4,"ngIf"],[1,"pacchetto-prezzo","text-nowrap"],[1,"price-decimals"],[1,"pacchetto-prezzo-sconto","text-nowrap"],[1,"ml-1","pacchetto-sconto","text-nowrap"],["mat-flat-button","",1,"prenotaButton","mt-2","mw-100",3,"click"],[1,"btn-label"],[1,"material-icons-round","align-middle","icon-small","color-blue"],[1,"ml-1","align-middle","color-blue"],["mat-flat-button","",1,"sbloccaButton","mt-2","mw-100",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.NdJ("mouseenter",function(){return e.intervalStop.next()})("mouseleave",function(){return e.intervalStart.next()}),t.TgZ(1,"div",1)(2,"span",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Ms,2,1,"span",3),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,ys,1,8,"app-image-slider",5),t.qZA(),t.TgZ(8,"div",6),t.NdJ("click",function(){return e.showDetails(e.promozioni[e.currentPromozione].camera,e.promozioni[e.currentPromozione].tariffa)}),t.TgZ(9,"div",7)(10,"div",8)(11,"button",9)(12,"span",10),t._uU(13," info "),t.qZA()(),t.TgZ(14,"span",11),t._uU(15),t.qZA()(),t.TgZ(16,"div",12),t._uU(17),t.qZA(),t.TgZ(18,"div",13),t._uU(19),t.qZA(),t.TgZ(20,"div",14),t.YNc(21,Zs,1,1,"app-inner-html",15),t.YNc(22,ks,2,0,"ng-container",16),t.qZA()(),t.TgZ(23,"div",17)(24,"div",18),t._uU(25),t.qZA()(),t.TgZ(26,"div",7)(27,"div",19),t.YNc(28,Is,4,3,"ng-container",16),t.YNc(29,qs,11,6,"ng-container",16),t.qZA()()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,13,"booking.promozioniInEvidenza")),t.xp6(2),t.Q6J("ngIf",e.promozioni.length>1),t.xp6(1),t.Udp("height","330px"),t.xp6(1),t.Q6J("ngIf",!e.isChanging),t.xp6(8),t.hij(" ",e.promozioni[e.currentPromozione].camera.nome," "),t.xp6(2),t.hij(" ",e.promozioni[e.currentPromozione].tariffa.descrizione," "),t.xp6(2),t.hij(" ",e.promozioni[e.currentPromozione].tariffa.nomePromozione?e.promozioni[e.currentPromozione].tariffa.nomePromozione:"\xa0"," "),t.xp6(2),t.Q6J("ngIf",!!e.promozioni[e.currentPromozione].tariffa.descrizionePromozione),t.xp6(1),t.Q6J("ngIf",!e.promozioni[e.currentPromozione].tariffa.descrizionePromozione),t.xp6(3),t.hij(" ",e.promozioni[e.currentPromozione].tariffa.descrizione," "),t.xp6(3),t.Q6J("ngIf",!e.promozioni[e.currentPromozione].tariffa.isOffertaSegreta||e.sessionService.isLoggedInMySelf()),t.xp6(1),t.Q6J("ngIf",e.promozioni[e.currentPromozione].tariffa.isOffertaSegreta&&!e.sessionService.isLoggedInMySelf()))},dependencies:[s.mk,s.sg,s.O5,C.eB,H.V,Z.W,b.X$],styles:['.pacchetto-nome[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#004987}.pacchetto-descrizione[_ngcontent-%COMP%]{font-size:15px}.pacchetto-prezzo[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:#004987}.pacchetto-prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:#004987;text-decoration-color:#004987;font-size:18px;font-weight:600;color:#999}.pacchetto-sconto[_ngcontent-%COMP%]{font-size:15px;color:#004987;font-weight:600}.pacchetti-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;overflow:hidden}.promozioniInEvidenza[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff;padding-right:24px;padding-left:24px}.circle-icon[_ngcontent-%COMP%]{font-size:8px;line-height:8px;opacity:.5}.circle-button[_ngcontent-%COMP%]{width:8px;height:8px;line-height:8px}.circle-icon-current[_ngcontent-%COMP%]{font-size:10px;line-height:10px}.circle-button-current[_ngcontent-%COMP%]{width:10px;height:10px;line-height:10px}.promozioniInEvidenzaText[_ngcontent-%COMP%]{font-size:20px}.tariffa-descrizione[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#666}.camera-nome[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#004987}.prenotaButton[_ngcontent-%COMP%]{width:150px;overflow:hidden;padding:0!important}.prenotaButton[_ngcontent-%COMP%]:enabled{background:#004987;border:2px solid #004987;transition:all .5s;border-radius:7px}.prenotaButton[_ngcontent-%COMP%]:enabled:hover, .prenotaButton[_ngcontent-%COMP%]:enabled:active{color:#fff;border-color:#006dc9;background:#006DC9}.btn-label[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-right:0;transition:padding-right .5s;color:#fff}.btn-label[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-50px;opacity:0;top:33%;width:10px;height:10px;margin-right:-15px;background:rgba(0,0,0,0);border:3px solid #fff;border-top:none;border-right:none;transition:opacity .5s,top .5s,right .5s;transform:rotate(225deg)}.prenotaButton[_ngcontent-%COMP%]:enabled:hover   .btn-label[_ngcontent-%COMP%], .prenotaButton[_ngcontent-%COMP%]:enabled:active   .btn-label[_ngcontent-%COMP%]{padding-right:15px;color:#f5f1e7}.prenotaButton[_ngcontent-%COMP%]:enabled:hover   .btn-label[_ngcontent-%COMP%]:after, .prenotaButton[_ngcontent-%COMP%]:enabled:active   .btn-label[_ngcontent-%COMP%]:after{transition:opacity .5s,top .5s,right .5s;opacity:1;right:10px;top:33%}.sbloccaButton[_ngcontent-%COMP%]{width:150px}.sbloccaButton[_ngcontent-%COMP%]:enabled{background:#004987;border:2px solid #004987;transition:all .5s;border-radius:7px;color:#fff}.sbloccaButton[_ngcontent-%COMP%]:enabled:hover, .sbloccaButton[_ngcontent-%COMP%]:enabled:active{border-color:#006dc9;background:#006DC9}.info-button[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}.info-icon[_ngcontent-%COMP%]{font-size:20px;line-height:20px}.info-button[_ngcontent-%COMP%]:enabled{color:#004987!important;transition:all .5s ease-out!important}.info-button[_ngcontent-%COMP%]:hover:enabled{color:#006dc9!important;transition:all .5s ease-out!important}']});const Js=["row"],Qs=["imageContainer"],Us=function(o){return[o]};function Ns(o,n){if(1&o&&t._UZ(0,"app-image-slider",15),2&o){const e=t.oxw();t.Q6J("images",t.VKq(7,Us,e.promozione.urlImmagineEvidenza))("minimumHeight",250)("maximumHeight",250)("fullHeight",!e.showImageTop)("minimumWidth",e.imageWidth)("maximumWidth",e.imageWidth)("updateSize",e.updateImageSize)}}function Es(o,n){if(1&o&&(t.TgZ(0,"div",16),t._uU(1),t.TgZ(2,"small",17),t._uU(3),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.promozione.prezzo)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.promozione.prezzo))}}const Ds=function(o,n){return{"col-12":o,"col-4":n}},Ls=function(o,n){return{"col-sm-8":o,"col-sm-5":n}},Bs=function(o,n){return{"col-sm-4":o,"col-sm-3":n}};class ve{constructor(n,e){this.containerService=n,this.utility=e,this.onPromozioneSelected=new t.vpe,this.hideImage=!1,this.showImageTop=!1,this.rowHeight=0,this.imageWidth=0,this.updateImageSize=new y.x,this.initialized=!1}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(n=>{this.hideImage=!0,setTimeout(()=>{n.width>=1200&&n.width<=1550||n.width<992?this.showImageTop=!0:this.showImageTop=!1,setTimeout(()=>{this.rowHeight=Math.floor(this.row.nativeElement.offsetHeight+1),this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth+1),this.hideImage=!1,this.updateImageSize.next()},200)},200)})}ngAfterViewInit(){setTimeout(()=>{this.containerService.dimension.width>=1200&&this.containerService.dimension.width<=1550||this.containerService.dimension.width<992?this.showImageTop=!0:this.showImageTop=!1,this.rowHeight=Math.floor(this.row.nativeElement.offsetHeight+1),this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth+1),this.initialized=!0},200)}ngOnDestroy(){this.sub.unsubscribe(),this.updateImageSize.complete()}}function Vs(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.backEvent.emit())}),t.TgZ(1,"span",5),t._uU(2,"keyboard_arrow_left"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"booking.indietro")))}function Ys(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-pacchetto",6),t.NdJ("onPromozioneSelected",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onPromozioneSelected.emit(r))}),t.qZA()()}if(2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("promozione",e)("valuta",i.valuta)}}ve.\u0275fac=function(n){return new(n||ve)(t.Y36(T.J),t.Y36(v.t))},ve.\u0275cmp=t.Xpm({type:ve,selectors:[["app-pacchetto"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Js,5),t.Gf(Qs,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.row=i.first),t.iGM(i=t.CRH())&&(e.imageContainer=i.first)}},inputs:{promozione:"promozione",valuta:"valuta"},outputs:{onPromozioneSelected:"onPromozioneSelected"},decls:18,vars:22,consts:[[1,"row","pacchetti-container","mr-0","ml-0"],["row",""],[1,"text-center","p-0","room-image-col",3,"ngClass"],[1,"w-100",3,"ngClass"],["imageContainer",""],[3,"images","minimumHeight","maximumHeight","fullHeight","minimumWidth","maximumWidth","updateSize",4,"ngIf"],[1,"pt-4","pb-4","pr-0","pl-0","col-12",3,"ngClass"],[1,"pr-3","pl-3","border-right","h-100"],[1,"pacchetto-nome","mb-2"],[1,"pacchetto-descrizione"],[3,"_text"],[1,"pt-4","pb-4","d-flex","justify-content-center","align-items-center","col-12",3,"ngClass"],[1,"w-100","text-center"],["class","pacchetto-prezzo",4,"ngIf"],["mat-flat-button","",1,"mt-2","button-blue","w-75",3,"click"],[3,"images","minimumHeight","maximumHeight","fullHeight","minimumWidth","maximumWidth","updateSize"],[1,"pacchetto-prezzo"],[1,"price-decimals"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3,4),t.YNc(5,Ns,1,9,"app-image-slider",5),t.qZA()(),t.TgZ(6,"div",6)(7,"div",7)(8,"div",8),t._uU(9),t.qZA(),t.TgZ(10,"div",9),t._UZ(11,"app-inner-html",10),t.qZA()()(),t.TgZ(12,"div",11)(13,"div",12),t.YNc(14,Es,4,2,"div",13),t.TgZ(15,"button",14),t.NdJ("click",function(){return e.onPromozioneSelected.emit()}),t._uU(16),t.ALo(17,"translate"),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("ngClass",t.WLB(13,Ds,e.showImageTop,!e.showImageTop)),t.xp6(1),t.Udp("height",e.hideImage?"0":(e.showImageTop?250:e.rowHeight>180?e.rowHeight:180)+"px"),t.Q6J("ngClass",e.showImageTop?"pacchetto-image-container-image-top":"pacchetto-image-container"),t.xp6(2),t.Q6J("ngIf",e.initialized),t.xp6(1),t.Q6J("ngClass",t.WLB(16,Ls,e.showImageTop,!e.showImageTop)),t.xp6(3),t.Oqu(e.promozione.nome),t.xp6(2),t.Q6J("_text",e.promozione.descrizione),t.xp6(1),t.Q6J("ngClass",t.WLB(19,Bs,e.showImageTop,!e.showImageTop)),t.xp6(2),t.Q6J("ngIf",e.promozione.prezzo>0),t.xp6(2),t.Oqu(t.lcZ(17,11,"booking.scopriEPrenota")))},dependencies:[s.mk,s.O5,C.eB,H.V,Z.W,b.X$],styles:[".pacchetto-nome[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#004987}.pacchetto-descrizione[_ngcontent-%COMP%]{font-size:15px}.pacchetto-prezzo[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:#004987}.pacchetti-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;overflow:hidden;margin-bottom:.75rem;box-shadow:none;transition:box-shadow .4s ease-out!important}.pacchetti-container[_ngcontent-%COMP%]:hover{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;transition:box-shadow .4s ease-out!important}.text-small[_ngcontent-%COMP%]{font-size:15px}@media (min-width: 576px){.border-right[_ngcontent-%COMP%]{border-right:2px solid #cccccc!important}}  .pacchetto-image-container img{-webkit-mask-image:linear-gradient(to right,rgb(255,255,255) 70%,rgba(255,255,255,0))!important;mask-image:linear-gradient(to right,rgb(255,255,255) 70%,rgba(255,255,255,0))!important}  .pacchetto-image-container-image-top img{-webkit-mask-image:linear-gradient(to bottom,rgb(255,255,255) 70%,rgba(255,255,255,0))!important;mask-image:linear-gradient(to bottom,rgb(255,255,255) 70%,rgba(255,255,255,0))!important}"]});class Ce{constructor(){this.onPromozioneSelected=new t.vpe,this.backEvent=new t.vpe}}function Fs(o,n){if(1&o&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.promozione.nome," ")}}function Hs(o,n){if(1&o&&(t.TgZ(0,"div",13),t._UZ(1,"app-inner-html",14),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("_text",e.promozione.descrizione)}}function Rs(o,n){if(1&o&&(t.TgZ(0,"div",13),t._UZ(1,"app-inner-html",14),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("_text",e.promozione.descrizioneDettagliata)}}function Gs(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.promozioneValidaDalAl," ")}}function Ks(o,n){1&o&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function js(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.promozionePrenotabileDalAl," ")}}Ce.\u0275fac=function(n){return new(n||Ce)},Ce.\u0275cmp=t.Xpm({type:Ce,selectors:[["app-pacchetti-select"]],inputs:{promozioni:"promozioni",isPacchetti:"isPacchetti",valuta:"valuta"},outputs:{onPromozioneSelected:"onPromozioneSelected",backEvent:"backEvent"},decls:6,vars:5,consts:[[1,"title","p-3","font-weight-bold","mb-3","mat-elevation-z5"],[1,"pacchettiEsclusivi","font-weight-bold","align-middle"],["class","button-blue-indietro float-right d-inline-block align-middle","mat-flat-button","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["mat-flat-button","",1,"button-blue-indietro","float-right","d-inline-block","align-middle",3,"click"],[1,"material-icons-round"],[3,"promozione","valuta","onPromozioneSelected"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Vs,6,3,"button",2),t.qZA(),t.YNc(5,Ys,2,2,"div",3)),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"booking.pacchettiEsclusivi")),t.xp6(2),t.Q6J("ngIf",!e.isPacchetti),t.xp6(1),t.Q6J("ngForOf",e.promozioni))},dependencies:[s.sg,s.O5,C.eB,ve,b.X$],styles:[".title[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff;border-radius:7px}.pacchettiEsclusivi[_ngcontent-%COMP%]{font-size:22px}.button-blue-indietro[_ngcontent-%COMP%]{border:none!important}"]});const Xs=function(o){return[o]};function $s(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"app-image-slider",3),t.qZA(),t.TgZ(3,"div",4),t.YNc(4,Fs,2,1,"div",5),t.YNc(5,Hs,2,1,"div",6),t.YNc(6,Rs,2,1,"div",6),t.TgZ(7,"div",7)(8,"div"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",8),t.YNc(12,Gs,2,1,"span",9),t.YNc(13,Ks,2,0,"span",9),t.YNc(14,js,2,1,"span",9),t.qZA()(),t.TgZ(15,"button",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.backEvent.emit())}),t.TgZ(16,"span",11),t._uU(17,"keyboard_arrow_left"),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.ALo(20,"translate"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("images",t.VKq(15,Xs,e.promozione.urlImmagineEvidenza))("minimumHeight",300)("maximumHeight",400),t.xp6(2),t.Q6J("ngIf",!!e.promozione.nome),t.xp6(1),t.Q6J("ngIf",!!e.promozione.descrizione),t.xp6(1),t.Q6J("ngIf",!!e.promozione.descrizioneDettagliata),t.xp6(3),t.Oqu(t.lcZ(10,11,"booking.pacchettiDetailsPrenota")),t.xp6(3),t.Q6J("ngIf",!!e.promozioneValidaDalAl),t.xp6(1),t.Q6J("ngIf",!!e.promozioneValidaDalAl&&!!e.promozionePrenotabileDalAl),t.xp6(1),t.Q6J("ngIf",!!e.promozionePrenotabileDalAl),t.xp6(5),t.Oqu(t.lcZ(20,13,"booking.indietro"))}}class ze{constructor(n){this.translationService=n,this.backEvent=new t.vpe}ngOnInit(){null!=this.promozione&&((this.promozione.validaDal||this.promozione.validaAl)&&(this.promozioneValidaDalAl=this.translationService.getTranslationSync("booking.offer.promozioneValidaDalAl",{dal:this.promozione.validaDal?this.promozione.validaDal:"---",al:this.promozione.validaAl?this.promozione.validaAl:"---"})),(this.promozione.prenotabileDal||this.promozione.prenotabileAl)&&(this.promozionePrenotabileDalAl=this.translationService.getTranslationSync("booking.offer.promozionePrenotabileDalAl",{dal:this.promozione.prenotabileDal?this.promozione.prenotabileDal:"---",al:this.promozione.prenotabileAl?this.promozione.prenotabileAl:"---"})))}}ze.\u0275fac=function(n){return new(n||ze)(t.Y36(K.o))},ze.\u0275cmp=t.Xpm({type:ze,selectors:[["app-pacchetto-details"]],inputs:{promozione:"promozione"},outputs:{backEvent:"backEvent"},decls:1,vars:1,consts:[["class","pacchetto-container mat-elevation-z5",4,"ngIf"],[1,"pacchetto-container","mat-elevation-z5"],[1,"immagine-pacchetto"],[3,"images","minimumHeight","maximumHeight"],[1,"p-3"],["class","font-weight-bold pacchetto-nome",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"mt-3","ml-3"],[1,"mt-3","ml-3","font-italic"],[4,"ngIf"],["mat-flat-button","",1,"button-blue-indietro","mt-4",3,"click"],[1,"material-icons-round"],[1,"font-weight-bold","pacchetto-nome"],[1,"mt-3"],[3,"_text"]],template:function(n,e){1&n&&t.YNc(0,$s,21,17,"div",0),2&n&&t.Q6J("ngIf",null!=e.promozione)},dependencies:[s.O5,C.eB,H.V,Z.W,b.X$],styles:[".pacchetto-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;overflow:hidden}.immagine-pacchetto[_ngcontent-%COMP%]{min-height:300px!important}.pacchetto-nome[_ngcontent-%COMP%]{color:#004987;font-size:20px}.button-blue-indietro[_ngcontent-%COMP%]{width:150px!important}"]});var zt=d(23478);const Ws=["drawer"],tp=["bookingRooms"],ep=["roomsCalendar"],np=["pacchettoCont"],op=["bestPriceCont"],ip=["pacchettiSelectCont"];function ap(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"img",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.home())}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("src",e.urlImmagineLogo,t.LSH)}}function rp(o,n){if(1&o&&(t.TgZ(0,"span",31),t.YNc(1,ap,1,1,"img",32),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!!e.urlImmagineLogo)}}function lp(o,n){1&o&&(t.TgZ(0,"span",39),t._uU(1,"star"),t.qZA())}function cp(o,n){if(1&o&&(t.TgZ(0,"div",37),t.YNc(1,lp,2,0,"span",38),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.stelle)}}const sp=function(o,n){return{"mt-n1":o,"mt-3":n}};function pp(o,n){if(1&o&&(t.TgZ(0,"div",40),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.Q6J("ngClass",t.WLB(2,sp,null!=e.stelle&&e.stelle.length>0,null==e.stelle||0==e.stelle.length)),t.xp6(1),t.Oqu(e.nomePortale)}}function gp(o,n){if(1&o&&(t.TgZ(0,"span",34),t.YNc(1,cp,2,1,"div",35),t.YNc(2,pp,2,5,"div",36),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=e.stelle&&e.stelle.length>0),t.xp6(1),t.Q6J("ngIf",!!e.nomePortale)}}const mp=function(o){return{"align-bottom mb-2":o}};function dp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"span",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.mappa?a.utility.openUrlInNewTab(a.mappa):null)}),t.TgZ(1,"span",42),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",43),t._uU(4),t.qZA()()}if(2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,mp,null==e.stelle||0==e.stelle.length)),t.xp6(4),t.Oqu(e.portale.indirizzo+", "+(e.portale.cap?e.portale.cap+" ":"")+(e.portale.citta?e.portale.citta:""))}}function _p(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"span",44)(1,"span",45),t.NdJ("mouseenter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.pacchettoHover=!0)})("mouseleave",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.pacchettoHover=!1)}),t.TgZ(2,"button",46),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showPacchettiList())}),t._UZ(3,"iframe",47),t.ALo(4,"safeUrl"),t.qZA(),t.TgZ(5,"a",18),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(2);return a.preventDefault(),t.KtG(r.showPacchettiList())}),t._uU(6),t.ALo(7,"translate"),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.Q6J("src",t.lcZ(4,2,e.pacchettoHover?"/assets/images/booking/icon-pacchetto-hover.svg":"/assets/images/booking/icon-pacchetto.svg"),t.uOi),t.xp6(3),t.Oqu(t.lcZ(7,4,"booking.pacchetti"))}}function up(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.openUrlInNewTab("https://wa.me/"+a.utility.checkCellulare(a.portale.telefonoWhatsapp)))}),t._UZ(1,"i",48),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("disableRipple",!0)("matTooltip",e.portale.telefonoWhatsapp)}}function fp(o,n){if(1&o&&(t.TgZ(0,"mat-option",49),t._UZ(1,"span"),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&o){const e=n.$implicit;t.Q6J("value",e.codice),t.xp6(1),t.Gre("mr-2 fi fi-",e.flagIcon,""),t.xp6(2),t.Oqu(t.lcZ(4,5,"language_codes."+e.codice))}}function hp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",61),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.login())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.accedi")))}function xp(o,n){if(1&o&&(t.TgZ(0,"span",62),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=t.oxw(3);t.Q6J("disabled",!0),t.xp6(1),t.Oqu(t.lcZ(2,2,e.sessionService.sessione.clienteMySelf.nome+" "+e.sessionService.sessione.clienteMySelf.cognome))}}function bp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.utility.openUrlInNewTab("/self-checkin/home"))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.leMiePrenotazioni")))}function vp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.logout())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.logout")))}function Cp(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",50),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(4);return t.KtG(a.openMenu())}),t._UZ(2,"img",51),t.qZA(),t.TgZ(3,"button",52,53)(5,"span",54),t._uU(6,"keyboard_arrow_down"),t.qZA()(),t.TgZ(7,"mat-menu",55,56),t.YNc(9,hp,3,3,"button",57),t.YNc(10,xp,3,4,"span",58),t.YNc(11,bp,3,3,"button",59),t.YNc(12,vp,3,3,"button",60),t.qZA(),t.BQk()}if(2&o){const e=t.MAs(8),i=t.oxw(2);t.xp6(1),t.Q6J("disableRipple",!0),t.xp6(2),t.Q6J("matMenuTriggerFor",e)("disableRipple",!0),t.xp6(6),t.Q6J("ngIf",!i.sessionService.isLoggedInMySelf()),t.xp6(1),t.Q6J("ngIf",i.sessionService.isLoggedInMySelf()),t.xp6(1),t.Q6J("ngIf",i.sessionService.isLoggedInMySelf()),t.xp6(1),t.Q6J("ngIf",i.sessionService.isLoggedInMySelf())}}function zp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.openUrlInNewTab("https://wa.me/"+a.utility.checkCellulare(a.portale.telefonoWhatsapp)))}),t._UZ(1,"i",48),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("disableRipple",!0)("matTooltip",e.portale.telefonoWhatsapp)}}function wp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",9)(1,"button",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onDrawerOpen())}),t.TgZ(2,"span",11),t._uU(3,"menu"),t.qZA()(),t.YNc(4,rp,2,1,"span",12),t.YNc(5,gp,3,2,"span",13),t.YNc(6,dp,5,4,"span",14),t.TgZ(7,"span",15),t.YNc(8,_p,8,6,"span",16),t.TgZ(9,"span",17)(10,"a",18),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw();return a.preventDefault(),t.KtG(r.utility.openUrlInNewTab(r.url))}),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.YNc(13,up,2,2,"button",19),t.TgZ(14,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.callNumber(a.cellulare))}),t.TgZ(15,"span",21),t._uU(16,"phone_enabled"),t.qZA()(),t.TgZ(17,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.sendEmail(a.email))}),t.TgZ(18,"span",21),t._uU(19,"email"),t.qZA()(),t.TgZ(20,"span",23)(21,"mat-form-field",24)(22,"mat-select",25),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.lingua=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.updateLinguaUrl(a.lingua))}),t.TgZ(23,"mat-select-trigger"),t._UZ(24,"span"),t.qZA(),t.YNc(25,fp,5,7,"mat-option",26),t.qZA()()(),t.YNc(26,Cp,13,7,"ng-container",3),t.qZA(),t.TgZ(27,"span",27)(28,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.mappa?a.utility.openUrlInNewTab(a.mappa):null)}),t.TgZ(29,"span",21),t._uU(30,"place"),t.qZA()(),t.YNc(31,zp,2,2,"button",29),t.TgZ(32,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.callNumber(a.cellulare))}),t.TgZ(33,"span",21),t._uU(34,"phone_enabled"),t.qZA()(),t.TgZ(35,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.sendEmail(a.email))}),t.TgZ(36,"span",21),t._uU(37,"email"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.isVisualizzaLogo),t.xp6(1),t.Q6J("ngIf",!e.isVisualizzaLogo),t.xp6(1),t.Q6J("ngIf",null!=e.portale&&!!e.portale.indirizzo),t.xp6(2),t.Q6J("ngIf",null!=e.promozioni&&e.promozioni.length>0&&!e.isPacchetti),t.xp6(3),t.Oqu(t.lcZ(12,23,"booking.vaiAlSito")),t.xp6(2),t.Q6J("ngIf",!!e.portale.telefonoWhatsapp),t.xp6(1),t.Q6J("disableRipple",!0)("matTooltip",e.cellulare),t.xp6(3),t.Q6J("disableRipple",!0),t.xp6(5),t.Q6J("panelClass","booking-select-unlimited-height")("ngModel",e.lingua),t.xp6(2),t.Gre("fi fi-",e.selectedLanguage.flagIcon,""),t.xp6(1),t.Q6J("ngForOf",e.lingueAttive),t.xp6(1),t.Q6J("ngIf",!e.isPacchetti),t.xp6(2),t.Q6J("disableRipple",!0)("matTooltip",e.portale.indirizzo+", "+e.portale.cap+" "+e.portale.provincia),t.xp6(3),t.Q6J("ngIf",!!e.portale.telefonoWhatsapp),t.xp6(1),t.Q6J("disableRipple",!0)("matTooltip",e.cellulare),t.xp6(3),t.Q6J("disableRipple",!0)("matTooltip",e.email)}}function Pp(o,n){if(1&o&&(t.TgZ(0,"mat-option",49),t._UZ(1,"span"),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&o){const e=n.$implicit;t.Q6J("value",e.codice),t.xp6(1),t.Gre("mr-2 fi fi-",e.flagIcon,""),t.xp6(2),t.Oqu(t.lcZ(4,5,"language_codes."+e.codice))}}function Tp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"a",75),t.NdJ("click",function(a){t.CHM(e),t.oxw(2);const r=t.MAs(3),l=t.oxw();return a.preventDefault(),l.showPacchettiList(),t.KtG(r.close())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.pacchetti")))}function Mp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"a",75),t.NdJ("click",function(a){t.CHM(e),t.oxw(2);const r=t.MAs(3),l=t.oxw();return a.preventDefault(),l.sendRequest(),t.KtG(r.close())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.inviaRichiesta")))}function yp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"a",75),t.NdJ("click",function(a){t.CHM(e),t.oxw(3);const r=t.MAs(3),l=t.oxw();return a.preventDefault(),r.close(),t.KtG(l.login())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.accedi")))}function Zp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",78)(1,"div",79),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"a",80),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(4);return a.preventDefault(),t.KtG(r.utility.openUrlInNewTab("/self-checkin/home"))}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"a",81),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw(4);return a.preventDefault(),t.KtG(r.logout())}),t._uU(8),t.ALo(9,"translate"),t.qZA()()}if(2&o){const e=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,3,e.sessionService.sessione.clienteMySelf.nome+" "+e.sessionService.sessione.clienteMySelf.cognome)," "),t.xp6(3),t.Oqu(t.lcZ(6,5,"booking.leMiePrenotazioni")),t.xp6(3),t.Oqu(t.lcZ(9,7,"booking.logout"))}}function kp(o,n){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,yp,3,3,"a",76),t.YNc(2,Zp,10,9,"div",77),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!e.sessionService.isLoggedInMySelf()),t.xp6(1),t.Q6J("ngIf",e.sessionService.isLoggedInMySelf())}}function Ap(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",70),t._uU(2),t.qZA(),t.TgZ(3,"div",71)(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"div",72),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.callNumber(a.portale.telefono))}),t._uU(7),t.qZA(),t.TgZ(8,"div",73),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.sendEmail(a.portale.email))}),t._uU(9),t.qZA()(),t.TgZ(10,"div")(11,"span",74)(12,"mat-form-field",24)(13,"mat-select",25),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.lingua=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.updateLinguaUrl(a.lingua))}),t.TgZ(14,"mat-select-trigger"),t._UZ(15,"span"),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.YNc(19,Pp,5,7,"mat-option",26),t.qZA()()()(),t.YNc(20,Tp,4,3,"div",3),t.TgZ(21,"div")(22,"a",75),t.NdJ("click",function(a){t.CHM(e),t.oxw();const r=t.MAs(3),l=t.oxw();return a.preventDefault(),l.utility.openUrlInNewTab(l.url),t.KtG(r.close())}),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.YNc(25,Mp,4,3,"div",3),t.YNc(26,kp,3,2,"div",3),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.nomePortale," "),t.xp6(3),t.hij(" ",e.portale.indirizzo+", "+(e.portale.cap?e.portale.cap+" ":"")+(e.portale.citta?e.portale.citta:"")," "),t.xp6(2),t.hij(" ",e.portale.telefono," "),t.xp6(2),t.hij(" ",e.portale.email," "),t.xp6(4),t.Q6J("panelClass","booking-select-unlimited-height")("ngModel",e.lingua),t.xp6(2),t.Gre("mr-2 fi fi-",e.selectedLanguage.flagIcon,""),t.xp6(2),t.Oqu(t.lcZ(18,15,"language_codes."+e.selectedLanguage.codice)),t.xp6(2),t.Q6J("ngForOf",e.lingueAttive),t.xp6(1),t.Q6J("ngIf",null!=e.promozioni&&e.promozioni.length>0&&!e.isPacchetti),t.xp6(3),t.Oqu(t.lcZ(24,17,"booking.vaiAlSito")),t.xp6(2),t.Q6J("ngIf",e.isRichiediDisponibilitaStep1Visualizzata&&!e.isPacchetti),t.xp6(1),t.Q6J("ngIf",!e.isPacchetti)}}function Sp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-prenotazione-summary",84),t.NdJ("prenotazioneDetailsOutput",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.totale=a.totaleScontato>0?a.totaleScontato:a.totale)})("onChange",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onBookingChange())}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("prenotazioneDetails",e.bookingInput)("from",e.from)("to",e.to)("nights",e.nights)("numeroPax",e.pax)("dayUse",e.dayUse)("mobileSummary",!0)("disabled",e.prenotazioneCompleted)("valuta",e.valuta)}}function Op(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-booking-extra-select-summary",85),t.NdJ("extraChanged",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.totale=a)})("onChange",function(){t.CHM(e);const a=t.oxw(3);return a.onBookingExtraChange(),t.KtG(a.verificaCodicePromozionaleSubject.next())}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("_bookingExtraInput",e.bookingExtraInput)("mobileSummary",!0)("disabled",e.prenotazioneCompleted)("valuta",e.valuta)}}function Ip(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Sp,1,9,"app-prenotazione-summary",82),t.YNc(2,Op,1,4,"app-booking-extra-select-summary",83),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.extraSelect),t.xp6(1),t.Q6J("ngIf",e.extraSelect)}}function qp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-booking-calendar",92),t.NdJ("daysSelected",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.getCamere(a))}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("oidAlbergo",e.oidAlbergo)("oidPortale",e.oidPortale)("lingua",e.lingua)("isVisualizzaDisponibilitaCalendario",e.isVisualizzaDisponibilitaCalendario)("isVisualizzaPrezzoCalendario",e.isVisualizzaPrezzoCalendario)("email",e.email)("cellulare",e.cellulare)("mappa",e.mappa)("clickSubject",e.clickSubject)("showSearchButtonSubject",e.showSearchButtonSubject)("dayUse",e.dayUse)("adultiDefault",e.adultiDefault)("adultiMax",e.adultiMax)("bambiniMax",e.bambiniMax)("etaMinimaBambini",e.etaMinimaBambini)("etaMassimaBambini",e.etaMassimaBambini)("camereUrl",e.camereUrl)("arrivoUrl",e.arrivoUrl)("partenzaUrl",e.partenzaUrl)("codicePromozioneUrl",e.codicePromozioneUrl)("controllingDisponibility",e.controllingDisponibility)("codicePromozione",e.codicePromozione)("isEtaRiduzioniAttiva",e.isEtaRiduzioniAttiva)("riduzioni",e.riduzioni)("isRichiediDisponibilitaStep1Visualizzata",e.isRichiediDisponibilitaStep1Visualizzata)("numeroCodiciPromozionali",e.numeroCodiciPromozionali)("motiviViaggio",e.motiviViaggio)("camerePrenotabili",e.camerePrenotabili)("isVisualizzaCalendarioMobile",e.isVisualizzaCalendarioMobile)("isVisualizzaPrezzoMinimo",e.isVisualizzaPrezzoMinimo)("valuta",e.valuta)("isDisattivaRichiestaBambini",e.isDisattivaRichiestaBambini)("isControllaDurateSoggiornoSulGiornoDiArrivo",e.isControllaDurateSoggiornoSulGiornoDiArrivo)("isProponiNottiCalendario",e.isProponiNottiCalendario)}}function Jp(o,n){if(1&o&&(t.TgZ(0,"div",108)(1,"div",109)(2,"span",110),t._uU(3,"check"),t.qZA(),t.TgZ(4,"span",111),t._uU(5),t.qZA()()()),2&o){const e=n.$implicit;t.xp6(5),t.Oqu(e)}}function Qp(o,n){if(1&o&&(t.TgZ(0,"div",105)(1,"div",106),t.YNc(2,Jp,6,1,"div",107),t.qZA()()),2&o){const e=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",e.bulletPointsLoaded)}}const Up=function(o){return{"col-lg-12":o}};function Np(o,n){if(1&o&&(t.TgZ(0,"div",98,99)(2,"div",100),t._UZ(3,"iframe",101),t.ALo(4,"safeUrl"),t.TgZ(5,"h3",102)(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",103),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.YNc(12,Qp,3,1,"div",104),t.qZA()),2&o){const e=t.oxw(4);t.xp6(2),t.Q6J("ngClass",t.VKq(11,Up,null==e.bulletPoints||0==e.bulletPoints.length)),t.xp6(1),t.Q6J("src",t.lcZ(4,5,"/assets/images/booking/like-animated.svg"),t.uOi),t.xp6(4),t.Oqu(t.lcZ(8,7,"booking.prezzoBasso1")),t.xp6(3),t.Oqu(t.lcZ(11,9,"booking.prezzoBasso2")),t.xp6(2),t.Q6J("ngIf",null!=e.bulletPoints&&e.bulletPoints.length>0)}}function Ep(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-pacchetti",112),t.NdJ("onPromozioneSelected",function(a){t.CHM(e);const r=t.oxw(4);return t.KtG(r.onPromozioneSelected(a,!0))}),t.qZA()()}if(2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("_promozioni",e.promozioni)("valuta",e.valuta)}}function Dp(o,n){if(1&o&&(t.TgZ(0,"div",113),t._UZ(1,"app-image-slider",114),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("images",e.images)("minimumHeight",450)("maximumHeight",450)}}function Lp(o,n){if(1&o&&t._UZ(0,"app-inner-html",127),2&o){const e=t.oxw().$implicit;t.Q6J("_text",e.descrizione)}}function Bp(o,n){if(1&o&&(t.TgZ(0,"div")(1,"div",125),t._uU(2),t.qZA(),t.YNc(3,Lp,1,1,"app-inner-html",126),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.nome),t.xp6(1),t.Q6J("ngIf",!!e.descrizione)}}function Vp(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"h5",123),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Bp,4,2,"div",124),t.BQk()),2&o){const e=t.oxw(6);t.xp6(2),t.hij(" ",t.lcZ(3,2,"booking.servizi")," "),t.xp6(2),t.Q6J("ngForOf",e.servizi)}}function Yp(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"h5",128),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-booking-recensioni",129),t.BQk()),2&o){const e=t.oxw(6);t.xp6(2),t.hij(" ",t.lcZ(3,3,"booking.diconoDiNoi")," "),t.xp6(2),t.Q6J("recensioni",e.recensioni)("startSubject",e.startSubject)}}function Fp(o,n){if(1&o&&(t.TgZ(0,"div",120)(1,"div",121),t.YNc(2,Vp,5,4,"ng-container",3),t.qZA(),t.TgZ(3,"div",122),t.YNc(4,Yp,5,5,"ng-container",3),t.qZA()()),2&o){const e=t.oxw(5);t.xp6(2),t.Q6J("ngIf",null!=e.servizi&&e.servizi.length>0),t.xp6(2),t.Q6J("ngIf",null!=e.recensioni&&e.recensioni.length>0)}}const Hp=function(o){return{"descrizione-col-full-width":o}};function Rp(o,n){if(1&o&&(t.TgZ(0,"div",115)(1,"div",116)(2,"div",117),t._UZ(3,"app-inner-html",118),t.qZA()(),t.YNc(4,Fp,5,2,"div",119),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(3,Hp,!(null!=e.servizi&&0!=e.servizi.length||null!=e.recensioni&&0!=e.recensioni.length))),t.xp6(2),t.Q6J("_text",e.descrizionePortale),t.xp6(1),t.Q6J("ngIf",null!=e.servizi&&e.servizi.length>0||null!=e.recensioni&&e.recensioni.length>0)}}function Gp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",null,130)(2,"app-pacchetti-select",131),t.NdJ("onPromozioneSelected",function(a){t.CHM(e);const r=t.oxw(4);return t.KtG(r.onPromozioneSelected(a,!1))})("backEvent",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onPacchettiSelectBack())}),t.qZA()()}if(2&o){const e=t.oxw(4);t.xp6(2),t.Q6J("promozioni",e.promozioni)("isPacchetti",e.isPacchetti)("valuta",e.valuta)}}function Kp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",null,132)(2,"app-pacchetto-details",133),t.NdJ("backEvent",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onPacchettoDetailsBack())}),t.qZA()()}if(2&o){const e=t.oxw(4);t.xp6(2),t.Q6J("promozione",e.pacchetto)}}function jp(o,n){if(1&o&&(t.TgZ(0,"mat-option",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=n.$implicit,i=t.oxw(7);t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,i.getEnumKeyTranslation(i.enumMealPlanType,e,"mealPlanType"))," ")}}function Xp(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",145)(1,"div",146)(2,"span",147),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div")(6,"mat-form-field",148)(7,"mat-select",149),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(6);return t.KtG(r.trattamento=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw(6);return t.KtG(a.onTreatmentSelected())}),t.TgZ(8,"mat-option",49),t._uU(9," --- "),t.qZA(),t.YNc(10,jp,3,4,"mat-option",26),t.qZA()()()()}if(2&o){const e=t.oxw(6);t.xp6(3),t.Oqu(t.lcZ(4,6,"booking.filtroTrattamento")),t.xp6(4),t.Q6J("panelClass","booking-select-unlimited-height")("value",null)("ngModel",e.trattamento),t.xp6(1),t.Q6J("value",null),t.xp6(2),t.Q6J("ngForOf",e.mealTypes)}}function $p(o,n){1&o&&t._UZ(0,"img",157)}function Wp(o,n){if(1&o&&(t.TgZ(0,"div",154)(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",155),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,$p,1,0,"img",156),t.qZA()),2&o){const e=t.oxw(8);t.xp6(2),t.hij(" ",t.lcZ(3,4,"booking.prezzoMigliore1")," "),t.xp6(3),t.hij(" ",t.lcZ(6,6,"booking.prezzoMigliore2")," "),t.xp6(3),t.hij(" ",t.lcZ(9,8,"booking.prezzoMigliore3")," "),t.xp6(2),t.Q6J("ngIf",e.arrowVisible)}}function tg(o,n){1&o&&(t.TgZ(0,"span",147),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("---"))}function eg(o,n){if(1&o&&(t.TgZ(0,"span",163),t._uU(1),t.TgZ(2,"small",164),t._uU(3),t.qZA()()),2&o){const e=t.oxw(9);t.xp6(1),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.prezzoMinimo)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.prezzoMinimo))}}function ng(o,n){if(1&o&&(t.TgZ(0,"div",158)(1,"div",159)(2,"div")(3,"span",160),t._uU(4," thumb_up "),t.qZA()(),t.TgZ(5,"div")(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,tg,2,1,"span",161),t.YNc(10,eg,4,2,"span",162),t.qZA()()()),2&o){const e=t.oxw(8);t.xp6(7),t.Oqu(t.lcZ(8,3,"booking.da")),t.xp6(2),t.Q6J("ngIf",null==e.prezzoMinimo),t.xp6(1),t.Q6J("ngIf",null!=e.prezzoMinimo)}}function og(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Wp,11,10,"div",152),t.YNc(2,ng,11,5,"div",153),t.BQk()),2&o){const e=t.oxw(7);t.xp6(1),t.Q6J("ngIf",e.migliorPrezzoVisible),t.xp6(1),t.Q6J("ngIf",e.prezzoMinimoVisible)}}function ig(o,n){1&o&&(t.TgZ(0,"span",147),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("---"))}function ag(o,n){if(1&o&&(t.TgZ(0,"span",163),t._uU(1),t.TgZ(2,"small",164),t._uU(3),t.qZA()()),2&o){const e=t.oxw(8);t.xp6(1),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.prezzoMinimo)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.prezzoMinimo))}}function rg(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",165)(2,"div",166)(3,"span",160),t._uU(4,"thumb_up"),t.qZA()(),t.TgZ(5,"div",151)(6,"div",167)(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",168)(11,"span"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.YNc(14,ig,2,1,"span",161),t.YNc(15,ag,4,2,"span",162),t.qZA()()(),t.BQk()),2&o){const e=t.oxw(7);t.xp6(8),t.Oqu(t.lcZ(9,4,"booking.suQuestoSito")),t.xp6(4),t.Oqu(t.lcZ(13,6,"booking.da")),t.xp6(2),t.Q6J("ngIf",null==e.prezzoMinimo),t.xp6(1),t.Q6J("ngIf",null!=e.prezzoMinimo)}}const lg=function(o,n){return{"col-12 col-lg-7":o,"col-12":n}};function cg(o,n){if(1&o&&(t.TgZ(0,"div",150)(1,"div",151),t.YNc(2,og,3,2,"ng-container",3),t.YNc(3,rg,16,8,"ng-container",3),t.qZA()()),2&o){const e=t.oxw(6);t.Q6J("ngClass",t.WLB(3,lg,e.filtroTariffaAttivo,!e.filtroTariffaAttivo)),t.xp6(2),t.Q6J("ngIf",e.containerService.dimension.width>=1300),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width<1300&&null!=e.tariffeComparazione&&e.tariffeComparazione.length>0)}}function sg(o,n){1&o&&(t.TgZ(0,"span",147),t._uU(1),t.qZA()),2&o&&(t.xp6(1),t.Oqu("---"))}function pg(o,n){if(1&o&&(t.TgZ(0,"span",176),t._uU(1),t.TgZ(2,"small",164),t._uU(3),t.qZA()()),2&o){const e=t.oxw(2).$implicit,i=t.oxw(7);t.xp6(1),t.Oqu(i.utility.getValuta(i.valuta)+i.utility.getPriceIntegerPart(e.prezzo)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.prezzo))}}function gg(o,n){if(1&o&&(t.TgZ(0,"div")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,sg,2,1,"span",161),t.YNc(5,pg,4,2,"span",175),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,"booking.da")),t.xp6(2),t.Q6J("ngIf",null==e.prezzo),t.xp6(1),t.Q6J("ngIf",null!=e.prezzo)}}function mg(o,n){1&o&&t._UZ(0,"div",177)}const dg=function(o){return{"ml-2":o}};function _g(o,n){if(1&o&&(t.TgZ(0,"div",170)(1,"div",171)(2,"div",172)(3,"span",160),t._uU(4,"arrow_upward"),t.qZA()(),t.TgZ(5,"div",173)(6,"div")(7,"span"),t._uU(8),t.qZA()(),t.YNc(9,gg,6,5,"div",3),t.YNc(10,mg,1,0,"div",174),t.qZA()()()),2&o){const e=n.$implicit,i=n.index,a=t.oxw(7);t.Q6J("ngClass",t.VKq(4,dg,1==i||a.containerService.dimension.width>=576)),t.xp6(8),t.Oqu(e.nome),t.xp6(1),t.Q6J("ngIf",0==i&&!a.loadingTariffa1||1==i&&!a.loadingTariffa2),t.xp6(1),t.Q6J("ngIf",0==i&&a.loadingTariffa1||1==i&&a.loadingTariffa2)}}function ug(o,n){if(1&o&&(t.ynx(0),t.YNc(1,_g,11,6,"div",169),t.BQk()),2&o){const e=t.oxw(6);t.xp6(1),t.Q6J("ngForOf",e.tariffeComparazione)}}function fg(o,n){if(1&o&&(t.TgZ(0,"div",141)(1,"div",142),t.YNc(2,Xp,11,8,"div",143),t.YNc(3,cg,4,6,"div",144),t.qZA(),t.YNc(4,ug,2,1,"ng-container",3),t.qZA()),2&o){const e=t.oxw(5);t.xp6(2),t.Q6J("ngIf",e.filtroTariffaAttivo&&e.containerService.dimension.width>=992),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width>=1300||null!=e.tariffeComparazione&&e.tariffeComparazione.length>0),t.xp6(1),t.Q6J("ngIf",null!=e.tariffeComparazione&&e.tariffeComparazione.length>0)}}function hg(o,n){if(1&o&&(t.TgZ(0,"mat-option",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=n.$implicit,i=t.oxw(6);t.Q6J("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,i.getEnumKeyTranslation(i.enumMealPlanType,e,"mealPlanType"))," ")}}function xg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",178)(1,"div",179)(2,"span",147),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",180)(6,"mat-form-field",148)(7,"mat-select",149),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(5);return t.KtG(r.trattamento=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.onTreatmentSelected())}),t.TgZ(8,"mat-option",49),t._uU(9," --- "),t.qZA(),t.YNc(10,hg,3,4,"mat-option",26),t.qZA()()()()}if(2&o){const e=t.oxw(5);t.xp6(3),t.Oqu(t.lcZ(4,6,"booking.filtroTrattamento")),t.xp6(4),t.Q6J("panelClass","booking-select-unlimited-height")("value",null)("ngModel",e.trattamento),t.xp6(1),t.Q6J("value",null),t.xp6(2),t.Q6J("ngForOf",e.mealTypes)}}function bg(o,n){if(1&o&&(t.TgZ(0,"div",181),t._UZ(1,"app-inner-html",118),t.qZA()),2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("_text",e.descrizioneDayUse)}}function vg(o,n){if(1&o&&t._UZ(0,"app-booking-banner",182),2&o){const e=t.oxw(5);t.Q6J("_banner",e.banner)}}function Cg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-pacchetti-evidenza",183),t.NdJ("onPromozioneSelected",function(a){t.CHM(e);const r=t.oxw(5);return t.KtG(r.onPromozioneEvidenzaSelected(a))})("onButtonsClick",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.clickSubject.next())})("login",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.login())}),t.qZA()}if(2&o){const e=t.oxw(5);t.Q6J("_promozioni",e.promozioniInEvidenza)("isVisualizzaDettaglioGiornaliero",e.isVisualizzaDettaglioGiornaliero)("valuta",e.valuta)("isDisplayOnly",e.isDisplayOnly)}}function zg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-booking-room",184),t.NdJ("onPrenota",function(a){const l=t.CHM(e).$implicit,c=t.oxw(5);return t.KtG(c.onPrenota(a,l))})("onQuantityChange",function(a){const l=t.CHM(e).$implicit,c=t.oxw(5);return t.KtG(c.onQuantityChange(a,l))})("onButtonsClick",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.clickSubject.next())})("login",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.login())}),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw(5);t.Q6J("roomsSelected",i.bookingInput.tariffeTipiCamera)("rooms",i.camerePax)("_room",e)("_trattamento",i.trattamento)("disablePrenotaButton",i.disablePrenotaButton)("loginSubject",i.loginSubject)("dayUse",i.dayUse)("isVisualizzaTotaleSoggiornoSeNonDisponibile",i.isVisualizzaTotaleSoggiornoSeNonDisponibile)("isCamereLibereStep1Visualizzate",i.isCamereLibereStep1Visualizzate)("isPaxStep1Visualizzate",i.isPaxStep1Visualizzate)("isVisualizzaDettaglioGiornaliero",i.isVisualizzaDettaglioGiornaliero)("isDisplayOnly",i.isDisplayOnly)("isVisualizzaDescrizionePoliticaCancellazione",i.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",i.isVisualizzaDescrizioneDettagliataTariffa)("isVisualizzaTariffeEspanse",i.isVisualizzaTariffeEspanse)("arrivo",i.from)("partenza",i.to)("lingua",i.lingua)("valuta",i.valuta)}}function wg(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"div",null,134),t.YNc(3,fg,5,3,"div",135),t.YNc(4,xg,11,8,"div",136),t.YNc(5,bg,2,1,"div",137),t.YNc(6,vg,1,1,"app-booking-banner",138),t.YNc(7,Cg,1,4,"app-pacchetti-evidenza",139),t.YNc(8,zg,1,19,"app-booking-room",140),t.BQk()),2&o){const e=t.oxw(4);t.xp6(3),t.Q6J("ngIf",!e.dayUse&&(null!=e.tariffeComparazione&&e.tariffeComparazione.length>0||e.containerService.dimension.width>=992)),t.xp6(1),t.Q6J("ngIf",e.filtroTariffaAttivo&&e.containerService.dimension.width<992&&!e.dayUse),t.xp6(1),t.Q6J("ngIf",e.dayUse&&!!e.descrizioneDayUse),t.xp6(1),t.Q6J("ngIf",e.tipoVisualizzazioneBanner==e.enumTipoVisualizzazioneBanner.PrimaDelleTariffe&&null!=e.banner&&e.banner.length>0),t.xp6(1),t.Q6J("ngIf",null!=e.promozioniInEvidenza&&e.promozioniInEvidenza.length>0),t.xp6(1),t.Q6J("ngForOf",e.camere)}}function Pg(o,n){if(1&o&&(t.TgZ(0,"div",108)(1,"div",109)(2,"span",110),t._uU(3,"check"),t.qZA(),t.TgZ(4,"span",111),t._uU(5),t.qZA()()()),2&o){const e=n.$implicit;t.xp6(5),t.Oqu(e)}}function Tg(o,n){if(1&o&&(t.TgZ(0,"div",193)(1,"div",194),t.YNc(2,Pg,6,1,"div",107),t.qZA()()),2&o){const e=t.oxw(6);t.xp6(2),t.Q6J("ngForOf",e.bulletPointsLoaded)}}const Mg=function(o){return{"col-12":o}};function yg(o,n){if(1&o&&(t.TgZ(0,"div",189)(1,"div",190),t._UZ(2,"iframe",101),t.ALo(3,"safeUrl"),t.TgZ(4,"h3",191)(5,"span"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"span",103),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.YNc(11,Tg,3,1,"div",192),t.qZA()),2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("ngClass",t.VKq(11,Mg,null==e.bulletPoints||0==e.bulletPoints.length)),t.xp6(1),t.Q6J("src",t.lcZ(3,5,"/assets/images/booking/like-animated.svg"),t.uOi),t.xp6(4),t.Oqu(t.lcZ(7,7,"booking.prezzoBasso1")),t.xp6(3),t.Oqu(t.lcZ(10,9,"booking.prezzoBasso2")),t.xp6(2),t.Q6J("ngIf",null!=e.bulletPoints&&e.bulletPoints.length>0)}}function Zg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-booking-room-calendar",195),t.NdJ("onInitialized",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.onRoomCalendarInitialized())}),t.qZA()}if(2&o){const e=t.oxw(5);t.Q6J("oidAlbergo",e.oidAlbergo)("oidPortale",e.oidPortale)("lingua",e.lingua)("from",e.from)("to",e.to)("notti",e.nights)("dayUse",e.dayUse)("tipoVisualizzazioneGrigliaDisponibilita",e.tipoVisualizzazioneGrigliaDisponibilita)("email",e.email)("cellulare",e.cellulare)("valuta",e.valuta)}}function kg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-booking-non-disponibile",196),t.NdJ("dateSelected",function(a){t.CHM(e);const r=t.oxw(5);return t.KtG(r.onDataAlternativaSelected(a))}),t.qZA()}if(2&o){const e=t.oxw(5);t.Q6J("_dateAlternative",e.dateAlternative)("valuta",e.valuta)}}function Ag(o,n){if(1&o&&(t.TgZ(0,"div",null,185),t.YNc(2,yg,12,13,"div",186),t.YNc(3,Zg,1,11,"app-booking-room-calendar",187),t.YNc(4,kg,1,2,"app-booking-non-disponibile",188),t.qZA()),2&o){const e=t.oxw(4);t.xp6(2),t.Q6J("ngIf",e.roomCalendarInitialized),t.xp6(1),t.Q6J("ngIf",!e.showDateAlternative),t.xp6(1),t.Q6J("ngIf",e.showDateAlternative)}}function Sg(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",93),t.YNc(2,Np,13,13,"div",94),t.YNc(3,Ep,2,2,"div",3),t.TgZ(4,"div",95),t.YNc(5,Dp,2,3,"div",96),t.YNc(6,Rp,5,5,"div",97),t.qZA(),t.YNc(7,Gp,3,3,"div",3),t.YNc(8,Kp,3,1,"div",3),t.qZA(),t.YNc(9,wg,9,6,"ng-container",3),t.YNc(10,Ag,5,3,"div",3),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("hidden",e.showCamere),t.xp6(1),t.Q6J("ngIf",!e.isPacchetti),t.xp6(1),t.Q6J("ngIf",!e.showCamere&&null!=e.promozioni&&e.promozioni.length>0&&!e.showPacchetti&&!e.showPacchetto),t.xp6(1),t.Q6J("hidden",e.showPacchetti||e.showPacchetto),t.xp6(1),t.Q6J("ngIf",null!=e.images&&e.images.length>0&&(null==e.promozioni||0==e.promozioni.length)),t.xp6(1),t.Q6J("ngIf",!!e.descrizionePortale),t.xp6(1),t.Q6J("ngIf",!e.showCamere&&e.showPacchetti&&!e.showPacchetto),t.xp6(1),t.Q6J("ngIf",!e.showCamere&&!e.showPacchetti&&e.showPacchetto&&null!=e.pacchetto),t.xp6(1),t.Q6J("ngIf",e.showCamere&&null!=e.camere&&e.camere.length>0),t.xp6(1),t.Q6J("ngIf",e.showRoomCalendar)}}function Og(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div")(2,"div",86),t.YNc(3,qp,1,34,"app-booking-calendar",87),t.qZA(),t.TgZ(4,"div",88),t.YNc(5,Sg,11,10,"ng-container",3),t.qZA()(),t.TgZ(6,"div",89)(7,"app-extra-select",90),t.NdJ("back",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onExtraSelectBack())})("continue",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onExtraSelected())})("onChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onBookingChange())}),t.qZA()(),t.TgZ(8,"div",89)(9,"app-prenotazione-details",91),t.NdJ("back",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPrenotazioneDetailsBack())})("loginEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.login())})("onChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onBookingChange())})("onTotaleChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.totale=a)})("onPrenotazioneCompleted",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.prenotazioneCompleted=!0)}),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Tol(e.showExtraSelect||e.showPrenotazioneDetails?"d-none":"d-flex flex-column flex-lg-row justify-content-center"),t.xp6(1),t.Q6J("hidden",e.isPacchetti),t.xp6(1),t.Q6J("ngIf",e.initialized),t.xp6(2),t.Q6J("ngIf",e.initialized),t.xp6(1),t.Q6J("hidden",!e.showExtraSelect||e.showPrenotazioneDetails),t.xp6(1),t.Q6J("_prenotazioneDetails",e.bookingInput)("condizioniPrenotazione",e.condizioniPrenotazione)("from",e.from)("to",e.to)("nights",e.nights)("numeroPax",e.pax)("dayUse",e.dayUse)("prenotaSubject",e.prenotaSubject)("cancellazioni",e.cancellazioni)("bulletPoints",e.bulletPoints)("scroll",e.extraSelectScroll)("valuta",e.valuta),t.xp6(1),t.Q6J("hidden",!e.showPrenotazioneDetails),t.xp6(1),t.Q6J("_lingua",e.lingua)("albergo",e.albergo)("portale",e.portale)("_prenotazioneDetails",e.bookingInput)("condizioniPrenotazione",e.condizioniPrenotazione)("from",e.from)("to",e.to)("nights",e.nights)("numeroPax",e.pax)("dayUse",e.dayUse)("descrizioneFinale",e.descrizioneFinale)("cancellazioni",e.cancellazioni)("loginSubject",e.loginSubject)("condizioniContratto",e.condizioniContratto)("bulletPoints",e.bulletPoints)("scroll",e.prenotazioneDetailsScroll)("gtmService",e.gtmService)("allModalitaPagamento",e.allModalitaPagamento)("oidCodicePromozione",e.oidCodicePromozione)("oidMotivoViaggio",null!=e.getCamereRequest?e.getCamereRequest.oidMotivoViaggio:null)("numeroVoucher",e.numeroVoucher)("isGoogleHotelsTravel",e.isGoogleHotelsTravel)("isTrivago",e.isTrivago)("isRichiediInformazioniOspiti",e.isRichiediInformazioniOspiti)("motiviViaggio",e.motiviViaggio)("bookingSolutionUid",e.bookingSolutionUid)}}function Ig(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",89)(2,"app-booking-extra-select",197),t.NdJ("onChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onBookingExtraChange())})("onExtraSelected",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onBookingExtraSelected())})("verificaCodicePromozionale",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.verificaCodicePromozionaleSubject.next())})("noExtraSelectedEvent",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.noExtraSelected=a)}),t.qZA()(),t.TgZ(3,"div",89)(4,"app-booking-extra-select-pagamento",198),t.NdJ("back",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onBookingExtraSelectBack())})("loginEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.login())})("onChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onBookingExtraChange())})("onTotaleChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.totale=a)})("onPrenotazioneCompleted",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.prenotazioneCompleted=!0)}),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("hidden",e.showExtraSelectPagamento),t.xp6(1),t.Q6J("_bookingExtraInput",e.bookingExtraInput)("condizioniPrenotazione",e.condizioniPrenotazione)("descrizioneExtra",e.descrizioneExtra)("scroll",e.bookingExtraSelectScroll)("valuta",e.valuta),t.xp6(1),t.Q6J("hidden",!e.showExtraSelectPagamento),t.xp6(1),t.Q6J("bookingExtraInput",e.bookingExtraInput)("modalitaPagamento",e.modalitaPagamento)("lingua",e.lingua)("oidAlbergo",e.oidAlbergo)("oidPortale",e.oidPortale)("condizioniPrenotazione",e.condizioniPrenotazione)("descrizioneFinale",e.descrizioneFinale)("loginSubject",e.loginSubject)("scroll",e.bookingExtraSelectPagamentoScroll)("recaptchaAttiva",e.recaptchaAttiva)("isVisualizzaCondizioniPrenotazioneStep2",e.isVisualizzaCondizioniPrenotazioneStep2)("isAccettaContrattoPrenotazioneStep2",e.isAccettaContrattoPrenotazioneStep2)("condizioniContratto",e.condizioniContratto)("isVisualizzaBottoniSocialLoginStep2",e.isVisualizzaBottoniSocialLoginStep2)("isVerificaCartaCredito",e.isVerificaCartaCredito)("isVisualizzaCRO",e.isVisualizzaCRO)("_isAttivaSpedizioneBookingExtra",e.isAttivaSpedizioneBookingExtra)("verificaCodicePromozionaleSubject",e.verificaCodicePromozionaleSubject)("uid",e.uid)("valuta",e.valuta)("isCellulareObbligatorio",e.portale.isCellulareObbligatorio)("isRichiesteObbligatorie",e.portale.isRichiesteObbligatorie)}}const qg=function(o,n){return{"pt-4":o,"pt-3":n}},Jg=function(o){return{"pt-3":o}},Qg=function(o){return{"min-height":o}};function Ug(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-drawer-container",65)(2,"mat-drawer",66,67),t.NdJ("closedStart",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onDrawerClose())}),t.YNc(4,Ap,27,19,"ng-container",3),t.YNc(5,Ip,3,2,"ng-container",3),t.qZA(),t.TgZ(6,"mat-drawer-content",68)(7,"div",69),t.YNc(8,Og,10,45,"ng-container",3),t.YNc(9,Ig,5,29,"ng-container",3),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Udp("margin-top",e.drawerMargin,"px"),t.Q6J("hasBackdrop",!0),t.xp6(1),t.Udp("width",e.mobileSummaryOpen?100:60,"%")("background-image",e.mobileSummaryOpen?"url("+e.urlImmagineSfondo+")":"none"),t.Q6J("mode","over")("autoFocus",!1),t.xp6(2),t.Q6J("ngIf",!e.mobileSummaryOpen),t.xp6(1),t.Q6J("ngIf",e.mobileSummaryOpen),t.xp6(1),t.Q6J("ngClass",t.WLB(16,qg,!e.shortScreen,e.shortScreen)),t.xp6(1),t.Q6J("ngClass",t.VKq(19,Jg,(!e.showRoomCalendar||e.containerService.dimension.width>=992)&&!e.shortScreen))("ngStyle",t.VKq(21,Qg,"calc(100% - "+(e.headerHeight+e.footerHeight)+"px)")),t.xp6(1),t.Q6J("ngIf",!e.extraSelect),t.xp6(1),t.Q6J("ngIf",e.extraSelect)}}function Ng(o,n){if(1&o&&t._UZ(0,"app-booking-error-page",199),2&o){const e=t.oxw();t.Q6J("errorMessage",e.errorMessage)}}function Eg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",203)(1,"button",204),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.numeroUltimePrenotazioniPopupHidden=!0)}),t.TgZ(2,"i",205),t._uU(3,"clear"),t.qZA()(),t.TgZ(4,"span",206),t._UZ(5,"iframe",207),t.ALo(6,"safeUrl"),t.qZA(),t.TgZ(7,"span",208),t._uU(8),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("disableRipple",!0),t.xp6(4),t.Q6J("src",t.lcZ(6,3,"/assets/images/booking/popup1.svg"),t.uOi),t.xp6(3),t.Oqu(e.numeroUltimePrenotazioniTranslated)}}const eo=function(o){return{"mt-2":o}};function Dg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",209)(1,"button",204),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.popupHidden=!0)}),t.TgZ(2,"i",205),t._uU(3,"clear"),t.qZA()(),t.TgZ(4,"div",210),t._uU(5),t.qZA()()}if(2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(3,eo,e.numeroUltimePrenotazioni>0&&!e.numeroUltimePrenotazioniPopupHidden)),t.xp6(1),t.Q6J("disableRipple",!0),t.xp6(4),t.hij(" ",e.descrizionePopup," ")}}function Lg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",209)(1,"button",204),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.numeroPersoneCollegatePopupHidden=!0)}),t.TgZ(2,"i",205),t._uU(3,"clear"),t.qZA()(),t.TgZ(4,"span",206),t._UZ(5,"iframe",207),t.ALo(6,"safeUrl"),t.qZA(),t.TgZ(7,"span",211),t._uU(8),t.qZA()()}if(2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(6,eo,e.numeroUltimePrenotazioni>0&&!e.numeroUltimePrenotazioniPopupHidden||!!e.descrizionePopup&&!e.popupHidden)),t.xp6(1),t.Q6J("disableRipple",!0),t.xp6(4),t.Q6J("src",t.lcZ(6,4,"/assets/images/booking/popup2.svg"),t.uOi),t.xp6(3),t.Oqu(e.numeroPersoneCollegateTranslated)}}function Bg(o,n){if(1&o&&(t.TgZ(0,"div",200),t.YNc(1,Eg,9,5,"div",201),t.YNc(2,Dg,6,5,"div",202),t.YNc(3,Lg,9,8,"div",202),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.numeroUltimePrenotazioni>0&&!e.numeroUltimePrenotazioniPopupHidden),t.xp6(1),t.Q6J("ngIf",!!e.descrizionePopup&&!e.popupHidden),t.xp6(1),t.Q6J("ngIf",e.numeroPersoneCollegate>0&&!e.numeroPersoneCollegatePopupHidden)}}function Vg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",212)(1,"app-booking-banner",213),t.NdJ("onCloseClick",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.banner=null)}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("_banner",e.banner)("modal",!0)}}function Yg(o,n){1&o&&(t.TgZ(0,"span",54),t._uU(1,"keyboard_arrow_up"),t.qZA())}function Fg(o,n){1&o&&(t.TgZ(0,"span",54),t._uU(1,"keyboard_arrow_down"),t.qZA())}function Hg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",220),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return a.extraSelect?a.onBookingExtraSelected():a.onExtraSelected(),t.KtG(a.mobileSummaryOpen?a.drawer.close():null)}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",221),t._uU(5,"keyboard_arrow_right"),t.qZA()()}if(2&o){const e=t.oxw(2);t.Q6J("disabled",e.extraSelect&&e.noExtraSelected),t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.continua"))}}function Rg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",214)(1,"button",215),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onMobileSummaryOpen())}),t.YNc(2,Yg,2,0,"span",216),t.YNc(3,Fg,2,0,"span",216),t.qZA(),t.TgZ(4,"span",217),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"span",218),t._uU(8),t.TgZ(9,"small",164),t._uU(10),t.qZA()(),t.YNc(11,Hg,6,4,"button",219),t.qZA()}if(2&o){const e=t.oxw();t.Udp("height",e.footerHeight,"px"),t.xp6(1),t.Q6J("disableRipple",!0),t.xp6(1),t.Q6J("ngIf",!e.mobileSummaryOpen),t.xp6(1),t.Q6J("ngIf",e.mobileSummaryOpen),t.xp6(2),t.hij(" ",t.lcZ(6,9,"booking.totale")+": "," "),t.xp6(3),t.Oqu(e.utility.getValuta(e.valuta)+e.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.totale)),t.xp6(1),t.Q6J("ngIf",!e.extraSelect&&e.showExtraSelect&&!e.showPrenotazioneDetails||e.extraSelect&&!e.showExtraSelectPagamento)}}function Gg(o,n){if(1&o&&t._UZ(0,"div",222),2&o){const e=t.oxw();t.uIk("page_id",e.portale.facebookPageId)}}const Kg=function(o){return{height:o}},jg=function(o){return{"drawer-opened":o}};class we extends z.H{beforeUnloadHandler(n){return!this.showCamere&&!this.extraSelect||this.prenotazioneCompleted?null:(n&&(n.returnValue=""),"")}unloadHandler(n){this.deleteBookingSolution()}constructor(n,e,i,a,r,l,c,g,_,u,h){super(),this.containerService=n,this.route=e,this.apiService=i,this.localizationService=a,this.sessionService=r,this.utility=l,this.deviceService=c,this.cssLoaderService=g,this.titleService=_,this.authService=u,this.cookieConsentService=h,this.selectedLanguage=new w.orF,this.disablePrenotaButton=new y.x,this.initialized=!1,this.images=[],this.albergo=new p.slo,this.portale=new p.AGI,this.showCamere=!1,this.showRoomCalendar=!1,this.showPrenotazioneDetails=!1,this.showExtraSelect=!1,this.showPacchetti=!1,this.showPacchetto=!1,this.error=!1,this.lingueAttive=[],this.prezzoMinimo=null,this.enumMealPlanType=m.jH,this.trattamento=null,this.clickSubject=new y.x,this.showSearchButtonSubject=new y.x,this.prenotaSubject=new y.x,this.adultiDefault=0,this.adultiMax=0,this.bambiniMax=0,this.etaMinimaBambini=0,this.etaMassimaBambini=17,this.showExtraSelectPagamento=!1,this.roomCalendarInitialized=!1,this.modalitaPagamento=[],this.tariffePortali=[],this.loadingTariffa1=!1,this.loadingTariffa2=!1,this.tariffeComparazione=[],this.pacchettoHover=!1,this.promozioni=[],this.loginSubject=new y.x,this.bulletPointsLoaded=[],this.controllingDisponibility=!1,this.migliorPrezzoVisible=!1,this.arrowVisible=!1,this.prezzoMinimoVisible=!1,this.popupHidden=!0,this.numeroPersoneCollegatePopupHidden=!0,this.numeroUltimePrenotazioniPopupHidden=!0,this.firstSearch=!0,this.startSubject=new y.x,this.mealTypes=[],this.headerHeight=80,this.footerHeight=0,this.bookingInput=new p.fsc,this.mobileSummaryOpen=!1,this.totale=0,this.prenotazioneCompleted=!1,this.allModalitaPagamento=[],this.promozioniInEvidenza=[],this.banner=[],this.verificaCodicePromozionaleSubject=new y.x,this.noExtraSelected=!0,this.enumTipoVisualizzazioneBanner=m.M5,this.drawerMargin=0,this.bookingExtraSelectScroll=new y.x,this.bookingExtraSelectPagamentoScroll=new y.x,this.prenotazioneDetailsScroll=new y.x,this.extraSelectScroll=new y.x}ngOnInit(){this.containerService.setScrollingContainer("booking-scrolling"),this.sub=this.route.queryParamMap.subscribe(n=>{this.initialized=!1;let e=n.get("oidPortale"),i=n.get("oidAlbergo");this.uid=n.get("uid"),this.dayUse="true"==n.get("dayUse"),this.extraSelect="true"==n.get("extraSelect"),this.isDisplayOnly="true"==n.get("isDisplayOnly"),this.isGoogleHotelsTravel="true"==n.get("isGoogleHotelsTravel"),this.isTrivago="true"==n.get("isTrivago");let a=n.get("oidTipoCamera");a&&!isNaN(+a)&&(this.oidTipoCameraUrl=+a),this.setIsLoading(!0);let r=new p.UYh;r.lingua=n.get("lingua"),r.isDayUse=this.dayUse,r.extraSelect=this.extraSelect,r.isMobile=this.deviceService.isMobile(),r.isBooking=!0,r.isGoogleHotelsTravel=this.isGoogleHotelsTravel,r.isTrivago=this.isTrivago,e&&!isNaN(+e)||i&&!isNaN(+i)?e&&!isNaN(+e)?(r.oidPortale=+e,this.init(r,n.get("arrivo"),n.get("partenza"),n.get("camere"),n.get("codicePromozione"),"true"==n.get("isPacchetti"))):(r.oidAlbergo=+i,this.init(r,n.get("arrivo"),n.get("partenza"),n.get("camere"),n.get("codicePromozione"),"true"==n.get("isPacchetti"))):this.uid&&this.extraSelect?(r.uid=this.uid,this.init(r)):(this.setIsLoading(!1),this.error=!0,this.errorMessage="booking.errorePortale",this.headerHeight=0)}),this.sub1=this.containerService.windowResizeEvent.subscribe(n=>{(this.extraSelect||this.showExtraSelect||this.showPrenotazioneDetails)&&n.width<992?this.footerHeight=55:this.footerHeight=0,null!=this.drawer&&this.drawer.close(),this.clickSubject.next(),setTimeout(()=>{window.dispatchEvent(new Event("resize")),n.height<850?this.shortScreen=!0:this.shortScreen=!1},200)})}init(n,e,i,a,r,l){this.apiService.getBookingSolutionConfig(n).subscribe(c=>{var g,_;null!=c.data&&null!=c.data.portale&&null!=c.data.albergo?(this.oidPortale=c.data.portale.oid,this.oidAlbergo=c.data.albergo.oid,this.cssLoaderService.load(this.oidAlbergo,m.I8.Booking,null===(g=c.data.portale)||void 0===g?void 0:g.oidUbicazioneIstat),this.isVisualizzaDisponibilitaCalendario=c.data.portale.isVisualizzaDisponibilitaCalendario,this.isVisualizzaPrezzoCalendario=c.data.portale.isVisualizzaPrezzoCalendario,this.isVisualizzaLogo=c.data.portale.isVisualizzaLogo,this.albergo=c.data.albergo,this.portale=c.data.portale,this.descrizionePortale=c.data.descrizione,this.descrizioneDayUse=c.data.descrizioneBookingDayUse,this.descrizioneExtra=c.data.descrizioneBookingExtra,this.descrizioneFinale=c.data.descrizioneFinale,this.condizioniPrenotazione=c.data.condizioniPrenotazione,this.servizi=c.data.servizi,this.recensioni=c.data.recensioni,this.promozioni=c.data.promozioni,this.urlImmagineLogo=c.data.portale.urlImmagineLogo,this.nomePortale=c.data.portale.nome,this.cellulare=c.data.portale.telefono,this.email=c.data.portale.email,this.mappa=c.data.portale.urlIFrameGoogleMap,this.url=c.data.portale.linkSitoWeb,this.images=c.data.immagini,this.adultiDefault=c.data.portale.adultiDefault,this.adultiMax=c.data.portale.numeroMassimoAdulti,this.bambiniMax=c.data.portale.numeroMassimoBambini,this.etaMinimaBambini=c.data.portale.etaMinimaBambini>0&&c.data.portale.etaMinimaBambini<=17?c.data.portale.etaMinimaBambini:0,this.etaMassimaBambini=c.data.portale.etaMassimaBambini>0&&c.data.portale.etaMassimaBambini<=17?c.data.portale.etaMassimaBambini:17,this.riduzioni=c.data.riduzioni,this.bulletPoints=c.data.bulletPoints,this.recaptchaAttiva=c.data.albergo.isRecaptchaAttiva,this.filtroTariffaAttivo=c.data.portale.isFiltroTariffaAttivo,this.numeroPersoneCollegate=c.data.portale.numeroPersoneCollegate,this.numeroUltimePrenotazioni=c.data.numeroUltimePrenotazioni,this.descrizionePopup=c.data.descrizionePopup,this.isEtaRiduzioniAttiva=c.data.portale.isEtaRiduzioniAttiva,this.isRichiediDisponibilitaStep1Visualizzata=c.data.portale.isRichiediDisponibilitaStep1Visualizzata,this.isVisualizzaTotaleSoggiornoSeNonDisponibile=c.data.portale.isVisualizzaTotaleSoggiornoSeNonDisponibile,this.isPaxStep1Visualizzate=c.data.portale.isPaxStep1Visualizzate,this.isCamereLibereStep1Visualizzate=c.data.portale.isCamereLibereStep1Visualizzate,this.numeroCodiciPromozionali=c.data.numeroCodiciPromozionali,this.motiviViaggio=c.data.motiviViaggio,this.numeroVoucher=c.data.numeroVoucher,this.tipoVisualizzazioneGrigliaDisponibilita=c.data.portale.tipoVisualizzazioneGrigliaDisponibilita,this.isVisualizzaCondizioniPrenotazioneStep2=c.data.portale.isVisualizzaCondizioniPrenotazioneStep2,this.isAccettaContrattoPrenotazioneStep2=c.data.portale.isAccettaContrattoPrenotazioneStep2,this.isVerificaCartaCredito=c.data.portale.isVerificaCartaCredito,this.isVisualizzaCRO=c.data.portale.isVisualizzaCRO,this.camerePrenotabili=c.data.portale.camerePrenotabili,this.isVisualizzaCalendarioMobile=c.data.portale.isVisualizzaCalendarioMobile,this.condizioniContratto=c.data.condizioniContratto,this.lingueAttive=c.data.lingue,this.selectedLanguage=c.data.lingua,this.isVisualizzaBottoniSocialLoginStep2=c.data.albergo.isVisualizzaBottoniSocialLoginStep2,this.urlImmagineSfondo=c.data.portale.urlImmagineSfondo,this.allModalitaPagamento=c.data.modalitaPagamento,this.isVisualizzaDettaglioGiornaliero=c.data.portale.isVisualizzaDettaglioGiornaliero,this.isAttivaSpedizioneBookingExtra=c.data.portale.isAttivaSpedizioneBookingExtra,this.isVisualizzaPrezzoMinimo=c.data.portale.isVisualizzaPrezzoMinimo,this.tipoVisualizzazioneBanner=c.data.portale.tipoVisualizzazioneBanner,this.timeoutChiusuraBanner=c.data.portale.timeoutChiusuraBanner,this.isRichiediInformazioniOspiti=c.data.portale.isRichiediInformazioniOspiti,this.isVisualizzaDescrizionePoliticaCancellazione=c.data.portale.isVisualizzaDescrizionePoliticaCancellazione,this.isVisualizzaDescrizioneDettagliataTariffa=c.data.portale.isVisualizzaDescrizioneDettagliataTariffa,this.isVisualizzaTariffeEspanse=c.data.portale.isVisualizzaTariffeEspanse,this.valuta=c.data.portale.valuta,this.isDisattivaRichiestaBambini=c.data.portale.isDisattivaRichiestaBambini,this.isControllaDurateSoggiornoSulGiornoDiArrivo=c.data.portale.isControllaDurateSoggiornoSulGiornoDiArrivo,this.isProponiNottiCalendario=c.data.portale.isProponiNottiCalendario,this.portale.nomeStruttura&&(this.nomePortale=this.portale.nomeStruttura,this.titleService.setTitle(this.portale.nomeStruttura)),this.sessionService.isLoggedInMySelf()&&this.sessionService.getOidAlbergo()!=this.oidAlbergo&&(this.sessionService.clearSessione(),this.loginSubject.next()),this.utility.setLingua(null===(_=this.selectedLanguage)||void 0===_?void 0:_.codice).then(u=>{if(this.lingua=null==u?void 0:u.codice,c.data.portale.googleGTM&&(this.gtmService=new Hn.kK(null,c.data.portale.googleGTM,null,null,null,null,null),this.gtmService.pushTag({event:"page",pageName:"booking"})),c.data.portale.googleUA&&c.data.portale.linkSitoWeb&&setTimeout(()=>{ga("create",c.data.portale.googleUA,"auto",{allowLinker:!0}),ga("require","linker"),ga("require","ecommerce"),ga("linker:autoLink",[c.data.portale.linkSitoWeb,"booking.passepartout.cloud"],!0,!1),ga("send","pageview")},2e3),c.data.portale.facebookPixel&&setTimeout(()=>{fbq("init",c.data.portale.facebookPixel),fbq("track","PageView")},2e3),this.portale.facebookPageId&&setTimeout(()=>{FB.init({xfbml:!0,version:"v3.2"})},2e3),this.numeroUltimePrenotazioni>0&&(1==this.numeroUltimePrenotazioni?this.numeroUltimePrenotazioniTranslated=this.localizationService.getTranslationSync("booking.ultimePrenotazioni1"):this.numeroUltimePrenotazioniTranslated=this.localizationService.getTranslationSync("booking.ultimePrenotazioni",{value:this.numeroUltimePrenotazioni})),c.data.traduzioni){let h;try{h=JSON.parse(c.data.traduzioni)}catch(x){}h&&this.localizationService.setTranslation(this.localizationService.getCurrentLocale(),h)}null!=c.data.portale.stelle?this.stelle=m.zy[this.getEnumKeyOriginal(m.bm,c.data.portale.stelle)].split(""):this.stelle=[],this.utility.setBackgroundImage(this.urlImmagineSfondo).then(h=>{if(this.backgroundImage=h,this.extraSelect){null!=c.data.cliente&&this.authService.loginMySelf(!1,this.oidAlbergo,null,null,null,null,null,c.data.cliente.oid).then(()=>{this.loginSubject.next()},()=>{});let x=new p.tDu;x.lingua=this.lingua,x.oidAlbergo=this.oidAlbergo,x.oidPortale=this.oidPortale,this.apiService.getBookingExtraSolution(x).subscribe(I=>{let q=[],it=[];for(let at of I.data.extras)if(null!=at.extras&&at.extras.length>0){let An=new p.TVm;An.voceAddebito=at.voceAddebito,it.push(at.voceAddebito);for(let cv of at.extras){let Sn=new p.bgL;Sn.extra=cv,Sn.quantita=0,An.extras.push(Sn)}q.push(An)}let kn=[];for(let at of q)null!=at.extras&&at.extras.length>0&&(kn=kn.concat(at.extras));this.bookingExtraInput=new p.v_9(q,kn,it),this.modalitaPagamento=I.data.modalitaPagamento,this.initialized=!0,this.extraSelectScroll.next(),this.containerService.dimension.width<992?this.footerHeight=55:this.footerHeight=0})}else{try{if(e&&i){let x=P(e,"YYYY-MM-DD",!0),I=P(i,"YYYY-MM-DD",!0);x.isValid()&&I.isValid()&&x>=P().startOf("day")&&(!this.dayUse&&I>x||this.dayUse&&e==i)&&(this.arrivoUrl=x.format("YYYY-MM-DD"),this.partenzaUrl=I.format("YYYY-MM-DD"))}this.initCamereUrl(a),this.codicePromozioneUrl=r}catch(x){}if(this.initialized=!0,this.isPacchetti=l&&null!=this.promozioni&&this.promozioni.length>0,this.isPacchetti)this.showPacchettiList();else if(this.showPuntiDiForza(),this.showPopups(),setTimeout(()=>{this.startSubject.next()},200),null!=c.data.bannerPromozionali&&c.data.bannerPromozionali.length>0){let x=new p.Zpt;x.panelClass="booking-dialog-no-padding",this.containerService.dimension.width>=992?x.width="50vw":x.width="80vw";let I=this.showModalDialog(ht,x),q=I.componentInstance;q._banner=c.data.bannerPromozionali,q.modal=!0,this.timeoutChiusuraBanner>0&&(this.timeoutBanner=setTimeout(()=>{null!=I&&I.close()},1e3*this.timeoutChiusuraBanner))}}if(this.portale.isVisualizzaBannerCookies){let x=this.cookieConsentService.getConfig();null!=x&&(x.cookie={domain:window.location.hostname},x.content={message:this.localizationService.getTranslationSync("cookies.message"),allow:this.localizationService.getTranslationSync("cookies.allow"),deny:this.localizationService.getTranslationSync("cookies.deny"),link:this.localizationService.getTranslationSync("cookies.link"),href:"https://www.passepartout.net/utility/cookie"}),this.cookieConsentService.destroy(),this.cookieConsentService.init(x),this.cookieConsentService.hasAnswered()||this.cookieConsentService.fadeIn()}else this.cookieConsentService.destroy()})})):(this.setIsLoading(!1),this.error=!0,n.uid?this.errorMessage="booking.errorePrenotazione":this.errorMessage="booking.errorePortale",this.headerHeight=0)})}initCamereUrl(n){n&&(this.camereUrl=JSON.parse(n),this.camereUrl&&this.camereUrl.length>0&&this.camereUrl.forEach(e=>{if(e.quantitaBambini&&e.quantitaBambini>0){e.bambini=[];for(let i=0;i<e.quantitaBambini;i++){let a=new p.ytq;a.eta=this.etaMinimaBambini,a.quantita=1,e.bambini.push(a)}}}))}ngAfterViewInit(){setTimeout(()=>{this.containerService.dimension.height<850?this.shortScreen=!0:this.shortScreen=!1},200)}showPuntiDiForza(){this.bulletPointsLoaded=[],setTimeout(()=>{if(null!=this.bulletPoints&&this.bulletPoints.length>0){let n=1e3,e=1;for(let i of this.bulletPoints.slice(0,3))setTimeout(()=>{this.bulletPointsLoaded.push(i)},e*n),e++}},2e3)}showPopups(){this.containerService.dimension.width>=992?this.numeroUltimePrenotazioni>0&&this.descrizionePopup?setTimeout(()=>{this.numeroUltimePrenotazioniPopupHidden=!1,setTimeout(()=>{this.popupHidden=!1},2e3)},2e3):this.numeroUltimePrenotazioni>0?setTimeout(()=>{this.numeroUltimePrenotazioniPopupHidden=!1},2e3):this.descrizionePopup&&setTimeout(()=>{this.popupHidden=!1},2e3):(this.popupHidden=!0,this.numeroPersoneCollegatePopupHidden=!0,this.numeroUltimePrenotazioniPopupHidden=!0)}getCamere(n){this.controllingDisponibility=!0,this.setIsLoading(!0),this.containerService.scrollToTop(),n.lingua=this.lingua,n.oidPortale=this.oidPortale,n.isDayUse=this.dayUse,n.isMobile=this.deviceService.isMobile(),n.isLog=this.firstSearch,n.isGoogleHotelsTravel=this.isGoogleHotelsTravel,n.isTrivago=this.isTrivago,n.oidTipoCamera=this.oidTipoCameraUrl,n.bookingSolutionUid=this.bookingSolutionUid,this.firstSearch=!1,this.arrivoUrl&&this.partenzaUrl&&(n.arrivo=this.arrivoUrl,n.partenza=this.partenzaUrl,this.arrivoUrl=null,this.partenzaUrl=null,this.camereUrl=null,this.codicePromozioneUrl=null),this.getCamereRequest=JSON.parse(JSON.stringify(n)),this.apiService.getBookingSolution(n).subscribe(e=>{this.from=n.arrivo,this.to=n.partenza,this.nights=Math.max(P(this.to).diff(P(this.from),"days"),1),this.bookingInput.notti=this.nights,this.bookingSolutionUid=e.data.uid,this.camerePax=[];for(let i of n.camere){let a=new p.Esx;a.pax=JSON.parse(JSON.stringify(i.pax)),this.camerePax.push(a)}this.pax=0;for(let i of this.camerePax)this.pax+=i.getNumeroPax();if(this.bookingInput.tariffeTipiCamera=[],this.bookingInput.extraSelected=[],this.bookingInput.sistemazioni=[],this.trattamento=null,this.dateAlternative=[],this.tariffePortali=[],this.tariffeComparazione=[],this.migliorPrezzoVisible=!1,this.arrowVisible=!1,this.prezzoMinimoVisible=!1,this.showPacchetti=!1,this.showPacchetto=!1,this.numeroUltimePrenotazioniPopupHidden=!0,this.popupHidden=!0,this.numeroPersoneCollegate>0){let i=this.utility.randomIntFromInterval(1,this.numeroPersoneCollegate);this.numeroPersoneCollegateTranslated=1==i?this.localizationService.getTranslationSync("booking.personeCollegate1"):this.localizationService.getTranslationSync("booking.personeCollegate",{value:i})}if(this.numeroPersoneCollegatePopupHidden=!1,null!=e&&null!=e.data)if(this.oidCodicePromozione=e.data.oidCodicePromozione,n.codicePromozione&&(null==this.oidCodicePromozione||this.oidCodicePromozione<=0)&&(n.codicePromozione=null,this.showError("booking.codicePromozioneNonValido")),this.dateAlternative=e.data.dateAlternative,null!=this.dateAlternative&&this.dateAlternative.length>0?this.showDateAlternative=!0:this.showDateAlternative=!1,this.tariffePortali=e.data.tariffePortali,null!=e.data.camere&&e.data.camere.length>0){let a,i=!1;for(let r of e.data.camere){for(let l of r.tariffe)if(l.disponibili>0){i=!0;break}if(i)break}if(i){if(this.mealTypes=e.data.mealTypes,this.camere=e.data.camere,this.promozioniInEvidenza=e.data.promozioni,this.tipoVisualizzazioneBanner==m.M5.PrimaDelleTariffe||this.tipoVisualizzazioneBanner==m.M5.InBassoASinistra)this.banner=e.data.bannerPromozionali;else if(null!=e.data.bannerPromozionali&&e.data.bannerPromozionali.length>0){let r=new p.Zpt;r.panelClass="booking-dialog-no-padding",this.containerService.dimension.width>=992?r.width="50vw":r.width="80vw",a=this.showModalDialog(ht,r);let l=a.componentInstance;l._banner=e.data.bannerPromozionali,l.modal=!0}this.timeoutChiusuraBanner>0&&(null!=this.timeoutBanner&&clearTimeout(this.timeoutBanner),this.timeoutBanner=setTimeout(()=>{this.tipoVisualizzazioneBanner==m.M5.PrimaDelleTariffe||this.tipoVisualizzazioneBanner==m.M5.InBassoASinistra?this.banner=null:null!=e.data.bannerPromozionali&&e.data.bannerPromozionali.length>0&&null!=a&&a.close()},1e3*this.timeoutChiusuraBanner)),this.calculatePrezzoMinimo(),this.roomCalendarInitialized=!1,this.showRoomCalendar=!1,this.showCamere=!0,this.containerService.dimension.width<992?setTimeout(()=>{null!=this.bookingRooms&&(this.bookingRooms.nativeElement.scrollIntoView({behavior:"smooth"}),this.setIsLoading(!1),this.controllingDisponibility=!1)},500):(this.setIsLoading(!1),this.controllingDisponibility=!1),this.containerService.dimension.width>=1300?(this.migliorPrezzoVisible=!0,setTimeout(()=>{this.arrowVisible=!0,setTimeout(()=>{this.prezzoMinimoVisible=!0,null!=this.tariffePortali&&setTimeout(()=>{this.tariffePortali.length>0&&(this.tariffeComparazione.push(this.tariffePortali[0]),this.loadingTariffa1=!0,setTimeout(()=>{this.loadingTariffa1=!1,this.tariffePortali.length>1&&(this.tariffeComparazione.push(this.tariffePortali[1]),this.loadingTariffa2=!0,setTimeout(()=>{this.loadingTariffa2=!1},2e3))},2e3))},2e3)},2e3)},2e3)):(this.migliorPrezzoVisible=!0,this.arrowVisible=!0,this.prezzoMinimoVisible=!0,null!=this.tariffePortali&&this.tariffePortali.length>0&&(this.tariffeComparazione.push(this.tariffePortali[0]),this.loadingTariffa1=!0,setTimeout(()=>{this.loadingTariffa1=!1,this.tariffePortali.length>1&&(this.tariffeComparazione.push(this.tariffePortali[1]),this.loadingTariffa2=!0,setTimeout(()=>{this.loadingTariffa2=!1},2e3))},2e3)))}else this.showRoomCalendar=!0,(this.roomCalendarInitialized||this.showDateAlternative)&&this.onRoomCalendarInitialized()}else this.showRoomCalendar=!0,(this.roomCalendarInitialized||this.showDateAlternative)&&this.onRoomCalendarInitialized();else this.showRoomCalendar=!0,(this.roomCalendarInitialized||this.showDateAlternative)&&this.onRoomCalendarInitialized()})}calculatePrezzoMinimo(){this.prezzoMinimo=null;for(let n of this.camere)for(let e of n.tariffe)e.isPrenotabile&&(null==this.trattamento||e.mealPlanType==this.trattamento)&&(!e.isOffertaSegreta||this.sessionService.isLoggedInMySelf())&&(null==this.prezzoMinimo?this.prezzoMinimo=e.prezzoScontato>0?e.prezzoScontato:e.prezzo:this.prezzoMinimo=Math.min(this.prezzoMinimo,e.prezzoScontato>0?e.prezzoScontato:e.prezzo))}onPrenota(n,e){if(null!=n){this.bookingInput.tariffeTipiCamera=[];let i=new p.xtp;i.tariffa=n,i.tipoCamera=e,i.quantity=1,this.bookingInput.tariffeTipiCamera.push(i)}this.cancellazioni=[];for(let i of this.bookingInput.tariffeTipiCamera)null!=i.tariffa&&null!=i.tariffa.cancellazione&&-1==this.cancellazioni.findIndex(a=>a.cancellationId==i.tariffa.cancellazione.cancellationId)&&this.cancellazioni.push(i.tariffa.cancellazione);this.controlPax()}onPromozioneEvidenzaSelected(n){this.bookingInput.tariffeTipiCamera=[];let e=new p.xtp;e.tariffa=n.tariffa,e.tipoCamera=n.camera,e.quantity=this.camerePax.length,this.bookingInput.tariffeTipiCamera.push(e),this.cancellazioni=[];for(let i of this.bookingInput.tariffeTipiCamera)null!=i.tariffa&&null!=i.tariffa.cancellazione&&-1==this.cancellazioni.findIndex(a=>a.cancellationId==i.tariffa.cancellazione.cancellationId)&&this.cancellazioni.push(i.tariffa.cancellazione);this.controlPax()}controlPax(){if(this.controlPaxRooms()){if(this.bookingInput.sistemazioni=[],this.controlExtra()){let n=0;this.bookingInput.extraSelected=[],this.bookingInput.vociAddebito=[];for(let e of this.bookingInput.tariffeTipiCamera)for(let i=0;i<e.quantity;i++){if(this.bookingInput.extraSelected.push([]),null!=e.tariffa&&null!=e.tariffa.supplementi&&e.tariffa.supplementi.length>0)for(let a of e.tariffa.supplementi)if(null!=a&&null!=a.extras&&a.extras.length>0){let r=new p.TVm;r.voceAddebito=a.voceAddebito,this.bookingInput.vociAddebito.push(a.voceAddebito);for(let l of a.extras){let c=new p.bgL;c.extra=JSON.parse(JSON.stringify(l)),c.quantita=0,r.extras.push(c)}this.bookingInput.extraSelected[n].push(r)}this.bookingInput.sistemazioni.push(-1),n++}this.bookingInput=Object.assign({},this.bookingInput),this.prenotaSubject.next(),this.showExtraSelect=!0,this.extraSelectScroll.next()}else{for(let n of this.bookingInput.tariffeTipiCamera)for(let e=0;e<n.quantity;e++)this.bookingInput.sistemazioni.push(-1);this.bookingInput=Object.assign({},this.bookingInput),this.showPrenotazioneDetails=!0,this.prenotazioneDetailsScroll.next()}this.containerService.dimension.width<992?this.footerHeight=55:this.footerHeight=0}else this.showError("booking.errorePaxCamere")}controlPaxRooms(){this.bookingInput.camerePax=[];let n=this.bookingInput.tariffeTipiCamera.sort((i,a)=>i.tariffa.roomIndices.length<a.tariffa.roomIndices.length?-1:i.tariffa.roomIndices.length>a.tariffa.roomIndices.length?1:0),e=[];for(let i of n)for(let a=0;a<i.quantity;a++){let r=0,l=!1;for(let c of this.camerePax){if(!e.includes(r)&&i.tariffa.roomIndices.includes(r)){e.push(r),this.bookingInput.camerePax.push(c),l=!0;break}r++}if(!l)return!1}return!0}controlExtra(){this.bookingInput.extraSelected=[];for(let n of this.bookingInput.tariffeTipiCamera)if(null!=n.tariffa&&null!=n.tariffa.supplementi&&n.tariffa.supplementi.length>0)for(let e of n.tariffa.supplementi)if(null!=e&&null!=e.extras&&e.extras.length>0)return!0;return!1}onQuantityChange(n,e){let i=this.bookingInput.tariffeTipiCamera.findIndex(r=>null!=r.tariffa&&r.tariffa.rateId==n.tariffa.rateId&&r.tariffa.oidPromozione==n.tariffa.oidPromozione&&r.tariffa.numeroAdulti==n.tariffa.numeroAdulti&&r.tariffa.numeroBambini==n.tariffa.numeroBambini&&null!=r.tipoCamera&&r.tipoCamera.roomId==e.roomId);if(i>=0)n.quantity>0?this.bookingInput.tariffeTipiCamera[i].quantity=n.quantity:this.bookingInput.tariffeTipiCamera.splice(i,1);else if(n.quantity>0){let r=new p.xtp;r.tariffa=n.tariffa,r.tipoCamera=e,r.quantity=n.quantity,this.bookingInput.tariffeTipiCamera.push(r)}let a=0;for(let r of this.bookingInput.tariffeTipiCamera)a+=r.quantity;a!=this.camerePax.length?this.disablePrenotaButton.next(!0):this.disablePrenotaButton.next(!1),this.bookingInput.tariffeTipiCamera=this.bookingInput.tariffeTipiCamera.slice()}onExtraSelectBack(){this.showExtraSelect=!1,this.containerService.dimension.width<992?setTimeout(()=>{null!=this.bookingRooms&&this.bookingRooms.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop(),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},200)}onExtraSelected(){this.showPrenotazioneDetails=!0,this.prenotazioneDetailsScroll.next(),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},200)}onPrenotazioneDetailsBack(){this.showPrenotazioneDetails=!1,this.showExtraSelect?this.extraSelectScroll.next():this.containerService.dimension.width<992?setTimeout(()=>{null!=this.bookingRooms&&this.bookingRooms.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop(),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},200)}login(){let n=new p.Zpt;n.panelClass="booking-dialog",n.width="450px";let e=this.showModalDialog(re,n),i=e.componentInstance;i.isVisualizzaBottoniLoginSocial=this.isVisualizzaBottoniSocialLoginStep2,i.oidPortale=this.oidPortale,i.oidAlbergo=this.oidAlbergo,i.lingua=this.lingua,i.newsLetterPortale=this.portale.newsLetter,i.dialogRef=e,e.afterClosed().subscribe(a=>{a&&(this.showCamere&&null!=this.camere&&this.calculatePrezzoMinimo(),this.loginSubject.next()),this.setIsLoading(!1)})}logout(){this.showDialogConfirm("booking.effettuareLogout").then(n=>{this.setIsLoading(!0),this.sessionService.clearSessione(),window.location.reload()},n=>{})}onRoomCalendarInitialized(){this.roomCalendarInitialized=!0,this.camere=[],this.showCamere=!0,this.footerHeight=0,this.containerService.dimension.width<992?setTimeout(()=>{null!=this.roomsCalendar&&this.roomsCalendar.nativeElement.scrollIntoView({behavior:"smooth"}),this.setIsLoading(!1),this.controllingDisponibility=!1},500):(this.setIsLoading(!1),this.controllingDisponibility=!1)}onTreatmentSelected(){this.calculatePrezzoMinimo()}onDataAlternativaSelected(n){this.getCamereRequest.arrivo=n.arrivo,this.getCamereRequest.partenza=n.partenza,this.getCamere(this.getCamereRequest)}home(){window.location.reload()}onPromozioneSelected(n,e){this.pacchetto=n,null!=this.pacchetto&&(this.codicePromozione=this.pacchetto.codice),this.showPacchetto=!0,this.showPacchetti=!1,this.pacchettiOpenedFromHome=e,this.containerService.dimension.width<992?setTimeout(()=>{null!=this.pacchettoCont&&this.pacchettoCont.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop()}onPacchettoDetailsBack(){this.showPacchetto=!1,this.pacchettiOpenedFromHome?this.showPacchetti=!1:this.showPacchetti=!0,this.codicePromozione="",this.containerService.dimension.width<992?setTimeout(()=>{null!=this.bestPriceCont&&this.bestPriceCont.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop()}onPacchettiSelectBack(){this.showPacchetti=!1,this.showPacchetto=!1,this.containerService.dimension.width<992?setTimeout(()=>{null!=this.bestPriceCont&&this.bestPriceCont.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop()}showPacchettiList(){this.showPacchetti=!0,this.showPacchetto=!1,this.footerHeight=0,(this.showCamere||this.showExtraSelect||this.showPrenotazioneDetails||this.showRoomCalendar)&&(this.showCamere=!1,this.showRoomCalendar=!1,(null!=this.camere||this.camere.length>0)&&(this.camere=null),(this.showExtraSelect||this.showPrenotazioneDetails)&&(this.showExtraSelect=!1,this.showPrenotazioneDetails=!1,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},200))),this.containerService.dimension.width<992?setTimeout(()=>{null!=this.pacchettiSelectCont&&this.pacchettiSelectCont.nativeElement.scrollIntoView({behavior:"smooth"})},500):this.containerService.scrollToTop(),this.showSearchButtonSubject.next()}onBookingExtraSelected(){this.showExtraSelectPagamento=!0,this.bookingExtraSelectPagamentoScroll.next()}onBookingExtraSelectBack(){this.showExtraSelectPagamento=!1,this.bookingExtraSelectScroll.next()}sendRequest(){let n=new p.Zpt;this.containerService.dimension.width>=992?n.width="80vw":n.width="95vw",n.minHeight="80vh",n.maxHeight="95vh",n.panelClass="booking-dialog-no-padding";let e=this.showModalDialog(Cn.u,n),i=e.componentInstance;if(i.dialogRef=e,i.oidAlbergo=this.oidAlbergo,i.oidPortale=this.oidPortale,i.language=this.lingua,i.booking=!0,null!=this.sessionService.sessione&&null!=this.sessionService.sessione.clienteMySelf){let a=new w.c1h;a.nome=this.sessionService.sessione.clienteMySelf.nome,a.cognome=this.sessionService.sessione.clienteMySelf.cognome,a.email=this.sessionService.sessione.clienteMySelf.email,a.cellulare=this.sessionService.sessione.clienteMySelf.cellulare,i.cliente=a}}onBookingChange(){this.bookingInput=Object.assign({},this.bookingInput)}onBookingExtraChange(){this.bookingExtraInput=Object.assign({},this.bookingExtraInput)}onDrawerOpen(){this.drawer.opened?this.mobileSummaryOpen?this.mobileSummaryOpen=!1:this.drawer.close():(this.mobileSummaryOpen=!1,this.drawer.open(),this.drawerMargin=this.containerService.container.scrollTop)}onMobileSummaryOpen(){this.drawer.opened?this.mobileSummaryOpen?this.drawer.close():this.mobileSummaryOpen=!0:(this.mobileSummaryOpen=!0,this.drawer.open(),this.drawerMargin=this.containerService.container.scrollTop)}onDrawerClose(){this.drawerMargin=0,this.mobileSummaryOpen=!1}deleteBookingSolution(){if(this.oidPortale>0&&this.bookingSolutionUid){let n=new p.Rxz;n.oidPortale=this.oidPortale,n.bookingSolutionUid=this.bookingSolutionUid,this.utility.sendKeepAliveRequest("Booking/DeleteBookingSolution",n)}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.disablePrenotaButton.complete(),this.clickSubject.complete(),this.showSearchButtonSubject.complete(),this.prenotaSubject.complete(),this.loginSubject.complete(),this.bookingExtraSelectScroll.complete(),this.bookingExtraSelectPagamentoScroll.complete(),this.prenotazioneDetailsScroll.complete(),this.extraSelectScroll.complete(),this.startSubject.complete(),this.verificaCodicePromozionaleSubject.complete(),this.deleteBookingSolution()}}we.\u0275fac=function(n){return new(n||we)(t.Y36(T.J),t.Y36(S.gz),t.Y36(k.s),t.Y36(K.o),t.Y36(nt.m),t.Y36(v.t),t.Y36(xt.x0),t.Y36(le.e),t.Y36(Gn.Dx),t.Y36(Rn.$),t.Y36(In.ZC))},we.\u0275cmp=t.Xpm({type:we,selectors:[["app-booking"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Ws,5),t.Gf(tp,5),t.Gf(ep,5),t.Gf(np,5),t.Gf(op,5),t.Gf(ip,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.drawer=i.first),t.iGM(i=t.CRH())&&(e.bookingRooms=i.first),t.iGM(i=t.CRH())&&(e.roomsCalendar=i.first),t.iGM(i=t.CRH())&&(e.pacchettoCont=i.first),t.iGM(i=t.CRH())&&(e.bestPriceCont=i.first),t.iGM(i=t.CRH())&&(e.pacchettiSelectCont=i.first)}},hostBindings:function(n,e){1&n&&t.NdJ("beforeunload",function(a){return e.beforeUnloadHandler(a)},!1,t.Jf7)("unload",function(a){return e.unloadHandler(a)},!1,t.Jf7)},features:[t.qOj],decls:9,vars:17,consts:[["id","booking",1,"container-fluid","p-0","w-100","h-100",3,"click"],["class","booking-header p-2 w-100",4,"ngIf"],["id","booking-scrolling",1,"overflow-auto","p-0","w-100",3,"ngStyle","ngClass"],[4,"ngIf"],[3,"errorMessage",4,"ngIf"],["class","popup-container m-3",4,"ngIf"],["class","banners-popup-container mat-elevation-z5 fadeInPopup m-3",4,"ngIf"],["class","booking-footer p-2 w-100 border mat-elevation-z5",3,"height",4,"ngIf"],["class","fb-customerchat",4,"ngIf"],[1,"booking-header","p-2","w-100"],["mat-icon-button","",1,"align-middle","mr-3","d-inline-block","d-lg-none",3,"click"],[1,"material-icons-round","align-middle","menu-icon"],["class","portale-logo-container d-inline-flex align-items-center justify-content-center align-middle",4,"ngIf"],["class","d-inline-block align-middle portale-nome-container text-center",4,"ngIf"],["class","indirizzo d-none d-xl-inline-block font-weight-bold header-menu",3,"ngClass","click",4,"ngIf"],[1,"float-right","d-none","d-lg-block","font-weight-bold"],["class","pr-4 mr-4 text-big",4,"ngIf"],[1,"pr-4","mr-4","text-big","right-border"],["href","#",1,"header-menu","link-underline",3,"click"],["class","align-middle mr-4","mat-icon-button","","matTooltipPosition","below","matTooltipClass","booking-contatti-tooltip-class",3,"disableRipple","matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","below","matTooltipClass","booking-contatti-tooltip-class",1,"align-middle","mr-4",3,"disableRipple","matTooltip","click"],[1,"material-icons-round","align-middle","header-menu"],["mat-icon-button","",1,"align-middle","mr-4",3,"disableRipple","click"],[1,"auto-width-booking","mr-5","left-border","pl-4"],[1,"booking-language-select"],[3,"panelClass","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"float-right","d-none","d-sm-block","d-lg-none","font-weight-bold","mt-2"],["mat-icon-button","","matTooltipPosition","below","matTooltipClass","booking-contatti-tooltip-class",1,"align-middle","mr-2",3,"disableRipple","matTooltip","click"],["class","align-middle mr-2","mat-icon-button","","matTooltipPosition","below","matTooltipClass","booking-contatti-tooltip-class",3,"disableRipple","matTooltip","click",4,"ngIf"],["mat-icon-button","","matTooltipPosition","left","matTooltipClass","booking-contatti-tooltip-class",1,"align-middle","mr-2",3,"disableRipple","matTooltip","click"],[1,"portale-logo-container","d-inline-flex","align-items-center","justify-content-center","align-middle"],["class","portale-logo d-inline-block align-middle",3,"src","click",4,"ngIf"],[1,"portale-logo","d-inline-block","align-middle",3,"src","click"],[1,"d-inline-block","align-middle","portale-nome-container","text-center"],["class","portale-stelle d-inline-block",4,"ngIf"],["class","portale-nome",3,"ngClass",4,"ngIf"],[1,"portale-stelle","d-inline-block"],["class","material-icons-round align-middle stelle",4,"ngFor","ngForOf"],[1,"material-icons-round","align-middle","stelle"],[1,"portale-nome",3,"ngClass"],[1,"indirizzo","d-none","d-xl-inline-block","font-weight-bold","header-menu",3,"ngClass","click"],[1,"material-icons-round","mr-1","align-middle"],[1,"align-middle"],[1,"pr-4","mr-4","text-big"],[3,"mouseenter","mouseleave"],["mat-icon-button","",1,"mr-1","pacchetto-button",3,"click"],["width","30","height","30","frameborder","0",1,"align-middle","mb-3",2,"border","0",3,"src"],[1,"fa","fa-whatsapp","whatsappIcon","align-middle","header-menu"],[3,"value"],["mat-icon-button","",1,"align-middle","mb-1",3,"disableRipple","click"],["src","/assets/images/booking/profilo.svg"],["mat-icon-button","",1,"align-middle","mr-3","ml-n2","mb-1","profile-menu-button",3,"matMenuTriggerFor","disableRipple"],["menuTrigger","matMenuTrigger"],[1,"material-icons-round","align-middle"],[1,"loginMenu","booking-menu"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["class","login-name","mat-menu-item","",3,"disabled",4,"ngIf"],["class","mt-2 account-button","mat-menu-item","",3,"click",4,"ngIf"],["class","account-button","mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"login-name",3,"disabled"],["mat-menu-item","",1,"mt-2","account-button",3,"click"],["mat-menu-item","",1,"account-button",3,"click"],[1,"booking-drawer-container","h-100","w-100",3,"hasBackdrop"],[1,"booking-drawer",3,"mode","autoFocus","closedStart"],["drawer",""],[1,"drawer-content",3,"ngClass"],[1,"p-0","booking-outer-container",3,"ngClass","ngStyle"],[1,"portale-nome"],[1,"text-small","color-grey"],[1,"cursor-pointer",3,"click"],[1,"cursor-pointer","mb-3",3,"click"],[1,"auto-width-booking"],["href","#",1,"header-menu","text-big","link-underline","font-weight-bold",3,"click"],["href","#","class","header-menu text-big link-underline font-weight-bold",3,"click",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"login-name-drawer"],["href","#",1,"header-menu","text-big","link-underline","d-table","mt-2",3,"click"],["href","#",1,"header-menu","text-big","link-underline","d-table",3,"click"],[3,"prenotazioneDetails","from","to","nights","numeroPax","dayUse","mobileSummary","disabled","valuta","prenotazioneDetailsOutput","onChange",4,"ngIf"],[3,"_bookingExtraInput","mobileSummary","disabled","valuta","extraChanged","onChange",4,"ngIf"],[3,"prenotazioneDetails","from","to","nights","numeroPax","dayUse","mobileSummary","disabled","valuta","prenotazioneDetailsOutput","onChange"],[3,"_bookingExtraInput","mobileSummary","disabled","valuta","extraChanged","onChange"],[1,"calendar-col","mx-auto","mx-lg-0",3,"hidden"],[3,"oidAlbergo","oidPortale","lingua","isVisualizzaDisponibilitaCalendario","isVisualizzaPrezzoCalendario","email","cellulare","mappa","clickSubject","showSearchButtonSubject","dayUse","adultiDefault","adultiMax","bambiniMax","etaMinimaBambini","etaMassimaBambini","camereUrl","arrivoUrl","partenzaUrl","codicePromozioneUrl","controllingDisponibility","codicePromozione","isEtaRiduzioniAttiva","riduzioni","isRichiediDisponibilitaStep1Visualizzata","numeroCodiciPromozionali","motiviViaggio","camerePrenotabili","isVisualizzaCalendarioMobile","isVisualizzaPrezzoMinimo","valuta","isDisattivaRichiestaBambini","isControllaDurateSoggiornoSulGiornoDiArrivo","isProponiNottiCalendario","daysSelected",4,"ngIf"],[1,"booking-col","mx-auto","mx-lg-0","mt-lg-0","mt-3"],[3,"hidden"],[3,"_prenotazioneDetails","condizioniPrenotazione","from","to","nights","numeroPax","dayUse","prenotaSubject","cancellazioni","bulletPoints","scroll","valuta","back","continue","onChange"],[3,"_lingua","albergo","portale","_prenotazioneDetails","condizioniPrenotazione","from","to","nights","numeroPax","dayUse","descrizioneFinale","cancellazioni","loginSubject","condizioniContratto","bulletPoints","scroll","gtmService","allModalitaPagamento","oidCodicePromozione","oidMotivoViaggio","numeroVoucher","isGoogleHotelsTravel","isTrivago","isRichiediInformazioniOspiti","motiviViaggio","bookingSolutionUid","back","loginEvent","onChange","onTotaleChange","onPrenotazioneCompleted"],[3,"oidAlbergo","oidPortale","lingua","isVisualizzaDisponibilitaCalendario","isVisualizzaPrezzoCalendario","email","cellulare","mappa","clickSubject","showSearchButtonSubject","dayUse","adultiDefault","adultiMax","bambiniMax","etaMinimaBambini","etaMassimaBambini","camereUrl","arrivoUrl","partenzaUrl","codicePromozioneUrl","controllingDisponibility","codicePromozione","isEtaRiduzioniAttiva","riduzioni","isRichiediDisponibilitaStep1Visualizzata","numeroCodiciPromozionali","motiviViaggio","camerePrenotabili","isVisualizzaCalendarioMobile","isVisualizzaPrezzoMinimo","valuta","isDisattivaRichiestaBambini","isControllaDurateSoggiornoSulGiornoDiArrivo","isProponiNottiCalendario","daysSelected"],[1,"position-relative",3,"hidden"],["class","mat-elevation-z5 best-price-container mb-3 mr-0 ml-0 row",4,"ngIf"],[1,"mat-elevation-z5","portale-container",3,"hidden"],["class","immagini-portale-container",4,"ngIf"],["class","row m-0",4,"ngIf"],[1,"mat-elevation-z5","best-price-container","mb-3","mr-0","ml-0","row"],["bestPriceCont",""],[1,"col-12","col-lg-8","p-3","text-center",3,"ngClass"],["width","70","height","70","frameborder","0",1,"align-middle","fadeInLike",2,"border","0",3,"src"],[1,"d-inline-block","align-middle","m-0","fadeInLeft"],[1,"font-weight-bold"],["class","col-12 col-lg-4 pt-3 pb-3 pt-lg-2 pb-lg-2 pr-3 pl-3 puntiDiForzaCol d-flex align-items-center",4,"ngIf"],[1,"col-12","col-lg-4","pt-3","pb-3","pt-lg-2","pb-lg-2","pr-3","pl-3","puntiDiForzaCol","d-flex","align-items-center"],[1,"ml-0","mt-2","ml-lg-2","mt-lg-0"],["class","fadeInDown",4,"ngFor","ngForOf"],[1,"fadeInDown"],[1,"bulletPoint"],[1,"material-icons-round","icon-small","mr-1","mt-1","bulletPointIcon"],[1,"bulletPointText"],[3,"_promozioni","valuta","onPromozioneSelected"],[1,"immagini-portale-container"],[3,"images","minimumHeight","maximumHeight"],[1,"row","m-0"],[1,"col","descrizione-col",3,"ngClass"],[1,"p-4"],[3,"_text"],["class","col servizi-col",4,"ngIf"],[1,"col","servizi-col"],[1,"p-4","div-servizi","mb-3"],[1,"div-recensioni","pt-4","pb-4","pr-3","pl-3"],[1,"font-weight-bold","mb-2"],[4,"ngFor","ngForOf"],[1,"color-blue","text-big","font-weight-bold","nome-servizio"],["class","descrizione-servizio",3,"_text",4,"ngIf"],[1,"descrizione-servizio",3,"_text"],[1,"font-weight-bold","mb-2","text-center"],[3,"recensioni","startSubject"],["pacchettiSelectCont",""],[3,"promozioni","isPacchetti","valuta","onPromozioneSelected","backEvent"],["pacchettoCont",""],[3,"promozione","backEvent"],["bookingRooms",""],["class","mb-3 d-flex flex-wrap",4,"ngIf"],["class","row mat-elevation-z5 border filtroTrattamento-container mr-0 ml-0 mb-3",4,"ngIf"],["class","mat-elevation-z5 border descrizione-day-use p-3 mb-3",4,"ngIf"],[3,"_banner",4,"ngIf"],[3,"_promozioni","isVisualizzaDettaglioGiornaliero","valuta","isDisplayOnly","onPromozioneSelected","onButtonsClick","login",4,"ngIf"],[3,"roomsSelected","rooms","_room","_trattamento","disablePrenotaButton","loginSubject","dayUse","isVisualizzaTotaleSoggiornoSeNonDisponibile","isCamereLibereStep1Visualizzate","isPaxStep1Visualizzate","isVisualizzaDettaglioGiornaliero","isDisplayOnly","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isVisualizzaTariffeEspanse","arrivo","partenza","lingua","valuta","onPrenota","onQuantityChange","onButtonsClick","login",4,"ngFor","ngForOf"],[1,"mb-3","d-flex","flex-wrap"],[1,"row","m-0","mat-elevation-z5","filtroTrattamento-container"],["class","col-5 p-3",4,"ngIf"],["class","best-price-col",3,"ngClass",4,"ngIf"],[1,"col-5","p-3"],[1,"mb-1"],[1,"text-big","font-weight-bold"],[1,"treatment-select"],[3,"panelClass","value","ngModel","ngModelChange","selectionChange"],[1,"best-price-col",3,"ngClass"],[1,"row"],["class","col-6 p-3 text-big position-relative fadeIn",4,"ngIf"],["class","col-6 p-3 d-flex justify-content-center align-items-center fadeIn",4,"ngIf"],[1,"col-6","p-3","text-big","position-relative","fadeIn"],[1,"font-weight-bold","text-bigger"],["class","position-absolute arrow fadeIn","src","/assets/images/booking/arrow.svg",4,"ngIf"],["src","/assets/images/booking/arrow.svg",1,"position-absolute","arrow","fadeIn"],[1,"col-6","p-3","d-flex","justify-content-center","align-items-center","fadeIn"],[1,"w-100","text-center"],[1,"material-icons-round","icon-small"],["class","text-big font-weight-bold",4,"ngIf"],["class","prezzo-minimo font-weight-bold text-nowrap",4,"ngIf"],[1,"prezzo-minimo","font-weight-bold","text-nowrap"],[1,"price-decimals"],[1,"col-12","p-3","text-center"],[1,"d-none","d-lg-block"],[1,"text-big","d-flex","align-items-center","justify-content-center","col-12","col-650-6","col-lg-12","p-0"],[1,"col-12","col-650-6","col-lg-12","p-0"],["class","mat-elevation-z5 tariffaPortale-container p-3 d-flex justify-content-center align-items-center fadeInFast mt-3 mt-sm-0",3,"ngClass",4,"ngFor","ngForOf"],[1,"mat-elevation-z5","tariffaPortale-container","p-3","d-flex","justify-content-center","align-items-center","fadeInFast","mt-3","mt-sm-0",3,"ngClass"],[1,"row","tariffaComparazione-row"],[1,"d-flex","align-items-center","justify-content-center","col-12","col-650-5","col-lg-12","p-0"],[1,"text-center","col-12","col-650-7","col-lg-12","p-0"],["class","dot-elastic mt-2",4,"ngIf"],["class","text-big font-weight-bold text-nowrap",4,"ngIf"],[1,"text-big","font-weight-bold","text-nowrap"],[1,"dot-elastic","mt-2"],[1,"row","mat-elevation-z5","border","filtroTrattamento-container","mr-0","ml-0","mb-3"],[1,"col-12","col-md-4","pr-3","pl-3","pt-3"],[1,"col-12","col-md-8","p-3"],[1,"mat-elevation-z5","border","descrizione-day-use","p-3","mb-3"],[3,"_banner"],[3,"_promozioni","isVisualizzaDettaglioGiornaliero","valuta","isDisplayOnly","onPromozioneSelected","onButtonsClick","login"],[3,"roomsSelected","rooms","_room","_trattamento","disablePrenotaButton","loginSubject","dayUse","isVisualizzaTotaleSoggiornoSeNonDisponibile","isCamereLibereStep1Visualizzate","isPaxStep1Visualizzate","isVisualizzaDettaglioGiornaliero","isDisplayOnly","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isVisualizzaTariffeEspanse","arrivo","partenza","lingua","valuta","onPrenota","onQuantityChange","onButtonsClick","login"],["roomsCalendar",""],["class","mat-elevation-z5 best-price-container d-none d-lg-flex mb-3 mr-0 ml-0 row",4,"ngIf"],[3,"oidAlbergo","oidPortale","lingua","from","to","notti","dayUse","tipoVisualizzazioneGrigliaDisponibilita","email","cellulare","valuta","onInitialized",4,"ngIf"],[3,"_dateAlternative","valuta","dateSelected",4,"ngIf"],[1,"mat-elevation-z5","best-price-container","d-none","d-lg-flex","mb-3","mr-0","ml-0","row"],[1,"col-8","p-3","text-center",3,"ngClass"],[1,"d-inline-block","align-middle","fadeInLeft","m-0"],["class","col-4 pt-2 pb-2 pr-3 pl-3 puntiDiForzaCol d-flex align-items-center",4,"ngIf"],[1,"col-4","pt-2","pb-2","pr-3","pl-3","puntiDiForzaCol","d-flex","align-items-center"],[1,"ml-2"],[3,"oidAlbergo","oidPortale","lingua","from","to","notti","dayUse","tipoVisualizzazioneGrigliaDisponibilita","email","cellulare","valuta","onInitialized"],[3,"_dateAlternative","valuta","dateSelected"],[3,"_bookingExtraInput","condizioniPrenotazione","descrizioneExtra","scroll","valuta","onChange","onExtraSelected","verificaCodicePromozionale","noExtraSelectedEvent"],[3,"bookingExtraInput","modalitaPagamento","lingua","oidAlbergo","oidPortale","condizioniPrenotazione","descrizioneFinale","loginSubject","scroll","recaptchaAttiva","isVisualizzaCondizioniPrenotazioneStep2","isAccettaContrattoPrenotazioneStep2","condizioniContratto","isVisualizzaBottoniSocialLoginStep2","isVerificaCartaCredito","isVisualizzaCRO","_isAttivaSpedizioneBookingExtra","verificaCodicePromozionaleSubject","uid","valuta","isCellulareObbligatorio","isRichiesteObbligatorie","back","loginEvent","onChange","onTotaleChange","onPrenotazioneCompleted"],[3,"errorMessage"],[1,"popup-container","m-3"],["class","popup mat-elevation-z5 position-relative d-flex fadeInPopup",4,"ngIf"],["class","popup mat-elevation-z5 position-relative d-flex fadeInPopup",3,"ngClass",4,"ngIf"],[1,"popup","mat-elevation-z5","position-relative","d-flex","fadeInPopup"],["mat-icon-button","",1,"popup-close-button",3,"disableRipple","click"],[1,"material-icons-round","popup-close-icon"],[1,"popup-icon-container","d-inline-flex","justify-content-center","align-items-center","h-100"],["width","22","height","22","frameborder","0",2,"border","0",3,"src"],[1,"d-inline-flex","popup-text","pt-1","pb-1","align-items-center","justify-content-center"],[1,"popup","mat-elevation-z5","position-relative","d-flex","fadeInPopup",3,"ngClass"],[1,"popup-text","pr-3","pl-3","pt-1","pb-1","d-flex","justify-content-center","align-items-center","h-100","w-100"],[1,"d-inline-flex","popup-text","pr-3","pt-1","pb-1","align-items-center","justify-content-center"],[1,"banners-popup-container","mat-elevation-z5","fadeInPopup","m-3"],[3,"_banner","modal","onCloseClick"],[1,"booking-footer","p-2","w-100","border","mat-elevation-z5"],["mat-icon-button","",1,"align-middle","color-blue",3,"disableRipple","click"],["class","material-icons-round align-middle",4,"ngIf"],[1,"align-middle","font-weight-bold","color-blue","text-big"],[1,"font-weight-bold","align-middle","color-blue","text-big"],["mat-flat-button","","class","button-blue float-right",3,"disabled","click",4,"ngIf"],["mat-flat-button","",1,"button-blue","float-right",3,"disabled","click"],[1,"material-icons-round"],[1,"fb-customerchat"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return e.clickSubject.next()}),t.YNc(1,wp,38,25,"div",1),t.TgZ(2,"div",2),t.YNc(3,Ug,10,23,"ng-container",3),t.YNc(4,Ng,1,1,"app-booking-error-page",4),t.YNc(5,Bg,4,3,"div",5),t.YNc(6,Vg,2,2,"div",6),t.qZA(),t.YNc(7,Rg,12,11,"div",7),t.YNc(8,Gg,1,1,"div",8),t.qZA()),2&n&&(t.Udp("background-image",e.backgroundImage),t.xp6(1),t.Q6J("ngIf",e.initialized&&!e.error),t.xp6(1),t.Udp("bottom",e.footerHeight,"px"),t.Q6J("ngStyle",t.VKq(13,Kg,"calc(100% - "+(e.headerHeight+e.footerHeight)+"px)"))("ngClass",t.VKq(15,jg,null!=e.drawer&&e.drawer.opened)),t.xp6(1),t.Q6J("ngIf",!e.error),t.xp6(1),t.Q6J("ngIf",e.error),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width>=992&&(!!e.descrizionePopup&&!e.popupHidden||e.numeroPersoneCollegate>0&&!e.numeroPersoneCollegatePopupHidden||e.numeroUltimePrenotazioni>0&&!e.numeroUltimePrenotazioniPopupHidden)),t.xp6(1),t.Q6J("ngIf",e.tipoVisualizzazioneBanner==e.enumTipoVisualizzazioneBanner.InBassoASinistra&&null!=e.banner&&e.banner.length>0),t.xp6(1),t.Q6J("ngIf",e.initialized&&!e.error&&e.footerHeight>0),t.xp6(1),t.Q6J("ngIf",!!e.portale.facebookPageId))},dependencies:[s.mk,s.sg,s.O5,s.PC,C.eB,M.v_,F.CK,U.x8,U.Cb,zn.W0,zn.tN,zn.D8,wn.jA,wn.kh,wn.LW,$.Kd,f.JJ,f.On,H.V,Z.W,Ei.Q,ce,pe,me,de,_e,vt,ue,Ct,fe,he,xe,be,Ce,ze,ft,ht,s.rS,zt.Q,b.X$],styles:['#booking[_ngcontent-%COMP%]{background-color:#e6e6e6;background-position:center;background-repeat:no-repeat;background-size:cover}#booking-scrolling[_ngcontent-%COMP%]{position:absolute;scrollbar-width:thin!important}#booking-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px!important;height:10px!important;background-color:transparent!important}#booking-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0!important;box-shadow:none!important;background-color:#000000b3!important}#booking-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0!important;background-color:transparent!important}#booking-scrolling.drawer-opened[_ngcontent-%COMP%]{overflow:hidden!important}#booking-scrolling.drawer-opened[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#0009!important}.col[_ngcontent-%COMP%]{position:relative!important;width:100%!important;padding-right:15px!important;padding-left:15px!important}.booking-col[_ngcontent-%COMP%]{padding-left:0;flex:1;max-width:1000px;width:100%}.calendar-col[_ngcontent-%COMP%]{width:100%;max-width:100%;min-width:100%}@media (min-width: 992px){.calendar-col[_ngcontent-%COMP%]{width:330px;max-width:330px;min-width:330px}.booking-col[_ngcontent-%COMP%]{padding-left:15px}}.portale-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;overflow:hidden}.best-price-container[_ngcontent-%COMP%]{border-radius:5px;background-image:linear-gradient(to right,#109C5B,#82C241);color:#fff;overflow:hidden}.periodo[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#555}#booking[_ngcontent-%COMP%]{font-family:Titillium Web,sans-serif!important}  .auto-width-booking .mat-form-field{width:auto!important}  .auto-width-booking .mat-select-value{max-width:100%;width:auto;font-size:18px}  .auto-width-booking .mat-select-value-text{margin-right:5px}  .booking-language-select .mat-form-field-underline{display:none}  .booking-language-select .mat-form-field-infix{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;width:auto}.booking-header[_ngcontent-%COMP%]{height:80px;position:absolute;z-index:2;background-color:#ffffffb3}.booking-footer[_ngcontent-%COMP%]{position:absolute;z-index:2;background-color:#fff;bottom:0}.portale-nome[_ngcontent-%COMP%]{font-size:25px}.portale-logo-container[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;cursor:pointer}@media (min-width: 992px){.portale-logo-container[_ngcontent-%COMP%]{margin-left:20px}}.portale-logo[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;object-fit:contain}.stelle[_ngcontent-%COMP%]{margin-top:.1rem;font-size:12px;padding:0 3px}@media (min-width: 992px){.portale-nome-container[_ngcontent-%COMP%]{margin-left:10px}}.menu-icon[_ngcontent-%COMP%]{font-size:30px}.icon-big[_ngcontent-%COMP%]{font-size:36px}.icon-small[_ngcontent-%COMP%], .text-big[_ngcontent-%COMP%]{font-size:18px}.text-bigger[_ngcontent-%COMP%]{font-size:24px}.prezzo-minimo[_ngcontent-%COMP%]{font-size:30px}.text-small[_ngcontent-%COMP%]{font-size:14px}.color-grey[_ngcontent-%COMP%]{color:#999}  .loginMenu .mat-menu-item{outline:none!important}.login-name[_ngcontent-%COMP%]{color:#000000de;font-weight:600;font-size:16px;height:36px}.login-name-drawer[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.booking-drawer-container[_ngcontent-%COMP%]{background-color:transparent!important;overflow:visible!important}.booking-drawer[_ngcontent-%COMP%]{background-color:#f5f5f5;background-position:center;background-repeat:no-repeat;background-size:cover}  .booking-drawer .mat-drawer-inner-container{padding:1rem!important}.descrizione-col[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}.servizi-col[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important;background-color:#f2f2f2!important;padding-left:0!important;padding-right:0!important}@media (min-width: 1400px){.descrizione-col[_ngcontent-%COMP%]{flex:0 0 50%!important;max-width:50%!important}.descrizione-col-full-width[_ngcontent-%COMP%]{flex:0 0 100%!important;max-width:100%!important}.servizi-col[_ngcontent-%COMP%]{flex:0 0 50%!important;max-width:50%!important}}.booking-outer-container[_ngcontent-%COMP%]{max-width:100%;padding-left:12px!important;padding-right:12px!important;padding-bottom:12px!important}.tariffaPortale-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#d9534f;color:#fff;flex:1}@media (min-width: 576px){.tariffaPortale-container[_ngcontent-%COMP%]{width:130px;min-width:130px;max-width:130px}}@media (min-width: 650px){.tariffaPortale-container[_ngcontent-%COMP%]{width:170px;min-width:170px;max-width:170px}}@media (min-width: 992px){.tariffaPortale-container[_ngcontent-%COMP%]{width:130px;min-width:130px;max-width:130px}}.filtroTrattamento-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;overflow:hidden;width:100%}@media (min-width: 576px){.filtroTrattamento-container[_ngcontent-%COMP%]{flex:1}}.best-price-col[_ngcontent-%COMP%]{background-image:linear-gradient(to top right,#01975F,#8BC63F);color:#fff}  .treatment-select .mat-form-field-flex{border:1px solid #bbbbbb!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important}  .treatment-select .mat-form-field-wrapper{padding:0!important}  .treatment-select .mat-form-field-underline{visibility:hidden!important}  .treatment-select .mat-form-field-infix{border-top:0!important}  .treatment-select{max-width:100%!important}.filtroTrattamento[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.immagini-portale-container[_ngcontent-%COMP%]{min-height:450px!important;max-height:450px!important;height:450px!important}  .drawer-content{overflow:visible!important}.descrizione-day-use[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}  .profile-menu-button .mat-button-focus-overlay{display:none!important}.dot-elastic[_ngcontent-%COMP%]{position:relative;left:calc(50% - 5px);width:10px;height:10px;border-radius:5px;background-color:#fff;color:#fff;animation:_ngcontent-%COMP%_dot-elastic 1s infinite linear}.dot-elastic[_ngcontent-%COMP%]:before, .dot-elastic[_ngcontent-%COMP%]:after{content:"";display:inline-block;position:absolute;top:0}.dot-elastic[_ngcontent-%COMP%]:before{left:-15px;width:10px;height:10px;border-radius:5px;background-color:#fff;color:#fff;animation:_ngcontent-%COMP%_dot-elastic-before 1s infinite linear}.dot-elastic[_ngcontent-%COMP%]:after{left:15px;width:10px;height:10px;border-radius:5px;background-color:#fff;color:#fff;animation:_ngcontent-%COMP%_dot-elastic-after 1s infinite linear}@keyframes _ngcontent-%COMP%_dot-elastic-before{0%{transform:scale(1)}25%{transform:scaleY(1.5)}50%{transform:scaleY(.67)}75%{transform:scale(1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_dot-elastic{0%{transform:scale(1)}25%{transform:scale(1)}50%{transform:scaleY(1.5)}75%{transform:scale(1)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_dot-elastic-after{0%{transform:scale(1)}25%{transform:scale(1)}50%{transform:scaleY(.67)}75%{transform:scaleY(1.5)}to{transform:scale(1)}}.pacchetto-button[_ngcontent-%COMP%]{width:35px;height:35px;min-width:35px;min-height:35px;max-width:35px;max-height:35px}.puntiDiForzaCol[_ngcontent-%COMP%]{background-color:#fff;box-shadow:inset 0 20px 30px -20px #0000004d;color:#00b572;min-height:100px}@media (min-width: 992px){.puntiDiForzaCol[_ngcontent-%COMP%]{box-shadow:inset 20px 0 30px -20px #0000004d}}@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate3d(-100%,0,0)}to{opacity:1;transform:none}}.fadeInLeft[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInLeft;animation-delay:.6s;animation-duration:1s;animation-fill-mode:both;animation-timing-function:cubic-bezier(.075,.82,.165,1)}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}.fadeInDown[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeInDown;animation-delay:0ms;animation-duration:1s;animation-fill-mode:both;animation-timing-function:cubic-bezier(.075,.82,.165,1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;filter:opacity(0)}to{opacity:1;filter:opacity(1)}}.fadeInLike[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeIn;animation-delay:.6s;animation-duration:2s;animation-fill-mode:both;animation-timing-function:ease-in}.fadeIn[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeIn;animation-duration:2s;animation-fill-mode:both;animation-timing-function:ease-in}.fadeInPopup[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeIn;animation-duration:1.5s;animation-fill-mode:both;animation-timing-function:ease-out}.fadeInFast[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeIn;animation-duration:1s;animation-fill-mode:both;animation-timing-function:ease-out}.header-menu[_ngcontent-%COMP%]{color:#004987!important;transition:all .5s ease-out!important}.header-menu[_ngcontent-%COMP%]:hover{color:#006dc9!important;transition:all .5s ease-out!important}.bulletPoint[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:stretch}.bulletPointIcon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start}.bulletPointText[_ngcontent-%COMP%]{align-self:flex-start}.arrow[_ngcontent-%COMP%]{width:40px;height:70%;top:15%;right:-20px}.link-underline[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;transform:perspective(1px) translateZ(0);box-shadow:0 0 1px #0000;position:relative;overflow:hidden;text-decoration:none!important}.link-underline[_ngcontent-%COMP%]:hover{text-decoration:none!important}.link-underline[_ngcontent-%COMP%]:hover:before{right:0}.link-underline[_ngcontent-%COMP%]:before{content:"";position:absolute;z-index:-1;left:0;right:100%;bottom:0;background:#006DC9;height:2px;transition-property:right;transition-duration:.3s;transition-timing-function:ease-out}.right-border[_ngcontent-%COMP%]{border-right:2px solid #B8BABC}.left-border[_ngcontent-%COMP%]{border-left:2px solid #B8BABC}  .booking-contatti-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#fff!important;color:#004987!important;opacity:1!important;font-weight:600!important;font-size:12px!important}.indirizzo[_ngcontent-%COMP%]{margin-left:40px;font-size:14px;cursor:pointer}.indirizzo[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px}.popup[_ngcontent-%COMP%]{width:250px;height:55px;border-radius:10px;border:2px solid #00A99D;background-color:#d7ffff;overflow:hidden}.popup-close-button[_ngcontent-%COMP%]{position:absolute!important;top:4px!important;right:3px!important;color:#00a99d!important;outline:0!important;z-index:1!important;width:16px!important;height:16px!important;line-height:16px!important}.popup-close-icon[_ngcontent-%COMP%]{font-size:16px!important;line-height:16px!important}.popup-close-button[_ngcontent-%COMP%]   .mat-ripple[_ngcontent-%COMP%], .popup-close-button[_ngcontent-%COMP%]   .mat-button-focus-overlay[_ngcontent-%COMP%]{visibility:hidden!important}.popup-icon-container[_ngcontent-%COMP%]{width:40px;min-width:40px;max-width:40px}.popup-text[_ngcontent-%COMP%]{font-size:14px;padding-right:1.2rem}.popup-container[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;z-index:1000}.banners-popup-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;z-index:1000;width:70vw;border-radius:10px}@media (min-width: 992px){.banners-popup-container[_ngcontent-%COMP%]{width:30vw}}.account-button[_ngcontent-%COMP%]{height:25px!important;line-height:25px!important}  #booking .mat-form-field .mat-form-field-label{color:#0000008a!important}  #booking .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #booking .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:#004987!important}  #booking .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #booking .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #booking .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#004987!important}  #booking .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#004987!important}  #booking .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#004987!important}  #booking .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:#004987!important}  #booking .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#004987!important}  #booking .mat-input-element{caret-color:#004987!important}  #booking .mat-datepicker-toggle{color:#004987!important}  #booking .mat-checkbox-checked .mat-checkbox-background{background-color:#004987!important}.tariffaComparazione-row[_ngcontent-%COMP%]{flex:1}.whatsappIcon[_ngcontent-%COMP%]{font-size:24px}']});var Xg=d(87640);class Pe{constructor(){}}Pe.\u0275fac=function(n){return new(n||Pe)},Pe.\u0275cmp=t.Xpm({type:Pe,selectors:[["app-booking-form-v1"]],decls:1,vars:3,consts:[[3,"modal","createPreventivo","booking"]],template:function(n,e){1&n&&t._UZ(0,"app-form-v1",0),2&n&&t.Q6J("modal",!1)("createPreventivo",!1)("booking",!0)},dependencies:[Xg.J],styles:["#richiesta .mat-form-field .mat-form-field-label{color:#0000008a!important}  #richiesta .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #richiesta .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:#004987!important}  #richiesta .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #richiesta .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #richiesta .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#004987!important}  #richiesta .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#004987!important}  #richiesta .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#004987!important}  #richiesta .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:#004987!important}  #richiesta .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#004987!important}  #richiesta .mat-input-element{caret-color:#004987!important}  #richiesta .mat-datepicker-toggle{color:#004987!important}  #richiesta .mat-checkbox-checked .mat-checkbox-background{background-color:#004987!important}"]});var _n=d(73760),Mn=d(86427),yn=d(61736),un=d(78337),J=d(42214);function $g(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-header-cell",15)(1,"mat-checkbox",16),t.NdJ("change",function(a){t.CHM(e);const r=t.oxw();return t.KtG(a?r.masterToggleArticoli():null)}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selectionArticoli.hasValue()&&e.isAllSelectedArticoli())("indeterminate",e.selectionArticoli.hasValue()&&!e.isAllSelectedArticoli())}}function Wg(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-cell",17)(1,"mat-checkbox",18),t.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(a?c.selectionArticoli.toggle(l.oid):null)}),t.qZA()()}if(2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selectionArticoli.isSelected(e.oid))}}function tm(o,n){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"bo.articolo.proprieta.nome")))}function em(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.nome)}}function nm(o,n){1&o&&t._UZ(0,"mat-header-row",19)}function om(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-row",20),t.NdJ("contextmenu",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.copyToClipboard(r.oid))}),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw();t.Q6J("matTooltip",i.isLocalhost&&null!=e.oid?e.oid:"")}}const no=function(){return["nome","select"]};class Te extends z.H{constructor(n){super(),this.apiService=n,this.rq=new w.OeL,this.selectionArticoli=new un.Ov(!0,[])}ngOnInit(){this.setIsLoading(!0),this.apiService.getPreventivo(this.oidPreventivo).subscribe(n=>{this.rq=n.data,this.apiService.getArticoliFilter(p.k$g.fromFilter("isUpSellingCRM",m.Hp.IsTrue),this.oidAlbergo).subscribe(e=>{if(this.articoli=e.data,this.selectionArticoli=new un.Ov(!0,[]),this.rq.oidArticoliUpSelling){let i=this.rq.oidArticoliUpSelling.split(";");for(let a of i)""!=a&&!isNaN(+a)&&-1!=this.articoli.findIndex(r=>r.oid==+a)&&this.selectionArticoli.toggle(+a)}this.setIsLoading(!1)})})}save(){this.setIsLoading(!0),this.rq.oidArticoliUpSelling=this.selectionArticoli.selected.toString().replace(/,/g,";"),this.apiService.setPreventivo(this.rq).subscribe(()=>{this.apiService.getMyPage(this.getMyPageRQ).subscribe(n=>{this.dialogRef.close(n),this.setIsLoading(!1)})})}isAllSelectedArticoli(){return this.selectionArticoli.selected.length==this.articoli.length}masterToggleArticoli(){this.isAllSelectedArticoli()?this.selectionArticoli.clear():this.articoli.forEach(n=>this.selectionArticoli.select(n.oid))}}function im(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-header-cell",15)(1,"mat-checkbox",16),t.NdJ("change",function(a){t.CHM(e);const r=t.oxw();return t.KtG(a?r.masterToggleContenuti():null)}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selectionContenuti.hasValue()&&e.isAllSelectedContenuti())("indeterminate",e.selectionContenuti.hasValue()&&!e.isAllSelectedContenuti())}}function am(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-cell",17)(1,"mat-checkbox",18),t.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(a?c.selectionContenuti.toggle(l.oid):null)}),t.qZA()()}if(2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selectionContenuti.isSelected(e.oid))}}function rm(o,n){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"bo.template.proprieta.nome"),""))}function lm(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.nome)}}function cm(o,n){1&o&&t._UZ(0,"mat-header-row",19)}function sm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-row",20),t.NdJ("contextmenu",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.copyToClipboard(r.oid))}),t.qZA()}if(2&o){const e=n.$implicit,i=t.oxw();t.Q6J("matTooltip",i.isLocalhost&&null!=e.oid?e.oid:"")}}Te.\u0275fac=function(n){return new(n||Te)(t.Y36(k.s))},Te.\u0275cmp=t.Xpm({type:Te,selectors:[["app-mypage-articoli-edit"]],inputs:{getMyPageRQ:"getMyPageRQ",oidAlbergo:"oidAlbergo",oidPreventivo:"oidPreventivo",dialogRef:"dialogRef"},features:[t.qOj],decls:20,vars:13,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[1,"mat-table-container-border-rounded"],[1,"mat-table",3,"dataSource"],["matColumnDef","select"],["class","mat-th-select",4,"matHeaderCellDef"],["class","mat-td-select",4,"matCellDef"],["matColumnDef","nome"],[4,"matHeaderCellDef"],[4,"matCellDef"],["class","mat-table-header",4,"matHeaderRowDef","matHeaderRowDefSticky"],["matTooltipPosition","left","matTooltipClass","oid-tooltip",3,"matTooltip","contextmenu",4,"matRowDef","matRowDefColumns"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"mat-th-select"],[1,"checkbox-blue",3,"checked","indeterminate","change"],[1,"mat-td-select"],[1,"checkbox-blue",3,"checked","click","change"],[1,"mat-table-header"],["matTooltipPosition","left","matTooltipClass","oid-tooltip",3,"matTooltip","contextmenu"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"h5",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",3)(7,"mat-table",4),t.ynx(8,5),t.YNc(9,$g,2,2,"mat-header-cell",6),t.YNc(10,Wg,2,1,"mat-cell",7),t.BQk(),t.ynx(11,8),t.YNc(12,tm,3,3,"mat-header-cell",9),t.YNc(13,em,2,1,"mat-cell",10),t.BQk(),t.YNc(14,nm,1,0,"mat-header-row",11),t.YNc(15,om,1,1,"mat-row",12),t.qZA()(),t.TgZ(16,"div",13)(17,"button",14),t.NdJ("click",function(){return e.save()}),t._uU(18),t.ALo(19,"translate"),t.qZA()()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(4),t.Oqu(t.lcZ(5,7,"sbm.tabelle.tag-crm.articoli")),t.xp6(3),t.Q6J("dataSource",e.articoli),t.xp6(7),t.Q6J("matHeaderRowDef",t.DdM(11,no))("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(12,no)),t.xp6(3),t.Oqu(t.lcZ(19,9,"globals.salvaModifiche")))},dependencies:[mn.FC,C.eB,G.aO,$.Kd,J.ty,J.wO,J.S4,J.t3,J.R3,J.Al,J.L7,J.ML,J.fg,J.Zw,b.X$]});const oo=function(){return["nome","select"]};class Me extends z.H{constructor(n){super(),this.apiService=n,this.rq=new w.OeL,this.selectionContenuti=new un.Ov(!0,[])}ngOnInit(){this.setIsLoading(!0),this.apiService.getPreventivo(this.oidPreventivo).subscribe(n=>{this.rq=n.data,this.apiService.getTemplatesFilter(p.k$g.fromFilter("tipoTemplate",m.Hp.Equal,m.hQ.PreventivoContenuto.toString(),m.NM.Number),this.oidAlbergo).subscribe(e=>{if(this.contenuti=e.data.templates.map(i=>i.template),this.selectionContenuti=new un.Ov(!0,[]),this.rq.oidContenutiMyPage){let i=this.rq.oidContenutiMyPage.split(";");for(let a of i)""!=a&&!isNaN(+a)&&-1!=this.contenuti.findIndex(r=>r.oid==+a)&&this.selectionContenuti.toggle(+a)}this.setIsLoading(!1)})})}save(){this.setIsLoading(!0),this.rq.oidContenutiMyPage=this.selectionContenuti.selected.toString().replace(/,/g,";"),this.apiService.setPreventivo(this.rq).subscribe(()=>{this.apiService.getMyPage(this.getMyPageRQ).subscribe(n=>{this.dialogRef.close(n),this.setIsLoading(!1)})})}isAllSelectedContenuti(){return this.selectionContenuti.selected.length==this.contenuti.length}masterToggleContenuti(){this.isAllSelectedContenuti()?this.selectionContenuti.clear():this.contenuti.forEach(n=>this.selectionContenuti.select(n.oid))}}Me.\u0275fac=function(n){return new(n||Me)(t.Y36(k.s))},Me.\u0275cmp=t.Xpm({type:Me,selectors:[["app-mypage-contenuti-edit"]],inputs:{getMyPageRQ:"getMyPageRQ",oidAlbergo:"oidAlbergo",oidPreventivo:"oidPreventivo",dialogRef:"dialogRef"},features:[t.qOj],decls:20,vars:13,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[1,"mat-table-container-border-rounded"],[1,"mat-table",3,"dataSource"],["matColumnDef","select"],["class","mat-th-select",4,"matHeaderCellDef"],["class","mat-td-select",4,"matCellDef"],["matColumnDef","nome"],[4,"matHeaderCellDef"],[4,"matCellDef"],["class","mat-table-header",4,"matHeaderRowDef","matHeaderRowDefSticky"],["matTooltipPosition","left","matTooltipClass","oid-tooltip",3,"matTooltip","contextmenu",4,"matRowDef","matRowDefColumns"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"mat-th-select"],[1,"checkbox-blue",3,"checked","indeterminate","change"],[1,"mat-td-select"],[1,"checkbox-blue",3,"checked","click","change"],[1,"mat-table-header"],["matTooltipPosition","left","matTooltipClass","oid-tooltip",3,"matTooltip","contextmenu"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"h5",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",3)(7,"mat-table",4),t.ynx(8,5),t.YNc(9,im,2,2,"mat-header-cell",6),t.YNc(10,am,2,1,"mat-cell",7),t.BQk(),t.ynx(11,8),t.YNc(12,rm,3,3,"mat-header-cell",9),t.YNc(13,lm,2,1,"mat-cell",10),t.BQk(),t.YNc(14,cm,1,0,"mat-header-row",11),t.YNc(15,sm,1,1,"mat-row",12),t.qZA()(),t.TgZ(16,"div",13)(17,"button",14),t.NdJ("click",function(){return e.save()}),t._uU(18),t.ALo(19,"translate"),t.qZA()()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(4),t.Oqu(t.lcZ(5,7,"sbm.tabelle.tag-crm.contenuti")),t.xp6(3),t.Q6J("dataSource",e.contenuti),t.xp6(7),t.Q6J("matHeaderRowDef",t.DdM(11,oo))("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(12,oo)),t.xp6(3),t.Oqu(t.lcZ(19,9,"globals.salvaModifiche")))},dependencies:[mn.FC,C.eB,G.aO,$.Kd,J.ty,J.wO,J.S4,J.t3,J.R3,J.Al,J.L7,J.ML,J.fg,J.Zw,b.X$]});var j=d(18615),io=d(29735),ao=d(32836),ro=d(31534);function pm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",9)(2,"div",10)(3,"app-color-picker",11),t.NdJ("valueChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.rq.template.coloreSfondoHex=a)}),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"button",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.rq.template.coloreSfondoHex=null)}),t.TgZ(6,"i",13),t._uU(7," settings_backup_restore "),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("value",e.rq.template.coloreSfondoHex)("placeholder",t.lcZ(4,2,"bo.template.proprieta.coloreSfondo"))}}function gm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab",15)(1,"mat-form-field",16)(2,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw();return t.KtG(l.rq.templatesXLingua[r].titolo=a)}),t.ALo(3,"translate"),t.qZA()(),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"app-editor",18),t.NdJ("textChange",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw();return t.KtG(l.rq.templatesXLingua[r].testo=a)})("onHeadRemove",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.rq.template.head=a)}),t.qZA()()}if(2&o){const e=t.oxw(),i=e.$implicit,a=e.index,r=t.oxw();t.Q6J("label",i.lingua.nome),t.xp6(2),t.s9C("placeholder",t.lcZ(3,6,"bo.templateXLingua.proprieta.titolo")),t.Q6J("ngModel",r.rq.templatesXLingua[a].titolo),t.xp6(2),t.hij(" ",t.lcZ(5,8,"bo.templateXLingua.proprieta.testo")," "),t.xp6(2),t.Q6J("id","testo"+a)("text",r.rq.templatesXLingua[a].testo)}}function mm(o,n){if(1&o&&(t.ynx(0),t.YNc(1,gm,7,10,"mat-tab",14),t.BQk()),2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.sessionService.isLinguaAttiva(e.lingua))}}function dm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",19)(1,"app-image",20),t.NdJ("edit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.editImage())})("delete",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.deleteImage())}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("title","globals.immagine")("url",e.rq.template.urlImmagine)("blue",!0)}}const _m=function(o,n){return{"col-7":o,"col-12":n}};class ye extends z.H{constructor(n,e){super(),this.apiService=n,this.sessionService=e,this.rq=new p.dKo,this.imageEdited=!1}ngOnInit(){this.setIsLoading(!0);for(let n of this.lingue){let e=new w.L92;e.lingua=n,e.template=new w.YSh(this.oidContenuto),this.rq.templatesXLingua.push(e)}this.apiService.getTemplatesFilter(p.k$g.fromFilter("oid",m.Hp.Equal,this.oidContenuto.toString(),m.NM.Number)).subscribe(n=>{if(n.data.templates.length>0){this.rq.template=n.data.templates[0].template;try{null!=this.rq.template.coloreSfondo&&(this.rq.template.coloreSfondoHex=_n(this.rq.template.coloreSfondo).hex())}catch(e){}for(let e of n.data.templates[0].templatesXLingua)if(null!=e.lingua){let i=this.rq.templatesXLingua.findIndex(a=>a.lingua.oid==e.lingua.oid);i>=0&&(this.rq.templatesXLingua[i].titolo=e.titolo,this.rq.templatesXLingua[i].testo=e.testo,this.rq.templatesXLingua[i].design=e.design)}}this.setIsLoading(!1)})}save(){if(this.setIsLoading(!0),this.rq.template.coloreSfondoHex)try{this.rq.template.coloreSfondo=_n(this.rq.template.coloreSfondoHex).rgbNumber()}catch(n){}else this.rq.template.coloreSfondo=null;this.apiService.setTemplate(this.rq).subscribe(()=>{this.download()})}download(){this.setIsLoading(!0),this.apiService.getMyPage(this.getMyPageRQ).subscribe(n=>{this.dialogRef.close(n),this.setIsLoading(!1)})}editImage(){let n=new p.Zpt;n.width="50vw";let e=this.showModalDialog(Mn.t,n),i=e.componentInstance;i._url=this.rq.template.urlImmagine,i.title="globals.immagine",i.blue=!0,i.dialogRef=e,e.afterClosed().subscribe(a=>{if(null!=a){this.setIsLoading(!0);let r=new p.Pft;r.oid=this.rq.template.oid,r.base64=a,this.apiService.setImmagineTemplate(r).subscribe(l=>{null!=l.data&&(this.rq.template.urlImmagine=l.data.url),this.imageEdited=!0,this.setIsLoading(!1)})}})}deleteImage(){this.showDialogConfirm("globals.eliminareImmagine").then(n=>{this.setIsLoading(!0);let e=new p.Pft;e.oid=this.rq.template.oid,e.base64="",this.apiService.setImmagineTemplate(e).subscribe(i=>{null!=i.data&&(this.rq.template.urlImmagine=i.data.url),this.imageEdited=!0,this.setIsLoading(!1)})},n=>{})}}ye.\u0275fac=function(n){return new(n||ye)(t.Y36(k.s),t.Y36(nt.m))},ye.\u0275cmp=t.Xpm({type:ye,selectors:[["app-mypage-contenuto-edit"]],inputs:{getMyPageRQ:"getMyPageRQ",oidContenuto:"oidContenuto",v2:"v2",dialogRef:"dialogRef"},features:[t.qOj],decls:13,vars:11,consts:[["mat-icon-button","",1,"modal-close-button",3,"disableRipple","click"],[1,"material-icons-round"],["class","row",4,"ngIf"],[1,"row"],[3,"ngClass"],[4,"ngFor","ngForOf"],["class","col-5",4,"ngIf"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"col-3"],[1,"d-inline-block","colore-picker"],[3,"value","placeholder","valueChange"],["mat-icon-button","",1,"colore-reset",3,"click"],[1,"material-icons","color-blue"],[3,"label",4,"ngIf"],[3,"label"],[1,"w-100","mt-3"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","ngModelChange"],[3,"id","text","textChange","onHeadRemove"],[1,"col-5"],[3,"title","url","blue","edit","delete"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return e.imageEdited?e.download():e.dialogRef.close()}),t.TgZ(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.YNc(3,pm,8,4,"div",2),t.TgZ(4,"div",3)(5,"div",4)(6,"mat-tab-group"),t.YNc(7,mm,2,1,"ng-container",5),t.qZA()(),t.YNc(8,dm,2,3,"div",6),t.qZA(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){return e.save()}),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(3),t.Q6J("ngIf",e.v2),t.xp6(2),t.Q6J("ngClass",t.WLB(8,_m,e.v2,!e.v2)),t.xp6(2),t.Q6J("ngForOf",e.rq.templatesXLingua),t.xp6(1),t.Q6J("ngIf",e.v2),t.xp6(3),t.Oqu(t.lcZ(12,6,"globals.salvaModifiche")))},dependencies:[s.mk,s.sg,s.O5,R.X,C.eB,M.v_,Y.k0,j.SK,j.R7,f.Fj,f.JJ,f.On,io.h,ao.P,ro.c,b.X$],styles:[".colore-picker[_ngcontent-%COMP%]{width:calc(100% - 50px)}.colore-reset[_ngcontent-%COMP%]{width:50px}"]});var um=d(42950);function fm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"app-image",14),t.NdJ("edit",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editImageList(r))})("delete",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.deleteImageList(r))}),t.qZA()()}if(2&o){const e=n.$implicit;t.xp6(1),t.Q6J("container",!1)("url",e.urlImmagine)("deleteAlwaysVisible",!0)}}class Ze extends z.H{constructor(n,e){super(),this.apiService=n,this.utility=e}ngOnInit(){this.versioneMyPage==m.wA.Versione1?(this.title="sbm.tabelle.tag-crm.immagine",this.tipoImmagine=m.cS.Header):(this.title="sbm.tabelle.tag-crm.immagineSfondo",this.tipoImmagine=m.cS.Sfondo)}editImage(){let n=new p.Zpt;n.width="50vw";let e=this.showModalDialog(Mn.t,n),i=e.componentInstance;i._url=this.urlImmagine,i.title=this.title,i.dialogRef=e,e.afterClosed().subscribe(a=>{if(null!=a){this.setIsLoading(!0);let r=new p.J4L;r.oid=this.oidTagCrm,r.tipoImmagine=this.tipoImmagine,r.base64=a,this.apiService.setImmagineTagCrm(r).subscribe(l=>{null!=l.data&&(this.urlImmagine=l.data.url),this.setIsLoading(!1)})}})}deleteImage(){this.showDialogConfirm("globals.eliminareImmagine").then(()=>{this.setIsLoading(!0);let n=new p.J4L;n.oid=this.oidTagCrm,n.tipoImmagine=this.tipoImmagine,n.base64="",this.apiService.setImmagineTagCrm(n).subscribe(e=>{null!=e.data&&(this.urlImmagine=e.data.url),this.setIsLoading(!1)})},()=>{})}editImageList(n){let e=new p.Zpt;e.width="50vw";let i=this.showModalDialog(um.u,e),a=i.componentInstance;a.image=Object.assign({},n),a.dialogRef=i,i.afterClosed().subscribe(r=>{null!=r&&(this.setIsLoading(!0),this.apiService.setImmagineTagCrmList(r).subscribe(l=>{if(r.oid>0){let c=this.utility.findIndexByOid(this.immagini,r.oid);r.isDeleted?this.immagini.splice(c,1):this.immagini[c]=l.data.obj}else this.immagini.push(l.data.obj);this.setIsLoading(!1)}))})}addImageList(){let n=new w.Db1;n.tagCrm=new w.I73(this.oidTagCrm),n.isAttiva=!0,this.editImageList(n)}deleteImageList(n){this.showDialogConfirm("globals.eliminareImmagine").then(()=>{n.isDeleted=!0,this.setIsLoading(!0),this.apiService.setImmagineTagCrmList(n).subscribe(()=>{let e=this.utility.findIndexByOid(this.immagini,n.oid);this.immagini.splice(e,1),this.setIsLoading(!1)})},()=>{})}}Ze.\u0275fac=function(n){return new(n||Ze)(t.Y36(k.s),t.Y36(v.t))},Ze.\u0275cmp=t.Xpm({type:Ze,selectors:[["app-mypage-immagini-header-edit"]],inputs:{oidTagCrm:"oidTagCrm",urlImmagine:"urlImmagine",immagini:"immagini",versioneMyPage:"versioneMyPage"},features:[t.qOj],decls:18,vars:7,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"row","mb-3"],[1,"col-6","mx-auto"],[3,"title","url","edit","delete"],[1,"text-center","font-weight-normal","mb-3"],[1,"row"],["class","col-4 pb-3",4,"ngFor","ngForOf"],[1,"col-4"],[1,"imageRow"],[1,"imageHeight"],["mat-icon-button","","color","primary",1,"add-button",3,"click"],[1,"material-icons","add-icon"],[1,"col-4","pb-3"],[3,"container","url","deleteAlwaysVisible","edit","delete"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3)(5,"app-image",4),t.NdJ("edit",function(){return e.editImage()})("delete",function(){return e.deleteImage()}),t.qZA()()(),t._UZ(6,"hr"),t.TgZ(7,"h5",5),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",6),t.YNc(11,fm,2,3,"div",7),t.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"button",11),t.NdJ("click",function(){return e.addImageList()}),t.TgZ(16,"i",12),t._uU(17,"add_circle_outline"),t.qZA()()()()()()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(5),t.Q6J("title",e.title)("url",e.urlImmagine),t.xp6(3),t.Oqu(t.lcZ(9,5,"sbm.tabelle.tag-crm.immaginiHeader")),t.xp6(3),t.Q6J("ngForOf",e.immagini))},dependencies:[s.sg,C.eB,G.aO,ro.c,b.X$],styles:[".imageHeight[_ngcontent-%COMP%]{max-height:180px!important;text-align:center;width:100%}.imageRow[_ngcontent-%COMP%]{height:180px!important;display:flex;align-items:center;margin-bottom:1rem}.add-icon[_ngcontent-%COMP%]{height:60px!important;width:60px!important;font-size:60px!important;line-height:60px!important}.add-button[_ngcontent-%COMP%]{height:60px!important;width:60px!important;line-height:60px!important}"]});class ke extends z.H{constructor(n){super(),this.apiService=n}rifiuta(){this.setIsLoading(!0);let n=new p.IRY;n.oidPreventivo=this.oidPreventivo,n.note=this.note,this.apiService.rifiutaPreventivoMyPage(n).subscribe(e=>{this.setIsLoading(!1),e.data?this.showInfo("booking.my-page.emailInviata").then(()=>{this.dialogRef.close(!0)}):this.showError("interfaces.email-send.erroreInvioEmail").then(()=>{this.dialogRef.close()})})}}function hm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab",7)(1,"app-editor",8),t.NdJ("textChange",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw();return t.KtG(l.rq[r].testo=a)}),t.qZA()()}if(2&o){const e=t.oxw(),i=e.$implicit,a=e.index,r=t.oxw();t.Q6J("label",i.lingua.nome),t.xp6(1),t.Q6J("id","testo"+a)("text",r.rq[a].testo)}}function xm(o,n){if(1&o&&(t.ynx(0),t.YNc(1,hm,2,3,"mat-tab",6),t.BQk()),2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.sessionService.isLinguaAttiva(e.lingua))}}ke.\u0275fac=function(n){return new(n||ke)(t.Y36(k.s))},ke.\u0275cmp=t.Xpm({type:ke,selectors:[["app-mypage-rifiuta-preventivo"]],inputs:{oidPreventivo:"oidPreventivo",dialogRef:"dialogRef"},features:[t.qOj],decls:11,vars:10,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"border","mat-elevation-z1","motivazione-container","p-3","mb-3","mt-2"],[1,"w-100","rifiuta-preventivo-mypage-textarea",3,"floatLabel"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","5","cdkAutosizeMaxRows","5",3,"errorStateMatcher","placeholder","ngModel","ngModelChange"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"div",2)(4,"mat-form-field",3)(5,"textarea",4),t.NdJ("ngModelChange",function(a){return e.note=a}),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return e.rifiuta()}),t._uU(9),t.ALo(10,"translate"),t.qZA()()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(4),t.Q6J("floatLabel","always"),t.xp6(1),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(6,6,"booking.my-page.motivazione"))("ngModel",e.note),t.xp6(4),t.Oqu(t.lcZ(10,8,"booking.my-page.rifiutaOfferta")))},dependencies:[C.eB,bt.IC,M.v_,Y.k0,G.aO,f.Fj,f.JJ,f.On,b.X$],styles:[".rifiuta-preventivo-mypage-textarea .mat-form-field-underline{visibility:hidden!important}  .rifiuta-preventivo-mypage-textarea .mat-form-field-wrapper{padding-bottom:0!important}textarea.mat-input-element[_ngcontent-%COMP%]{margin:0;padding:0}.motivazione-container[_ngcontent-%COMP%]{border-radius:5px}"]});class Ae extends z.H{constructor(n,e){super(),this.apiService=n,this.sessionService=e,this.rq=[],this.enumTestoMyPage=m.et}ngOnInit(){this.setIsLoading(!0);for(let n of this.lingue){let e=new w.ZQX;e.lingua=n,e.testoMyPage=this.testoMypage,e.tagCrm=new w.I73(this.oidTagCrm),this.rq.push(e)}this.apiService.getTagCrmXLingua(this.oidTagCrm).subscribe(n=>{for(let e of n.data.filter(i=>i.testoMyPage==this.testoMypage))if(null!=e.lingua){let i=this.rq.findIndex(a=>a.lingua.oid==e.lingua.oid);i>=0&&(this.rq[i].testo=e.testo)}this.setIsLoading(!1)})}save(){this.setIsLoading(!0),this.oidTagCrm>0?this.apiService.setTagCrmXLingua(this.rq).subscribe(()=>{this.testoMypage==m.et.TestoIniziale?this.apiService.getPreventivo(this.oidPreventivo).subscribe(n=>{n.data.testoIniziale=this.rq.find(e=>e.lingua.codice==(null!=n.data.lingua?n.data.lingua.codice:"it")).testo,this.apiService.setPreventivo(n.data).subscribe(()=>{this.download()})}):this.download()}):this.testoMypage==m.et.TestoIniziale?this.apiService.getPreventivo(this.oidPreventivo).subscribe(n=>{n.data.testoIniziale=this.rq.find(e=>e.lingua.codice==(null!=n.data.lingua?n.data.lingua.codice:"it")).testo,this.apiService.setPreventivo(n.data).subscribe(()=>{this.download()})}):this.download()}download(){this.apiService.getMyPage(this.getMyPageRQ).subscribe(n=>{this.dialogRef.close(n),this.setIsLoading(!1)})}}Ae.\u0275fac=function(n){return new(n||Ae)(t.Y36(k.s),t.Y36(nt.m))},Ae.\u0275cmp=t.Xpm({type:Ae,selectors:[["app-mypage-testo-edit"]],inputs:{getMyPageRQ:"getMyPageRQ",oidPreventivo:"oidPreventivo",oidTagCrm:"oidTagCrm",testoMypage:"testoMypage",dialogRef:"dialogRef"},features:[t.qOj],decls:12,vars:8,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[4,"ngFor","ngForOf"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"click"],[3,"label",4,"ngIf"],[3,"label"],[3,"id","text","textChange"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"h5",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"mat-tab-group"),t.YNc(7,xm,2,1,"ng-container",3),t.qZA(),t.TgZ(8,"div",4)(9,"button",5),t.NdJ("click",function(){return e.save()}),t._uU(10),t.ALo(11,"translate"),t.qZA()()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(4),t.Oqu(t.lcZ(5,4,e.getEnumKeyTranslation(e.enumTestoMyPage,e.testoMypage,"testoMyPage"))),t.xp6(3),t.Q6J("ngForOf",e.rq),t.xp6(3),t.Oqu(t.lcZ(11,6,"globals.salvaModifiche")))},dependencies:[s.sg,s.O5,C.eB,j.SK,j.R7,G.aO,ao.P,b.X$]});class lt{constructor(){this.scrollTop=0}setScrollbarRef(n){this.scrollbarRef=n,this.sub=this.scrollbarRef.verticalScrolled.subscribe(e=>{this.scrollTop=e.target.scrollTop})}scrollToTop(n=!0){this.scrollbarRef.scrollTo({duration:n?400:0})}ngOnDestroy(){null!=this.sub&&this.sub.unsubscribe()}}function bm(o,n){if(1&o&&t._UZ(0,"img",8),2&o){const e=t.oxw();t.Q6J("src",e.urlLogo,t.LSH)}}function vm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.openUrlInNewTab(a.url))}),t.TgZ(1,"button",10)(2,"span",11),t._uU(3,"link"),t.qZA()(),t.TgZ(4,"span",12),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("matTooltip",e.containerService.dimension.width<992?"":e.url),t.xp6(1),t.Q6J("disableRipple",!0),t.xp6(4),t.Oqu(t.lcZ(6,3,"booking.my-page.vaiAlSito"))}}function Cm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.callNumber(a.telefono))}),t.TgZ(1,"button",10)(2,"span",11),t._uU(3,"phone"),t.qZA()(),t.TgZ(4,"span",12),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("matTooltip",e.containerService.dimension.width<992?"":e.telefono),t.xp6(1),t.Q6J("disableRipple",!0),t.xp6(4),t.Oqu(t.lcZ(6,3,"booking.my-page.contattaci"))}}function zm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.openUrlInNewTab(a.urlIFrameGoogleMap))}),t.TgZ(1,"button",10)(2,"span",11),t._uU(3,"place"),t.qZA()(),t.TgZ(4,"span",12),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("matTooltip",e.containerService.dimension.width<992?"":e.indirizzo?e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""):""),t.xp6(1),t.Q6J("disableRipple",!0),t.xp6(4),t.Oqu(t.lcZ(6,3,"booking.my-page.vai"))}}function wm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openSelfCheckIn())}),t.TgZ(1,"button",10),t._UZ(2,"img",16),t.qZA()()}2&o&&(t.xp6(1),t.Q6J("disableRipple",!0))}lt.\u0275fac=function(n){return new(n||lt)},lt.\u0275prov=t.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"});const Pm=function(o,n){return{"background-white":o,"p-2":n}},Tm=function(o,n){return{"pt-2 pr-3 d-inline-block":o,"d-inline-flex pr-10":n}};class Se{constructor(n,e){this.utility=n,this.containerService=e}openSelfCheckIn(){window.open(window.location.origin+"/self-checkin?oidAlbergo="+this.oidAlbergo+"&email="+this.cliente.email)}}function Mm(o,n){if(1&o&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.nome," ")}}function ym(o,n){if(1&o&&(t.TgZ(0,"div",15)(1,"span",7),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",8),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}function Zm(o,n){if(1&o&&(t.TgZ(0,"a",18),t._UZ(1,"i",19),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("href",e.urlInstagram,t.LSH)}}function km(o,n){if(1&o&&(t.TgZ(0,"a",18),t._UZ(1,"i",20),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("href",e.urlFacebook,t.LSH)}}function Am(o,n){if(1&o&&(t.TgZ(0,"a",18),t._UZ(1,"i",21),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("href","https://api.whatsapp.com/send?phone="+e.utility.checkCellulare(e.telefonoWhatsApp),t.LSH)}}function Sm(o,n){if(1&o&&(t.TgZ(0,"div",16),t.YNc(1,Zm,2,1,"a",17),t.YNc(2,km,2,1,"a",17),t.YNc(3,Am,2,1,"a",17),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!!e.urlInstagram),t.xp6(1),t.Q6J("ngIf",!!e.urlFacebook),t.xp6(1),t.Q6J("ngIf",!!e.telefonoWhatsApp)}}function Om(o,n){if(1&o&&(t._UZ(0,"iframe",22),t.ALo(1,"safeUrl")),2&o){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,e.urlMappa),t.uOi)}}Se.\u0275fac=function(n){return new(n||Se)(t.Y36(v.t),t.Y36(T.J))},Se.\u0275cmp=t.Xpm({type:Se,selectors:[["app-mypage-header"]],inputs:{url:"url",urlLogo:"urlLogo",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono",urlIFrameGoogleMap:"urlIFrameGoogleMap",cliente:"cliente",oidAlbergo:"oidAlbergo",v2:"v2"},decls:8,vars:13,consts:[[1,"myPage-header","w-100","d-flex",3,"ngClass"],[1,"logo-container","pt-1","pb-1","align-middle","align-items-center","justify-content-center"],["class","logo d-inline-block align-middle",3,"src",4,"ngIf"],[1,"icons-container",3,"ngClass"],["class","background-grey cursor-pointer pr-3 pr-lg-4 pl-3 pt-1 pb-1 pt-lg-2 pb-lg-2 d-none d-sm-inline-flex align-items-center justify-content-center icon-container","matTooltipPosition","below","matTooltipClass","mypage-contatti-tooltip-class",3,"matTooltip","click",4,"ngIf"],["class","background-color-light-blue cursor-pointer pr-3 pr-lg-4 pl-3 pt-1 pb-1 pt-lg-2 pb-lg-2 d-inline-flex align-items-center justify-content-center icon-container","matTooltipPosition","below","matTooltipClass","mypage-contatti-tooltip-class",3,"matTooltip","click",4,"ngIf"],["class","background-color-blue cursor-pointer pr-3 pr-lg-4 pl-3 pt-1 pb-1 pt-lg-2 pb-lg-2 d-inline-flex align-items-center justify-content-center icon-container","matTooltipPosition","below","matTooltipClass","mypage-contatti-tooltip-class",3,"matTooltip","click",4,"ngIf"],["class","background-grey cursor-pointer pr-3 pr-lg-4 pl-3 pr-lg-4 pl-lg-4 pt-1 pb-1 pt-lg-2 pb-lg-2 d-inline-flex align-items-center justify-content-center icon-container",3,"click",4,"ngIf"],[1,"logo","d-inline-block","align-middle",3,"src"],["matTooltipPosition","below","matTooltipClass","mypage-contatti-tooltip-class",1,"background-grey","cursor-pointer","pr-3","pr-lg-4","pl-3","pt-1","pb-1","pt-lg-2","pb-lg-2","d-none","d-sm-inline-flex","align-items-center","justify-content-center","icon-container",3,"matTooltip","click"],["mat-icon-button","",1,"align-middle",3,"disableRipple"],[1,"material-icons-round"],[1,"align-middle","d-none","d-lg-inline-block","text-big"],["matTooltipPosition","below","matTooltipClass","mypage-contatti-tooltip-class",1,"background-color-light-blue","cursor-pointer","pr-3","pr-lg-4","pl-3","pt-1","pb-1","pt-lg-2","pb-lg-2","d-inline-flex","align-items-center","justify-content-center","icon-container",3,"matTooltip","click"],["matTooltipPosition","below","matTooltipClass","mypage-contatti-tooltip-class",1,"background-color-blue","cursor-pointer","pr-3","pr-lg-4","pl-3","pt-1","pb-1","pt-lg-2","pb-lg-2","d-inline-flex","align-items-center","justify-content-center","icon-container",3,"matTooltip","click"],[1,"background-grey","cursor-pointer","pr-3","pr-lg-4","pl-3","pr-lg-4","pl-lg-4","pt-1","pb-1","pt-lg-2","pb-lg-2","d-inline-flex","align-items-center","justify-content-center","icon-container",3,"click"],["src","/assets/images/booking/profilo.svg"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t.YNc(2,bm,1,1,"img",2),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,vm,7,5,"div",4),t.YNc(5,Cm,7,5,"div",5),t.YNc(6,zm,7,5,"div",6),t.YNc(7,wm,3,1,"div",7),t.qZA()()),2&n&&(t.Q6J("ngClass",t.WLB(7,Pm,!e.v2||e.containerService.dimension.width<992,e.v2&&e.containerService.dimension.width>=992)),t.xp6(2),t.Q6J("ngIf",!!e.urlLogo),t.xp6(1),t.Q6J("ngClass",t.WLB(10,Tm,e.v2&&e.containerService.dimension.width>=992,!e.v2||e.containerService.dimension.width<992)),t.xp6(1),t.Q6J("ngIf",!!e.url),t.xp6(1),t.Q6J("ngIf",!!e.telefono),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo||!!e.urlIFrameGoogleMap),t.xp6(1),t.Q6J("ngIf",null!=e.cliente&&!!e.cliente.email))},dependencies:[s.mk,s.O5,C.eB,$.Kd,b.X$],styles:[".myPage-header[_ngcontent-%COMP%]{position:absolute;top:0;z-index:1}.logo-container[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px;display:none}.icons-container[_ngcontent-%COMP%]{flex:1}.icon-container[_ngcontent-%COMP%]{filter:brightness(1);transition:filter .2s ease-out;flex:1}.icon-container[_ngcontent-%COMP%]:hover{filter:brightness(.9);transition:filter .2s ease-out}@media (min-width: 370px){.logo-container[_ngcontent-%COMP%]{display:inline-flex}.icons-container[_ngcontent-%COMP%]{margin-left:auto;flex:unset}.icon-container[_ngcontent-%COMP%]{flex:unset}}.logo[_ngcontent-%COMP%]{min-width:100px;max-width:100%;min-height:60px;max-height:60px;object-fit:contain}.background-grey[_ngcontent-%COMP%]{background-color:#f2f2f2}.background-white[_ngcontent-%COMP%]{background-color:#fff}.text-big[_ngcontent-%COMP%]{font-size:18px}.pr-10[_ngcontent-%COMP%]{padding-right:10px}  .mypage-contatti-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#fff!important;color:var(--main-color)!important;opacity:1!important;font-weight:600!important;font-size:12px!important}"]});const lo=function(o){return{"cursor-pointer":o}};class Oe{constructor(n){this.utility=n}}Oe.\u0275fac=function(n){return new(n||Oe)(t.Y36(v.t))},Oe.\u0275cmp=t.Xpm({type:Oe,selectors:[["app-mypage-footer"]],inputs:{nome:"nome",urlMappa:"urlMappa",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono",telefonoWhatsApp:"telefonoWhatsApp",email:"email",urlFacebook:"urlFacebook",urlInstagram:"urlInstagram"},decls:21,vars:12,consts:[[1,"myPage-footer","w-100"],[1,"row","m-0","h-100"],[1,"col-12","col-lg-4","background-color-blue","p-0","d-flex","align-items-center","justify-content-center","order-2","order-lg-1"],[1,"p-4"],["class","mb-3 text-big font-weight-bold",4,"ngIf"],["class","mb-1 text-nowrap",4,"ngIf"],[1,"mb-1","text-nowrap",3,"ngClass","click"],[1,"material-icons-round","mr-1","align-middle","contatti-icon"],[1,"align-middle","text-wrap"],[1,"text-nowrap","email",3,"ngClass","click"],["class","mt-2",4,"ngIf"],[1,"col-12","col-lg-8","p-0","iframe-col","order-1","order-lg-2"],[1,"position-absolute","w-100","h-100","iframe-over"],["height","100%","frameborder","0","class","w-100 rounded","allowfullscreen","",3,"src",4,"ngIf"],[1,"mb-3","text-big","font-weight-bold"],[1,"mb-1","text-nowrap"],[1,"mt-2"],["target","_blank","class","mr-2",3,"href",4,"ngIf"],["target","_blank",1,"mr-2",3,"href"],[1,"fab","fa-instagram","color-white","contatti-icon"],[1,"fab","fa-facebook","color-white","contatti-icon"],[1,"fab","fa-whatsapp","color-white","contatti-icon"],["height","100%","frameborder","0","allowfullscreen","",1,"w-100","rounded",3,"src"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Mm,2,1,"div",4),t.YNc(5,ym,5,1,"div",5),t.TgZ(6,"div",6),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(7,"span",7),t._uU(8,"phone_enabled"),t.qZA(),t.TgZ(9,"span",8),t._uU(10),t.qZA()(),t.TgZ(11,"div",9),t.NdJ("click",function(){return e.utility.sendEmail(e.email)}),t.TgZ(12,"span",7),t._uU(13,"email"),t.qZA(),t.TgZ(14,"span",8),t._uU(15),t.qZA()(),t.YNc(16,Sm,4,3,"div",10),t.qZA()(),t.TgZ(17,"div",11)(18,"div",12),t._uU(19,"\xa0"),t.qZA(),t.YNc(20,Om,2,3,"iframe",13),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",e.nome),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(1),t.Q6J("ngClass",t.VKq(8,lo,!!e.telefono)),t.xp6(4),t.Oqu(e.telefono?e.telefono:"---"),t.xp6(1),t.Q6J("ngClass",t.VKq(10,lo,!!e.email)),t.xp6(4),t.Oqu(e.email?e.email:"---"),t.xp6(1),t.Q6J("ngIf",!!e.urlInstagram||!!e.urlFacebook||!!e.telefonoWhatsApp),t.xp6(4),t.Q6J("ngIf",!!e.urlMappa))},dependencies:[s.mk,s.O5,zt.Q],styles:[".myPage-footer[_ngcontent-%COMP%]{background-color:#fff;height:500px}@media (min-width: 992px){.myPage-footer[_ngcontent-%COMP%]{height:300px}}.contatti-icon[_ngcontent-%COMP%]{font-size:18px}.text-big[_ngcontent-%COMP%]{font-size:24px}.iframe-col[_ngcontent-%COMP%]{min-height:300px;overflow:hidden}.email[_ngcontent-%COMP%]{padding-bottom:10px}@media (min-width: 992px){.email[_ngcontent-%COMP%]{padding-bottom:0}}.iframe-over[_ngcontent-%COMP%]{top:0;left:0;z-index:1}"]});var Im=d(91123);function qm(o,n){if(1&o&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.articolo.nome)}}function Jm(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",15),t._uU(2),t.TgZ(3,"small",16),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"span",17),t._uU(7),t.TgZ(8,"small",16),t._uU(9),t.qZA()(),t.TgZ(10,"span",18),t._uU(11),t.qZA()(),t.BQk()),2&o){const e=t.oxw();t.xp6(2),t.hij(" ","\u20ac "+e.utility.getPriceIntegerPart(e.articolo.prezzo),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.articolo.prezzo)),t.xp6(3),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.articolo.prezzoPieno)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.articolo.prezzoPieno)),t.xp6(2),t.hij("-",e.articolo.sconto,"%")}}function Qm(o,n){if(1&o&&(t.TgZ(0,"div",15),t._uU(1),t.TgZ(2,"small",16),t._uU(3),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ","\u20ac "+e.utility.getPriceIntegerPart(e.articolo.prezzo),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.articolo.prezzo))}}function Um(o,n){if(1&o&&(t.TgZ(0,"div",19),t._UZ(1,"app-inner-html",20),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("_text",e.articolo.descrizione)}}function Nm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"a",30),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw();return a.preventDefault(),t.KtG(l.openGiornoSelect(r))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.my-page.giorni")))}function Em(o,n){1&o&&(t.ynx(0),t._uU(1," 0 "),t.BQk())}function Dm(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"eurCurrency"),t.BQk()),2&o){const e=t.oxw(),i=e.index,a=e.$implicit,r=t.oxw().index,l=t.oxw();t.xp6(1),t.hij(" ",l.getQuantity(r,i)+" ("+t.lcZ(2,1,a)+")"," ")}}function Lm(o,n){if(1&o&&(t.TgZ(0,"mat-option",31),t.YNc(1,Em,2,0,"ng-container",8),t.YNc(2,Dm,3,3,"ng-container",8),t.qZA()),2&o){const e=n.index,i=t.oxw().index,a=t.oxw();t.Q6J("value",a.getQuantity(i,e)),t.xp6(1),t.Q6J("ngIf",0==e),t.xp6(1),t.Q6J("ngIf",e>0)}}function Bm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"span",23),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Nm,3,3,"a",24),t.qZA(),t.TgZ(6,"div",25)(7,"mat-form-field",26)(8,"mat-select",27,28),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.quantita=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onQuantitaGiorniChange.emit())}),t.TgZ(10,"mat-select-trigger"),t._uU(11),t.qZA(),t.YNc(12,Lm,3,3,"mat-option",29),t.qZA()()()()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,6,"booking.my-page.qtCamera")+(i+1)),t.xp6(2),t.Q6J("ngIf",null!=e.giorni&&e.giorni.length>1),t.xp6(3),t.Q6J("panelClass","mypage-select")("ngModel",e.quantita),t.xp6(3),t.hij(" ",e.quantita," "),t.xp6(1),t.Q6J("ngForOf",a.quantities[i])}}const Vm=function(o){return[o]};class Dt extends z.H{set _proposteSelected(n){null!=n&&n.length>0&&(this.proposteSelected=n,this.initialized&&this.init())}set _extraSelected(n){null!=n&&n.length>0&&(this.extraSelected=n,this.initialized&&this.init())}constructor(n,e){super(),this.utility=n,this.containerService=e,this.onQuantitaGiorniChange=new t.vpe,this.proposteSelected=[],this.extraSelected=[],this.quantities=[],this.extras=[],this.enumTipoSupplemento=m.E9,this.initialized=!1}ngOnInit(){this.initialized=!0,this.init()}init(){this.extras=[],this.quantities=[];let n=0;for(let e of this.extraSelected){let i=this.utility.findItemByOid(e,this.articolo.oid);i.quantita=0;let a=null==this.articolo.tipo?1:Math.max(P(this.getDate(this.proposteSelected[n].partenza)).diff(P(this.getDate(this.proposteSelected[n].arrivo)),"days"),1);i.giorni=[];for(let c=0;c<a;c++)if(null==this.articolo.tipoApplicazione||this.articolo.tipoApplicazione==m.x6.TuttiIGiorni||this.articolo.tipoApplicazione==m.x6.PrimoGiorno&&0==c||this.articolo.tipoApplicazione==m.x6.UltimoGiorno&&c==a-1){let g=new p.fWy;g.data=this.getDate(P(this.getDate(this.proposteSelected[n].arrivo)).add(c,"day")),g.selected=!0,g.prezzo=this.articolo.prezzo,i.giorni.push(g)}this.extras.push(i),this.quantities.push([]);let r=this.getQuantitaMassima(n),l=this.proposteSelected[n].numeroAdulti+this.proposteSelected[n].numeroBambini;for(let c=0;c<=(1==this.articolo.isApplicaATuttiComponenti?Math.ceil(r/l):r);c++)this.quantities[n].push((1==this.articolo.isApplicaATuttiComponenti?c*l:c)*i.giorni.filter(g=>g.selected).reduce((g,_)=>g+_.prezzo,0));n++}}openGiornoSelect(n){let e=new p.Zpt;this.containerService.dimension.width<992?e.width="80vw":e.width="50vw";let i=this.showModalDialog(Im.P,e),a=i.componentInstance;a.giorni=JSON.parse(JSON.stringify(this.extras[n].giorni)),a.dialogRef=i,i.afterClosed().subscribe(r=>{if(null!=r){let l=0;for(let c of r)this.extras[n].giorni[l].selected=c.selected,l++;l=0;for(let c of this.quantities[n])this.quantities[n][l]=l*this.extras[n].giorni.filter(g=>g.selected).reduce((g,_)=>g+_.prezzo,0),l++;this.extras[n].quantita>0&&this.onQuantitaGiorniChange.emit()}})}getQuantitaMassima(n){return this.articolo.quantitaMassima>0?this.articolo.quantitaMassima:1==this.articolo.isApplicaATuttiComponenti?10*this.getNumeroPax(n):10}getNumeroPax(n){return this.proposteSelected[n].numeroAdulti+this.proposteSelected[n].numeroBambini}getQuantity(n,e){let i=this.articolo.isApplicaATuttiComponenti,a=e*this.getNumeroPax(n);return 1==i?Math.min(a,this.getQuantitaMassima(n)):e}getTipoExtra(){return null==this.articolo.tipo?"booking.my-page.perCameraExtra":this.articolo.tipo==m.E9.Camera?this.articolo.tipoApplicazione==m.x6.PrimoGiorno||this.articolo.tipoApplicazione==m.x6.UltimoGiorno?"booking.my-page.perCameraSingoloGiorno":"booking.my-page.perCamera":this.articolo.tipo==m.E9.Persona?this.articolo.tipoApplicazione==m.x6.PrimoGiorno||this.articolo.tipoApplicazione==m.x6.UltimoGiorno?"booking.my-page.perPersonaSingoloGiorno":"booking.my-page.perPersona":""}}Dt.\u0275fac=function(n){return new(n||Dt)(t.Y36(v.t),t.Y36(T.J))},Dt.\u0275cmp=t.Xpm({type:Dt,selectors:[["app-mypage-extra"]],inputs:{articolo:"articolo",_proposteSelected:"_proposteSelected",_extraSelected:"_extraSelected"},outputs:{onQuantitaGiorniChange:"onQuantitaGiorniChange"},features:[t.qOj],decls:16,vars:16,consts:[[1,"extra-container","mat-elevation-z5"],[1,"w-100","extra-image"],[3,"images","minimumHeight","maximumHeight","fullHeight"],[1,"p-3"],[1,"row"],[1,"col-8"],["class","extra-nome",4,"ngIf"],[1,"col-4","text-center"],[4,"ngIf"],["class","extra-prezzo text-nowrap",4,"ngIf"],[1,"extra-tipo","color-blue"],["class","extra-descrizione mt-2",4,"ngIf"],[1,"mt-4"],["class","row mt-1",4,"ngFor","ngForOf"],[1,"extra-nome"],[1,"extra-prezzo","text-nowrap"],[1,"price-decimals"],[1,"extra-prezzo-sconto","text-nowrap"],[1,"ml-1","extra-sconto","text-nowrap"],[1,"extra-descrizione","mt-2"],[3,"_text"],[1,"row","mt-1"],[1,"col-6","font-weight-bold"],[1,"d-inline-block","align-middle","mr-2"],["href","#","class","d-inline-block align-middle color-blue",3,"click",4,"ngIf"],[1,"col-6","text-right"],[1,"quantity-select-mypage"],[3,"panelClass","ngModel","ngModelChange","selectionChange"],["quantitySelect",""],[3,"value",4,"ngFor","ngForOf"],["href","#",1,"d-inline-block","align-middle","color-blue",3,"click"],[3,"value"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-image-slider",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,qm,2,1,"div",6),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,Jm,12,5,"ng-container",8),t.YNc(9,Qm,4,2,"div",9),t.TgZ(10,"div",10),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.YNc(13,Um,2,1,"div",11),t.TgZ(14,"div",12),t.YNc(15,Bm,13,8,"div",13),t.qZA()()()),2&n&&(t.xp6(1),t.Udp("height","250px"),t.xp6(1),t.Q6J("images",t.VKq(14,Vm,e.articolo.urlImmagine))("minimumHeight",250)("maximumHeight",250)("fullHeight",!1),t.xp6(4),t.Q6J("ngIf",!!e.articolo.nome),t.xp6(2),t.Q6J("ngIf",e.articolo.sconto>0),t.xp6(1),t.Q6J("ngIf",null==e.articolo.sconto||e.articolo.sconto<=0),t.xp6(2),t.hij(" ",t.lcZ(12,12,e.getTipoExtra())," "),t.xp6(2),t.Q6J("ngIf",!!e.articolo.descrizione),t.xp6(2),t.Q6J("ngForOf",e.extras))},dependencies:[s.sg,s.O5,M.v_,F.CK,U.x8,U.Cb,f.JJ,f.On,H.V,Z.W,Qt.f,b.X$],styles:[".extra-nome[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#555}.extra-descrizione[_ngcontent-%COMP%]{font-size:16px;color:#999;max-height:200px;overflow:auto}.extra-prezzo[_ngcontent-%COMP%]{font-size:25px;line-height:25px;font-weight:600;color:var(--main-color)}.extra-prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:var(--main-color);text-decoration-color:var(--main-color);font-size:16px;font-weight:600;color:#999}.extra-sconto[_ngcontent-%COMP%]{font-size:13px;color:var(--main-color);font-weight:600}.extra-tipo[_ngcontent-%COMP%]{font-size:13px}.extra-container[_ngcontent-%COMP%]{border-radius:7px;overflow:hidden}.quantity-select-mypage[_ngcontent-%COMP%]{width:50px!important}  .quantity-select-mypage .mat-form-field-infix{border-top:0!important}  .quantity-select-mypage .mat-form-field-flex{border:1px solid #bbbbbb!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important;height:30px!important}  .quantity-select-mypage .mat-form-field-underline{visibility:hidden!important}  .quantity-select-mypage .mat-form-field-wrapper{padding-bottom:0!important}"]});const Ym=["imageContainer"],Fm=function(o){return[o]};function Hm(o,n){if(1&o&&t._UZ(0,"app-image-slider",20),2&o){const e=t.oxw();t.Q6J("images",t.VKq(7,Fm,e.articolo.urlImmagine))("minimumHeight",240)("maximumHeight",240)("fullHeight",!(e.containerService.dimension.width<992))("minimumWidth",e.containerService.dimension.width<992?null:e.imageWidth)("maximumWidth",e.containerService.dimension.width<992?null:e.imageWidth)("updateSize",e.updateImageSize)}}function Rm(o,n){if(1&o&&(t.TgZ(0,"div",21),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.articolo.nome)}}function Gm(o,n){if(1&o&&(t.TgZ(0,"div",22),t._UZ(1,"app-inner-html",23),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("_text",e.articolo.descrizione)}}function Km(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",24),t._uU(2),t.TgZ(3,"small",25),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"span",26),t._uU(7),t.TgZ(8,"small",25),t._uU(9),t.qZA()(),t.TgZ(10,"span",27),t._uU(11),t.qZA()(),t.BQk()),2&o){const e=t.oxw();t.xp6(2),t.hij(" ","\u20ac "+e.utility.getPriceIntegerPart(e.articolo.prezzo),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.articolo.prezzo)),t.xp6(3),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.articolo.prezzoPieno)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.articolo.prezzoPieno)),t.xp6(2),t.hij("-",e.articolo.sconto,"%")}}function jm(o,n){if(1&o&&(t.TgZ(0,"div",24),t._uU(1),t.TgZ(2,"small",25),t._uU(3),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ","\u20ac "+e.utility.getPriceIntegerPart(e.articolo.prezzo),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.articolo.prezzo))}}function Xm(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"a",35),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw();return a.preventDefault(),t.KtG(l.openGiornoSelect(r))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.giorni")," "))}function $m(o,n){1&o&&(t.ynx(0),t._uU(1," 0 "),t.BQk())}function Wm(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"eurCurrency"),t.BQk()),2&o){const e=t.oxw(),i=e.index,a=e.$implicit,r=t.oxw().index,l=t.oxw();t.xp6(1),t.hij(" ",l.getQuantity(r,i)+" ("+t.lcZ(2,1,a)+")"," ")}}function td(o,n){if(1&o&&(t.TgZ(0,"mat-option",36),t.YNc(1,$m,2,0,"ng-container",15),t.YNc(2,Wm,3,3,"ng-container",15),t.qZA()),2&o){const e=n.index,i=t.oxw().index,a=t.oxw();t.Q6J("value",a.getQuantity(i,e)),t.xp6(1),t.Q6J("ngIf",0==e),t.xp6(1),t.Q6J("ngIf",e>0)}}const ed=function(o){return{"align-top mt-1":o}};function nd(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",28)(2,"span",29),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Xm,3,3,"a",30),t.qZA(),t.TgZ(6,"mat-form-field",31)(7,"mat-select",32,33),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.quantita=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onQuantitaGiorniChange.emit())}),t.TgZ(9,"mat-select-trigger"),t._uU(10),t.qZA(),t.YNc(11,td,3,3,"mat-option",34),t.qZA()()()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,7,"booking.my-page.qtCamera")+(i+1)),t.xp6(2),t.Q6J("ngIf",null!=e.giorni&&e.giorni.length>1),t.xp6(1),t.Q6J("ngClass",t.VKq(9,ed,null!=e.giorni&&e.giorni.length>1)),t.xp6(1),t.Q6J("panelClass","mypage-select")("ngModel",e.quantita),t.xp6(3),t.hij(" ",e.quantita," "),t.xp6(1),t.Q6J("ngForOf",a.quantities[i])}}class Lt extends Dt{constructor(n,e){super(n,e),this.utility=n,this.containerService=e,this.imageWidth=0,this.hideImage=!1,this.updateImageSize=new y.x,this.initializedImage=!1}ngAfterViewInit(){this.sub=this.containerService.windowResizeEvent.subscribe(()=>{this.hideImage=!0,setTimeout(()=>{this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth),this.hideImage=!1,this.updateImageSize.next()},200)}),setTimeout(()=>{this.imageWidth=Math.floor(this.imageContainer.nativeElement.offsetWidth),this.initializedImage=!0},200)}ngOnDestroy(){this.sub.unsubscribe()}}function od(o,n){if(1&o&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=n.index;t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.camera")+(e+1)," ")}}function id(o,n){if(1&o&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.hij(" ",e.numeroAdulti>0?e.numeroAdulti:"-"," ")}}function ad(o,n){if(1&o&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(" ("+e.etaBambini+")")}}function rd(o,n){if(1&o&&(t.TgZ(0,"div",27)(1,"span"),t._uU(2),t.qZA(),t.YNc(3,ad,2,1,"span",28),t.qZA()),2&o){const e=n.$implicit;t.Q6J("matTooltip",e.etaBambini),t.xp6(2),t.Oqu(e.numeroBambini),t.xp6(1),t.Q6J("ngIf",!!e.etaBambini)}}function ld(o,n){if(1&o&&(t.TgZ(0,"div",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"booking.my-page.noteRichiesta")," : ",e.richiesta.noteRichiesta," ")}}function cd(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"h4",3)(4,"span",4),t._uU(5,"notifications"),t.qZA(),t.TgZ(6,"span",5),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",10)(17,"span",11),t._uU(18,"nights_stay"),t.qZA()(),t.TgZ(19,"div",10),t._uU(20),t.ALo(21,"translate"),t.qZA()()(),t.TgZ(22,"div",12)(23,"div",13)(24,"div",14),t._uU(25),t.ALo(26,"titlecase"),t.ALo(27,"momentFormat"),t.qZA(),t.TgZ(28,"div",15),t._uU(29),t.ALo(30,"titlecase"),t.ALo(31,"momentFormat"),t.qZA(),t.TgZ(32,"div",14),t._uU(33),t.ALo(34,"momentFormat"),t.qZA()(),t.TgZ(35,"div",16),t._uU(36),t.qZA(),t.TgZ(37,"div",13)(38,"div",14),t._uU(39),t.ALo(40,"titlecase"),t.ALo(41,"momentFormat"),t.qZA(),t.TgZ(42,"div",15),t._uU(43),t.ALo(44,"titlecase"),t.ALo(45,"momentFormat"),t.qZA(),t.TgZ(46,"div",14),t._uU(47),t.ALo(48,"momentFormat"),t.qZA()()(),t.TgZ(49,"div",17)(50,"div",18)(51,"div",19),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.YNc(54,od,3,3,"div",20),t.qZA(),t.TgZ(55,"div",21)(56,"div",22)(57,"span",23),t._uU(58,"person"),t.qZA()(),t.YNc(59,id,2,1,"div",20),t.qZA(),t.TgZ(60,"div",21)(61,"div",22)(62,"span",24),t._uU(63,"person"),t.qZA()(),t.YNc(64,rd,4,3,"div",25),t.qZA()(),t.YNc(65,ld,3,4,"div",26),t.qZA()()(),t.BQk()),2&o){const e=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,15,"booking.my-page.richiesta")),t.xp6(7),t.hij(" ",t.lcZ(15,17,"booking.my-page.arrivo")," "),t.xp6(6),t.hij(" ",t.lcZ(21,19,"booking.my-page.partenza")," "),t.xp6(5),t.hij(" ",t.lcZ(26,21,t.Dn7(27,23,e.richiesta.arrivo,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(30,27,t.Dn7(31,29,e.richiesta.arrivo,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.Dn7(34,33,e.richiesta.arrivo,"YYYY",e.getLocale())," "),t.xp6(3),t.hij(" ",e.notti," "),t.xp6(3),t.hij(" ",t.lcZ(40,37,t.Dn7(41,39,e.richiesta.partenza,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(44,43,t.Dn7(45,45,e.richiesta.partenza,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.Dn7(48,49,e.richiesta.partenza,"YYYY",e.getLocale())," "),t.xp6(5),t.hij(" ",t.lcZ(53,53,"booking.my-page.camere")," "),t.xp6(2),t.Q6J("ngForOf",e.richiesta.camere),t.xp6(5),t.Q6J("ngForOf",e.richiesta.camere),t.xp6(5),t.Q6J("ngForOf",e.richiesta.camere),t.xp6(1),t.Q6J("ngIf",!!e.richiesta.noteRichiesta)}}Lt.\u0275fac=function(n){return new(n||Lt)(t.Y36(v.t),t.Y36(T.J))},Lt.\u0275cmp=t.Xpm({type:Lt,selectors:[["app-mypage-extra-v2"]],viewQuery:function(n,e){if(1&n&&t.Gf(Ym,5),2&n){let i;t.iGM(i=t.CRH())&&(e.imageContainer=i.first)}},features:[t.qOj],decls:25,vars:17,consts:[[1,"row","mr-0","ml-0","extra-row"],[1,"col-12","col-lg-5","p-0"],[1,"w-100","border"],["imageContainer",""],[3,"images","minimumHeight","maximumHeight","fullHeight","minimumWidth","maximumWidth","updateSize",4,"ngIf"],[1,"col-12","col-lg-7","p-0"],[1,"row","mr-0","ml-0","h-100"],[1,"col-12","col-lg-6","pr-4","pl-4","pt-3","pb-3","pb-lg-0","extra-col"],["class","extra-nome",4,"ngIf"],["class","extra-descrizione thin-scrollbar text-wrap",4,"ngIf"],[1,"extra-col-arrow","d-none","d-lg-block"],[1,"extra-col-arrow-mobile","d-block","d-lg-none"],[1,"col-12","col-lg-6","pl-3","pr-3","pt-5","pt-lg-3","extra-select-col"],[1,"row","mr-0","ml-0"],[1,"col-6","col-lg-12","p-0"],[4,"ngIf"],["class","extra-prezzo text-nowrap",4,"ngIf"],[1,"extra-tipo","color-blue","mb-2"],[1,"camere-container","thin-scrollbar"],[4,"ngFor","ngForOf"],[3,"images","minimumHeight","maximumHeight","fullHeight","minimumWidth","maximumWidth","updateSize"],[1,"extra-nome"],[1,"extra-descrizione","thin-scrollbar","text-wrap"],[3,"_text"],[1,"extra-prezzo","text-nowrap"],[1,"price-decimals"],[1,"extra-prezzo-sconto","text-nowrap"],[1,"ml-1","extra-sconto","text-nowrap"],[1,"d-inline-block","align-middle","mr-3"],[1,"d-block","text-big","font-weight-bold"],["href","#","class","d-block color-blue",3,"click",4,"ngIf"],[1,"quantity-select-mypage","d-inline-block",3,"ngClass"],[3,"panelClass","ngModel","ngModelChange","selectionChange"],["quantitySelect",""],[3,"value",4,"ngFor","ngForOf"],["href","#",1,"d-block","color-blue",3,"click"],[3,"value"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2,3),t.YNc(4,Hm,1,9,"app-image-slider",4),t.qZA()(),t.TgZ(5,"div",5)(6,"div",6)(7,"div",7),t.YNc(8,Rm,2,1,"div",8),t.YNc(9,Gm,2,1,"div",9),t.TgZ(10,"div",10),t._uU(11,"\xa0"),t.qZA(),t.TgZ(12,"div",11),t._uU(13,"\xa0"),t.qZA()(),t.TgZ(14,"div",12)(15,"div",13)(16,"div",14),t.YNc(17,Km,12,5,"ng-container",15),t.YNc(18,jm,4,2,"div",16),t.TgZ(19,"div",17),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",14)(23,"div",18),t.YNc(24,nd,12,11,"div",19),t.qZA()()()()()()()),2&n&&(t.xp6(2),t.Udp("height",e.hideImage?"0":"240px"),t.xp6(2),t.Q6J("ngIf",e.initializedImage),t.xp6(4),t.Q6J("ngIf",!!e.articolo.nome),t.xp6(1),t.Q6J("ngIf",!!e.articolo.descrizione),t.xp6(3),t.Udp("width",e.imageWidth+"px")("border-left-width",e.imageWidth/2+"px")("border-right-width",e.imageWidth/2+"px"),t.xp6(5),t.Q6J("ngIf",e.articolo.sconto>0),t.xp6(1),t.Q6J("ngIf",null==e.articolo.sconto||e.articolo.sconto<=0),t.xp6(2),t.hij(" ",t.lcZ(21,15,e.getTipoExtra())," "),t.xp6(4),t.Q6J("ngForOf",e.extras))},dependencies:[s.mk,s.sg,s.O5,M.v_,F.CK,U.x8,U.Cb,f.JJ,f.On,H.V,Z.W,Qt.f,b.X$],styles:[".extra-nome[_ngcontent-%COMP%]{font-size:22px;font-weight:600}.extra-descrizione[_ngcontent-%COMP%]{font-size:16px;max-height:160px;overflow:auto}.extra-prezzo[_ngcontent-%COMP%]{font-size:25px;line-height:25px;font-weight:600;color:var(--main-color)}.extra-prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:var(--main-color);text-decoration-color:var(--main-color);font-size:16px;font-weight:600;color:#999}.extra-sconto[_ngcontent-%COMP%]{font-size:13px;color:var(--main-color);font-weight:600}.extra-tipo[_ngcontent-%COMP%]{font-size:13px}.quantity-select-mypage[_ngcontent-%COMP%]{width:50px!important}  .quantity-select-mypage .mat-form-field-infix{border-top:0!important}  .quantity-select-mypage .mat-form-field-flex{border:1px solid #bbbbbb!important;padding-left:.25rem!important;padding-right:.25rem!important;height:30px!important}  .quantity-select-mypage .mat-form-field-underline{visibility:hidden!important}  .quantity-select-mypage .mat-form-field-wrapper{padding-bottom:0!important}.extra-col[_ngcontent-%COMP%]{position:relative;background-color:#f2f2f2}.extra-col-arrow[_ngcontent-%COMP%]{width:40px;height:240px;border-top:120px solid transparent;border-bottom:120px solid transparent;border-left:40px solid #F2F2F2;position:absolute;top:0;right:-40px;z-index:1}.extra-col-arrow-mobile[_ngcontent-%COMP%]{height:30px;border-left-style:solid;border-left-color:transparent;border-right-style:solid;border-right-color:transparent;border-top:30px solid #F2F2F2;position:absolute;left:0;bottom:-30px;z-index:1}.text-big[_ngcontent-%COMP%]{font-size:18px}@media (min-width: 992px){.extra-row[_ngcontent-%COMP%]{min-height:240px;max-height:240px;height:240px}}@media (min-width: 992px){.extra-select-col[_ngcontent-%COMP%]{padding-left:100px!important}}@media (min-width: 992px){.camere-container[_ngcontent-%COMP%]{max-height:140px;height:140px;overflow:auto}}"]});class Ie extends z.H{constructor(){super()}ngOnInit(){null!=this.richiesta&&(this.notti=Math.max(P(this.getDate(this.richiesta.partenza)).diff(P(this.getDate(this.richiesta.arrivo)),"days"),1))}}function sd(o,n){if(1&o&&(t.TgZ(0,"span",15)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"small",4),t._uU(4),t.qZA()()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.tariffa.totaleScontato)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.tariffa.totaleScontato))}}Ie.\u0275fac=function(n){return new(n||Ie)},Ie.\u0275cmp=t.Xpm({type:Ie,selectors:[["app-mypage-richiesta"]],inputs:{richiesta:"richiesta"},features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","mt-4"],[1,"col-12","col-lg-6","text-right","d-flex","justify-content-center","align-items-center"],[1,"color-blue","font-weight-bold","mb-3","text-center"],[1,"material-icons","align-middle","mr-2"],[1,"d-inline-block","align-middle"],[1,"col-12","col-lg-6","pr-4","pl-4","pl-lg-0"],[1,"richiesta-container","mx-auto","mr-lg-0","ml-lg-0"],[1,"w-100","background-color-blue","top-row","pt-2","pb-2"],[1,"row","m-0"],[1,"col-4","text-center"],[1,"material-icons-round","icon-small"],[1,"row","pt-2","pb-2","mr-n2","ml-n2","border","rounded","mat-elevation-z5"],[1,"col-4","text-center","color-blue"],[1,"text-center","text-small"],[1,"text-center","font-weight-bold"],[1,"col-4","d-flex","justify-content-center","align-items-center","font-weight-bold","color-blue"],[1,"row","pt-2","pb-2","bottom-row","m-0"],[1,"col-6","text-center","p-0"],[1,"text-center","color-blue","font-weight-bold","camere","bottom-top-row"],["class","text-center font-weight-bold",4,"ngFor","ngForOf"],[1,"col-3","text-center","p-0"],[1,"text-center","bottom-top-row"],[1,"material-icons-round","icon-small","color-blue"],[1,"material-icons-round","child-icon","mb-1","color-blue"],["class","text-center font-weight-bold","matTooltipPosition","below","matTooltipClass","mypage-eta-bambini-tooltip-class",3,"matTooltip",4,"ngFor","ngForOf"],["class","mt-2 note-richiesta font-small p-3 font-italic",4,"ngIf"],["matTooltipPosition","below","matTooltipClass","mypage-eta-bambini-tooltip-class",1,"text-center","font-weight-bold",3,"matTooltip"],["class","etaBambini",4,"ngIf"],[1,"etaBambini"],[1,"mt-2","note-richiesta","font-small","p-3","font-italic"]],template:function(n,e){1&n&&t.YNc(0,cd,66,55,"ng-container",0),2&n&&t.Q6J("ngIf",null!=e.richiesta)},dependencies:[s.sg,s.O5,$.Kd,s.rS,B.H,b.X$],styles:[".richiesta-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;width:300px;max-width:100%}.icon-small[_ngcontent-%COMP%]{font-size:20px}.text-small[_ngcontent-%COMP%]{font-size:14px}.child-icon[_ngcontent-%COMP%]{font-size:14px;vertical-align:bottom}.top-row[_ngcontent-%COMP%]{border-top-left-radius:5px;border-top-right-radius:5px}.bottom-row[_ngcontent-%COMP%]{background-color:#f2f2f2;border-bottom-left-radius:5px;border-bottom-right-radius:5px;box-shadow:inset 0 15px 10px -14px #0006}.bottom-top-row[_ngcontent-%COMP%]{height:25px}.camere[_ngcontent-%COMP%]{font-size:15px}  .mypage-eta-bambini-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#666!important;color:#fff!important;opacity:1!important;font-weight:600!important;font-size:12px!important}.etaBambini[_ngcontent-%COMP%]{font-size:14px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}"]});const co=function(o,n){return{"prezzo-dettaglio":o,"prezzo-sconto-dettaglio mr-1 ml-1":n}};function pd(o,n){if(1&o&&(t.TgZ(0,"div",6)(1,"div",2)(2,"span",11),t._uU(3,"1x"),t.qZA(),t.TgZ(4,"span",12),t._uU(5),t.qZA()(),t.TgZ(6,"div",13)(7,"span",7)(8,"span"),t._uU(9),t.qZA(),t.TgZ(10,"small",4),t._uU(11),t.qZA()(),t.YNc(12,sd,5,2,"span",14),t.qZA()()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(5),t.Oqu(e.descrizione),t.xp6(2),t.Q6J("ngClass",t.WLB(5,co,e.tariffa.sconto<=0,e.tariffa.sconto>0)),t.xp6(2),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.tariffa.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.tariffa.totale)),t.xp6(1),t.Q6J("ngIf",e.tariffa.sconto>0)}}function gd(o,n){if(1&o&&(t.TgZ(0,"span",15)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"small",4),t._uU(4),t.qZA()()),2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(2),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totaleScontato)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totaleScontato))}}function md(o,n){if(1&o&&(t.TgZ(0,"div",6)(1,"div",2)(2,"span",11),t._uU(3),t.qZA(),t.TgZ(4,"span",12),t._uU(5),t.qZA()(),t.TgZ(6,"div",13)(7,"span",7)(8,"span"),t._uU(9),t.qZA(),t.TgZ(10,"small",4),t._uU(11),t.qZA()(),t.YNc(12,gd,5,2,"span",14),t.qZA()()),2&o){const e=n.$implicit,i=t.oxw(3);t.xp6(3),t.Oqu(e.quantita+"x"),t.xp6(2),t.Oqu(null!=e.articolo?e.articolo.nome:e.descrizione?e.descrizione:"---"),t.xp6(2),t.Q6J("ngClass",t.WLB(6,co,e.sconto<=0,e.sconto>0)),t.xp6(2),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totale)),t.xp6(1),t.Q6J("ngIf",e.sconto>0)}}function dd(o,n){if(1&o&&(t.ynx(0),t.YNc(1,md,13,9,"div",16),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.extra)}}function _d(o,n){if(1&o&&(t.TgZ(0,"div",6)(1,"div",2)(2,"span",11),t._uU(3),t.qZA(),t.TgZ(4,"span",12),t._uU(5),t.qZA()(),t.TgZ(6,"div",13)(7,"span",15)(8,"span"),t._uU(9),t.qZA(),t.TgZ(10,"small",4),t._uU(11),t.qZA()()()()),2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(3),t.Oqu(e.quantita+"x"),t.xp6(2),t.Oqu(e.nome?e.nome:"---"),t.xp6(4),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totale))}}function ud(o,n){if(1&o&&(t.ynx(0),t.YNc(1,_d,12,4,"div",5),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",e.quantita>0)}}function fd(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ud,2,1,"ng-container",17),t.BQk()),2&o){const e=t.oxw().index,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.extraSelected[e])}}const hd=function(o){return{"mt-3":o}};function xd(o,n){if(1&o&&(t.TgZ(0,"div",7)(1,"div",8),t._uU(2),t.qZA(),t.TgZ(3,"div",9),t._uU(4),t.qZA(),t.YNc(5,pd,13,8,"div",5),t.YNc(6,dd,2,1,"ng-container",10),t.YNc(7,fd,2,1,"ng-container",10),t.qZA()),2&o){const e=n.$implicit,i=n.index,a=t.oxw();t.Q6J("ngClass",t.VKq(6,hd,i>0)),t.xp6(2),t.hij(" ",e.tipoCamera.nome," "),t.xp6(2),t.hij(" ",e.tariffa.descrizione," "),t.xp6(1),t.Q6J("ngIf",!e.isPrezziPersona),t.xp6(1),t.Q6J("ngIf",null!=e.extra&&e.extra.length>0),t.xp6(1),t.Q6J("ngIf",null!=a.extraSelected&&null!=a.extraSelected[i]&&a.extraSelected[i].length>0)}}function bd(o,n){if(1&o&&(t.TgZ(0,"div",6)(1,"div",2),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",3)(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"small",4),t._uU(8),t.qZA()()()),2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"booking.my-page.caparra")," "),t.xp6(4),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.caparra)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.caparra))}}class wt{constructor(n){this.utility=n}}function vd(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",19),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",20),t._UZ(6,"app-mypage-riepilogo-prenotazione",21),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,5,"booking.my-page.riepilogoPrenotazione")," "),t.xp6(3),t.Q6J("proposteSelected",e.proposteSelected)("extraSelected",e.extraSelected)("totale",e.totale-e.scontoVoucher)("caparra",e.isAccettaPreventiviConPagamentoImmediato?e.caparra:e.preventivo.isCaparraPercentuale?e.totale*e.preventivo.caparra/100:e.preventivo.caparra)}}function Cd(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",22)(1,"div",23)(2,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.signInWithFB())}),t._UZ(3,"i",25),t.TgZ(4,"span",26),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",27)(8,"div",28,29),t._UZ(10,"google-signin-button",30),t.qZA()()()}if(2&o){const e=t.MAs(9),i=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,3,"booking.my-page.accediFacebook")),t.xp6(5),t.Q6J("locale",i.lingua)("width",e.clientWidth)}}wt.\u0275fac=function(n){return new(n||wt)(t.Y36(v.t))},wt.\u0275cmp=t.Xpm({type:wt,selectors:[["app-mypage-riepilogo-prenotazione"]],inputs:{proposteSelected:"proposteSelected",extraSelected:"extraSelected",totale:"totale",caparra:"caparra"},decls:20,vars:12,consts:[[3,"ngClass",4,"ngFor","ngForOf"],[1,"row","mt-4"],[1,"col-6","text-left","text-small","text-nowrap"],[1,"col-6","text-right","font-weight-bold","color-blue"],[1,"price-decimals"],["class","row",4,"ngIf"],[1,"row"],[3,"ngClass"],[1,"font-weight-bold","color-blue","mypage-riepilogo-tipo-camera"],[1,"mb-1","mypage-riepilogo-tariffa"],[4,"ngIf"],[1,"align-top","d-inline-block","mr-1"],[1,"d-inline-block","text-wrap"],[1,"col-6","text-right"],["class","prezzo-dettaglio",4,"ngIf"],[1,"prezzo-dettaglio"],["class","row",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"]],template:function(n,e){1&n&&(t.YNc(0,xd,8,8,"div",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",3)(6,"span"),t._uU(7),t.qZA(),t.TgZ(8,"small",4),t._uU(9),t.qZA()()(),t.YNc(10,bd,9,5,"div",5),t.TgZ(11,"div",6)(12,"div",2),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",3)(16,"span"),t._uU(17),t.qZA(),t.TgZ(18,"small",4),t._uU(19),t.qZA()()()),2&n&&(t.Q6J("ngForOf",e.proposteSelected),t.xp6(3),t.hij(" ",t.lcZ(4,8,"booking.my-page.totaleSoggiorno")," "),t.xp6(4),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.totale)),t.xp6(1),t.Q6J("ngIf",e.caparra>0),t.xp6(3),t.hij(" ",t.lcZ(14,10,"booking.my-page.totaleDaPagare")," "),t.xp6(4),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.totale-e.caparra)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.totale-e.caparra)))},dependencies:[s.mk,s.sg,s.O5,b.X$],styles:[".text-small[_ngcontent-%COMP%]{font-size:13px}.prezzo-dettaglio[_ngcontent-%COMP%]{font-weight:600;font-size:16px;white-space:nowrap;color:var(--main-color)}.prezzo-sconto-dettaglio[_ngcontent-%COMP%]{color:#aaa;text-decoration:line-through;white-space:nowrap;font-size:15px}.mypage-riepilogo-tipo-camera[_ngcontent-%COMP%]{font-size:20px}.mypage-riepilogo-tariffa[_ngcontent-%COMP%]{font-size:15px}.totale[_ngcontent-%COMP%]{font-size:14px}"]});const zd=function(o,n){return{"d-block d-lg-none":o,"d-block":n}};function wd(o,n){if(1&o&&(t.TgZ(0,"div",31)(1,"h4",32),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-inner-html",33),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngClass",t.WLB(5,zd,e.v2,!e.v2)),t.xp6(2),t.Oqu(t.lcZ(3,3,"booking.my-page.condizioniPrenotazione")),t.xp6(2),t.Q6J("_text",e.condizioniPrenotazione)}}function Pd(o,n){1&o&&(t.TgZ(0,"h5",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"interfaces.pagamento-form.nessunaModalitaPagamento")))}function Td(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h6",44),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",4)(5,"div",45)(6,"mat-form-field",46)(7,"input",47),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.ospiti[l].nome=a)})("ngModelChange",function(){const r=t.CHM(e).index,l=t.oxw(4);return l.ospiti[r].nome&&(l.ospiti[r].nome=l.utility.capitalize(l.ospiti[r].nome)),0==r&&(l.primoOspiteUpdated=!0),t.KtG(l.checkFormValidity())}),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",45)(10,"mat-form-field",46)(11,"input",47),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.ospiti[l].cognome=a)})("ngModelChange",function(){const r=t.CHM(e).index,l=t.oxw(4);return l.ospiti[r].cognome&&(l.ospiti[r].cognome=l.utility.capitalize(l.ospiti[r].cognome)),0==r&&(l.primoOspiteUpdated=!0),t.KtG(l.checkFormValidity())}),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",45)(14,"mat-form-field",46)(15,"input",47),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.ospiti[l].email=a)})("ngModelChange",function(){const r=t.CHM(e).index,l=t.oxw(4);return 0==r&&(l.primoOspiteUpdated=!0),t.KtG(l.checkFormValidity())}),t.ALo(16,"translate"),t.qZA()()()(),t.BQk()}if(2&o){const e=n.index,i=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,7,"booking.my-page.camera")+" "+(e+1)),t.xp6(5),t.Q6J("placeholder",t.lcZ(8,9,"booking.my-page.nome"))("ngModel",i.ospiti[e].nome),t.xp6(4),t.Q6J("placeholder",t.lcZ(12,11,"booking.my-page.cognome"))("ngModel",i.ospiti[e].cognome),t.xp6(4),t.Q6J("placeholder",t.lcZ(16,13,"booking.my-page.email"))("ngModel",i.ospiti[e].email)}}function Md(o,n){if(1&o&&(t.TgZ(0,"div",41)(1,"h4",42),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Td,17,15,"ng-container",43),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.ospiti")),t.xp6(2),t.Q6J("ngForOf",e.proposteSelected)}}function yd(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",48)(1,"mat-form-field",49)(2,"input",50),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.voucher=a)}),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"button",51),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(null==a.oidVoucher?a.verificaVoucher():a.resetVoucher())}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Q6J("placeholder",t.lcZ(3,5,"booking.my-page.inserisciVoucher"))("ngModel",e.voucher)("disabled",null!=e.oidVoucher),t.xp6(2),t.Q6J("disabled",!e.voucher||!e.cliente.email),t.xp6(1),t.hij(" ",t.lcZ(6,7,null==e.oidVoucher?"booking.my-page.applica":"booking.my-page.rimuovi")," ")}}const Zd=function(o,n){return{"mt-4":o,"mt-lg-0":n}};function kd(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"mat-form-field",37)(3,"textarea",38),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.note=a)}),t.ALo(4,"translate"),t.qZA()()(),t.YNc(5,Md,5,4,"div",39),t.YNc(6,yd,7,9,"div",40),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(8,Zd,e.portale.isVisualizzaCondizioniPrenotazioneStep2&&!!e.condizioniPrenotazione,e.v2)),t.xp6(1),t.Q6J("floatLabel","always"),t.xp6(1),t.Q6J("placeholder",t.lcZ(4,6,"booking.my-page.richieste"))("ngModel",e.note),t.xp6(2),t.Q6J("ngIf",e.portale.isRichiediInformazioniOspiti&&e.proposteSelected.length>1),t.xp6(1),t.Q6J("ngIf",e.numeroVoucher>0)}}function Ad(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Pd,3,3,"h5",34),t.YNc(2,kd,7,11,"ng-container",0),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.noPaymentMethod),t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod)}}function Sd(o,n){if(1&o&&(t.TgZ(0,"mat-option",54),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.oid),t.xp6(1),t.hij(" ",e.nome," ")}}function Od(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",46)(2,"mat-select",53),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw(2);return t.KtG(l.oidSistemazioni[r]=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.checkFormValidity())}),t.ALo(3,"translate"),t.TgZ(4,"mat-option",54),t._uU(5,"---"),t.qZA(),t.YNc(6,Sd,2,2,"mat-option",55),t.qZA(),t.TgZ(7,"mat-error"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(),i=e.index,a=e.$implicit,r=t.oxw(2);t.xp6(2),t.Q6J("errorStateMatcher",r.oidErrorStateMatcher)("panelClass","mypage-select")("ngModel",r.oidSistemazioni[i])("placeholder",t.lcZ(3,8,"booking.my-page.camera")+" "+(i+1))("required",r.portale.isSistemazioneObbligatoria),t.xp6(2),t.Q6J("value",-1),t.xp6(2),t.Q6J("ngForOf",a.tipoCamera.sistemazioni),t.xp6(2),t.Oqu(t.lcZ(9,10,"globals.required"))}}function Id(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Od,10,12,"ng-container",0),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.tipoCamera.sistemazioni&&e.tipoCamera.sistemazioni.length>0)}}function qd(o,n){if(1&o&&(t.TgZ(0,"div",52)(1,"h4",42),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Id,2,1,"ng-container",43),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.sistemazioni")),t.xp6(2),t.Q6J("ngForOf",e.proposteSelected)}}const Jd=function(o){return{"prenota-button-disabled":o}};function Qd(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",56),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.accetta())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(4,Jd,!e.formValid)),t.xp6(1),t.hij(" ",t.lcZ(2,2,"booking.my-page.inviaPrenotazione")," ")}}function Ud(o,n){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"globals.messages.emailNonValida")," "))}function Nd(o,n){if(1&o&&(t.TgZ(0,"div",57)(1,"h4",32),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-inner-html",33),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.condizioniPrenotazione")),t.xp6(2),t.Q6J("_text",e.condizioniPrenotazione)}}function Ed(o,n){1&o&&(t.TgZ(0,"div",60)(1,"h5",44),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"booking.my-page.selezionaModalitaPagamento")," "))}const Dd=function(o,n,e){return{lingua:o,oidPortale:n,oidAlbergo:e}};function Ld(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,Ed,4,3,"div",58),t.TgZ(2,"app-pagamento-form",59),t.NdJ("createOrder",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.prenota(a))})("noPaymentMethod",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.noPaymentMethod=!0)})("onCaparraChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onCaparraChange(a))}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod),t.xp6(1),t.Q6J("_totale",e.totale-e.scontoVoucher)("linguaPortaleAlbergo",t.kEZ(23,Dd,e.lingua,null!=e.portale?e.portale.oid:null,e.albergo.oid))("_modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.allModalitaPagamento)("cliente",e.cliente)("_formValid",e.formValid)("errorMessage",e.errorMessage)("elevation",!1)("_isAccettaContrattoPrenotazioneStep2",e.portale.isAccettaContrattoPrenotazioneStep2)("isVerificaCartaCredito",e.portale.isVerificaCartaCredito)("isVisualizzaCRO",e.portale.isVisualizzaCRO)("condizioniContratto",e.condizioniContratto)("_recaptchaAttiva",e.albergo.isRecaptchaAttiva)("arrivo",e.proposteSelected[0].arrivo)("partenza",e.proposteSelected[0].partenza)("_camere",e.proposteSelected)("extras",e.extraSelected)("_caparra",e.preventivo.caparra)("_isCaparraPercentuale",e.preventivo.isCaparraPercentuale)("note",e.note)("privacy",null==e.cliente?null:e.cliente.privacy)("newsletter",null==e.cliente?null:e.cliente.newsletter)}}const Bd=function(o){return{"prenotazione-form-container-narrow":o}},Vd=function(o,n){return{"col-lg-6":o,"col-lg-12":n}};class qe extends z.H{set _ospiti(n){null!=n&&(this.ospiti=n,this.updateInformazioniPrimoOspite())}set _cliente(n){this.cliente=new w.c1h,null!=n&&(this.cliente.nome=n.nome,this.cliente.cognome=n.cognome,this.cliente.email=n.email,this.cliente.cellulare=n.cellulare,this.cliente.nazioneObject=null!=n.nazione?Object.assign({},n.nazione):new w.uyR,this.cliente.privacy=n.privacy,this.cliente.newsletter=n.newsletter,this.updateInformazioniPrimoOspite(),this.resetVoucher(),this.checkFormValidity())}set _sistemazioni(n){null!=n&&(this.sistemazioni=n,this.checkFormValidity())}constructor(n,e,i){super(),this.utility=n,this.apiService=e,this.authService=i,this.confirmed=new t.vpe,this.onScontoVoucherChange=new t.vpe,this.formValid=!1,this.errorMessage="globals.messages.inserireDati",this.noPaymentMethod=!1,this.scontoVoucher=0,this.ospiti=[],this.primoOspiteUpdated=!1,this.getNazioniTradotteRQ=new p.dxh,this.caparra=0}ngOnInit(){this.sub=this.authService.authState.subscribe(n=>{null!=n&&null!=this.cliente&&(this.cliente.nome=n.firstName,this.cliente.cognome=n.lastName,this.cliente.email=n.email,this.updateInformazioniPrimoOspite(!0),this.resetVoucher(),this.checkFormValidity())}),this.getNazioniTradotteRQ.addEmptyItem=!this.portale.isNazioneObbligatoria,this.getNazioniTradotteRQ.lingua=this.lingua}checkFormValidity(){!(this.cliente.nome&&this.cliente.cognome&&this.cliente.email)||this.portale.isCellulareObbligatorio&&!this.cliente.cellulare||this.portale.isNazioneObbligatoria&&!(null!=this.cliente.nazioneObject&&this.cliente.nazioneObject.oid>0)||this.portale.isSistemazioneObbligatoria&&this.sistemazioni&&!this.oidSistemazioni.every(n=>n>0)||!this.ospiti.every(n=>!n.nome&&!n.cognome&&!n.email||!!n.nome&&!!n.cognome&&!!n.email)?(this.errorMessage="globals.messages.inserireDati",this.formValid=!1):this.utility.validateEmail(this.cliente.email)?this.formValid=!0:(this.errorMessage="globals.messages.emailNonValida",this.formValid=!1)}accetta(){if(this.formValid){this.setIsLoading(!0);let n=new p.UDc;n.oidPreventivo=this.oidPreventivo,n.cliente=this.cliente,n.oidProposte=this.proposteSelected.map(i=>i.oid),n.oidSistemazioni=this.oidSistemazioni;let e=0;n.extras=[];for(let i of this.extraSelected){n.extras.push(i.filter(a=>a.quantita>0));for(let a of n.extras[e])a.giorni=a.giorni.filter(r=>r.selected);e++}this.apiService.accettaMyPage(n).subscribe(()=>{this.setIsLoading(!1),this.confirmed.emit(),this.showInfo("booking.my-page.preventivoAccettato").then(()=>{this.setIsLoading(!0),window.location.reload()})})}}prenota(n){if(n.isPrenotazioneCreata)this.onPrenotazioneCreata(n.oidTransazione,n.codicePrenotazione);else{this.setIsLoading(!0);let e=new p.t8f;e.oidProposte=this.proposteSelected.map(a=>a.oid),e.cliente=this.cliente,e.pagamento=n,e.oidSistemazioni=this.oidSistemazioni,e.ospiti=this.ospiti,e.note=this.note,e.oraArrivo=this.oraArrivo,e.oidVoucher=this.oidVoucher;let i=0;e.extras=[];for(let a of this.extraSelected){e.extras.push(a.filter(r=>r.quantita>0));for(let r of e.extras[i])r.giorni=r.giorni.filter(l=>l.selected);i++}this.apiService.prenotaMyPage(e).subscribe(a=>{var r;this.onPrenotazioneCreata(null===(r=a.data.transazione)||void 0===r?void 0:r.oid,a.data.bookingCode)})}}onPrenotazioneCreata(n,e){null!=this.gtmService&&this.gtmService.pushTag({event:"new_booking_mypage",booking:{hotelId:this.albergo.codice,hotelName:this.albergo.nome,portalId:this.portale.oid,portalNome:this.portale.nome,transactionId:n,bookingCode:e,currencyCode:"EUR",rooms:this.proposteSelected.length,roomNights:this.getNotti(),totalAmount:this.totale,totalAmountTax:this.totale,checkInDate:this.getDate(this.proposteSelected[0].arrivo),checkOutDate:this.getDate(this.proposteSelected[0].partenza),lingua:this.lingua}}),this.setIsLoading(!1),this.confirmed.emit(),this.showInfo("globals.messages.prenotazioneCompletata").then(()=>{this.setIsLoading(!0),window.location.reload()})}getNotti(){return Math.max(P(this.getDate(this.proposteSelected[0].partenza)).diff(P(this.getDate(this.proposteSelected[0].arrivo)),"days"),1)}verificaVoucher(){this.setIsLoading(!0);let n=new p.Piw;n.oidAlbergo=this.albergo.oid,n.oidPortale=this.portale.oid,n.codice=this.voucher,n.email=this.cliente.email,n.arrivo=this.preventivo.arrivo,this.apiService.verificaVoucher(n).subscribe(e=>{null!=e.data.oidVoucher&&e.data.oidVoucher>0?(this.oidVoucher=e.data.oidVoucher,this.scontoVoucher=e.data.sconto,this.onScontoVoucherChange.emit(this.scontoVoucher),this.showInfo("booking.my-page.codiceApplicato",{value:Math.min(e.data.sconto,this.totale)})):(this.resetVoucher(),this.showError("booking.my-page.erroreVoucher")),this.setIsLoading(!1)})}resetVoucher(){(null!=this.voucher||null!=this.oidVoucher||0!=this.scontoVoucher)&&(this.voucher=null,this.oidVoucher=null,this.scontoVoucher=0,this.onScontoVoucherChange.emit(this.scontoVoucher))}updateInformazioniPrimoOspite(n=!1){this.portale.isRichiediInformazioniOspiti&&(n||!this.primoOspiteUpdated)&&null!=this.ospiti&&this.ospiti.length>1&&(this.ospiti[0].nome=this.cliente.nome,this.ospiti[0].cognome=this.cliente.cognome,this.ospiti[0].email=this.cliente.email),n&&(this.primoOspiteUpdated=!1)}onCaparraChange(n){setTimeout(()=>{this.caparra=n},200)}ngOnDestroy(){this.sub.unsubscribe()}}qe.\u0275fac=function(n){return new(n||qe)(t.Y36(v.t),t.Y36(k.s),t.Y36(qt.xE))},qe.\u0275cmp=t.Xpm({type:qe,selectors:[["app-mypage-prenotazione-form"]],inputs:{lingua:"lingua",albergo:"albergo",portale:"portale",preventivo:"preventivo",proposteSelected:"proposteSelected",totale:"totale",condizioniPrenotazione:"condizioniPrenotazione",condizioniContratto:"condizioniContratto",modalitaPagamento:"modalitaPagamento",allModalitaPagamento:"allModalitaPagamento",extraSelected:"extraSelected",oidSistemazioni:"oidSistemazioni",gtmService:"gtmService",oidPreventivo:"oidPreventivo",isAccettaPreventiviConPagamentoImmediato:"isAccettaPreventiviConPagamentoImmediato",v2:"v2",numeroVoucher:"numeroVoucher",_ospiti:"_ospiti",_cliente:"_cliente",_sistemazioni:"_sistemazioni"},outputs:{confirmed:"confirmed",onScontoVoucherChange:"onScontoVoucherChange"},features:[t.qOj],decls:46,vars:67,consts:[[4,"ngIf"],[1,"text-center","mb-4"],[1,"color-blue","font-weight-bold","inserireInformazioni"],[1,"prenotazione-form-container","mx-auto",3,"ngClass"],[1,"row"],[1,"col-12",3,"ngClass"],["class","row mb-5",4,"ngIf"],[1,"w-100","mypage-prenotazione-field"],["autocompleteOff","","matInput","","required","",3,"errorStateMatcher","placeholder","ngModel","ngModelChange"],[1,"w-100","mypage-prenotazione-field","mt-3"],["autocompleteOff","","matInput","","type","email","required","",3,"errorStateMatcher","placeholder","ngModel","readOnly","ngModelChange"],["autocompleteOff","","matInput","",3,"errorStateMatcher","placeholder","ngModel","required","ngModelChange"],["autocompleteOff","","matInput","","type","time",3,"placeholder","ngModel","ngModelChange","blur"],["displayMember","nome",3,"blue","dataLoader","value","placeholder","required","showErrorRequired","valueChange"],["class","mt-2",3,"ngClass",4,"ngIf"],["class","sistemazioni-container p-3 mt-3",4,"ngIf"],["class","mt-4 prenota-button w-100 text-center pt-2 pb-2",3,"ngClass","click",4,"ngIf"],[1,"text-center","error-text","mt-2"],["class","col-6 d-none d-lg-block",4,"ngIf"],[1,"color-blue","font-weight-bold","riepilogoPrenotazione"],[1,"riepilogo-prenotazione-container","d-table","mx-auto","mb-5"],[3,"proposteSelected","extraSelected","totale","caparra"],[1,"row","mb-5"],[1,"col-12","col-sm-6","text-center","text-sm-left","facebook-col"],["mat-flat-button","",1,"facebook-button","w-100",3,"click"],[1,"fa","fa-facebook","align-middle","mr-2"],[1,"align-middle"],[1,"col-12","col-sm-6","text-center","text-sm-right","google-col"],[1,"google-button","overflow-hidden","mt-3","mt-sm-0","w-100"],["googleSigninButtonContainer",""],[3,"locale","width"],[1,"mt-2",3,"ngClass"],[1,"font-weight-bold"],[3,"_text"],["class","font-weight-bold mb-0 mt-4 text-center",4,"ngIf"],[1,"font-weight-bold","mb-0","mt-4","text-center"],[1,"richieste-container","p-3","mb-3",3,"ngClass"],[1,"w-100","richieste-textarea",3,"floatLabel"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"placeholder","ngModel","ngModelChange"],["class","ospiti-container border p-3 mt-3",4,"ngIf"],["class","voucher-container pr-3 pl-3 pt-3 mt-3",4,"ngIf"],[1,"ospiti-container","border","p-3","mt-3"],[1,"color-blue","font-weight-bold","mb-3"],[4,"ngFor","ngForOf"],[1,"color-blue","font-weight-bold"],[1,"col-4"],[1,"w-100"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","ngModelChange"],[1,"voucher-container","pr-3","pl-3","pt-3","mt-3"],[1,"d-inline-block","align-middle","mr-3","voucher-input"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","disabled","ngModelChange"],["mat-flat-button","",1,"button-blue","d-inline-block","align-middle","voucher-button",3,"disabled","click"],[1,"sistemazioni-container","p-3","mt-3"],[3,"errorStateMatcher","panelClass","ngModel","placeholder","required","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-4","prenota-button","w-100","text-center","pt-2","pb-2",3,"ngClass","click"],[1,"col-6","d-none","d-lg-block"],["class","text-center mt-5 mb-3",4,"ngIf"],[3,"_totale","linguaPortaleAlbergo","_modalitaPagamento","allModalitaPagamento","cliente","_formValid","errorMessage","elevation","_isAccettaContrattoPrenotazioneStep2","isVerificaCartaCredito","isVisualizzaCRO","condizioniContratto","_recaptchaAttiva","arrivo","partenza","_camere","extras","_caparra","_isCaparraPercentuale","note","privacy","newsletter","createOrder","noPaymentMethod","onCaparraChange"],[1,"text-center","mt-5","mb-3"]],template:function(n,e){1&n&&(t.YNc(0,vd,7,7,"ng-container",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5),t.YNc(8,Cd,11,5,"div",6),t.TgZ(9,"mat-form-field",7)(10,"input",8),t.NdJ("ngModelChange",function(a){return e.cliente.nome=a})("ngModelChange",function(){return e.cliente.nome&&(e.cliente.nome=e.utility.capitalize(e.cliente.nome)),e.updateInformazioniPrimoOspite(),e.checkFormValidity()}),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"mat-error"),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"mat-form-field",9)(16,"input",8),t.NdJ("ngModelChange",function(a){return e.cliente.cognome=a})("ngModelChange",function(){return e.cliente.cognome&&(e.cliente.cognome=e.utility.capitalize(e.cliente.cognome)),e.updateInformazioniPrimoOspite(),e.checkFormValidity()}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"mat-error"),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"mat-form-field",9)(22,"input",10),t.NdJ("ngModelChange",function(a){return e.cliente.email=a})("ngModelChange",function(){return e.updateInformazioniPrimoOspite(),e.checkFormValidity()}),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"mat-error"),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t.TgZ(27,"mat-form-field",9)(28,"input",11),t.NdJ("ngModelChange",function(a){return e.cliente.cellulare=a})("ngModelChange",function(){return e.checkFormValidity()}),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"mat-error"),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.TgZ(33,"mat-form-field",9)(34,"input",12),t.NdJ("ngModelChange",function(a){return e.oraArrivo=a})("blur",function(){return e.oraArrivo=e.utility.checkOrario(e.oraArrivo,e.portale.orarioDiArrivoMinimo,e.portale.orarioDiArrivoMassimo)}),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"app-view-select",13),t.NdJ("valueChange",function(a){return e.cliente.nazioneObject=a})("valueChange",function(){return e.checkFormValidity()}),t.ALo(37,"translate"),t.qZA(),t.YNc(38,wd,5,8,"div",14),t.YNc(39,Ad,3,2,"ng-container",0),t.YNc(40,qd,5,4,"div",15),t.YNc(41,Qd,3,6,"div",16),t.TgZ(42,"div",17),t.YNc(43,Ud,3,3,"ng-container",0),t.qZA()(),t.YNc(44,Nd,5,4,"div",18),t.qZA(),t.YNc(45,Ld,3,27,"ng-container",0),t.qZA()),2&n&&(t.Q6J("ngIf",e.portale.isVisualizzaRiepilogoPagamentoMyPage),t.xp6(3),t.hij(" ",t.lcZ(4,40,"booking.my-page.inserireInformazioni")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(62,Bd,!e.portale.isVisualizzaCondizioniPrenotazioneStep2||!e.condizioniPrenotazione||!e.v2)),t.xp6(2),t.Q6J("ngClass",t.WLB(64,Vd,e.portale.isVisualizzaCondizioniPrenotazioneStep2&&!!e.condizioniPrenotazione&&e.v2,!e.portale.isVisualizzaCondizioniPrenotazioneStep2||!e.condizioniPrenotazione||!e.v2)),t.xp6(1),t.Q6J("ngIf",e.albergo.isVisualizzaBottoniSocialLoginStep2),t.xp6(2),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(11,42,"booking.my-page.nome"))("ngModel",e.cliente.nome),t.xp6(3),t.Oqu(t.lcZ(14,44,"globals.required")),t.xp6(3),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(17,46,"booking.my-page.cognome"))("ngModel",e.cliente.cognome),t.xp6(3),t.Oqu(t.lcZ(20,48,"globals.required")),t.xp6(3),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(23,50,"booking.my-page.email"))("ngModel",e.cliente.email)("readOnly",null!=e.oidVoucher),t.xp6(3),t.Oqu(t.lcZ(26,52,"globals.required")),t.xp6(3),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(29,54,"booking.my-page.cellulare"))("ngModel",e.cliente.cellulare)("required",e.portale.isCellulareObbligatorio),t.xp6(3),t.Oqu(t.lcZ(32,56,"globals.required")),t.xp6(3),t.Q6J("placeholder",t.lcZ(35,58,"booking.my-page.oraArrivo"))("ngModel",e.oraArrivo),t.xp6(2),t.Tol("mypage-prenotazione-field"),t.Q6J("blue",!0)("dataLoader",e.apiService.getNazioniTradotte(e.getNazioniTradotteRQ))("value",e.cliente.nazioneObject)("placeholder",t.lcZ(37,60,"booking.my-page.nazione"))("required",e.portale.isNazioneObbligatoria)("showErrorRequired",!0),t.xp6(2),t.Q6J("ngIf",e.portale.isVisualizzaCondizioniPrenotazioneStep2&&!!e.condizioniPrenotazione),t.xp6(1),t.Q6J("ngIf",e.isAccettaPreventiviConPagamentoImmediato),t.xp6(1),t.Q6J("ngIf",e.sistemazioni),t.xp6(1),t.Q6J("ngIf",!e.isAccettaPreventiviConPagamentoImmediato),t.xp6(2),t.Q6J("ngIf",!!e.cliente.email&&!e.utility.validateEmail(e.cliente.email)),t.xp6(1),t.Q6J("ngIf",e.portale.isVisualizzaCondizioniPrenotazioneStep2&&!!e.condizioniPrenotazione&&e.v2),t.xp6(1),t.Q6J("ngIf",e.isAccettaPreventiviConPagamentoImmediato))},dependencies:[s.mk,s.sg,s.O5,R.X,et,C.eB,bt.IC,M.nI,M.v_,Y.k0,F.CK,U.x8,f.Fj,f.JJ,f.Q7,f.On,Jt.Q,Z.W,Tn.d,wt,b.X$],styles:[".sistemazioni-container[_ngcontent-%COMP%], .ospiti-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;border:1px solid #bbbbbb!important}.error-text[_ngcontent-%COMP%]{font-size:15px;color:#d9534f;font-weight:700}  .richieste-textarea .mat-form-field-underline{visibility:hidden!important}  .richieste-textarea .mat-form-field-wrapper{padding-bottom:0!important}textarea.mat-input-element[_ngcontent-%COMP%]{margin:0;padding:0}.richieste-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;border:1px solid #bbbbbb!important}.facebook-col[_ngcontent-%COMP%]{padding-right:.75rem!important}.google-col[_ngcontent-%COMP%]{padding-left:.75rem!important}.facebook-button[_ngcontent-%COMP%]{border-radius:7px!important;color:#fff!important;background-color:#3c5a9a;height:34px;line-height:34px}.google-button[_ngcontent-%COMP%]{border-radius:7px;border:1px solid #adadad;height:34px;line-height:34px}  .mypage-prenotazione-field .mat-form-field-underline{display:none!important}  .mypage-prenotazione-field .mat-form-field-infix{padding:1rem!important;border:1px solid #bbbbbb!important;border-radius:5px!important;background-color:#fff!important}  .mypage-prenotazione-field:not(.mat-form-field-should-float) .mat-form-field-label{padding-left:1rem!important;padding-top:.7rem!important}.prenotazione-form-container[_ngcontent-%COMP%]{width:600px;max-width:100%}@media (min-width: 992px){.prenotazione-form-container[_ngcontent-%COMP%]{width:1000px}}.prenotazione-form-container-narrow[_ngcontent-%COMP%]{width:600px!important}@media (min-width: 992px){.prenotazione-form-container-narrow[_ngcontent-%COMP%]{width:1000px}}.inserireInformazioni[_ngcontent-%COMP%]{font-size:1.8rem;padding-top:10px}@media (min-width: 992px){.inserireInformazioni[_ngcontent-%COMP%]{font-size:36px;padding-top:0}}.prenota-button[_ngcontent-%COMP%]{cursor:pointer;background-color:#22ca73;color:#fff;font-size:20px;transition:background-color .2s ease-out}.prenota-button[_ngcontent-%COMP%]:not(.prenota-button-disabled):hover{background-color:#1fb467;transition:background-color .2s ease-out}.prenota-button-disabled[_ngcontent-%COMP%]{background-color:#c6c6c6;cursor:default}.voucher-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;border:1px solid #bbbbbb!important}.voucher-input[_ngcontent-%COMP%]{width:calc(100% - 1rem - 100px)}.voucher-button[_ngcontent-%COMP%]{width:100px}.riepilogo-prenotazione-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;border:1px solid #bbbbbb;padding:1rem}.riepilogoPrenotazione[_ngcontent-%COMP%]{font-size:1.8rem;padding-top:10px}@media (min-width: 992px){.riepilogoPrenotazione[_ngcontent-%COMP%]{font-size:36px;padding-top:0}}"]});var Yd=d(51428);const Fd=["tariffePanel"];function Hd(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",21)(2,"div",22)(3,"span",23),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"span",24)(7,"span",25),t._uU(8,"nights_stay"),t.qZA()(),t.TgZ(9,"span",24),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span",24)(13,"span",26),t._uU(14,"person"),t.qZA()(),t.TgZ(15,"span",24)(16,"span",27),t._uU(17,"person"),t.qZA()()()(),t.TgZ(18,"div",28)(19,"span",29)(20,"div"),t._uU(21),t.ALo(22,"titlecase"),t.ALo(23,"momentFormat"),t.qZA(),t.TgZ(24,"div",30),t._uU(25),t.ALo(26,"titlecase"),t.ALo(27,"momentFormat"),t.qZA(),t.TgZ(28,"div"),t._uU(29),t.ALo(30,"titlecase"),t.ALo(31,"momentFormat"),t.qZA()(),t.TgZ(32,"span",31),t._uU(33),t.qZA(),t.TgZ(34,"span",32)(35,"div"),t._uU(36),t.ALo(37,"titlecase"),t.ALo(38,"momentFormat"),t.qZA(),t.TgZ(39,"div",30),t._uU(40),t.ALo(41,"titlecase"),t.ALo(42,"momentFormat"),t.qZA(),t.TgZ(43,"div"),t._uU(44),t.ALo(45,"titlecase"),t.ALo(46,"momentFormat"),t.qZA()(),t.TgZ(47,"span",31),t._uU(48),t.qZA(),t.TgZ(49,"span",33),t._uU(50),t.qZA()(),t.BQk()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,12,"booking.my-page.arrivo")," "),t.xp6(6),t.hij(" ",t.lcZ(11,14,"booking.my-page.partenza")," "),t.xp6(11),t.hij(" ",t.lcZ(22,16,t.Dn7(23,18,e.proposteXTipoCamera.arrivo,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(26,22,t.Dn7(27,24,e.proposteXTipoCamera.arrivo,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(30,28,t.Dn7(31,30,e.proposteXTipoCamera.arrivo,"YYYY",e.getLocale()))," "),t.xp6(4),t.hij(" ",e.notti," "),t.xp6(3),t.hij(" ",t.lcZ(37,34,t.Dn7(38,36,e.proposteXTipoCamera.partenza,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(41,40,t.Dn7(42,42,e.proposteXTipoCamera.partenza,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(45,46,t.Dn7(46,48,e.proposteXTipoCamera.partenza,"YYYY",e.getLocale()))," "),t.xp6(4),t.hij(" ",e.camera.numeroAdulti," "),t.xp6(1),t.Q6J("matTooltip",e.camera.etaBambini),t.xp6(1),t.hij(" ",e.camera.numeroBambini," ")}}const so=function(o){return{"background-grey":o}};function Rd(o,n){if(1&o&&(t.TgZ(0,"div",34)(1,"div",35),t._uU(2),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,so,e.isNonPrenotabile())),t.xp6(1),t.hij(" ",e.proposteXTipoCamera.tipoCamera.dimensione+" mq"," ")}}const A=function(o){return{"color-grey":o}};function Gd(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",36)(1,"span",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showDetails(a.proposteXTipoCamera.tipoCamera))}),t._UZ(2,"app-inner-html",38),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,A,e.isNonPrenotabile())),t.xp6(2),t.Q6J("_text",e.shortDescription)("block",!1)}}function Kd(o,n){if(1&o&&t._UZ(0,"i"),2&o){const e=t.oxw(2).$implicit;t.Gre("d-inline-block align-middle ml-2 ",e.icona,"")}}function jd(o,n){if(1&o&&t._UZ(0,"img",45),2&o){const e=t.oxw(2).$implicit;t.Q6J("src",e.immagineIcona,t.LSH)}}function Xd(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"span",42),t._uU(2),t.qZA(),t.YNc(3,Kd,1,3,"i",43),t.YNc(4,jd,1,1,"img",44),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.nome),t.xp6(1),t.Q6J("ngIf",!!e.icona&&!e.immagineIcona),t.xp6(1),t.Q6J("ngIf",!!e.immagineIcona)}}function $d(o,n){if(1&o&&(t.TgZ(0,"div",41),t.YNc(1,Xd,5,3,"ng-container",1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!!e.nome)}}function Wd(o,n){if(1&o&&(t.TgZ(0,"div",39),t.YNc(1,$d,2,1,"div",40),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(2,A,e.isNonPrenotabile())),t.xp6(1),t.Q6J("ngForOf",e.proposteXTipoCamera.tipoCamera.sistemazioni)}}function t_(o,n){if(1&o&&t._UZ(0,"img",51),2&o){const e=t.oxw(2).$implicit;t.Q6J("src",e.immagineIcona,t.LSH)}}function e_(o,n){if(1&o&&t._UZ(0,"i"),2&o){const e=t.oxw(2).$implicit;t.Gre("servizioIcon mr-1 mt-1 ",e.icona,"")}}function n_(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",48),t.YNc(2,t_,1,1,"img",49),t.YNc(3,e_,1,3,"i",43),t.TgZ(4,"span",50),t._uU(5),t.qZA()(),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,A,i.isNonPrenotabile())),t.xp6(1),t.Q6J("ngIf",!!e.immagineIcona),t.xp6(1),t.Q6J("ngIf",!!e.icona&&!e.immagineIcona),t.xp6(2),t.Oqu(e.nome)}}function o_(o,n){if(1&o&&(t.ynx(0),t.YNc(1,n_,6,6,"ng-container",1),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!!e.nome)}}function i_(o,n){if(1&o&&(t.TgZ(0,"div",46)(1,"div",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,o_,2,1,"ng-container",20),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(5,A,e.isNonPrenotabile())),t.xp6(1),t.Oqu(t.lcZ(3,3,"booking.my-page.servizi")),t.xp6(2),t.Q6J("ngForOf",e.proposteXTipoCamera.tipoCamera.servizi)}}function a_(o,n){if(1&o&&t._UZ(0,"img",51),2&o){const e=t.oxw(2).$implicit;t.Q6J("src",e.immagineIcona,t.LSH)}}function r_(o,n){if(1&o&&t._UZ(0,"i"),2&o){const e=t.oxw(2).$implicit;t.Gre("servizioIcon mr-1 mt-1 ",e.icona,"")}}function l_(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",48),t.YNc(2,a_,1,1,"img",49),t.YNc(3,r_,1,3,"i",43),t.TgZ(4,"span",50),t._uU(5),t.qZA()(),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,A,i.isNonPrenotabile())),t.xp6(1),t.Q6J("ngIf",!!e.immagineIcona),t.xp6(1),t.Q6J("ngIf",!!e.icona&&!e.immagineIcona),t.xp6(2),t.Oqu(e.nome)}}function c_(o,n){if(1&o&&(t.ynx(0),t.YNc(1,l_,6,6,"ng-container",1),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!!e.nome)}}function s_(o,n){if(1&o&&(t.TgZ(0,"div",52)(1,"div",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,c_,2,1,"ng-container",20),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(5,A,e.isNonPrenotabile())),t.xp6(1),t.Oqu(t.lcZ(3,3,"booking.my-page.servizi")),t.xp6(2),t.Q6J("ngForOf",e.proposteXTipoCamera.tipoCamera.servizi)}}function p_(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",54),t._uU(2),t.TgZ(3,"small",55),t._uU(4),t.qZA()(),t.TgZ(5,"div")(6,"span",56),t._uU(7),t.TgZ(8,"small",55),t._uU(9),t.qZA()(),t.TgZ(10,"span",57),t._uU(11),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(8,A,e.isNonPrenotabile())),t.xp6(1),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.proposteXTipoCamera.proposte[0].totaleScontato)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.proposteXTipoCamera.proposte[0].totaleScontato)),t.xp6(2),t.Q6J("ngClass",t.VKq(10,A,e.isNonPrenotabile())),t.xp6(1),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.proposteXTipoCamera.proposte[0].totale)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.proposteXTipoCamera.proposte[0].totale)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,A,e.isNonPrenotabile())),t.xp6(1),t.hij("-",e.proposteXTipoCamera.proposte[0].sconto,"%")}}function g_(o,n){if(1&o&&(t.TgZ(0,"div",54),t._uU(1),t.TgZ(2,"small",55),t._uU(3),t.qZA()()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(3,A,e.isNonPrenotabile())),t.xp6(1),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.proposteXTipoCamera.proposte[0].totale)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.proposteXTipoCamera.proposte[0].totale))}}function m_(o,n){if(1&o&&(t.ynx(0),t.YNc(1,p_,12,14,"ng-container",1),t.YNc(2,g_,4,5,"div",53),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.proposteXTipoCamera.proposte[0].sconto>0),t.xp6(1),t.Q6J("ngIf",e.proposteXTipoCamera.proposte[0].sconto<=0)}}function d_(o,n){1&o&&(t.TgZ(0,"div",58),t._uU(1," --- "),t.qZA())}function __(o,n){1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",59),t._uU(5,"keyboard_arrow_up"),t.qZA(),t.BQk()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.nascondiOpzioni")))}function u_(o,n){1&o&&(t.ynx(0),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",59),t._uU(5,"keyboard_arrow_down"),t.qZA(),t.BQk()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.guardaLeOpzioni")))}function f_(o,n){if(1&o&&(t.TgZ(0,"span",76),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.hij(" ",e.tariffa.descrizione," ")}}function h_(o,n){if(1&o&&(t.TgZ(0,"div",77),t._UZ(1,"app-inner-html",78),t.qZA()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.Q6J("_text",e.tariffa.descrizioneDettagliata)}}function x_(o,n){if(1&o&&(t.TgZ(0,"div",77),t._UZ(1,"app-inner-html",78),t.qZA()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.Q6J("_text",e.tariffa.descrizionePromozione)}}function b_(o,n){if(1&o&&(t.TgZ(0,"div",79),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.note," ")}}function v_(o,n){if(1&o&&t._UZ(0,"img",84),2&o){const e=t.oxw(2).$implicit;t.Q6J("src",e.immagineIcona,t.LSH)}}function C_(o,n){if(1&o&&t._UZ(0,"i"),2&o){const e=t.oxw(2).$implicit;t.Gre("servizioIcon ",e.icona," d-inline-block align-middle")}}function z_(o,n){if(1&o&&(t.TgZ(0,"span",82),t.YNc(1,v_,1,1,"img",83),t.YNc(2,C_,1,3,"i",43),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw(3).$implicit,a=t.oxw();t.Q6J("matTooltip",e.nome)("ngClass",t.VKq(4,A,!i.isPrenotabile&&!a.isPrenotato)),t.xp6(1),t.Q6J("ngIf",!!e.immagineIcona),t.xp6(1),t.Q6J("ngIf",!!e.icona&&!e.immagineIcona)}}function w_(o,n){if(1&o&&(t.ynx(0),t.YNc(1,z_,3,6,"span",81),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!(!e.nome||!e.immagineIcona&&!e.icona))}}function P_(o,n){if(1&o&&(t.TgZ(0,"div",80),t.YNc(1,w_,2,1,"ng-container",20),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.tariffa.servizi)}}function T_(o,n){if(1&o&&(t.TgZ(0,"div")(1,"div",69)(2,"button",70)(3,"span",71),t._uU(4," info "),t.qZA()(),t.YNc(5,f_,2,4,"span",72),t.qZA(),t.YNc(6,h_,2,4,"div",73),t.YNc(7,x_,2,4,"div",73),t.YNc(8,b_,2,1,"div",74),t.YNc(9,P_,2,1,"div",75),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("disabled",!e.isPrenotabile&&!i.isPrenotato),t.xp6(3),t.Q6J("ngIf",!!e.tariffa.descrizione),t.xp6(1),t.Q6J("ngIf",i.isVisualizzaDescrizioneDettagliataTariffa&&!!e.tariffa.descrizioneDettagliata),t.xp6(1),t.Q6J("ngIf",!!e.tariffa.descrizionePromozione),t.xp6(1),t.Q6J("ngIf",!!e.note),t.xp6(1),t.Q6J("ngIf",e.tariffa.isVisualizzaServiziBooking&&null!=e.tariffa.servizi&&e.tariffa.servizi.length>0)}}function M_(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.nonRimborsabile")," "))}function y_(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.pagaInHotel")," "))}function Z_(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.garanziaCartaDiCredito")," "))}function k_(o,n){if(1&o&&(t.TgZ(0,"span",88),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"date"),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.dataCancellazioneGratuita")+" "+t.xi3(3,3,e.tariffa.dataCancellazioneGratuita,"dd/MM/yyyy")," ")}}function A_(o,n){if(1&o&&(t.TgZ(0,"li")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,k_,4,6,"span",87),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.cancellazioneGratuita")),t.xp6(2),t.Q6J("ngIf",e.tariffa.dataCancellazioneGratuita)}}function S_(o,n){if(1&o&&(t.TgZ(0,"div",89),t._UZ(1,"app-inner-html",78),t.qZA()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.Q6J("_text",e.tariffa.cancellazione.descrizione)}}function O_(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"ul",85),t.YNc(2,M_,3,3,"li",1),t.YNc(3,y_,3,3,"li",1),t.YNc(4,Z_,3,3,"li",1),t.YNc(5,A_,5,4,"li",1),t.qZA(),t.YNc(6,S_,2,4,"div",86),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(6,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.Q6J("ngIf",e.tariffa.cancellazione.isNonRimborsabile),t.xp6(1),t.Q6J("ngIf",e.tariffa.cancellazione.isPagaHotel),t.xp6(1),t.Q6J("ngIf",e.tariffa.cancellazione.isCartaCreditoGaranzia),t.xp6(1),t.Q6J("ngIf",e.tariffa.cancellazione.isCancellazioneGratuita),t.xp6(1),t.Q6J("ngIf",i.isVisualizzaDescrizionePoliticaCancellazione&&!!e.tariffa.cancellazione.descrizione)}}function I_(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.nonRimborsabile")," "))}function q_(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.pagaInHotel")," "))}function J_(o,n){1&o&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.garanziaCartaDiCredito")," "))}function Q_(o,n){if(1&o&&(t.TgZ(0,"span",88),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"date"),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.dataCancellazioneGratuita")+" "+t.xi3(3,3,e.tariffa.dataCancellazioneGratuita,"dd/MM/yyyy")," ")}}function U_(o,n){if(1&o&&(t.TgZ(0,"li")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Q_,4,6,"span",87),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.cancellazioneGratuita")),t.xp6(2),t.Q6J("ngIf",e.tariffa.dataCancellazioneGratuita)}}function N_(o,n){if(1&o&&(t.TgZ(0,"div",92),t._UZ(1,"app-inner-html",78),t.qZA()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(2,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.Q6J("_text",e.tariffa.cancellazione.descrizione)}}function E_(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"ul",90),t.YNc(2,I_,3,3,"li",1),t.YNc(3,q_,3,3,"li",1),t.YNc(4,J_,3,3,"li",1),t.YNc(5,U_,5,4,"li",1),t.qZA(),t.YNc(6,N_,2,4,"div",91),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(6,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.Q6J("ngIf",e.tariffa.cancellazione.isNonRimborsabile),t.xp6(1),t.Q6J("ngIf",e.tariffa.cancellazione.isPagaHotel),t.xp6(1),t.Q6J("ngIf",e.tariffa.cancellazione.isCartaCreditoGaranzia),t.xp6(1),t.Q6J("ngIf",e.tariffa.cancellazione.isCancellazioneGratuita),t.xp6(1),t.Q6J("ngIf",i.isVisualizzaDescrizionePoliticaCancellazione&&!!e.tariffa.cancellazione.descrizione)}}function D_(o,n){if(1&o&&(t.TgZ(0,"span",103),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu("-"+e.tariffa.sconto+"%")}}function L_(o,n){if(1&o&&(t.TgZ(0,"span",104),t._uU(1),t.TgZ(2,"small",55),t._uU(3),t.qZA()()),2&o){const e=t.oxw(3).$implicit,i=t.oxw();t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.tariffa.totaleScontato)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.tariffa.totaleScontato))}}const fn=function(o,n){return{"prezzo-dettaglio":o,"prezzo-sconto-dettaglio mr-1 ml-1":n}};function B_(o,n){if(1&o&&(t.TgZ(0,"div",96)(1,"div",97)(2,"span",98),t._uU(3,"1x"),t.qZA(),t.TgZ(4,"span",99),t._uU(5),t.qZA()(),t.TgZ(6,"div",100),t.YNc(7,D_,2,1,"span",101),t.TgZ(8,"span",61),t._uU(9),t.TgZ(10,"small",55),t._uU(11),t.qZA()(),t.YNc(12,L_,4,2,"span",102),t.qZA()()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(5),t.Oqu(e.descrizione),t.xp6(2),t.Q6J("ngIf",e.tariffa.sconto>0),t.xp6(1),t.Q6J("ngClass",t.WLB(6,fn,e.tariffa.sconto<=0,e.tariffa.sconto>0)),t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.tariffa.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.tariffa.totale)),t.xp6(1),t.Q6J("ngIf",e.tariffa.sconto>0)}}function V_(o,n){if(1&o&&(t.TgZ(0,"span",103),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu("-"+e.sconto+"%")}}function Y_(o,n){if(1&o&&(t.TgZ(0,"span",104),t._uU(1),t.TgZ(2,"small",55),t._uU(3),t.qZA()()),2&o){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totaleScontato)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totaleScontato))}}function F_(o,n){if(1&o&&(t.TgZ(0,"div",96)(1,"div",97)(2,"span",98),t._uU(3),t.qZA(),t.TgZ(4,"span",99),t._uU(5),t.qZA()(),t.TgZ(6,"div",100),t.YNc(7,V_,2,1,"span",101),t.TgZ(8,"span",61),t._uU(9),t.TgZ(10,"small",55),t._uU(11),t.qZA()(),t.YNc(12,Y_,4,2,"span",102),t.qZA()()),2&o){const e=n.$implicit,i=t.oxw(4);t.xp6(3),t.Oqu(e.quantita+"x"),t.xp6(2),t.Oqu(e.descrizione?e.descrizione:null!=e.articolo?e.articolo.nome:"---"),t.xp6(2),t.Q6J("ngIf",e.sconto>0),t.xp6(1),t.Q6J("ngClass",t.WLB(7,fn,e.sconto<=0,e.sconto>0)),t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totale)),t.xp6(1),t.Q6J("ngIf",e.sconto>0)}}function H_(o,n){if(1&o&&(t.ynx(0),t.YNc(1,F_,13,10,"div",105),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.extra)}}function R_(o,n){if(1&o&&(t.TgZ(0,"div",93)(1,"div",94),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,B_,13,9,"div",95),t.YNc(5,H_,2,1,"ng-container",1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,3,"booking.my-page.dettagli")," "),t.xp6(2),t.Q6J("ngIf",!e.isPrezziPersona),t.xp6(1),t.Q6J("ngIf",null!=e.extra&&e.extra.length>0)}}function G_(o,n){if(1&o&&(t.TgZ(0,"div")(1,"div",106)(2,"span",107),t._uU(3),t.TgZ(4,"small",55),t._uU(5),t.qZA()()(),t.TgZ(6,"div")(7,"span",108),t._uU(8),t.TgZ(9,"small",55),t._uU(10),t.qZA()(),t.TgZ(11,"span",109),t._uU(12),t.qZA()()()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("ngClass",t.VKq(8,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totaleScontato)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totaleScontato)),t.xp6(2),t.Q6J("ngClass",t.VKq(10,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totale)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.hij("-",e.sconto,"%")}}function K_(o,n){if(1&o&&(t.TgZ(0,"div",106)(1,"span",107),t._uU(2),t.TgZ(3,"small",55),t._uU(4),t.qZA()()()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(3,A,!e.isPrenotabile&&!i.isPrenotato)),t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totale))}}function j_(o,n){if(1&o&&(t.TgZ(0,"div",110),t.NdJ("click",function(i){return i.stopPropagation()}),t._UZ(1,"holipay-search-widget"),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.uIk("checkin",i.getDate(e.arrivo))("checkout",i.getDate(e.partenza))("price",t.Dn7(2,4,t.xi3(3,8,e.sconto>0?e.totaleScontato:e.totale,"1.2-2"),",",""))("locale",i.localizationService.getCurrentLocale())}}function X_(o,n){if(1&o&&(t.TgZ(0,"div",110),t.NdJ("click",function(i){return i.stopPropagation()}),t._UZ(1,"scalapay-widget"),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.uIk("amount",e.sconto>0?e.totaleScontato:e.totale)("min",0)("max",999999)("locale",i.localizationService.getCurrentLocale())}}function $_(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",111)(1,"button",112),t.NdJ("click",function(a){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw();return a.stopPropagation(),t.KtG(l.onPropostaSelected(r))}),t.TgZ(2,"span",113),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}if(2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("disabled",i.proposteSelected[i.cameraTabIndex]==e),t.xp6(2),t.Oqu(t.lcZ(4,2,"booking.my-page.seleziona"))}}function W_(o,n){if(1&o&&(t.TgZ(0,"span",103),t._uU(1),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu("-"+e.tariffa.sconto+"%")}}function tu(o,n){if(1&o&&(t.TgZ(0,"span",104),t._uU(1),t.TgZ(2,"small",55),t._uU(3),t.qZA()()),2&o){const e=t.oxw(3).$implicit,i=t.oxw();t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.tariffa.totaleScontato)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.tariffa.totaleScontato))}}function eu(o,n){if(1&o&&(t.TgZ(0,"div",96)(1,"div",97)(2,"span",98),t._uU(3,"1x"),t.qZA(),t.TgZ(4,"span",99),t._uU(5),t.qZA()(),t.TgZ(6,"div",100),t.YNc(7,W_,2,1,"span",101),t.TgZ(8,"span",61),t._uU(9),t.TgZ(10,"small",55),t._uU(11),t.qZA()(),t.YNc(12,tu,4,2,"span",102),t.qZA()()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(5),t.Oqu(e.descrizione),t.xp6(2),t.Q6J("ngIf",e.tariffa.sconto>0),t.xp6(1),t.Q6J("ngClass",t.WLB(6,fn,e.tariffa.sconto<=0,e.tariffa.sconto>0)),t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.tariffa.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.tariffa.totale)),t.xp6(1),t.Q6J("ngIf",e.tariffa.sconto>0)}}function nu(o,n){if(1&o&&(t.TgZ(0,"span",103),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu("-"+e.sconto+"%")}}function ou(o,n){if(1&o&&(t.TgZ(0,"span",104),t._uU(1),t.TgZ(2,"small",55),t._uU(3),t.qZA()()),2&o){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totaleScontato)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totaleScontato))}}function iu(o,n){if(1&o&&(t.TgZ(0,"div",96)(1,"div",97)(2,"span",98),t._uU(3),t.qZA(),t.TgZ(4,"span",99),t._uU(5),t.qZA()(),t.TgZ(6,"div",100),t.YNc(7,nu,2,1,"span",101),t.TgZ(8,"span",61),t._uU(9),t.TgZ(10,"small",55),t._uU(11),t.qZA()(),t.YNc(12,ou,4,2,"span",102),t.qZA()()),2&o){const e=n.$implicit,i=t.oxw(4);t.xp6(3),t.Oqu(e.quantita+"x"),t.xp6(2),t.Oqu(e.descrizione?e.descrizione:null!=e.articolo?e.articolo.nome:"---"),t.xp6(2),t.Q6J("ngIf",e.sconto>0),t.xp6(1),t.Q6J("ngClass",t.WLB(7,fn,e.sconto<=0,e.sconto>0)),t.xp6(1),t.Oqu("\u20ac "+i.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+i.utility.getPriceDecimalPart(e.totale)),t.xp6(1),t.Q6J("ngIf",e.sconto>0)}}function au(o,n){if(1&o&&(t.ynx(0),t.YNc(1,iu,13,10,"div",105),t.BQk()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.extra)}}function ru(o,n){if(1&o&&(t.TgZ(0,"div",114)(1,"div",94),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,eu,13,9,"div",95),t.YNc(5,au,2,1,"ng-container",1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,3,"booking.my-page.dettagli")," "),t.xp6(2),t.Q6J("ngIf",!e.isPrezziPersona),t.xp6(1),t.Q6J("ngIf",null!=e.extra&&e.extra.length>0)}}const lu=function(o,n,e){return{"inset-shadow":o,"best-price":n,"background-grey":e}},po=function(o){return{"pt-3":o}},cu=function(o){return{"pt-3 inset-shadow":o}};function su(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",60),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.showDetails(r.tipoCamera,r.tariffa,r.extra,r.isPrezziPersona))}),t.TgZ(2,"div",61),t.YNc(3,T_,10,6,"div",1),t.YNc(4,O_,7,8,"ng-container",1),t.qZA(),t.TgZ(5,"div",62),t.YNc(6,E_,7,8,"ng-container",1),t.qZA(),t.YNc(7,R_,6,5,"div",63),t.TgZ(8,"div",61)(9,"div",64),t.YNc(10,G_,13,14,"div",1),t.YNc(11,K_,5,5,"div",65),t.YNc(12,j_,4,11,"div",66),t.YNc(13,X_,2,4,"div",66),t.qZA(),t.YNc(14,$_,5,4,"div",67),t.qZA(),t.YNc(15,ru,6,5,"div",68),t.qZA(),t.BQk()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw();t.xp6(1),t.Q6J("ngClass",t.kEZ(18,lu,0==i,0==i&&a.proposteXTipoCamera.proposte[0].isPrenotabile&&!a.isPrenotato,!e.isPrenotabile&&!a.isPrenotato)),t.xp6(1),t.Tol("pt-2 pb-2 pr-4 pl-3 position-relative "+(a.containerService.dimension.width>=1250?"col-7 col-lg-4":"col-12 col-650-6 col-lg-5")),t.Q6J("ngClass",t.VKq(22,po,0==i)),t.xp6(1),t.Q6J("ngIf",!!e.tariffa.descrizione),t.xp6(1),t.Q6J("ngIf",null!=e.tariffa.cancellazione),t.xp6(1),t.Q6J("ngClass",t.VKq(24,cu,0==i)),t.xp6(1),t.Q6J("ngIf",null!=e.tariffa.cancellazione),t.xp6(1),t.Q6J("ngIf",a.isVisualizzaDettagli),t.xp6(1),t.Tol("pt-2 pb-2 pr-4 pl-4 col-12 col-650-6 "+(a.containerService.dimension.width>=1250?"col-lg-5":"col-lg-4")),t.Q6J("ngClass",t.VKq(26,po,0==i)),t.xp6(2),t.Q6J("ngIf",e.sconto>0),t.xp6(1),t.Q6J("ngIf",e.sconto<=0),t.xp6(1),t.Q6J("ngIf",e.isHolipayDisponibile&&!a.isPrenotato&&e.isPrenotabile&&!a.isExpired),t.xp6(1),t.Q6J("ngIf",e.isScalaPayDisponibile),t.xp6(1),t.Q6J("ngIf",!a.isPrenotato&&e.isPrenotabile&&!a.isExpired),t.xp6(1),t.Q6J("ngIf",a.isVisualizzaDettagli)}}const pu=function(o,n){return{"button-blue":o,"button-blue-indietro":n}};class Bt extends z.H{set _proposteXTipoCamera(n){if(null!=n){if(this.proposteXTipoCamera=n,this.immagini=this.proposteXTipoCamera.tipoCamera.immagini.map(e=>e.immagine),this.descrizioni=this.proposteXTipoCamera.tipoCamera.immagini.map(e=>e.descrizione),this.proposteXTipoCamera.tipoCamera.descrizione){let e='\u2026<a class="continuaLink" href="#" onclick="event.preventDefault()">'+this.localizationService.getTranslationSync("booking.my-page.more")+"</a>";this.shortDescription=(0,vn.Z)(this.proposteXTipoCamera.tipoCamera.descrizione,115,{html:!0,breakWords:!0});let i=this.shortDescription.lastIndexOf("\u2026");i>=0?this.shortDescription=this.shortDescription.slice(0,i)+e+this.shortDescription.slice(i+1):this.shortDescription!=this.proposteXTipoCamera.tipoCamera.descrizione&&(this.shortDescription+=e)}this.notti=Math.max(P(this.getDate(this.proposteXTipoCamera.partenza)).diff(P(this.getDate(this.proposteXTipoCamera.arrivo)),"days"),1),setTimeout(()=>{this.refreshHolipayWidget()},200)}}set _maxImageHeight(n){null!=n?(this.maxImageHeight=n>400?400:n,this.updateSizeSubject.next()):this.maxImageHeight=400}constructor(n,e,i){super(),this.utility=n,this.localizationService=e,this.containerService=i,this._onPropostaSelected=new t.vpe,this.immagini=[],this.descrizioni=[],this.showTariffe=!1,this.updateSizeSubject=new y.x,this.maxImageHeight=400,this.enumTipoScontoProposta=m.ry}ngOnInit(){this.showTariffe=this.isVisualizzaProposteEspanse}showDetails(n,e,i,a){let r=new p.Zpt;this.containerService.dimension.width>=992?r.width="50vw":r.width="80vw",r.panelClass="dialog-overlay";let c=this.showModalDialog(Pn.w,r).componentInstance;c.tipoCamera=n,c.tariffa=e,c.extra=i,c.isPrezziPersona=a,c.isVisualizzaDettaglioGiornaliero=this.isVisualizzaDettaglioGiornaliero,c.isVisualizzaDettagli=this.isVisualizzaDettagli}onPropostaSelected(n){if(0==this.cameraTabIndex||null!=this.proposteSelected[this.cameraTabIndex-1]){let e=this.proposteSelected.every(i=>null!=i);this.proposteSelected[this.cameraTabIndex]=n,this.proposteSelected.every(i=>null!=i)?e?this._onPropostaSelected.emit(this.cameraTabIndex):this._onPropostaSelected.emit(-1):this.cameraTabIndex<this.numeroCamere-1?this._onPropostaSelected.emit(this.cameraTabIndex+1):this._onPropostaSelected.emit(this.cameraTabIndex)}else{let e=this.proposteSelected.findIndex(i=>null!=i);-1==e&&(e=0),this.showError("booking.my-page.selezionareProposta",{camera:e+1}).then(()=>{this._onPropostaSelected.emit(e)})}}isNonPrenotabile(){return!this.isPrenotato&&this.proposteXTipoCamera.proposte.every(n=>!n.isPrenotabile)}onShowTariffeClick(){this.tariffePanel.disabled||(this.showTariffe||(this.showTariffe=!0),this.tariffePanel.toggle(),this.tariffePanel.disabled=!0)}afterExpand(){this.tariffePanel.disabled=!1,this.refreshHolipayWidget()}afterCollapse(){this.showTariffe=!1,this.tariffePanel.disabled=!1}refreshHolipayWidget(){!this.isPrenotato&&!this.isExpired&&this.proposteXTipoCamera.proposte.some(n=>n.isHolipayDisponibile&&n.isPrenotabile)&&null!=holipay&&setTimeout(()=>{holipay.updateWidgets()},100)}ngOnDestroy(){this.updateSizeSubject.complete()}}Bt.\u0275fac=function(n){return new(n||Bt)(t.Y36(v.t),t.Y36(K.o),t.Y36(T.J))},Bt.\u0275cmp=t.Xpm({type:Bt,selectors:[["app-mypage-proposta"]],viewQuery:function(n,e){if(1&n&&t.Gf(Fd,5),2&n){let i;t.iGM(i=t.CRH())&&(e.tariffePanel=i.first)}},inputs:{_proposteXTipoCamera:"_proposteXTipoCamera",camera:"camera",cameraTabIndex:"cameraTabIndex",proposteSelected:"proposteSelected",isPrenotato:"isPrenotato",numeroCamere:"numeroCamere",isVisualizzaDettagli:"isVisualizzaDettagli",isVisualizzaDescrizionePoliticaCancellazione:"isVisualizzaDescrizionePoliticaCancellazione",isVisualizzaDescrizioneDettagliataTariffa:"isVisualizzaDescrizioneDettagliataTariffa",isVisualizzaInformazioniPropostaMyPage:"isVisualizzaInformazioniPropostaMyPage",isExpired:"isExpired",_maxImageHeight:"_maxImageHeight",isVisualizzaDettaglioGiornaliero:"isVisualizzaDettaglioGiornaliero",isVisualizzaProposteEspanse:"isVisualizzaProposteEspanse"},outputs:{_onPropostaSelected:"_onPropostaSelected"},features:[t.qOj],decls:29,vars:41,consts:[[1,"room-container","mat-elevation-z5",3,"ngClass"],[4,"ngIf"],[1,"w-100","overflow-hidden"],[3,"images","showButtons","autoSlide","minimumHeight","maximumHeight","updateSize"],[1,"row","mr-0","ml-0"],["class","clearfix mr-n3",4,"ngIf"],[1,"color-blue","room-nome","mt-2",3,"ngClass"],["class","mt-2 room-descrizione text-wrap",3,"ngClass",4,"ngIf"],["class","mt-3 mb-3",3,"ngClass",4,"ngIf"],["class","mt-3 mb-3 d-block d-lg-none",4,"ngIf"],[1,"col-3","pt-4","pr-4","pl-4","servizi-col","pb-3","d-none","d-lg-block"],["class","pt-3",4,"ngIf"],[1,"text-center","pt-0","pt-lg-3"],[1,"prezzo-minimo","color-blue",3,"ngClass"],["class","prezzo color-grey",4,"ngIf"],["mat-flat-button","",1,"p-0","pr-2","pl-2","mt-1","mw-100","showTariffeButton",3,"ngClass","click"],[1,"mypage-tariffe-panel",3,"expanded","afterExpand","afterCollapse"],["tariffePanel",""],[1,"pr-2","pl-2","mb-3"],[1,"tariffe-container","mat-elevation-z5"],[4,"ngFor","ngForOf"],[1,"background-color-blue","pt-1","pb-1"],[1,"mx-auto","d-table","mt-1"],[1,"proposta-header-col","pl-3"],[1,"proposta-header-col"],[1,"material-icons-round","align-middle","icon-small","night-icon"],[1,"material-icons-round","align-middle","adults-icon"],[1,"material-icons-round","child-icon"],[1,"mx-auto","d-table","mt-3","mb-3"],[1,"proposta-col","color-blue","pl-3"],[1,"text-big","font-weight-bold","mt-n1","mb-n1"],[1,"proposta-col","color-blue","d-inline-flex","justify-content-center","align-items-center","text-big","font-weight-bold"],[1,"proposta-col","color-blue"],["matTooltipPosition","below","matTooltipClass","mypage-eta-bambini-tooltip-class",1,"proposta-col","color-blue","d-inline-flex","justify-content-center","align-items-center","text-big","font-weight-bold",3,"matTooltip"],[1,"clearfix","mr-n3"],[1,"dimensione","d-inline-block","align-middle","float-right","dimensione",3,"ngClass"],[1,"mt-2","room-descrizione","text-wrap",3,"ngClass"],[3,"click"],[3,"_text","block"],[1,"mt-3","mb-3",3,"ngClass"],["class","sistemazione",4,"ngFor","ngForOf"],[1,"sistemazione"],[1,"d-inline-block","align-middle"],[3,"class",4,"ngIf"],["class","d-inline-block align-middle immagine-sistemazione ml-2",3,"src",4,"ngIf"],[1,"d-inline-block","align-middle","immagine-sistemazione","ml-2",3,"src"],[1,"mt-3","mb-3","d-block","d-lg-none"],[1,"font-weight-bold","servizi","mb-1",3,"ngClass"],[1,"servizio","color-blue",3,"ngClass"],["class","servizioIcon immagine-servizio mr-1",3,"src",4,"ngIf"],[1,"servizioText"],[1,"servizioIcon","immagine-servizio","mr-1",3,"src"],[1,"pt-3"],["class","prezzo color-blue text-nowrap",3,"ngClass",4,"ngIf"],[1,"prezzo","color-blue","text-nowrap",3,"ngClass"],[1,"price-decimals"],[1,"prezzo-sconto","text-decoration-color-blue","text-nowrap",3,"ngClass"],[1,"ml-1","sconto","color-blue","text-nowrap",3,"ngClass"],[1,"prezzo","color-grey"],[1,"material-icons-round"],[1,"row","ml-0","mr-0","tariffa-row",3,"ngClass","click"],[3,"ngClass"],[1,"col-3","pt-2","pb-2","pr-4","pl-4","d-none","d-lg-block","cancellazione-col","text-smaller",3,"ngClass"],["class","col-12 pt-2 pb-2 pr-4 pl-4 border-top border-bottom d-block d-650-none",4,"ngIf"],[1,"text-center","w-100"],["class","text-nowrap prezzo-tariffa-container",4,"ngIf"],["class","mt-2 mb-3",3,"click",4,"ngIf"],["class","text-center w-100 mt-2 mb-3",4,"ngIf"],["class","col-12 pt-2 pb-2 pr-4 pl-4 border-top d-none d-650-block",4,"ngIf"],[1,"text-nowrap"],["mat-icon-button","",1,"align-top","mr-2","mt-1","info-button",3,"disabled"],[1,"material-icons-round","info-icon"],["class","tariffa-descrizione d-inline-block text-wrap",3,"ngClass",4,"ngIf"],["class","mt-3 tariffa-descrizionePomozione text-wrap",3,"ngClass",4,"ngIf"],["class","proposta-note mt-3 text-wrap",4,"ngIf"],["class","mb-2 mt-2",4,"ngIf"],[1,"tariffa-descrizione","d-inline-block","text-wrap",3,"ngClass"],[1,"mt-3","tariffa-descrizionePomozione","text-wrap",3,"ngClass"],[3,"_text"],[1,"proposta-note","mt-3","text-wrap"],[1,"mb-2","mt-2"],["class","mr-1 align-middle d-inline-block","matTooltipPosition","below","matTooltipClass","mypage-icona-servizio-tooltip-class",3,"matTooltip","ngClass",4,"ngIf"],["matTooltipPosition","below","matTooltipClass","mypage-icona-servizio-tooltip-class",1,"mr-1","align-middle","d-inline-block",3,"matTooltip","ngClass"],["class","servizioIcon immagine-servizio d-inline-block align-middle",3,"src",4,"ngIf"],[1,"servizioIcon","immagine-servizio","d-inline-block","align-middle",3,"src"],[1,"mb-0","pl-4","d-block","d-lg-none","text-smaller",3,"ngClass"],["class","mt-3 d-block d-lg-none text-wrap",3,"ngClass",4,"ngIf"],["class","dataCancellazioneGratuitaText",4,"ngIf"],[1,"dataCancellazioneGratuitaText"],[1,"mt-3","d-block","d-lg-none","text-wrap",3,"ngClass"],[1,"mb-0","pl-4","text-smaller",3,"ngClass"],["class","mt-3 text-wrap",3,"ngClass",4,"ngIf"],[1,"mt-3","text-wrap",3,"ngClass"],[1,"col-12","pt-2","pb-2","pr-4","pl-4","border-top","border-bottom","d-block","d-650-none"],[1,"font-weight-bold","color-blue","mb-2","text-wrap","mypage-dettagli"],["class","row",4,"ngIf"],[1,"row"],[1,"col-6","text-left","text-small","text-nowrap"],[1,"align-top","d-inline-block","mr-1"],[1,"d-inline-block","text-wrap"],[1,"col-6","text-right"],["class","sconto-dettaglio",4,"ngIf"],["class","prezzo-dettaglio",4,"ngIf"],[1,"sconto-dettaglio"],[1,"prezzo-dettaglio"],["class","row",4,"ngFor","ngForOf"],[1,"text-nowrap","prezzo-tariffa-container"],[1,"prezzo-tariffa","color-blue","align-middle","text-nowrap",3,"ngClass"],[1,"prezzo-sconto-tariffa","text-decoration-color-blue","text-nowrap",3,"ngClass"],[1,"ml-1","sconto-tariffa","color-blue","text-nowrap",3,"ngClass"],[1,"mt-2","mb-3",3,"click"],[1,"text-center","w-100","mt-2","mb-3"],["mat-flat-button","",1,"selezionaButton","button-blue","mt-1","mw-100",3,"disabled","click"],[1,"btn-label","color-inverted"],[1,"col-12","pt-2","pb-2","pr-4","pl-4","border-top","d-none","d-650-block"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Hd,51,52,"ng-container",1),t.TgZ(2,"div",2),t._UZ(3,"app-image-slider",3),t.qZA(),t.TgZ(4,"div",4)(5,"div"),t.YNc(6,Rd,3,4,"div",5),t.TgZ(7,"div",6),t._uU(8),t.qZA(),t.YNc(9,Gd,3,5,"div",7),t.YNc(10,Wd,2,4,"div",8),t.YNc(11,i_,5,7,"div",9),t.qZA(),t.TgZ(12,"div",10),t.YNc(13,s_,5,7,"div",11),t.qZA(),t.TgZ(14,"div")(15,"div",12)(16,"div",13),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.YNc(19,m_,3,2,"ng-container",1),t.YNc(20,d_,2,0,"div",14),t.TgZ(21,"button",15),t.NdJ("click",function(){return e.onShowTariffeClick()}),t.YNc(22,__,6,3,"ng-container",1),t.YNc(23,u_,6,3,"ng-container",1),t.qZA()()()()(),t.TgZ(24,"mat-expansion-panel",16,17),t.NdJ("afterExpand",function(){return e.afterExpand()})("afterCollapse",function(){return e.afterCollapse()}),t.TgZ(26,"div",18)(27,"div",19),t.YNc(28,su,16,28,"ng-container",20),t.qZA()()()),2&n&&(t.Q6J("ngClass",t.VKq(32,so,e.isNonPrenotabile())),t.xp6(1),t.Q6J("ngIf",e.isVisualizzaInformazioniPropostaMyPage),t.xp6(1),t.Udp("height",e.maxImageHeight,"px"),t.xp6(1),t.Q6J("images",e.immagini)("showButtons",!0)("autoSlide",!1)("minimumHeight",e.maxImageHeight)("maximumHeight",e.maxImageHeight)("updateSize",e.updateSizeSubject),t.xp6(2),t.Tol("pl-4 pr-4 pt-2 pb-3 "+(e.containerService.dimension.width>=1250?"col-7 col-lg-4":"col-12 col-lg-5")),t.xp6(1),t.Q6J("ngIf",!!e.proposteXTipoCamera.tipoCamera.dimensione),t.xp6(1),t.Q6J("ngClass",t.VKq(34,A,e.isNonPrenotabile())),t.xp6(1),t.Oqu(e.proposteXTipoCamera.tipoCamera.nome),t.xp6(1),t.Q6J("ngIf",!!e.proposteXTipoCamera.tipoCamera.descrizione),t.xp6(1),t.Q6J("ngIf",null!=e.proposteXTipoCamera.tipoCamera.sistemazioni&&e.proposteXTipoCamera.tipoCamera.sistemazioni.length>0),t.xp6(1),t.Q6J("ngIf",null!=e.proposteXTipoCamera.tipoCamera.servizi&&e.proposteXTipoCamera.tipoCamera.servizi.length>0),t.xp6(2),t.Q6J("ngIf",null!=e.proposteXTipoCamera.tipoCamera.servizi&&e.proposteXTipoCamera.tipoCamera.servizi.length>0),t.xp6(1),t.Tol("text-center pl-4 pr-4 prezzo-col pb-3 pt-0 pt-lg-4 "+(e.containerService.dimension.width>=1250?"col-5":"col-12 col-lg-4")),t.xp6(2),t.Q6J("ngClass",t.VKq(36,A,e.isNonPrenotabile())),t.xp6(1),t.Oqu(t.lcZ(18,30,"booking.my-page.prezzoMinimo")),t.xp6(2),t.Q6J("ngIf",e.proposteXTipoCamera.proposte[0].isPrenotabile||e.isPrenotato),t.xp6(1),t.Q6J("ngIf",!e.proposteXTipoCamera.proposte[0].isPrenotabile&&!e.isPrenotato),t.xp6(1),t.Q6J("ngClass",t.WLB(38,pu,!e.showTariffe,e.showTariffe)),t.xp6(1),t.Q6J("ngIf",e.showTariffe),t.xp6(1),t.Q6J("ngIf",!e.showTariffe),t.xp6(1),t.Q6J("expanded",e.isVisualizzaProposteEspanse),t.xp6(4),t.Q6J("ngForOf",e.proposteXTipoCamera.proposte))},dependencies:[s.mk,s.sg,s.O5,C.eB,W.ib,$.Kd,H.V,Z.W,s.JJ,s.rS,s.uU,B.H,Kn.A,b.X$],styles:['.prezzo[_ngcontent-%COMP%]{font-size:30px;font-weight:700}.prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;font-size:18px;font-weight:600;color:#999}.sconto[_ngcontent-%COMP%]{font-size:15px;font-weight:600}.room-nome[_ngcontent-%COMP%]{font-size:22px;font-weight:600}.room-descrizione[_ngcontent-%COMP%]{font-size:14px;color:#000}.color-red[_ngcontent-%COMP%]{color:#d9534f}.servizi[_ngcontent-%COMP%]{font-size:15px}.dimensione[_ngcontent-%COMP%]{position:relative;background-color:#fff;border:1px solid #B2B2B2;color:#666;font-size:13px;padding-right:3px;padding-left:3px}.dimensione[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-1px;left:-1px;border:1px solid white;height:calc(100% + 2px);width:calc(100% + 2px);border-radius:8px}.sistemazione[_ngcontent-%COMP%]{font-size:smaller;font-style:italic}.servizi-col[_ngcontent-%COMP%]{background-color:#f5f5f5}.servizio[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:stretch;white-space:nowrap;font-size:14px}.servizioIcon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;width:25px;text-align:center}.servizioText[_ngcontent-%COMP%]{align-self:flex-start;white-space:normal}.tariffa-row[_ngcontent-%COMP%]{background-color:#fff;border-bottom:2px solid #E5E5E5;cursor:pointer;transition:background-color .4s ease-out!important}.tariffa-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;transition:background-color .4s ease-out!important}.tariffa-row[_ngcontent-%COMP%]:hover   .prezzo-tariffa[_ngcontent-%COMP%]{font-size:30px;transition:font-size .3s ease-out!important}.tariffa-row[_ngcontent-%COMP%]:hover   .prezzo-tariffa-container[_ngcontent-%COMP%]{margin-bottom:-.5rem;transition:margin-bottom .3s ease-out!important}.tariffa-row[_ngcontent-%COMP%]:hover   .cancellazione-col[_ngcontent-%COMP%]{background-color:#f0f0f0;transition:background-color .4s ease-out!important}.room-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;cursor:pointer;overflow:hidden}.prezzo-sconto-tariffa[_ngcontent-%COMP%]{text-decoration:line-through;font-size:18px;font-weight:600;color:#999;transition:font-size .3s ease-out!important}.prezzo-tariffa[_ngcontent-%COMP%]{font-size:25px;font-weight:600;transition:font-size .3s ease-out!important}.prezzo-tariffa-container[_ngcontent-%COMP%]{margin-bottom:0;transition:margin-bottom .3s ease-out!important}.sconto-tariffa[_ngcontent-%COMP%]{font-size:15px;font-weight:600;transition:font-size .3s ease-out!important}.prezzo-minimo[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#000000de}.tariffe-container[_ngcontent-%COMP%]{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.inset-shadow[_ngcontent-%COMP%]{box-shadow:inset 0 10px 10px -10px #0006}.tariffe-container[_ngcontent-%COMP%]   .tariffa-row[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-bottom:none}.cancellazione-col[_ngcontent-%COMP%]{background-color:#f5f5f5;transition:background-color .4s ease-out!important}.best-price[_ngcontent-%COMP%]{background-color:#f0ffe9}.best-price[_ngcontent-%COMP%]   .prezzo-tariffa[_ngcontent-%COMP%]{color:#1b8f57}.best-price[_ngcontent-%COMP%]   .selezionaButton[_ngcontent-%COMP%]:enabled{background-image:linear-gradient(to right,#1B8F57,#82BF41)!important;border-image:linear-gradient(to right,#1B8F57,#82BF41)!important;border-image-width:2px 0 2px 0!important;border-left:none!important;border-right:none!important}.best-price[_ngcontent-%COMP%]   .cancellazione-col[_ngcontent-%COMP%]{background-color:#dff7d5!important;transition:background-color .4s ease-out!important}.best-price.tariffa-row[_ngcontent-%COMP%]:hover{background-color:#dff7d5!important}.best-price.tariffa-row[_ngcontent-%COMP%]:hover   .cancellazione-col[_ngcontent-%COMP%]{background-color:#cff5bf!important;transition:background-color .4s ease-out!important}.tariffa-descrizione[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#000}.text-small[_ngcontent-%COMP%]{font-size:12px}.text-smaller[_ngcontent-%COMP%]{font-size:14px}.selezionaButton[_ngcontent-%COMP%]{width:150px;overflow:hidden;padding:0!important}.selezionaButton[_ngcontent-%COMP%]:enabled{transition:all .5s;border-radius:7px}.btn-label[_ngcontent-%COMP%]{display:inline-block;position:relative;padding-right:0;transition:padding-right .5s}.btn-label[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-50px;opacity:0;top:33%;width:10px;height:10px;margin-right:-15px;background:rgba(0,0,0,0);border-width:3px;border-style:solid;border-top:none;border-right:none;transition:opacity .5s,top .5s,right .5s;transform:rotate(225deg)}.selezionaButton[_ngcontent-%COMP%]:enabled:hover   .btn-label[_ngcontent-%COMP%], .selezionaButton[_ngcontent-%COMP%]:enabled:active   .btn-label[_ngcontent-%COMP%]{padding-right:15px}.selezionaButton[_ngcontent-%COMP%]:enabled:hover   .btn-label[_ngcontent-%COMP%]:after, .selezionaButton[_ngcontent-%COMP%]:enabled:active   .btn-label[_ngcontent-%COMP%]:after{transition:opacity .5s,top .5s,right .5s;opacity:1;right:10px;top:33%}.dataCancellazioneGratuitaText[_ngcontent-%COMP%]{font-weight:700}  .mypage-icona-servizio-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#fff!important;color:var(--main-color)!important;opacity:1!important;font-weight:600!important;font-size:12px!important}.background-grey[_ngcontent-%COMP%]{background-color:#f2f2f2}.color-grey[_ngcontent-%COMP%]{color:gray!important;-webkit-text-decoration-color:#808080!important;text-decoration-color:gray!important}.info-button[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px;margin-top:1px}.info-icon[_ngcontent-%COMP%]{font-size:18px;line-height:18px}@media (min-width: 650px){.d-650-block[_ngcontent-%COMP%]{display:block!important}.d-650-none[_ngcontent-%COMP%]{display:none!important}}.tariffa-descrizionePomozione[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#004987}  .mypage-tariffe-panel{box-shadow:none!important;border-radius:0!important;background-color:transparent!important}  .mypage-tariffe-panel .mat-expansion-panel-content{font:inherit!important}  .mypage-tariffe-panel .mat-expansion-panel-body{padding:0!important}.showTariffeButton[_ngcontent-%COMP%]{width:160px;margin-bottom:10px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{white-space:normal!important}.prezzo-dettaglio[_ngcontent-%COMP%]{font-weight:600;font-size:16px;white-space:nowrap;color:var(--main-color)}.prezzo-sconto-dettaglio[_ngcontent-%COMP%]{color:#aaa;text-decoration:line-through;white-space:nowrap;font-size:13px}.sconto-dettaglio[_ngcontent-%COMP%]{font-weight:600;font-size:11px;color:var(--main-color)}.proposta-header-col[_ngcontent-%COMP%], .proposta-col[_ngcontent-%COMP%]{width:90px;max-width:20%;display:inline-block;vertical-align:middle;text-align:center}.icon-small[_ngcontent-%COMP%]{font-size:18px;line-height:18px}.night-icon[_ngcontent-%COMP%]{margin-bottom:3px}.text-big[_ngcontent-%COMP%]{font-size:18px}.adults-icon[_ngcontent-%COMP%]{font-size:20px;margin-bottom:3px}.child-icon[_ngcontent-%COMP%]{font-size:14px;vertical-align:bottom;margin-bottom:2px}  .mypage-eta-bambini-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#666!important;color:#fff!important;opacity:1!important;font-weight:600!important;font-size:12px!important}']});const gu=["camereTabGroup"];function mu(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onEditTestoClick.emit(a.enumTestoMyPage.TestoPrimaProposte))}),t.TgZ(1,"i",10),t._uU(2,"edit"),t.qZA()()}}function du(o,n){if(1&o&&(t.TgZ(0,"div",11),t._UZ(1,"app-inner-html",12),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("_text",e.testoPrimaProposte)}}function _u(o,n){1&o&&(t.TgZ(0,"div",13,14),t._uU(2,"\xa0"),t.qZA())}function uu(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",21),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",22),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",23),t._uU(8),t.ALo(9,"translate"),t.ALo(10,"translate"),t.qZA(),t.BQk()),2&o){const e=t.oxw(2),i=e.index,a=e.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,3,"booking.my-page.perLa")," "),t.xp6(3),t.hij(" ",t.lcZ(6,5,"booking.my-page.camera")+(i+1)," "),t.xp6(3),t.hij(" ",a.numeroAdulti+t.lcZ(9,7,"booking.my-page.adulti")+(a.numeroBambini>0?", "+a.numeroBambini+t.lcZ(10,9,"booking.my-page.bambini"):"")," ")}}function fu(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",23),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&o){const e=t.oxw(2).index;t.xp6(2),t.hij(" ",t.lcZ(3,1,"booking.my-page.camera")+(e+1)," ")}}function hu(o,n){if(1&o&&(t.TgZ(0,"div",18),t._uU(1,"\xa0"),t.qZA(),t.TgZ(2,"div",19),t.YNc(3,uu,11,11,"ng-container",20),t.YNc(4,fu,4,3,"ng-container",20),t.qZA()),2&o){const e=t.oxw(3);t.xp6(3),t.Q6J("ngIf",!e.isPrenotato),t.xp6(1),t.Q6J("ngIf",e.isPrenotato)}}function xu(o,n){1&o&&(t.TgZ(0,"mat-tab"),t.YNc(1,hu,5,2,"ng-template",17),t.qZA())}function bu(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab-group",15),t.NdJ("selectedIndexChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.cameraTabIndex=a)}),t.YNc(1,xu,2,0,"mat-tab",16),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("selectedIndex",e.cameraTabIndex),t.xp6(1),t.Q6J("ngForOf",e.camere)}}function vu(o,n){if(1&o&&(t.TgZ(0,"div",24),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"momentFormat"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.offerteValideFinoAl")+t.Dn7(3,3,e.scadenzaPreventivo,"DD/MM/YYYY",e.getLocale()),"\n")}}function Cu(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",25)(1,"app-mypage-proposta",26),t.NdJ("_onPropostaSelected",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onPropostaSelected(a))}),t.qZA()()}if(2&o){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("_proposteXTipoCamera",e)("camera",i.camere[i.cameraTabIndex])("proposteSelected",i.proposteSelected)("cameraTabIndex",i.cameraTabIndex)("isPrenotato",i.isPrenotato)("numeroCamere",i.camere.length)("isVisualizzaDettagli",i.isVisualizzaDettagli)("isVisualizzaDescrizionePoliticaCancellazione",i.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",i.isVisualizzaDescrizioneDettagliataTariffa)("isExpired",i.isExpired)("isVisualizzaDettaglioGiornaliero",i.isVisualizzaDettaglioGiornaliero)("isVisualizzaProposteEspanse",i.isVisualizzaProposteEspanse)("isVisualizzaInformazioniPropostaMyPage",i.isVisualizzaInformazioniPropostaMyPage)}}function zu(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onEditTestoClick.emit(a.enumTestoMyPage.TestoDopoProposte))}),t.TgZ(1,"i",10),t._uU(2,"edit"),t.qZA()()}}function wu(o,n){if(1&o&&(t.TgZ(0,"div",28),t._UZ(1,"app-inner-html",12),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("_text",e.testoDopoProposte)}}class Pt extends z.H{constructor(n){super(),this.utility=n,this.continuaButtonEnabled=new t.vpe,this.propostaSelected=new t.vpe,this.onEditTestoClick=new t.vpe,this.cameraTabIndex=0,this.enumTestoMyPage=m.et}onPropostaSelected(n){-1==n?this.continuaButtonEnabled.emit():n!=this.cameraTabIndex&&(this.cameraTabIndex=n,this.camereTabGroup.nativeElement.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{this.cameraTabIndex=n},200)),this.propostaSelected.emit()}}function Pu(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.openUrlInNewTab(a.prenotazione.urlReport))}),t._UZ(1,"i",24),t.TgZ(2,"span",25),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"booking.my-page.scaricaPDF")))}Pt.\u0275fac=function(n){return new(n||Pt)(t.Y36(v.t))},Pt.\u0275cmp=t.Xpm({type:Pt,selectors:[["app-mypage-camere"]],viewQuery:function(n,e){if(1&n&&t.Gf(gu,5),2&n){let i;t.iGM(i=t.CRH())&&(e.camereTabGroup=i.first)}},inputs:{camere:"camere",scadenzaPreventivo:"scadenzaPreventivo",proposteSelected:"proposteSelected",isPrenotato:"isPrenotato",testoPrimaProposte:"testoPrimaProposte",testoDopoProposte:"testoDopoProposte",isVisualizzaDettagli:"isVisualizzaDettagli",isExpired:"isExpired",config:"config",isVisualizzaDettaglioGiornaliero:"isVisualizzaDettaglioGiornaliero",isVisualizzaProposteEspanse:"isVisualizzaProposteEspanse",isVisualizzaDescrizionePoliticaCancellazione:"isVisualizzaDescrizionePoliticaCancellazione",isVisualizzaDescrizioneDettagliataTariffa:"isVisualizzaDescrizioneDettagliataTariffa",isVisualizzaInformazioniPropostaMyPage:"isVisualizzaInformazioniPropostaMyPage"},outputs:{continuaButtonEnabled:"continuaButtonEnabled",propostaSelected:"propostaSelected",onEditTestoClick:"onEditTestoClick"},features:[t.qOj],decls:10,vars:8,consts:[[1,"position-relative"],["mat-mini-fab","","class","button-blue button-blue-circle config-button config-button-testo-prima-proposte",3,"click",4,"ngIf"],["class","mt-3 mb-3 text-center",4,"ngIf"],["class","mb-3 invisible",4,"ngIf"],["class","mypage-camere-tab-group",3,"selectedIndex","selectedIndexChange",4,"ngIf"],["class","text-small color-grey font-weight-bold text-center mt-3",4,"ngIf"],["class","mt-3",4,"ngFor","ngForOf"],["mat-mini-fab","","class","button-blue button-blue-circle config-button config-button-testo-dopo-proposte",3,"click",4,"ngIf"],["class","mt-4 mb-3 text-center",4,"ngIf"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button","config-button-testo-prima-proposte",3,"click"],[1,"material-icons-round"],[1,"mt-3","mb-3","text-center"],[3,"_text"],[1,"mb-3","invisible"],["camereTabGroup",""],[1,"mypage-camere-tab-group",3,"selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf"],["mat-tab-label",""],[1,"w-100","top-line"],[1,"label-container","w-100"],[4,"ngIf"],[1,"w-100","text-small"],[1,"w-100","text-big"],[1,"w-100"],[1,"text-small","color-grey","font-weight-bold","text-center","mt-3"],[1,"mt-3"],[3,"_proposteXTipoCamera","camera","proposteSelected","cameraTabIndex","isPrenotato","numeroCamere","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isExpired","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","isVisualizzaInformazioniPropostaMyPage","_onPropostaSelected"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button","config-button-testo-dopo-proposte",3,"click"],[1,"mt-4","mb-3","text-center"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,mu,3,0,"button",1),t.YNc(2,du,2,1,"div",2),t.qZA(),t.YNc(3,_u,3,0,"div",3),t.YNc(4,bu,2,2,"mat-tab-group",4),t.YNc(5,vu,4,7,"div",5),t.YNc(6,Cu,2,13,"div",6),t.TgZ(7,"div",0),t.YNc(8,zu,3,0,"button",7),t.YNc(9,wu,2,1,"div",8),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("ngIf",!!e.testoPrimaProposte),t.xp6(1),t.Q6J("ngIf",!e.isPrenotato&&e.camere.length>1),t.xp6(1),t.Q6J("ngIf",e.camere.length>1),t.xp6(1),t.Q6J("ngIf",!!e.scadenzaPreventivo),t.xp6(1),t.Q6J("ngForOf",e.camere[e.cameraTabIndex].proposte),t.xp6(2),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("ngIf",!!e.testoDopoProposte))},dependencies:[s.sg,s.O5,C.eB,j.SK,j.gz,j.R7,Z.W,Bt,B.H,b.X$],styles:[".mypage-camere-tab-group .mat-tab-label .mat-tab-label-content{flex-wrap:wrap!important;width:100%!important}  .mypage-camere-tab-group .mat-tab-label{padding:0!important;height:auto!important;font-size:16px!important;color:var(--main-color)!important;transition:.5s cubic-bezier(.35,0,.25,1)!important;box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f;border-radius:5px!important;border:1px solid #cccccc!important;margin-right:.5rem!important}.label-container[_ngcontent-%COMP%]{padding:8px 60px}  .mypage-camere-tab-group .mat-tab-label.mat-ripple{transform:none!important}  .mypage-camere-tab-group .mat-ink-bar{visibility:hidden!important}  .mypage-camere-tab-group .mat-tab-label-active{background-color:var(--main-color)!important;color:#fff!important}  .mypage-camere-tab-group .mat-tab-label-active .top-line{background-color:var(--light-color)!important}  .mypage-camere-tab-group .mat-tab-header{border:none!important}  .mypage-camere-tab-group .mat-tab-labels{justify-content:center!important}.config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:20px;line-height:20px;margin-bottom:.25rem}.config-button-testo-prima-proposte[_ngcontent-%COMP%]{margin-top:-10px}.config-button-testo-dopo-proposte[_ngcontent-%COMP%]{margin-top:-20px}.top-line[_ngcontent-%COMP%]{height:10px}.text-small[_ngcontent-%COMP%]{font-size:14px}.text-big[_ngcontent-%COMP%]{font-size:18px}.color-grey[_ngcontent-%COMP%]{color:#999}"]});const Tu=function(o,n,e,i){return{inAttesaPagamento:o,confermata:n,rifiutata:e,inAttesa:i}};function Mu(o,n){if(1&o&&(t.TgZ(0,"div",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngClass",t.l5B(4,Tu,e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento,e.prenotazione.stato==e.enumStatoPrenotazione.Confermata,e.prenotazione.stato==e.enumStatoPrenotazione.Rifiutata,e.prenotazione.stato==e.enumStatoPrenotazione.InAttesa)),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento?"booking.my-page.inAttesaDiPagamento":null!=e.prenotazione.statoWelcome?e.getEnumKeyTranslation(e.enumStatoPrenotazioneWelcome,e.prenotazione.statoWelcome,"statoPrenotazioneWelcome"):e.getEnumKeyTranslation(e.enumStatoPrenotazione,e.prenotazione.stato,"statoPrenotazione"))," ")}}function yu(o,n){if(1&o&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"titlecase"),t.ALo(4,"date"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"booking.my-page.dataScadenzaAccontoCaparra")," ",t.lcZ(3,4,t.xi3(4,6,e.preventivo.dataScadenzaAccontoCaparra,"dd/MM/yyyy"))," ")}}function Zu(o,n){1&o&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.pagamentoNonConfermato")," "))}function ku(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openBonificoDetails())}),t.TgZ(1,"span",32),t._uU(2," info "),t.qZA()()}}function Au(o,n){if(1&o&&(t.TgZ(0,"div",28)(1,"span",29),t._uU(2),t.qZA(),t.YNc(3,ku,3,0,"button",30),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.prenotazione.nomeModalitaPagamento),t.xp6(1),t.Q6J("ngIf",e.prenotazione.modalitaPagamento.tipo==e.enumTipoModalitaPagamento.BonificoBancario)}}function Su(o,n){if(1&o&&(t.TgZ(0,"div",33)(1,"div",34),t._uU(2),t.qZA(),t.TgZ(3,"div",35),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.prenotazione.modalitaPagamento.banca),t.xp6(2),t.Oqu(e.prenotazione.modalitaPagamento.iban)}}function Ou(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",43)(1,"button",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.openUrlInNewTab(a.prenotazione.urlCheckinOnline))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.my-page.apriCheckIn")))}function Iu(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.stampa())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.stampaPrenotazione")," "))}function qu(o,n){1&o&&(t.TgZ(0,"span",46),t._uU(1,"keyboard_arrow_down"),t.qZA())}function Ju(o,n){1&o&&(t.TgZ(0,"span",46),t._uU(1,"keyboard_arrow_up"),t.qZA())}function Qu(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,Ou,4,3,"div",36),t.TgZ(2,"div"),t.YNc(3,Iu,3,3,"button",37),t.TgZ(4,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(11);return t.KtG(a.toggle())}),t.TgZ(5,"span",25),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,qu,2,0,"span",39),t.YNc(9,Ju,2,0,"span",39),t.qZA()(),t.TgZ(10,"mat-expansion-panel",40,41)(12,"app-mypage-camere",42),t.NdJ("onEditTestoClick",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onEditTestoClick.emit(a))}),t.qZA()(),t.BQk()}if(2&o){const e=t.MAs(11),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.preventivo.statoPreventivo==i.enumStatoPreventivo.Prenotato&&!!i.prenotazione.urlCheckinOnline),t.xp6(2),t.Q6J("ngIf",null!=i.templateStampaOid),t.xp6(3),t.Oqu(t.lcZ(7,16,"booking.my-page.dettagliPrenotazione")),t.xp6(2),t.Q6J("ngIf",!e.expanded),t.xp6(1),t.Q6J("ngIf",e.expanded),t.xp6(3),t.Q6J("camere",i.camere)("isPrenotato",!0)("isVisualizzaDettagli",i.portale.isVisualizzaDettagli)("isVisualizzaDescrizionePoliticaCancellazione",i.portale.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",i.portale.isVisualizzaDescrizioneDettagliataTariffa)("isVisualizzaInformazioniPropostaMyPage",i.portale.isVisualizzaInformazioniPropostaMyPage)("isVisualizzaDettaglioGiornaliero",i.portale.isVisualizzaDettaglioGiornaliero)("isVisualizzaProposteEspanse",i.portale.isVisualizzaProposteEspanse)("testoPrimaProposte",i.preventivo.testoPrimaProposte)("testoDopoProposte",i.preventivo.testoDopoProposte)("config",i.config)}}function Uu(o,n){1&o&&(t.TgZ(0,"h5",49),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"interfaces.pagamento-form.nessunaModalitaPagamento")))}function Nu(o,n){if(1&o&&(t.TgZ(0,"div",59)(1,"h4",58),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-inner-html",60),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.condizioniPrenotazione")),t.xp6(2),t.Q6J("_text",e.condizioniPrenotazione)}}function Eu(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h6",58),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",64)(5,"div",65)(6,"mat-form-field",66)(7,"input",67),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.ospiti[l].nome=a)})("ngModelChange",function(){const r=t.CHM(e).index,l=t.oxw(4);return l.ospiti[r].nome&&(l.ospiti[r].nome=l.utility.capitalize(l.ospiti[r].nome)),t.KtG(l.checkFormValidity())}),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",65)(10,"mat-form-field",66)(11,"input",67),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.ospiti[l].cognome=a)})("ngModelChange",function(){const r=t.CHM(e).index,l=t.oxw(4);return l.ospiti[r].cognome&&(l.ospiti[r].cognome=l.utility.capitalize(l.ospiti[r].cognome)),t.KtG(l.checkFormValidity())}),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",65)(14,"mat-form-field",66)(15,"input",67),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.ospiti[l].email=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.checkFormValidity())}),t.ALo(16,"translate"),t.qZA()()()(),t.BQk()}if(2&o){const e=n.index,i=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,7,"booking.my-page.camera")+" "+(e+1)),t.xp6(5),t.Q6J("placeholder",t.lcZ(8,9,"booking.my-page.nome"))("ngModel",i.ospiti[e].nome),t.xp6(4),t.Q6J("placeholder",t.lcZ(12,11,"booking.my-page.cognome"))("ngModel",i.ospiti[e].cognome),t.xp6(4),t.Q6J("placeholder",t.lcZ(16,13,"booking.my-page.email"))("ngModel",i.ospiti[e].email)}}function Du(o,n){if(1&o&&(t.TgZ(0,"div",61)(1,"h4",62),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Eu,17,15,"ng-container",63),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.ospiti")),t.xp6(2),t.Q6J("ngForOf",e.camere)}}function Lu(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",68)(1,"mat-form-field",69)(2,"input",70),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.voucher=a)}),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"button",71),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(null==a.oidVoucher?a.verificaVoucher():a.resetVoucher())}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Q6J("placeholder",t.lcZ(3,5,"booking.my-page.inserisciVoucher"))("ngModel",e.voucher)("disabled",null!=e.oidVoucher),t.xp6(2),t.Q6J("disabled",!e.voucher||!e.cliente.email),t.xp6(1),t.hij(" ",t.lcZ(6,7,null==e.oidVoucher?"booking.my-page.applica":"booking.my-page.rimuovi")," ")}}function Bu(o,n){if(1&o&&(t.TgZ(0,"mat-option",74),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.oid),t.xp6(1),t.hij(" ",e.nome," ")}}function Vu(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",66)(2,"mat-select",73),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw(4);return t.KtG(l.oidSistemazioni[r]=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.checkFormValidity())}),t.ALo(3,"translate"),t.TgZ(4,"mat-option",74),t._uU(5,"---"),t.qZA(),t.YNc(6,Bu,2,2,"mat-option",75),t.qZA(),t.TgZ(7,"mat-error"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(),i=e.index,a=e.$implicit,r=t.oxw(4);t.xp6(2),t.Q6J("errorStateMatcher",r.oidErrorStateMatcher)("panelClass","mypage-select")("ngModel",r.oidSistemazioni[i])("placeholder",t.lcZ(3,8,"booking.my-page.camera")+" "+(i+1))("required",r.portale.isSistemazioneObbligatoria),t.xp6(2),t.Q6J("value",-1),t.xp6(2),t.Q6J("ngForOf",a.proposte[0].tipoCamera.sistemazioni),t.xp6(2),t.Oqu(t.lcZ(9,10,"globals.required"))}}function Yu(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Vu,10,12,"ng-container",21),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.proposte[0].tipoCamera.sistemazioni&&e.proposte[0].tipoCamera.sistemazioni.length>0)}}function Fu(o,n){if(1&o&&(t.TgZ(0,"div",72)(1,"h4",62),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Yu,2,1,"ng-container",63),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.sistemazioni")),t.xp6(2),t.Q6J("ngForOf",e.camere)}}function Hu(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",57)(2,"h5",58),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",76),t._UZ(6,"app-mypage-riepilogo-prenotazione",77),t.qZA(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,4,"booking.my-page.riepilogoPrenotazione")," "),t.xp6(3),t.Q6J("proposteSelected",e.getCamere())("totale",e.totale-e.scontoVoucher)("caparra",e.caparra)}}function Ru(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,Nu,5,4,"div",50),t.TgZ(2,"div",51)(3,"mat-form-field",52)(4,"textarea",53),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.note=a)}),t.ALo(5,"translate"),t.qZA()()(),t.YNc(6,Du,5,4,"div",54),t.YNc(7,Lu,7,9,"div",55),t.YNc(8,Fu,5,4,"div",56),t.YNc(9,Hu,7,6,"ng-container",21),t.TgZ(10,"div",57)(11,"h5",58),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isVisualizzaCondizioniPrenotazioneStep2&&!!e.condizioniPrenotazione),t.xp6(2),t.Q6J("floatLabel","always"),t.xp6(1),t.Q6J("placeholder",t.lcZ(5,9,"booking.my-page.richieste"))("ngModel",e.note),t.xp6(2),t.Q6J("ngIf",e.portale.isRichiediInformazioniOspiti&&e.camere.length>1),t.xp6(1),t.Q6J("ngIf",e.numeroVoucher>0),t.xp6(1),t.Q6J("ngIf",e.sistemazioni),t.xp6(1),t.Q6J("ngIf",e.isVisualizzaRiepilogoPagamentoMyPage),t.xp6(3),t.hij(" ",t.lcZ(13,11,"booking.my-page.selezionaModalitaPagamento")," ")}}const Gu=function(o,n,e){return{lingua:o,oidPortale:n,oidAlbergo:e}};function Ku(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,Uu,3,3,"h5",47),t.YNc(2,Ru,14,13,"ng-container",21),t.TgZ(3,"app-pagamento-form",48),t.NdJ("createOrder",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.conferma(a))})("noPaymentMethod",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.noPaymentMethod=!0)})("onCaparraChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onCaparraChange(a))}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.noPaymentMethod),t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod),t.xp6(1),t.Q6J("_totale",e.totale-e.scontoVoucher)("linguaPortaleAlbergo",t.kEZ(23,Gu,e.lingua,null!=e.portale?e.portale.oid:null,e.albergo.oid))("_modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.allModalitaPagamento)("cliente",e.cliente)("_formValid",e.formValid)("errorMessage","globals.messages.inserireDati")("elevation",!1)("_isAccettaContrattoPrenotazioneStep2",e.portale.isAccettaContrattoPrenotazioneStep2)("isVerificaCartaCredito",e.portale.isVerificaCartaCredito)("isVisualizzaCRO",e.portale.isVisualizzaCRO)("condizioniContratto",e.condizioniContratto)("_recaptchaAttiva",e.albergo.isRecaptchaAttiva)("arrivo",e.prenotazione.arrivo)("partenza",e.prenotazione.partenza)("_camere",e.getCamere())("_caparra",e.preventivo.caparra)("_isCaparraPercentuale",e.preventivo.isCaparraPercentuale)("note",e.note)("privacy",null==e.cliente?null:e.cliente.privacy)("newsletter",null==e.cliente?null:e.cliente.newsletter)}}function ju(o,n){if(1&o&&(t.TgZ(0,"div",78),t._UZ(1,"app-inner-html",60),t.qZA()),2&o){const e=t.oxw();t.Udp("top",e.templateStampaHtmlTop,"px"),t.xp6(1),t.Q6J("_text",e.templateStampaHtml)}}class Vt extends z.H{constructor(n,e,i,a){super(),this.utility=n,this.mypageService=e,this.containerService=i,this.apiService=a,this.confirmed=new t.vpe,this.onEditTestoClick=new t.vpe,this.onScontoVoucherChange=new t.vpe,this.enumStatoPreventivo=m.N4,this.enumStatoPrenotazione=m.gp,this.enumStatoPrenotazioneWelcome=m.Kg,this.enumTipoModalitaPagamento=m.sc,this.noPaymentMethod=!1,this.formValid=!1,this.scontoVoucher=0,this.caparra=0}ngOnInit(){this.notti=Math.max(P(this.getDate(this.prenotazione.partenza)).diff(P(this.getDate(this.prenotazione.arrivo)),"days"),1),null!=this.preventivo&&(this.cliente=new w.c1h,this.cliente.nome=this.preventivo.cliente.nome,this.cliente.cognome=this.preventivo.cliente.cognome,this.cliente.email=this.preventivo.cliente.email,this.cliente.privacy=this.preventivo.cliente.privacy,this.cliente.newsletter=this.preventivo.cliente.newsletter,this.updateInformazioniPrimoOspite()),this.checkFormValidity()}conferma(n){this.setIsLoading(!0);let e=new p.QIH;e.oidPreventivo=this.preventivo.oid,e.oidPrenotazioni=this.prenotazione.oids,e.oidSistemazioni=this.oidSistemazioni,e.ospiti=this.ospiti,e.note=this.note,e.pagamento=n,e.oidVoucher=this.oidVoucher,this.apiService.confermaMyPage(e).subscribe(()=>{this.setIsLoading(!1),this.confirmed.emit(),this.showInfo("globals.messages.prenotazioneCompletata").then(()=>{this.setIsLoading(!0),window.location.reload()})})}stampa(){this.setIsLoading(!0);let n=new p.spf;n.oidTemplate=this.templateStampaOid,n.oidPrenotazioni=this.prenotazione.oids,this.apiService.replaceTagsTemplate(n).subscribe(e=>{this.templateStampaHtml=e.data.testo,this.templateStampaHtmlTop=this.mypageService.scrollTop,this.setIsLoading(!1),setTimeout(()=>{window.print()},200)})}openBonificoDetails(){let n=new p.Zpt;this.containerService.dimension.width>=992?n.width="50vw":n.width="80vw",n.panelClass="mypage-dialog",this.showModalDialog(Yd.Z,n).componentInstance.modalitaPagamento=this.prenotazione.modalitaPagamento}getCamere(){return this.camere.map(n=>null!=n.proposte&&1==n.proposte.length&&null!=n.proposte[0].proposte&&1==n.proposte[0].proposte.length?n.proposte[0].proposte[0]:null)}checkFormValidity(){this.portale.isSistemazioneObbligatoria&&this.sistemazioni&&!this.oidSistemazioni.every(n=>n>0)||!this.ospiti.every(n=>!n.nome&&!n.cognome&&!n.email||!!n.nome&&!!n.cognome&&!!n.email)?this.formValid=!1:this.formValid=!0}verificaVoucher(){this.setIsLoading(!0);let n=new p.Piw;n.oidAlbergo=this.albergo.oid,n.oidPortale=this.portale.oid,n.codice=this.voucher,n.email=this.cliente.email,n.arrivo=this.preventivo.arrivo,this.apiService.verificaVoucher(n).subscribe(e=>{null!=e.data.oidVoucher&&e.data.oidVoucher>0?(this.oidVoucher=e.data.oidVoucher,this.scontoVoucher=e.data.sconto,this.onScontoVoucherChange.emit(this.scontoVoucher),this.showInfo("booking.my-page.codiceApplicato",{value:Math.min(e.data.sconto,this.totale)})):(this.resetVoucher(),this.showError("booking.my-page.erroreVoucher")),this.setIsLoading(!1)})}resetVoucher(){(null!=this.voucher||null!=this.oidVoucher||0!=this.scontoVoucher)&&(this.voucher=null,this.oidVoucher=null,this.scontoVoucher=0,this.onScontoVoucherChange.emit(this.scontoVoucher))}updateInformazioniPrimoOspite(){this.portale.isRichiediInformazioniOspiti&&null!=this.ospiti&&this.ospiti.length>1&&(this.ospiti[0].nome=this.cliente.nome,this.ospiti[0].cognome=this.cliente.cognome,this.ospiti[0].email=this.cliente.email)}onCaparraChange(n){setTimeout(()=>{this.caparra=n},200)}}Vt.\u0275fac=function(n){return new(n||Vt)(t.Y36(v.t),t.Y36(lt),t.Y36(T.J),t.Y36(k.s))},Vt.\u0275cmp=t.Xpm({type:Vt,selectors:[["app-mypage-prenotazione"]],inputs:{lingua:"lingua",albergo:"albergo",portale:"portale",preventivo:"preventivo",totale:"totale",modalitaPagamento:"modalitaPagamento",allModalitaPagamento:"allModalitaPagamento",prenotazione:"prenotazione",camere:"camere",isVisualizzaCondizioniPrenotazioneStep2:"isVisualizzaCondizioniPrenotazioneStep2",isVisualizzaRiepilogoPagamentoMyPage:"isVisualizzaRiepilogoPagamentoMyPage",condizioniPrenotazione:"condizioniPrenotazione",condizioniContratto:"condizioniContratto",oidSistemazioni:"oidSistemazioni",sistemazioni:"sistemazioni",templateStampaOid:"templateStampaOid",numeroVoucher:"numeroVoucher",ospiti:"ospiti",config:"config"},outputs:{confirmed:"confirmed",onEditTestoClick:"onEditTestoClick",onScontoVoucherChange:"onScontoVoucherChange"},features:[t.qOj],decls:62,vars:65,consts:[[1,"position-relative"],["class","position-absolute scaricaPDFButton","mat-flat-button","",3,"click",4,"ngIf"],[1,"color-blue","font-weight-bold","text-center","mb-2"],["class","stato text-small pr-3 pl-3 pb-1 pt-1 mx-auto",3,"ngClass",4,"ngIf"],["class","text-center text-small mt-1",4,"ngIf"],["class","font-weight-bold text-center",4,"ngIf"],["class","coordinate-bonifico text-center",4,"ngIf"],[1,"mb-2","text-center","text-small"],[1,"prenotazione-container","mat-elevation-z5","mx-auto"],[1,"w-100","background-color-blue","pt-2","pb-2"],[1,"row","m-0"],[1,"col-4","text-center"],[1,"material-icons-round","icon-small"],[1,"row","pt-2","pb-2","m-0"],[1,"col-4","text-center","color-blue"],[1,"text-center","text-small"],[1,"text-center","font-weight-bold"],[1,"col-4","d-flex","justify-content-center","align-items-center","font-weight-bold","color-blue"],[1,"text-center","color-blue","mt-3","div-totalePrenotazione"],[1,"text-big","text-center","totalePrenotazione","font-weight-bold","mb-3"],[1,"price-decimals"],[4,"ngIf"],["class","print-div",3,"top",4,"ngIf"],["mat-flat-button","",1,"position-absolute","scaricaPDFButton",3,"click"],[1,"fas","fa-file-pdf","align-middle","mr-2"],[1,"align-middle"],[1,"stato","text-small","pr-3","pl-3","pb-1","pt-1","mx-auto",3,"ngClass"],[1,"text-center","text-small","mt-1"],[1,"font-weight-bold","text-center"],[1,"d-inline-block","align-middle"],["mat-icon-button","","class","align-middle ml-1 info-button",3,"click",4,"ngIf"],["mat-icon-button","",1,"align-middle","ml-1","info-button",3,"click"],[1,"material-icons-round","info-icon"],[1,"coordinate-bonifico","text-center"],[1,"coordinate-bonifico-banca"],[1,"coordinate-bonifico-iban"],["class","mt-3 mb-3 text-center",4,"ngIf"],["class","stampaPrenotazioneButton text-center d-block mx-auto","mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","",1,"dettagliPrenotazioneButton","text-center","d-block","mx-auto","position-relative",3,"click"],["class","material-icons-round dettagliPrenotazioneIcon",4,"ngIf"],[1,"dettagliPrenotazionePanel","pt-3","mr-n3","ml-n3"],["dettagliPrenotazionePanel",""],[3,"camere","isPrenotato","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isVisualizzaInformazioniPropostaMyPage","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","testoPrimaProposte","testoDopoProposte","config","onEditTestoClick"],[1,"mt-3","mb-3","text-center"],["mat-flat-button","",1,"button-blue",3,"click"],["mat-flat-button","",1,"stampaPrenotazioneButton","text-center","d-block","mx-auto",3,"click"],[1,"material-icons-round","dettagliPrenotazioneIcon"],["class","font-weight-bold mb-0 mt-4 text-center",4,"ngIf"],[3,"_totale","linguaPortaleAlbergo","_modalitaPagamento","allModalitaPagamento","cliente","_formValid","errorMessage","elevation","_isAccettaContrattoPrenotazioneStep2","isVerificaCartaCredito","isVisualizzaCRO","condizioniContratto","_recaptchaAttiva","arrivo","partenza","_camere","_caparra","_isCaparraPercentuale","note","privacy","newsletter","createOrder","noPaymentMethod","onCaparraChange"],[1,"font-weight-bold","mb-0","mt-4","text-center"],["class","mt-3 p-3 border rounded condizioni-prenotazione-container",4,"ngIf"],[1,"richieste-container","border","p-3","mb-3","mt-3"],[1,"w-100","richieste-textarea",3,"floatLabel"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"placeholder","ngModel","ngModelChange"],["class","ospiti-container border p-3 mt-3",4,"ngIf"],["class","voucher-container border pr-3 pl-3 pt-3 mt-3",4,"ngIf"],["class","sistemazioni-container border p-3 mt-3",4,"ngIf"],[1,"text-center","mt-5","mb-3"],[1,"color-blue","font-weight-bold"],[1,"mt-3","p-3","border","rounded","condizioni-prenotazione-container"],[3,"_text"],[1,"ospiti-container","border","p-3","mt-3"],[1,"color-blue","font-weight-bold","mb-3"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-4"],[1,"w-100"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","ngModelChange"],[1,"voucher-container","border","pr-3","pl-3","pt-3","mt-3"],[1,"d-inline-block","align-middle","mr-3","voucher-input"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","disabled","ngModelChange"],["mat-flat-button","",1,"button-blue","d-inline-block","align-middle","voucher-button",3,"disabled","click"],[1,"sistemazioni-container","border","p-3","mt-3"],[3,"errorStateMatcher","panelClass","ngModel","placeholder","required","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"riepilogo-container","d-table","mx-auto","border","p-3"],[3,"proposteSelected","totale","caparra"],[1,"print-div"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Pu,5,3,"button",1),t.TgZ(2,"h4",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Mu,3,9,"div",3),t.YNc(6,yu,5,9,"div",4),t.YNc(7,Zu,3,3,"div",4),t.YNc(8,Au,4,2,"div",5),t.YNc(9,Su,5,2,"div",6),t.TgZ(10,"div",7),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",11)(20,"span",12),t._uU(21,"nights_stay"),t.qZA()(),t.TgZ(22,"div",11),t._uU(23),t.ALo(24,"translate"),t.qZA()()(),t.TgZ(25,"div",13)(26,"div",14)(27,"div",15),t._uU(28),t.ALo(29,"titlecase"),t.ALo(30,"momentFormat"),t.qZA(),t.TgZ(31,"div",16),t._uU(32),t.ALo(33,"titlecase"),t.ALo(34,"momentFormat"),t.qZA(),t.TgZ(35,"div",15),t._uU(36),t.ALo(37,"momentFormat"),t.qZA()(),t.TgZ(38,"div",17),t._uU(39),t.qZA(),t.TgZ(40,"div",14)(41,"div",15),t._uU(42),t.ALo(43,"titlecase"),t.ALo(44,"momentFormat"),t.qZA(),t.TgZ(45,"div",16),t._uU(46),t.ALo(47,"titlecase"),t.ALo(48,"momentFormat"),t.qZA(),t.TgZ(49,"div",15),t._uU(50),t.ALo(51,"momentFormat"),t.qZA()()()(),t.TgZ(52,"div",18),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"div",19),t._uU(56),t.TgZ(57,"small",20),t._uU(58),t.qZA()(),t.YNc(59,Qu,13,18,"ng-container",21),t.YNc(60,Ku,4,27,"ng-container",21),t.qZA(),t.YNc(61,ju,2,3,"div",22)),2&n&&(t.xp6(1),t.Q6J("ngIf",!!e.prenotazione.urlReport),t.xp6(2),t.hij(" ",t.lcZ(4,23,"booking.my-page.prenotazione")," "),t.xp6(2),t.Q6J("ngIf",e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento||e.prenotazione.stato!=e.enumStatoPrenotazione.Nessuno),t.xp6(1),t.Q6J("ngIf",e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento&&null!=e.preventivo.dataScadenzaAccontoCaparra),t.xp6(1),t.Q6J("ngIf",null==e.preventivo.dataConfermaPagamento),t.xp6(1),t.Q6J("ngIf",null!=e.prenotazione.modalitaPagamento&&!!e.prenotazione.nomeModalitaPagamento),t.xp6(1),t.Q6J("ngIf",null!=e.prenotazione.modalitaPagamento&&e.prenotazione.modalitaPagamento.tipo==e.enumTipoModalitaPagamento.BonificoBancario),t.xp6(2),t.hij(" ",t.lcZ(12,25,"booking.my-page.cod")+e.prenotazione.codice," "),t.xp6(6),t.hij(" ",t.lcZ(18,27,"booking.my-page.arrivo")," "),t.xp6(6),t.hij(" ",t.lcZ(24,29,"booking.my-page.partenza")," "),t.xp6(5),t.hij(" ",t.lcZ(29,31,t.Dn7(30,33,e.prenotazione.arrivo,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(33,37,t.Dn7(34,39,e.prenotazione.arrivo,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.Dn7(37,43,e.prenotazione.arrivo,"YYYY",e.getLocale())," "),t.xp6(3),t.hij(" ",e.notti," "),t.xp6(3),t.hij(" ",t.lcZ(43,47,t.Dn7(44,49,e.prenotazione.partenza,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(47,53,t.Dn7(48,55,e.prenotazione.partenza,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.Dn7(51,59,e.prenotazione.partenza,"YYYY",e.getLocale())," "),t.xp6(3),t.hij(" ",t.lcZ(54,63,"booking.my-page.totalePrenotazione")," "),t.xp6(3),t.hij(" ","\u20ac "+e.utility.getPriceIntegerPart(e.prenotazione.totale),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.prenotazione.totale)),t.xp6(1),t.Q6J("ngIf",null!=e.camere&&e.camere.length>0),t.xp6(1),t.Q6J("ngIf",e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento&&null==e.preventivo.modalitaPagamento),t.xp6(1),t.Q6J("ngIf",!!e.templateStampaHtml))},dependencies:[s.mk,s.sg,s.O5,R.X,C.eB,bt.IC,M.nI,M.v_,Y.k0,F.CK,U.x8,W.ib,f.Fj,f.JJ,f.Q7,f.On,Jt.Q,Z.W,Pt,wt,s.rS,s.uU,B.H,b.X$],styles:[".prenotazione-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;overflow:hidden;width:75%}.stampaPrenotazioneButton[_ngcontent-%COMP%]{text-decoration:underline;background-color:transparent}.dettagliPrenotazioneIcon[_ngcontent-%COMP%]{position:absolute;top:5px;right:-15px}.dettagliPrenotazioneButton[_ngcontent-%COMP%]{text-decoration:underline;background-color:transparent}@media (min-width: 768px){.prenotazione-container[_ngcontent-%COMP%]{width:50%}}.icon-small[_ngcontent-%COMP%], .text-big[_ngcontent-%COMP%]{font-size:20px}.text-small[_ngcontent-%COMP%]{font-size:14px}.confermata[_ngcontent-%COMP%]{background-color:#23b574;color:#fff}.rifiutata[_ngcontent-%COMP%]{background-color:#d9534f;color:#fff}.inAttesa[_ngcontent-%COMP%]{background-color:#e0d312;color:#fff}.inAttesaPagamento[_ngcontent-%COMP%]{background-color:orange!important;color:#fff}.stato[_ngcontent-%COMP%]{border-radius:7px;display:table}.scaricaPDFButton[_ngcontent-%COMP%]{background-color:#f2f2f2;border-radius:7px}.totale[_ngcontent-%COMP%], .totalePrenotazione[_ngcontent-%COMP%]{color:#23b574}  .dettagliPrenotazionePanel{box-shadow:none!important;background-color:transparent!important}  .dettagliPrenotazionePanel .mat-expansion-panel-content{font:inherit!important}.condizioni-prenotazione-container[_ngcontent-%COMP%], .sistemazioni-container[_ngcontent-%COMP%], .ospiti-container[_ngcontent-%COMP%], .riepilogo-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}  .richieste-textarea .mat-form-field-underline{visibility:hidden!important}  .richieste-textarea .mat-form-field-wrapper{padding-bottom:0!important}textarea.mat-input-element[_ngcontent-%COMP%]{margin:0;padding:0}.richieste-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.info-button[_ngcontent-%COMP%]{width:16px;height:16px;line-height:16px}.info-icon[_ngcontent-%COMP%]{font-size:16px;line-height:16px}.voucher-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.voucher-input[_ngcontent-%COMP%]{width:calc(100% - 1rem - 100px)}.voucher-button[_ngcontent-%COMP%]{width:100px}.coordinate-bonifico[_ngcontent-%COMP%]{font-size:smaller;font-style:italic}"]});const Xu=["prenotaButton"],$u=["roomLabelsContainer"],Wu=["proposteContainer"];function tf(o,n){1&o&&(t.TgZ(0,"div",15,16),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.my-page.leNostreProposte")))}function ef(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onEditTestoClick.emit(a.enumTestoMyPage.TestoPrimaProposte))}),t.TgZ(1,"i",18),t._uU(2,"edit"),t.qZA()()}}function nf(o,n){if(1&o&&(t.TgZ(0,"div",19),t._UZ(1,"app-inner-html",20),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("_text",e.testoPrimaProposte)}}function of(o,n){1&o&&t._UZ(0,"img",30)}function af(o,n){1&o&&(t.TgZ(0,"span",31),t._uU(1,"check"),t.qZA())}function rf(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"span",32),t._uU(2,"person"),t.qZA(),t.TgZ(3,"span",33),t._uU(4),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("matTooltip",e.etaBambini),t.xp6(1),t.Oqu(e.numeroBambini)}}const Zn=function(o,n){return{"background-green":o,"background-color-blue":n}};function lf(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",22),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.onCameraClick(r))}),t.TgZ(1,"div",23)(2,"div",24),t.YNc(3,of,1,0,"img",25),t.YNc(4,af,2,0,"span",26),t.qZA(),t.TgZ(5,"div",27)(6,"span",28),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",29),t._uU(10,"person"),t.qZA(),t.TgZ(11,"span",28),t._uU(12),t.qZA(),t.YNc(13,rf,5,2,"ng-container",6),t.qZA()()()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw(2);t.Q6J("ngClass",i==a.cameraTabIndex?"background-color-light-blue camera-select-margin":"background-color-white camera-select-margin0"),t.xp6(2),t.Q6J("ngClass",t.WLB(9,Zn,null!=a.proposteSelected&&null!=a.proposteSelected[i],null==a.proposteSelected||null==a.proposteSelected[i])),t.xp6(1),t.Q6J("ngIf",null==a.proposteSelected||null==a.proposteSelected[i]),t.xp6(1),t.Q6J("ngIf",null!=a.proposteSelected&&null!=a.proposteSelected[i]),t.xp6(3),t.Oqu(t.lcZ(8,7,"booking.my-page.camera")+(i+1)),t.xp6(5),t.Oqu(e.numeroAdulti),t.xp6(1),t.Q6J("ngIf",e.numeroBambini>0)}}function cf(o,n){if(1&o&&(t.TgZ(0,"div")(1,"span",37),t._uU(2,"check"),t.qZA(),t.TgZ(3,"span",38),t._uU(4),t.qZA()()),2&o){const e=n.$implicit;t.xp6(4),t.Oqu(e)}}function sf(o,n){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,cf,5,1,"div",11),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.bulletPoints)}}const go=function(o){return{"prenota-button-disabled":o}};function pf(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.prenotaButtonEnabled?a.onContinuaButtonClick.emit():null)}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,sf,2,1,"div",35),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(5,go,!e.prenotaButtonEnabled)),t.xp6(1),t.hij(" ",t.lcZ(3,3,"booking.my-page.prenotaQuestaSoluzione")," "),t.xp6(2),t.Q6J("ngIf",null!=e.bulletPoints&&e.bulletPoints.length>0)}}function gf(o,n){if(1&o&&(t.ynx(0),t.YNc(1,lf,14,12,"div",21),t.YNc(2,pf,5,7,"ng-container",6),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.camere),t.xp6(1),t.Q6J("ngIf",!e.isExpired&&!e.isPrenotato&&e.containerService.dimension.width>=1200)}}function mf(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.previous())}),t.TgZ(2,"span",41),t._uU(3,"keyboard_arrow_left"),t.qZA()(),t.TgZ(4,"button",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.next())}),t.TgZ(5,"span",41),t._uU(6,"keyboard_arrow_right"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.propostaIndex<=0),t.xp6(3),t.Q6J("disabled",e.propostaIndex>=e.camere[e.cameraTabIndex].proposte.length-1)}}function df(o,n){1&o&&(t.TgZ(0,"span",31),t._uU(1,"check"),t.qZA())}function _f(o,n){1&o&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.qZA())}function uf(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"span",32),t._uU(2,"person"),t.qZA(),t.TgZ(3,"span",55),t._uU(4),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("matTooltip",e.etaBambini),t.xp6(1),t.Oqu(e.numeroBambini)}}const mo=function(o){return{"mr-1":o}},_o=function(o,n){return{"background-color-light-blue":o,"background-color-white":n}};function ff(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",49),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.cameraTabIndex=r)}),t.TgZ(1,"div",50),t.YNc(2,df,2,0,"span",26),t.YNc(3,_f,2,0,"span",6),t.qZA(),t.TgZ(4,"div",51)(5,"div",52),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",53)(9,"span",29),t._uU(10,"person"),t.qZA(),t.TgZ(11,"span",54),t._uU(12),t.qZA(),t.YNc(13,uf,5,2,"ng-container",6),t.qZA()()()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw(2);t.Q6J("ngClass",t.VKq(10,mo,i<a.camere.length-1)),t.xp6(1),t.Q6J("ngClass",t.WLB(12,Zn,null!=a.proposteSelected&&null!=a.proposteSelected[i],null==a.proposteSelected||null==a.proposteSelected[i])),t.xp6(1),t.Q6J("ngIf",null!=a.proposteSelected&&null!=a.proposteSelected[i]),t.xp6(1),t.Q6J("ngIf",null==a.proposteSelected||null==a.proposteSelected[i]),t.xp6(1),t.Q6J("ngClass",t.WLB(15,_o,i==a.cameraTabIndex,i!=a.cameraTabIndex)),t.xp6(2),t.hij(" ",t.lcZ(7,8,"booking.my-page.camera")+(i+1)," "),t.xp6(6),t.Oqu(e.numeroAdulti),t.xp6(1),t.Q6J("ngIf",e.numeroBambini>0)}}function hf(o,n){1&o&&(t.TgZ(0,"span",31),t._uU(1,"check"),t.qZA())}function xf(o,n){1&o&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.qZA())}function bf(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"span",32),t._uU(2,"person"),t.qZA(),t.TgZ(3,"span",55),t._uU(4),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("matTooltip",e.etaBambini),t.xp6(1),t.Oqu(e.numeroBambini)}}function vf(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",49),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.cameraTabIndex=r+3)}),t.TgZ(1,"div",50),t.YNc(2,hf,2,0,"span",26),t.YNc(3,xf,2,0,"span",6),t.qZA(),t.TgZ(4,"div",51)(5,"div",52),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",53)(9,"span",29),t._uU(10,"person"),t.qZA(),t.TgZ(11,"span",54),t._uU(12),t.qZA(),t.YNc(13,bf,5,2,"ng-container",6),t.qZA()()()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw(2);t.Udp("width",a.roomLabelWidth,"px"),t.Q6J("ngClass",t.VKq(12,mo,i+3<a.camere.length-1)),t.xp6(1),t.Q6J("ngClass",t.WLB(14,Zn,null!=a.proposteSelected&&null!=a.proposteSelected[i+3],null==a.proposteSelected||null==a.proposteSelected[i+3])),t.xp6(1),t.Q6J("ngIf",null!=a.proposteSelected&&null!=a.proposteSelected[i+3]),t.xp6(1),t.Q6J("ngIf",null==a.proposteSelected||null==a.proposteSelected[i+3]),t.xp6(1),t.Q6J("ngClass",t.WLB(17,_o,i+3==a.cameraTabIndex,i+3!=a.cameraTabIndex)),t.xp6(2),t.hij(" ",t.lcZ(7,10,"booking.my-page.camera")+(i+4)," "),t.xp6(6),t.Oqu(e.numeroAdulti),t.xp6(1),t.Q6J("ngIf",e.numeroBambini>0)}}const Cf=function(o,n){return{"room-selector3":o,"w-100":n}};function zf(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",43,44),t.NdJ("mousedown",function(a){t.CHM(e);const r=t.oxw();return r.cursorStartX=a.clientX,t.KtG(r.cursorStartY=a.clientY)})("mouseup",function(a){t.CHM(e);const r=t.oxw();return r.cursorEndX=a.clientX,r.cursorEndY=a.clientY,t.KtG(r.checkGestureCamereSelect())})("touchstart",function(a){t.CHM(e);const r=t.oxw();return r.cursorStartX=a.touches[0].clientX,t.KtG(r.cursorStartY=a.touches[0].clientY)})("touchend",function(a){t.CHM(e);const r=t.oxw();return r.cursorEndX=a.changedTouches[0].clientX,r.cursorEndY=a.changedTouches[0].clientY,t.KtG(r.checkGestureCamereSelect())}),t.TgZ(2,"div",45)(3,"div",46),t.YNc(4,ff,14,18,"div",47),t.qZA(),t.YNc(5,vf,14,20,"div",48),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngClass",t.WLB(3,Cf,e.camere.length>3,e.camere.length<=3)),t.xp6(1),t.Q6J("ngForOf",e.camere.slice(0,3)),t.xp6(1),t.Q6J("ngForOf",e.camere.slice(3))}}function wf(o,n){if(1&o&&(t.TgZ(0,"div",62)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",63),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&o){const e=t.oxw(2).index;t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.sfogliaLeOpzioniPerLa")),t.xp6(3),t.Oqu(t.lcZ(6,4,"booking.my-page.camera")+(e+1))}}function Pf(o,n){if(1&o&&(t.TgZ(0,"div",68),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.tipoCamera.nome)}}const Tf=function(o){return{"background-color-blue camera-select-circle-selected":o}};function Mf(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",66),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(4);return t.KtG(l.containerService.dimension.width>=992?l.propostaIndex=r:l.toIndex(r))}),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Pf,2,1,"div",67),t.qZA()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw(4);t.Q6J("ngClass",t.VKq(6,Tf,a.propostaIndex==i)),t.xp6(2),t.AsE("",t.lcZ(3,4,"booking.my-page.proposta")," ",i+1,""),t.xp6(2),t.Q6J("ngIf",null!=e.tipoCamera)}}function yf(o,n){if(1&o&&(t.TgZ(0,"div",64),t.YNc(1,Mf,5,8,"div",65),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.proposte)}}function Zf(o,n){if(1&o&&(t.TgZ(0,"div",59),t.YNc(1,wf,7,6,"div",60),t.YNc(2,yf,2,1,"div",61),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.containerService.dimension.width>=992),t.xp6(1),t.Q6J("ngIf",e.proposte.length>1)}}function kf(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab")(1,"app-mypage-proposta",70),t.NdJ("_onPropostaSelected",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onPropostaSelected(a))}),t.qZA()()}if(2&o){const e=n.$implicit,i=t.oxw(2),a=i.$implicit,r=i.index,l=t.oxw();t.xp6(1),t.Q6J("_proposteXTipoCamera",e)("camera",a)("proposteSelected",l.proposteSelected)("cameraTabIndex",r)("isPrenotato",l.isPrenotato)("numeroCamere",l.camere.length)("isVisualizzaDettagli",l.isVisualizzaDettagli)("isVisualizzaDescrizionePoliticaCancellazione",l.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",l.isVisualizzaDescrizioneDettagliataTariffa)("isExpired",l.isExpired)("isVisualizzaDettaglioGiornaliero",l.isVisualizzaDettaglioGiornaliero)("isVisualizzaProposteEspanse",l.isVisualizzaProposteEspanse)("isVisualizzaInformazioniPropostaMyPage",l.isVisualizzaInformazioniPropostaMyPage)}}function Af(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab-group",69),t.NdJ("selectedIndexChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.propostaIndex=a)}),t.YNc(1,kf,2,13,"mat-tab",11),t.qZA()}if(2&o){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("selectedIndex",i.propostaIndex),t.xp6(1),t.Q6J("ngForOf",e.proposte)}}const Sf=function(o,n,e,i){return{"single-proposta":o,"ml-4":n,"mr-4":e,"mr-3":i}};function Of(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",74)(1,"app-mypage-proposta",75),t.NdJ("_onPropostaSelected",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onPropostaSelected(a))}),t.qZA()()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw(2),r=a.$implicit,l=a.index,c=t.oxw();t.Q6J("ngClass",t.l5B(15,Sf,1==r.proposte.length,r.proposte.length>1&&0==i,r.proposte.length>1&&i==r.proposte.length-1,i<r.proposte.length-1)),t.xp6(1),t.Q6J("_proposteXTipoCamera",e)("camera",r)("proposteSelected",c.proposteSelected)("cameraTabIndex",l)("isPrenotato",c.isPrenotato)("numeroCamere",c.camere.length)("isVisualizzaDettagli",c.isVisualizzaDettagli)("isVisualizzaDescrizionePoliticaCancellazione",c.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",c.isVisualizzaDescrizioneDettagliataTariffa)("isExpired",c.isExpired)("_maxImageHeight",70*(c.width-16)/100)("isVisualizzaDettaglioGiornaliero",c.isVisualizzaDettaglioGiornaliero)("isVisualizzaProposteEspanse",c.isVisualizzaProposteEspanse)("isVisualizzaInformazioniPropostaMyPage",c.isVisualizzaInformazioniPropostaMyPage)}}function If(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",71,72),t.NdJ("mousedown",function(a){t.CHM(e);const r=t.oxw(2);return r.cursorStartX=a.clientX,t.KtG(r.cursorStartY=a.clientY)})("mouseup",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw();return l.cursorEndX=a.clientX,l.cursorEndY=a.clientY,t.KtG(l.checkGesture(r))})("touchstart",function(a){t.CHM(e);const r=t.oxw(2);return r.cursorStartX=a.touches[0].clientX,t.KtG(r.cursorStartY=a.touches[0].clientY)})("touchend",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw();return l.cursorEndX=a.changedTouches[0].clientX,l.cursorEndY=a.changedTouches[0].clientY,t.KtG(l.checkGesture(r))}),t.YNc(2,Of,2,20,"div",73),t.qZA()}if(2&o){const e=t.oxw(),i=e.index,a=e.$implicit;t.Tol("w-100 text-center text-nowrap pb-3 overflow-hidden proposteContainer"+i),t.xp6(2),t.Q6J("ngForOf",a.proposte)}}function qf(o,n){if(1&o&&(t.TgZ(0,"mat-tab"),t.YNc(1,Zf,3,2,"div",56),t.YNc(2,Af,2,2,"mat-tab-group",57),t.YNc(3,If,3,3,"div",58),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isPrenotato),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width>=992),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width<992)}}function Jf(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",76),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onEditTestoClick.emit(a.enumTestoMyPage.TestoDopoProposte))}),t.TgZ(1,"i",18),t._uU(2,"edit"),t.qZA()()}}function Qf(o,n){if(1&o&&(t.TgZ(0,"div",77),t._UZ(1,"app-inner-html",20),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("_text",e.testoDopoProposte)}}function Uf(o,n){if(1&o&&(t.TgZ(0,"div")(1,"span",37),t._uU(2,"check"),t.qZA(),t.TgZ(3,"span",38),t._uU(4),t.qZA()()),2&o){const e=n.$implicit;t.xp6(4),t.Oqu(e)}}function Nf(o,n){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,Uf,5,1,"div",11),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.bulletPoints)}}function Ef(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",78,79)(2,"div",80),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.prenotaButtonEnabled?a.onContinuaButtonClick.emit():null)}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,Nf,2,1,"div",35),t.qZA()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngClass",t.VKq(5,go,!e.prenotaButtonEnabled)),t.xp6(1),t.hij(" ",t.lcZ(4,3,"booking.my-page.prenotaQuestaSoluzione")," "),t.xp6(2),t.Q6J("ngIf",null!=e.bulletPoints&&e.bulletPoints.length>0)}}class Yt extends Pt{constructor(n,e){super(n),this.utility=n,this.containerService=e,this.onContinuaButtonClick=new t.vpe,this.onEditTestoClick=new t.vpe,this.propostaIndex=0,this.prenotaButtonEnabled=!1,this.enumTestoMyPage=m.et,this.changeEnabled=!0}ngOnInit(){this.sub=this.continuaButtonEnabled.subscribe(()=>{this.prenotaButtonEnabled=!0,setTimeout(()=>{this.onContinuaButtonClick.emit()},200)}),this.sub1=this.propostaSelected.subscribe(()=>{this.proposteSelected.some(n=>null==n)&&(this.propostaIndex=0)}),this.sub2=this.containerService.windowResizeEvent.subscribe(n=>{this.roomLabelWidth=n.width/3,setTimeout(()=>{this.calculateWidth(),this.toIndex(this.propostaIndex)},500)})}ngAfterViewInit(){this.calculateWidth()}onCameraClick(n){this.cameraTabIndex!=n&&(this.cameraTabIndex=n,this.propostaIndex=0)}previous(){this.propostaIndex>0&&this.propostaIndex--}next(){this.propostaIndex<this.camere[this.cameraTabIndex].proposte.length-1&&this.propostaIndex++}previousProposta(){if(this.changeEnabled&&this.propostaIndex>0){this.changeEnabled=!1;let n=this.getProposteContainer();this.propostaIndex==this.camere[this.cameraTabIndex].proposte.length-1?n.scrollTo({top:0,left:n.scrollLeft-this.startEndScroll,behavior:"smooth"}):n.scrollTo({top:0,left:n.scrollLeft-this.width,behavior:"smooth"}),setTimeout(()=>{this.propostaIndex--,this.changeEnabled=!0},500)}}nextProposta(){if(this.changeEnabled&&this.propostaIndex<this.camere[this.cameraTabIndex].proposte.length-1){this.changeEnabled=!1;let n=this.getProposteContainer();0==this.propostaIndex?n.scrollTo({top:0,left:n.scrollLeft+this.startEndScroll,behavior:"smooth"}):n.scrollTo({top:0,left:n.scrollLeft+this.width,behavior:"smooth"}),setTimeout(()=>{this.propostaIndex++,this.changeEnabled=!0},500)}}toIndex(n){let e=this.getProposteContainer();null!=e&&this.changeEnabled&&(this.changeEnabled=!1,e.scrollTo({top:0,left:n>=1?this.startEndScroll+this.width*(n-1):0,behavior:"smooth"}),setTimeout(()=>{this.propostaIndex=n,this.changeEnabled=!0},500))}getProposteContainer(){if(null!=this.proposteContainer){let n=this.proposteContainer.filter(e=>e.nativeElement.classList.contains("proposteContainer"+this.cameraTabIndex));if(n.length>0)return n[0].nativeElement}return null}checkGesture(n){this.camere[n].proposte.length>1&&Math.abs(this.cursorStartX-this.cursorEndX)>50&&Math.abs(this.cursorStartY-this.cursorEndY)<50&&(this.cursorStartX<this.cursorEndX?this.previousProposta():this.nextProposta())}calculateWidth(){let n=this.getProposteContainer();null!=n&&(this.width=70*n.offsetWidth/100+16,this.startEndScroll=this.width-15*n.offsetWidth/100+24)}scrollToEndRoomLabels(){null!=this.roomLabelsContainer&&this.roomLabelsContainer.nativeElement.scrollTo({top:0,left:this.roomLabelsContainer.nativeElement.scrollWidth,behavior:"smooth"})}scrollToStartRoomLabels(){null!=this.roomLabelsContainer&&this.roomLabelsContainer.nativeElement.scrollTo({top:0,left:0,behavior:"smooth"})}onSelectedTabChange(){this.propostaIndex=0,this.cameraTabIndex>=3?this.scrollToEndRoomLabels():this.scrollToStartRoomLabels()}checkGestureCamereSelect(){Math.abs(this.cursorStartX-this.cursorEndX)>50&&Math.abs(this.cursorStartY-this.cursorEndY)<50&&(this.cursorStartX<this.cursorEndX?this.scrollToStartRoomLabels():this.scrollToEndRoomLabels())}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe()}}Yt.\u0275fac=function(n){return new(n||Yt)(t.Y36(v.t),t.Y36(T.J))},Yt.\u0275cmp=t.Xpm({type:Yt,selectors:[["app-mypage-camere-v2"]],viewQuery:function(n,e){if(1&n&&(t.Gf(Xu,5),t.Gf($u,5),t.Gf(Wu,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.prenotaButton=i.first),t.iGM(i=t.CRH())&&(e.roomLabelsContainer=i.first),t.iGM(i=t.CRH())&&(e.proposteContainer=i)}},inputs:{bulletPoints:"bulletPoints",config:"config"},outputs:{onContinuaButtonClick:"onContinuaButtonClick",onEditTestoClick:"onEditTestoClick"},features:[t.qOj],decls:17,vars:11,consts:[[1,"row"],[1,"col-12","col-xl-4","text-center","text-lg-left"],["class","leNostreProposte color-blue font-weight-bold mb-3",4,"ngIf"],[1,"position-relative"],["mat-mini-fab","","class","button-blue button-blue-circle config-button",3,"click",4,"ngIf"],["class","mb-3 mb-3",4,"ngIf"],[4,"ngIf"],[1,"col-12","col-xl-8","pr-0","pl-0"],["class","d-none d-lg-block",4,"ngIf"],["class","w-100 text-nowrap overflow-hidden pb-3 roomLabelsContainer sticky-top",3,"mousedown","mouseup","touchstart","touchend",4,"ngIf"],[1,"mypage-camere-v2-tab-group",3,"selectedIndex","selectedIndexChange","selectedTabChange"],[4,"ngFor","ngForOf"],["mat-mini-fab","","class","button-blue button-blue-circle config-button config-button-testo-dopo-proposte",3,"click",4,"ngIf"],["class","mt-4 mb-3 text-center",4,"ngIf"],["class","pr-4 pl-4 pb-3 mt-4",4,"ngIf"],[1,"leNostreProposte","color-blue","font-weight-bold","mb-3"],["camereTabGroup",""],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button",3,"click"],[1,"material-icons-round"],[1,"mb-3","mb-3"],[3,"_text"],["class","mt-2 mat-elevation-z5 cursor-pointer camera-select",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"mt-2","mat-elevation-z5","cursor-pointer","camera-select",3,"ngClass","click"],[1,"d-flex"],[1,"d-inline-block","align-middle","camera-icon","mr-4","d-flex","align-items-center","justify-content-center",3,"ngClass"],["class","room-icon","src","/assets/images/booking/room-white.svg",4,"ngIf"],["class","material-icons-round icon-small",4,"ngIf"],[1,"d-inline-block","align-middle","pt-3","pb-3"],[1,"d-inline-block","align-middle","text-big","font-weight-bold","mr-4"],[1,"material-icons-round","icon-small","align-middle","mr-2"],["src","/assets/images/booking/room-white.svg",1,"room-icon"],[1,"material-icons-round","icon-small"],[1,"material-icons-round","child-icon","align-middle","mr-2"],["matTooltipPosition","below","matTooltipClass","mypage-eta-bambini-tooltip-class",1,"d-inline-block","align-middle","text-big","font-weight-bold","mr-4",3,"matTooltip"],[1,"mt-5","prenota-button","text-center","pt-2","pb-2",3,"ngClass","click"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"material-icons-round","icon-small","mr-1","align-middle"],[1,"d-inline-block","align-middle"],[1,"d-none","d-lg-block"],["mat-icon-button","",1,"position-absolute","previous-button-mypage-camere",3,"disabled","click"],[1,"material-icons-round","previous-next-icon"],["mat-icon-button","",1,"position-absolute","next-button-mypage-camere",3,"disabled","click"],[1,"w-100","text-nowrap","overflow-hidden","pb-3","roomLabelsContainer","sticky-top",3,"mousedown","mouseup","touchstart","touchend"],["roomLabelsContainer",""],[1,"grey-container"],[1,"w-100","d-inline-flex","align-top",3,"ngClass"],["class","d-inline-block camera-label mat-elevation-z5 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],["class","d-inline-block camera-label mat-elevation-z5 cursor-pointer",3,"ngClass","width","click",4,"ngFor","ngForOf"],[1,"d-inline-block","camera-label","mat-elevation-z5","cursor-pointer",3,"ngClass","click"],[1,"w-100","text-center","top-row",3,"ngClass"],[1,"w-100","pt-2","pb-2",3,"ngClass"],[1,"w-100","text-center","font-weight-bold"],[1,"w-100","text-center"],[1,"d-inline-block","align-middle","font-weight-bold","mr-4"],["matTooltipPosition","below","matTooltipClass","mypage-eta-bambini-tooltip-class",1,"d-inline-block","align-middle","font-weight-bold",3,"matTooltip"],["class","mb-3 d-table mx-auto text-center mt-0 mt-lg-3 mt-xl-0",4,"ngIf"],["class","mypage-proposte-tab-group",3,"selectedIndex","selectedIndexChange",4,"ngIf"],[3,"class","mousedown","mouseup","touchstart","touchend",4,"ngIf"],[1,"mb-3","d-table","mx-auto","text-center","mt-0","mt-lg-3","mt-xl-0"],["class","text-small d-none d-lg-block",4,"ngIf"],["class","w-100 overflow-auto text-nowrap p-2 text-center",4,"ngIf"],[1,"text-small","d-none","d-lg-block"],[1,"font-weight-bold"],[1,"w-100","overflow-auto","text-nowrap","p-2","text-center"],["class","d-inline-block cursor-pointer camera-select-circle mr-3 font-weight-bold color-blue",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-inline-block","cursor-pointer","camera-select-circle","mr-3","font-weight-bold","color-blue",3,"ngClass","click"],["class","camera-select-descrizione",4,"ngIf"],[1,"camera-select-descrizione"],[1,"mypage-proposte-tab-group",3,"selectedIndex","selectedIndexChange"],[3,"_proposteXTipoCamera","camera","proposteSelected","cameraTabIndex","isPrenotato","numeroCamere","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isExpired","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","isVisualizzaInformazioniPropostaMyPage","_onPropostaSelected"],[3,"mousedown","mouseup","touchstart","touchend"],["proposteContainer",""],["class","d-inline-block text-left proposta",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-inline-block","text-left","proposta",3,"ngClass"],[3,"_proposteXTipoCamera","camera","proposteSelected","cameraTabIndex","isPrenotato","numeroCamere","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isExpired","_maxImageHeight","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","isVisualizzaInformazioniPropostaMyPage","_onPropostaSelected"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button","config-button-testo-dopo-proposte",3,"click"],[1,"mt-4","mb-3","text-center"],[1,"pr-4","pl-4","pb-3","mt-4"],["prenotaButton",""],[1,"mt-4","prenota-button","text-center","pt-2","pb-2","w-100",3,"ngClass","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,tf,4,3,"div",2),t.TgZ(3,"div",3),t.YNc(4,ef,3,0,"button",4),t.YNc(5,nf,2,1,"div",5),t.qZA(),t.YNc(6,gf,3,2,"ng-container",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",3),t.YNc(9,mf,7,2,"div",8),t.YNc(10,zf,6,6,"div",9),t.TgZ(11,"mat-tab-group",10),t.NdJ("selectedIndexChange",function(a){return e.cameraTabIndex=a})("selectedTabChange",function(){return e.onSelectedTabChange()}),t.YNc(12,qf,4,3,"mat-tab",11),t.qZA()(),t.TgZ(13,"div",3),t.YNc(14,Jf,3,0,"button",12),t.YNc(15,Qf,2,1,"div",13),t.qZA(),t.YNc(16,Ef,6,7,"div",14),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!e.isPrenotato),t.xp6(2),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("ngIf",!!e.testoPrimaProposte),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width>=992),t.xp6(3),t.Q6J("ngIf",e.camere[e.cameraTabIndex].proposte.length>1),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width<992),t.xp6(1),t.Q6J("selectedIndex",e.cameraTabIndex),t.xp6(1),t.Q6J("ngForOf",e.camere),t.xp6(2),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("ngIf",!!e.testoDopoProposte),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width<1200&&!e.isExpired&&!e.isPrenotato))},dependencies:[s.mk,s.sg,s.O5,C.eB,j.SK,j.R7,$.Kd,Z.W,Bt,b.X$],styles:[".camera-icon[_ngcontent-%COMP%]{width:50px}.icon-small[_ngcontent-%COMP%]{font-size:20px;line-height:20px}.child-icon[_ngcontent-%COMP%]{font-size:14px;vertical-align:bottom}.text-big[_ngcontent-%COMP%]{font-size:20px}.camera-select-circle[_ngcontent-%COMP%]{border-radius:10px;border:1px solid var(--main-color);font-size:16px;padding:7px}.camera-select-descrizione[_ngcontent-%COMP%]{font-size:12px}.camera-select-circle-selected[_ngcontent-%COMP%]{font-size:22px!important}.icon-big[_ngcontent-%COMP%]{font-size:30px;line-height:30px}.prenota-button[_ngcontent-%COMP%]{cursor:pointer;background-color:#22ca73;color:#fff;animation-name:_ngcontent-%COMP%_buzz-out;animation-duration:4s;animation-timing-function:linear;animation-iteration-count:infinite;transition:background-color .2s ease-out;font-size:22px;width:310px}@media (min-width: 992px){.prenota-button[_ngcontent-%COMP%]{font-size:20px}}.prenota-button[_ngcontent-%COMP%]:not(.prenota-button-disabled):hover{background-color:#1fb467;animation-name:none;transition:background-color .2s ease-out}.prenota-button-disabled[_ngcontent-%COMP%]{animation-name:none;background-color:#c6c6c6;cursor:default}.config-button[_ngcontent-%COMP%]{position:absolute;top:-10px;left:0;z-index:1}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:20px;line-height:20px;margin-bottom:.25rem}@media (min-width: 992px){.config-button[_ngcontent-%COMP%]{left:-45px}}.config-button-testo-dopo-proposte[_ngcontent-%COMP%]{left:20px}@keyframes _ngcontent-%COMP%_buzz-out{2%{transform:translate(3px) rotate(2deg)}4%{transform:translate(-3px) rotate(-2deg)}6%{transform:translate(3px) rotate(2deg)}8%{transform:translate(-3px) rotate(-2deg)}10%{transform:translate(2px) rotate(1deg)}12%{transform:translate(-2px) rotate(-1deg)}14%{transform:translate(2px) rotate(1deg)}16%{transform:translate(-2px) rotate(-1deg)}18%{transform:translate(1px) rotate(0)}20%{transform:translate(-1px) rotate(0)}to{transform:translate(0) rotate(0)}}.background-green[_ngcontent-%COMP%]{background-color:#22ca73;color:#fff}.top-row[_ngcontent-%COMP%]{height:20px}.mypage-camere-v2-tab-group[_ngcontent-%COMP%]{font:inherit!important}  .mypage-camere-v2-tab-group .mat-tab-header{display:none!important}.camera-label[_ngcontent-%COMP%]{flex:1;filter:brightness(1);transition:filter .2s ease-out}.camera-label[_ngcontent-%COMP%]:hover{filter:brightness(.9);transition:filter .2s ease-out}  .previous-button-mypage-camere{left:-30px;top:250px;width:60px;height:60px;line-height:60px;z-index:2}  .previous-button-mypage-camere .mat-ripple{display:none}  .next-button-mypage-camere{right:-30px;top:250px;width:60px;height:60px;line-height:60px;z-index:2}  .next-button-mypage-camere .mat-ripple{display:none}.previous-button-mypage-camere[_ngcontent-%COMP%]:enabled, .next-button-mypage-camere[_ngcontent-%COMP%]:enabled{color:#333!important}.previous-next-icon[_ngcontent-%COMP%]{font-size:60px;line-height:60px}.camera-select[_ngcontent-%COMP%]{width:310px;filter:brightness(1);transition:filter .2s ease-out}.camera-select[_ngcontent-%COMP%]:hover{filter:brightness(.9);transition:filter .2s ease-out}@keyframes _ngcontent-%COMP%_moveRight{0%{transform:translate(0)}to{transform:translate(1.5rem)}}@keyframes _ngcontent-%COMP%_moveLeft{0%{transform:translate(1.5rem)}to{transform:translate(0)}}.camera-select-margin[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_moveRight;animation-duration:.3s;animation-fill-mode:both;animation-timing-function:linear}.camera-select-margin0[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_moveLeft;animation-duration:.3s;animation-fill-mode:both;animation-timing-function:linear}.room-icon[_ngcontent-%COMP%]{width:24px;height:24px}.leNostreProposte[_ngcontent-%COMP%]{font-size:1.8rem;padding-top:10px}@media (min-width: 992px){.leNostreProposte[_ngcontent-%COMP%]{font-size:36px;padding-top:0}}.mypage-proposte-tab-group[_ngcontent-%COMP%]{font:inherit!important}  .mypage-proposte-tab-group .mat-tab-header{display:none!important}  .mypage-proposte-tab-group .mat-tab-body-content{padding-right:1.5rem!important;padding-left:1.5rem!important;padding-bottom:1rem!important}.proposta[_ngcontent-%COMP%]{width:70%;vertical-align:top;-webkit-user-select:none;-moz-user-select:none;user-select:none}.single-proposta[_ngcontent-%COMP%]{width:calc(100% - 3rem)}.room-selector3[_ngcontent-%COMP%]{width:calc(100% - 30px)}.roomLabelsContainer[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.grey-container[_ngcontent-%COMP%]{background-color:#f2f2f2}  .mypage-eta-bambini-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#666!important;color:#fff!important;opacity:1!important;font-weight:600!important;font-size:12px!important}"]});var Df=d(44882);function Lf(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onContenutoEdit.emit(a.oid))}),t.TgZ(1,"i",6),t._uU(2,"edit"),t.qZA()()}}function Bf(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",7),t._UZ(2,"div",8),t.TgZ(3,"div",9)(4,"div",10),t._uU(5),t.qZA(),t._UZ(6,"app-inner-html",11),t.qZA()(),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.Udp("background-image","url("+e.urlImmagine+")"),t.xp6(2),t.Q6J("appInvertColor",e.coloreSfondo?e.coloreSfondo:"FFFFFF")("textColor",i.coloreMyPage),t.xp6(1),t.hij(" ",e.titolo," "),t.xp6(1),t.Q6J("_text",e.testo)}}function Vf(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",7)(2,"div",9)(3,"div",10),t._uU(4),t.qZA(),t._UZ(5,"app-inner-html",11),t.qZA(),t._UZ(6,"div",8),t.qZA(),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(3),t.Q6J("appInvertColor",e.coloreSfondo?e.coloreSfondo:"FFFFFF")("textColor",i.coloreMyPage),t.xp6(1),t.hij(" ",e.titolo," "),t.xp6(1),t.Q6J("_text",e.testo),t.xp6(1),t.Udp("background-image","url("+e.urlImmagine+")")}}function Yf(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Bf,7,6,"ng-container",3),t.YNc(2,Vf,7,6,"ng-container",3),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","left"==e.imagePosition),t.xp6(1),t.Q6J("ngIf","right"==e.imagePosition)}}function Ff(o,n){if(1&o&&(t.TgZ(0,"div",12)(1,"div",10),t._uU(2),t.qZA(),t._UZ(3,"app-inner-html",11),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("appInvertColor",e.coloreSfondo?e.coloreSfondo:"FFFFFF")("textColor",i.coloreMyPage),t.xp6(1),t.hij(" ",e.titolo," "),t.xp6(1),t.Q6J("_text",e.testo)}}const Hf=function(o){return{"text-center p-3 p-lg-5":o}};function Rf(o,n){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,Lf,3,0,"button",2),t.YNc(2,Yf,3,2,"ng-container",3),t.YNc(3,Ff,4,4,"div",4),t.qZA()),2&o){const e=n.$implicit,i=t.oxw();t.Udp("background-color",e.coloreSfondo),t.Q6J("ngClass",t.VKq(7,Hf,!e.urlImmagine))("appInvertColor",e.coloreSfondo),t.xp6(1),t.Q6J("ngIf",i.config),t.xp6(1),t.Q6J("ngIf",!!e.urlImmagine),t.xp6(1),t.Q6J("ngIf",!e.urlImmagine)}}class Je{constructor(){this.onContenutoEdit=new t.vpe}}function Gf(o,n){if(1&o&&(t.TgZ(0,"span",22),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(" ("+e.etaBambini+")")}}function Kf(o,n){if(1&o&&(t.TgZ(0,"div",18)(1,"span",19),t._uU(2,"person"),t.qZA(),t.TgZ(3,"span",20)(4,"span"),t._uU(5),t.qZA(),t.YNc(6,Gf,2,1,"span",21),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("matTooltip",e.etaBambini),t.xp6(2),t.Oqu(e.numeroBambini),t.xp6(1),t.Q6J("ngIf",!!e.etaBambini)}}Je.\u0275fac=function(n){return new(n||Je)},Je.\u0275cmp=t.Xpm({type:Je,selectors:[["app-mypage-contenuti-v2"]],inputs:{contenuti:"contenuti",coloreMyPage:"coloreMyPage",config:"config"},outputs:{onContenutoEdit:"onContenutoEdit"},decls:1,vars:1,consts:[["class","position-relative",3,"ngClass","backgroundColor","appInvertColor",4,"ngFor","ngForOf"],[1,"position-relative",3,"ngClass","appInvertColor"],["mat-mini-fab","","class","button-blue button-blue-circle config-button",3,"click",4,"ngIf"],[4,"ngIf"],["class","contenutoSenzaImmagine mx-auto",4,"ngIf"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button",3,"click"],[1,"material-icons-round"],[1,"row","contenuto-row","mr-0","ml-0"],[1,"col-12","col-lg-7","p-0","immagine-contenuto"],[1,"col-12","col-lg-5","p-3","p-lg-5"],[1,"contenuto-titolo","mb-3","font-weight-bold",3,"appInvertColor","textColor"],[3,"_text"],[1,"contenutoSenzaImmagine","mx-auto"]],template:function(n,e){1&n&&t.YNc(0,Rf,4,9,"div",0),2&n&&t.Q6J("ngForOf",e.contenuti)},dependencies:[s.mk,s.sg,s.O5,Df.Z,C.eB,Z.W],styles:[".immagine-contenuto[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover;height:300px}@media (min-width: 992px){.immagine-contenuto[_ngcontent-%COMP%]{height:auto}}.config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:20px;line-height:20px;margin-bottom:.25rem}.contenuto-row[_ngcontent-%COMP%]{min-height:200px}.contenuto-titolo[_ngcontent-%COMP%]{font-size:1.8rem}@media (min-width: 992px){.contenuto-titolo[_ngcontent-%COMP%]{font-size:36px}}.contenutoSenzaImmagine[_ngcontent-%COMP%]{max-width:992px}"]});const jf=function(o){return{"background-grey":o}};function Xf(o,n){if(1&o&&(t.TgZ(0,"div",10)(1,"div",11),t._UZ(2,"img",12),t.TgZ(3,"span",13),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",14)(7,"div",2)(8,"div",15)(9,"span",16),t._uU(10,"person"),t.qZA(),t.TgZ(11,"span",13),t._uU(12),t.qZA()(),t.YNc(13,Kf,7,3,"div",17),t.qZA()()()),2&o){const e=n.$implicit,i=n.index;t.Q6J("ngClass",t.VKq(6,jf,i%2==1)),t.xp6(4),t.Oqu(t.lcZ(5,4,"booking.my-page.camera")+(i+1)),t.xp6(8),t.Oqu(e.numeroAdulti),t.xp6(1),t.Q6J("ngIf",e.numeroBambini>0)}}function $f(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onVisualizzaCamereClick.emit())}),t.TgZ(1,"div",24)(2,"div",25),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",26)(6,"div")(7,"div",6),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",27)(11,"span"),t._uU(12),t.qZA(),t.TgZ(13,"small",28),t._uU(14),t.qZA()()()()(),t.TgZ(15,"div",29)(16,"div",26)(17,"div")(18,"div",30),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"div",30),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"div",31)(25,"span",32),t._uU(26,"keyboard_arrow_right"),t.qZA()()()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,6,"booking.my-page.totale")," "),t.xp6(5),t.hij(" ",t.lcZ(9,8,"booking.my-page.aPartireDa")," "),t.xp6(4),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.totale)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.totale)),t.xp6(5),t.hij(" ",t.lcZ(20,10,"booking.my-page.visualizzaLeCamere")," "),t.xp6(3),t.hij(" ",t.lcZ(23,12,"booking.my-page.eDefinisciLaTariffa")," ")}}function Wf(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",6),t._uU(9),t.ALo(10,"titlecase"),t.ALo(11,"momentFormat"),t.qZA(),t.TgZ(12,"div",5),t._uU(13),t.ALo(14,"titlecase"),t.ALo(15,"momentFormat"),t.qZA(),t.TgZ(16,"div",6),t._uU(17),t.ALo(18,"titlecase"),t.ALo(19,"momentFormat"),t.qZA()()(),t.TgZ(20,"div",7)(21,"div",4)(22,"div",5),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",6),t._uU(26),t.ALo(27,"titlecase"),t.ALo(28,"momentFormat"),t.qZA(),t.TgZ(29,"div",5),t._uU(30),t.ALo(31,"titlecase"),t.ALo(32,"momentFormat"),t.qZA(),t.TgZ(33,"div",6),t._uU(34),t.ALo(35,"titlecase"),t.ALo(36,"momentFormat"),t.qZA()()()(),t.YNc(37,Xf,14,8,"div",8),t.YNc(38,$f,27,14,"div",9),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,10,"booking.my-page.arrivo")),t.xp6(3),t.hij(" ",t.lcZ(10,12,t.Dn7(11,14,e.richiesta.arrivo,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(14,18,t.Dn7(15,20,e.richiesta.arrivo,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(18,24,t.Dn7(19,26,e.richiesta.arrivo,"YYYY",e.getLocale()))," "),t.xp6(6),t.Oqu(t.lcZ(24,30,"booking.my-page.partenza")),t.xp6(3),t.hij(" ",t.lcZ(27,32,t.Dn7(28,34,e.richiesta.partenza,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(31,38,t.Dn7(32,40,e.richiesta.partenza,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(35,44,t.Dn7(36,46,e.richiesta.partenza,"YYYY",e.getLocale()))," "),t.xp6(3),t.Q6J("ngForOf",e.richiesta.camere),t.xp6(1),t.Q6J("ngIf",e.isNonPrenotato)}}class Qe extends z.H{constructor(n){super(),this.utility=n,this.onVisualizzaCamereClick=new t.vpe}}Qe.\u0275fac=function(n){return new(n||Qe)(t.Y36(v.t))},Qe.\u0275cmp=t.Xpm({type:Qe,selectors:[["app-mypage-richiesta-v2"]],inputs:{totale:"totale",richiesta:"richiesta",isNonPrenotato:"isNonPrenotato"},outputs:{onVisualizzaCamereClick:"onVisualizzaCamereClick"},features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"richiesta-container","mat-elevation-z5"],[1,"row","m-0"],[1,"col-6","pt-2","pb-2","background-color-light-blue","arrivo-col"],[1,"d-table","mx-auto"],[1,"font-weight-bold","text-big"],[1,"text-small"],[1,"col-6","pt-2","pb-2","background-color-blue"],["class","row m-0 pt-3 pb-3",3,"ngClass",4,"ngFor","ngForOf"],["class","row m-0 totale-row pt-2 pb-2 cursor-pointer",3,"click",4,"ngIf"],[1,"row","m-0","pt-3","pb-3",3,"ngClass"],[1,"col-6","pr-0","pl-0"],["src","/assets/images/booking/room.svg",1,"d-inline-block","align-middle","ml-3","mr-3","room-icon"],[1,"d-inline-block","align-middle","text-big","font-weight-bold"],[1,"col-6"],[1,"col-3","pl-0","text-right"],[1,"material-icons-round","icon-small","align-middle","mr-2"],["class","col-9 pr-0 text-left",4,"ngIf"],[1,"col-9","pr-0","text-left"],[1,"material-icons-round","child-icon","align-middle","mr-2"],["matTooltipPosition","below","matTooltipClass","mypage-eta-bambini-tooltip-class",1,"d-inline-block","align-middle","text-big","font-weight-bold",3,"matTooltip"],["class","etaBambini",4,"ngIf"],[1,"etaBambini"],[1,"row","m-0","totale-row","pt-2","pb-2","cursor-pointer",3,"click"],[1,"col-12","col-lg-6","d-flex","justify-content-center","justify-content-lg-start","color-white"],[1,"text-big","font-weight-bold","d-inline-flex","align-items-center","mr-3"],[1,"d-inline-flex","align-items-center"],[1,"totale","mt-n1"],[1,"price-decimals"],[1,"col-12","col-lg-6","pr-0","pl-0","visualizzaLeCamere","text-big","font-weight-bold","d-flex","justify-content-center","justify-content-lg-end"],[1,"font-weight-bold","text-nowrap","text-center","text-lg-left"],[1,"d-none","d-lg-inline-flex","align-items-center"],[1,"material-icons-round","align-middle","icon-big"]],template:function(n,e){1&n&&t.YNc(0,Wf,39,50,"ng-container",0),2&n&&t.Q6J("ngIf",null!=e.richiesta)},dependencies:[s.mk,s.sg,s.O5,$.Kd,s.rS,B.H,b.X$],styles:['.richiesta-container[_ngcontent-%COMP%]{background-color:#fff;overflow:hidden;width:550px;max-width:100%}.icon-small[_ngcontent-%COMP%]{font-size:20px}.text-big[_ngcontent-%COMP%]{font-size:22px;line-height:26px}.text-small[_ngcontent-%COMP%]{font-size:16px;line-height:20px}.child-icon[_ngcontent-%COMP%]{font-size:14px;vertical-align:bottom}.background-grey[_ngcontent-%COMP%]{background-color:#f2f2f2}.arrivo-col[_ngcontent-%COMP%]{position:relative;height:110px;min-height:110px;max-height:110px}.arrivo-col[_ngcontent-%COMP%]:after{content:"";height:100%;border-top:55px solid transparent;border-bottom:55px solid transparent;border-left:30px solid var(--light-color);position:absolute;top:0;right:-30px;z-index:1}.totale-row[_ngcontent-%COMP%]{background-color:#22ca73;transition:background-color .2s ease-out}.totale-row[_ngcontent-%COMP%]:hover{background-color:#1fb467;transition:background-color .2s ease-out}.visualizzaLeCamere[_ngcontent-%COMP%]{color:#016839}.icon-big[_ngcontent-%COMP%]{font-size:50px;line-height:50px}.totale[_ngcontent-%COMP%]{font-size:28px;font-weight:600}.room-icon[_ngcontent-%COMP%]{width:24px;height:24px}  .mypage-eta-bambini-tooltip-class{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f!important;background-color:#666!important;color:#fff!important;opacity:1!important;font-weight:600!important;font-size:12px!important}.etaBambini[_ngcontent-%COMP%]{font-size:14px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}']});const t1=["extrasContainer"],e1=function(o){return{"extra-circle-selected":o}};function n1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"span",8),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw();return t.KtG(l.toIndex(r))}),t._uU(1,"\xa0"),t.qZA()}if(2&o){const e=n.index,i=t.oxw();t.Q6J("ngClass",t.VKq(1,e1,i.extraIndex==e))}}const o1=function(o,n,e,i){return{"single-articolo":o,"ml-4":n,"mr-4":e,"mr-3":i}};function i1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",9)(1,"app-mypage-extra-v2",10),t.NdJ("onQuantitaGiorniChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onQuantitaGiorniChange.emit())}),t.qZA()()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw();t.Q6J("ngClass",t.l5B(4,o1,1==a.articoli.length,a.articoli.length>1&&0==i,a.articoli.length>1&&i==a.articoli.length-1,i<a.articoli.length-1)),t.xp6(1),t.Q6J("articolo",e)("_proposteSelected",a.proposteSelected)("_extraSelected",a.extraSelected)}}class Ue{constructor(n){this.containerService=n,this.onProseguiClick=new t.vpe,this.onQuantitaGiorniChange=new t.vpe,this.extraIndex=0,this.changeEnabled=!0}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(()=>{setTimeout(()=>{this.calculateWidth(),this.toIndex(this.extraIndex)},500)})}ngAfterViewInit(){this.calculateWidth()}previous(){this.changeEnabled&&this.extraIndex>0&&(this.changeEnabled=!1,this.extraIndex==this.articoli.length-1?this.extrasContainer.nativeElement.scrollTo({top:0,left:this.extrasContainer.nativeElement.scrollLeft-this.startEndScroll,behavior:"smooth"}):this.extrasContainer.nativeElement.scrollTo({top:0,left:this.extrasContainer.nativeElement.scrollLeft-this.width,behavior:"smooth"}),setTimeout(()=>{this.extraIndex--,this.changeEnabled=!0},500))}next(){this.changeEnabled&&this.extraIndex<this.articoli.length-1&&(this.changeEnabled=!1,0==this.extraIndex?this.extrasContainer.nativeElement.scrollTo({top:0,left:this.extrasContainer.nativeElement.scrollLeft+this.startEndScroll,behavior:"smooth"}):this.extrasContainer.nativeElement.scrollTo({top:0,left:this.extrasContainer.nativeElement.scrollLeft+this.width,behavior:"smooth"}),setTimeout(()=>{this.extraIndex++,this.changeEnabled=!0},500))}toIndex(n){this.changeEnabled&&(this.changeEnabled=!1,this.extrasContainer.nativeElement.scrollTo({top:0,left:n>=1?this.startEndScroll+this.width*(n-1):0,behavior:"smooth"}),setTimeout(()=>{this.extraIndex=n,this.changeEnabled=!0},500))}checkGesture(){this.articoli.length>1&&Math.abs(this.cursorStartX-this.cursorEndX)>50&&Math.abs(this.cursorStartY-this.cursorEndY)<50&&(this.cursorStartX<this.cursorEndX?this.previous():this.next())}calculateWidth(){this.width=70*this.extrasContainer.nativeElement.offsetWidth/100+16,this.startEndScroll=this.width-15*this.extrasContainer.nativeElement.offsetWidth/100+24}ngOnDestroy(){this.sub.unsubscribe()}}function a1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.utility.openUrlInNewTab(a.prenotazione.urlReport))}),t._UZ(1,"i",21),t.TgZ(2,"span",22),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"booking.my-page.scaricaPDF")))}Ue.\u0275fac=function(n){return new(n||Ue)(t.Y36(T.J))},Ue.\u0275cmp=t.Xpm({type:Ue,selectors:[["app-mypage-extras-v2"]],viewQuery:function(n,e){if(1&n&&t.Gf(t1,5),2&n){let i;t.iGM(i=t.CRH())&&(e.extrasContainer=i.first)}},inputs:{articoli:"articoli",proposteSelected:"proposteSelected",extraSelected:"extraSelected"},outputs:{onProseguiClick:"onProseguiClick",onQuantitaGiorniChange:"onQuantitaGiorniChange"},decls:11,vars:5,consts:[[1,"mb-3"],[1,"mb-4","d-table","mx-auto","text-center"],["class","align-middle d-inline-block extra-circle mr-3",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"w-100","text-center","text-nowrap","overflow-hidden",3,"mousedown","mouseup","touchstart","touchend"],["extrasContainer",""],["class","d-inline-block text-left articolo align-top",3,"ngClass",4,"ngFor","ngForOf"],[1,"pr-4","pl-4","mt-5"],[1,"prosegui-button","mx-auto","text-center","pt-2","pb-2",3,"click"],[1,"align-middle","d-inline-block","extra-circle","mr-3",3,"ngClass","click"],[1,"d-inline-block","text-left","articolo","align-top",3,"ngClass"],[3,"articolo","_proposteSelected","_extraSelected","onQuantitaGiorniChange"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t.YNc(3,n1,2,3,"span",2),t.qZA()(),t.TgZ(4,"div",3,4),t.NdJ("mousedown",function(a){return e.cursorStartX=a.clientX,e.cursorStartY=a.clientY})("mouseup",function(a){return e.cursorEndX=a.clientX,e.cursorEndY=a.clientY,e.checkGesture()})("touchstart",function(a){return e.cursorStartX=a.touches[0].clientX,e.cursorStartY=a.touches[0].clientY})("touchend",function(a){return e.cursorEndX=a.changedTouches[0].clientX,e.cursorEndY=a.changedTouches[0].clientY,e.checkGesture()}),t.YNc(6,i1,2,9,"div",5),t.qZA(),t.TgZ(7,"div",6)(8,"div",7),t.NdJ("click",function(){return e.onProseguiClick.emit()}),t._uU(9),t.ALo(10,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("ngForOf",e.articoli),t.xp6(3),t.Q6J("ngForOf",e.articoli),t.xp6(3),t.hij(" ",t.lcZ(10,3,"booking.my-page.proseguiConLaPrenotazione")," "))},dependencies:[s.mk,s.sg,Lt,b.X$],styles:[".extra-circle[_ngcontent-%COMP%]{cursor:pointer;background-color:#ccc;width:10px;height:10px;border-radius:10px}.extra-circle-selected[_ngcontent-%COMP%]{background-color:gray!important}.prosegui-button[_ngcontent-%COMP%]{cursor:pointer;background-color:#22ca73;color:#fff;font-size:20px;transition:background-color .2s ease-out;width:100%}@media (min-width: 992px){.prosegui-button[_ngcontent-%COMP%]{width:310px}}.prosegui-button[_ngcontent-%COMP%]:hover{background-color:#1fb467;transition:background-color .2s ease-out}.articolo[_ngcontent-%COMP%]{width:70%;-webkit-user-select:none;-moz-user-select:none;user-select:none}.single-articolo[_ngcontent-%COMP%]{width:calc(100% - 3rem)}"]});const r1=function(o,n,e,i){return{inAttesaPagamento:o,confermata:n,rifiutata:e,inAttesa:i}};function l1(o,n){if(1&o&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngClass",t.l5B(4,r1,e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento,e.prenotazione.stato==e.enumStatoPrenotazione.Confermata,e.prenotazione.stato==e.enumStatoPrenotazione.Rifiutata,e.prenotazione.stato==e.enumStatoPrenotazione.InAttesa)),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento?"booking.my-page.inAttesaDiPagamento":null!=e.prenotazione.statoWelcome?e.getEnumKeyTranslation(e.enumStatoPrenotazioneWelcome,e.prenotazione.statoWelcome,"statoPrenotazioneWelcome"):e.getEnumKeyTranslation(e.enumStatoPrenotazione,e.prenotazione.stato,"statoPrenotazione"))," ")}}function c1(o,n){if(1&o&&(t.TgZ(0,"div",24),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"titlecase"),t.ALo(4,"date"),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"booking.my-page.dataScadenzaAccontoCaparra")," ",t.lcZ(3,4,t.xi3(4,6,e.preventivo.dataScadenzaAccontoCaparra,"dd/MM/yyyy"))," ")}}function s1(o,n){1&o&&(t.TgZ(0,"div",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.pagamentoNonConfermato")," "))}function p1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openBonificoDetails())}),t.TgZ(1,"span",29),t._uU(2," info "),t.qZA()()}}function g1(o,n){if(1&o&&(t.TgZ(0,"div",25)(1,"span",26),t._uU(2),t.qZA(),t.YNc(3,p1,3,0,"button",27),t.qZA()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.prenotazione.nomeModalitaPagamento),t.xp6(1),t.Q6J("ngIf",e.prenotazione.modalitaPagamento.tipo==e.enumTipoModalitaPagamento.BonificoBancario)}}function m1(o,n){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31),t._uU(2),t.qZA(),t.TgZ(3,"div",32),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.prenotazione.modalitaPagamento.banca),t.xp6(2),t.Oqu(e.prenotazione.modalitaPagamento.iban)}}function d1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.utility.openUrlInNewTab(a.prenotazione.urlCheckinOnline))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.my-page.apriCheckIn")))}function _1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.stampa())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.stampaPrenotazione")," "))}function u1(o,n){1&o&&(t.TgZ(0,"span",43),t._uU(1,"keyboard_arrow_down"),t.qZA())}function f1(o,n){1&o&&(t.TgZ(0,"span",43),t._uU(1,"keyboard_arrow_up"),t.qZA())}function h1(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,d1,4,3,"div",33),t.TgZ(2,"div"),t.YNc(3,_1,3,3,"button",34),t.TgZ(4,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(11);return t.KtG(a.toggle())}),t.TgZ(5,"span",22),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,u1,2,0,"span",36),t.YNc(9,f1,2,0,"span",36),t.qZA()(),t.TgZ(10,"mat-expansion-panel",37,38)(12,"app-mypage-camere-v2",39),t.NdJ("onEditTestoClick",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onEditTestoClick.emit(a))}),t.qZA()(),t.BQk()}if(2&o){const e=t.MAs(11),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.preventivo.statoPreventivo==i.enumStatoPreventivo.Prenotato&&!!i.prenotazione.urlCheckinOnline),t.xp6(2),t.Q6J("ngIf",null!=i.templateStampaOid),t.xp6(3),t.Oqu(t.lcZ(7,16,"booking.my-page.dettagliPrenotazione")),t.xp6(2),t.Q6J("ngIf",!e.expanded),t.xp6(1),t.Q6J("ngIf",e.expanded),t.xp6(3),t.Q6J("camere",i.camere)("isPrenotato",!0)("isVisualizzaDettagli",i.portale.isVisualizzaDettagli)("isVisualizzaDescrizionePoliticaCancellazione",i.portale.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",i.portale.isVisualizzaDescrizioneDettagliataTariffa)("isVisualizzaInformazioniPropostaMyPage",i.portale.isVisualizzaInformazioniPropostaMyPage)("isVisualizzaDettaglioGiornaliero",i.portale.isVisualizzaDettaglioGiornaliero)("isVisualizzaProposteEspanse",i.portale.isVisualizzaProposteEspanse)("testoPrimaProposte",i.preventivo.testoPrimaProposte)("testoDopoProposte",i.preventivo.testoDopoProposte)("config",i.config)}}function x1(o,n){1&o&&(t.TgZ(0,"h5",46),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"interfaces.pagamento-form.nessunaModalitaPagamento")))}function b1(o,n){if(1&o&&(t.TgZ(0,"div",56)(1,"h4",55),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-inner-html",57),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.condizioniPrenotazione")),t.xp6(2),t.Q6J("_text",e.condizioniPrenotazione)}}function v1(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h6",55),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",61)(5,"div",62)(6,"mat-form-field",63)(7,"input",64),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.ospiti[l].nome=a)})("ngModelChange",function(){const r=t.CHM(e).index,l=t.oxw(4);return l.ospiti[r].nome&&(l.ospiti[r].nome=l.utility.capitalize(l.ospiti[r].nome)),t.KtG(l.checkFormValidity())}),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",62)(10,"mat-form-field",63)(11,"input",64),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.ospiti[l].cognome=a)})("ngModelChange",function(){const r=t.CHM(e).index,l=t.oxw(4);return l.ospiti[r].cognome&&(l.ospiti[r].cognome=l.utility.capitalize(l.ospiti[r].cognome)),t.KtG(l.checkFormValidity())}),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",62)(14,"mat-form-field",63)(15,"input",64),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.ospiti[l].email=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.checkFormValidity())}),t.ALo(16,"translate"),t.qZA()()()(),t.BQk()}if(2&o){const e=n.index,i=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,7,"booking.my-page.camera")+" "+(e+1)),t.xp6(5),t.Q6J("placeholder",t.lcZ(8,9,"booking.my-page.nome"))("ngModel",i.ospiti[e].nome),t.xp6(4),t.Q6J("placeholder",t.lcZ(12,11,"booking.my-page.cognome"))("ngModel",i.ospiti[e].cognome),t.xp6(4),t.Q6J("placeholder",t.lcZ(16,13,"booking.my-page.email"))("ngModel",i.ospiti[e].email)}}function C1(o,n){if(1&o&&(t.TgZ(0,"div",58)(1,"h4",59),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,v1,17,15,"ng-container",60),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.ospiti")),t.xp6(2),t.Q6J("ngForOf",e.camere)}}function z1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",65)(1,"mat-form-field",66)(2,"input",67),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.voucher=a)}),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"button",68),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(null==a.oidVoucher?a.verificaVoucher():a.resetVoucher())}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Q6J("placeholder",t.lcZ(3,5,"booking.my-page.inserisciVoucher"))("ngModel",e.voucher)("disabled",null!=e.oidVoucher),t.xp6(2),t.Q6J("disabled",!e.voucher||!e.cliente.email),t.xp6(1),t.hij(" ",t.lcZ(6,7,null==e.oidVoucher?"booking.my-page.applica":"booking.my-page.rimuovi")," ")}}function w1(o,n){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.oid),t.xp6(1),t.hij(" ",e.nome," ")}}function P1(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",63)(2,"mat-select",70),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().index,l=t.oxw(4);return t.KtG(l.oidSistemazioni[r]=a)})("selectionChange",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.checkFormValidity())}),t.ALo(3,"translate"),t.TgZ(4,"mat-option",71),t._uU(5,"---"),t.qZA(),t.YNc(6,w1,2,2,"mat-option",72),t.qZA(),t.TgZ(7,"mat-error"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(),i=e.index,a=e.$implicit,r=t.oxw(4);t.xp6(2),t.Q6J("errorStateMatcher",r.oidErrorStateMatcher)("panelClass","mypage-select")("ngModel",r.oidSistemazioni[i])("placeholder",t.lcZ(3,8,"booking.my-page.camera")+" "+(i+1))("required",r.portale.isSistemazioneObbligatoria),t.xp6(2),t.Q6J("value",-1),t.xp6(2),t.Q6J("ngForOf",a.proposte[0].tipoCamera.sistemazioni),t.xp6(2),t.Oqu(t.lcZ(9,10,"globals.required"))}}function T1(o,n){if(1&o&&(t.ynx(0),t.YNc(1,P1,10,12,"ng-container",18),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.proposte[0].tipoCamera.sistemazioni&&e.proposte[0].tipoCamera.sistemazioni.length>0)}}function M1(o,n){if(1&o&&(t.TgZ(0,"div",69)(1,"h4",59),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,T1,2,1,"ng-container",60),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.my-page.sistemazioni")),t.xp6(2),t.Q6J("ngForOf",e.camere)}}function y1(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",54)(2,"h5",55),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",73),t._UZ(6,"app-mypage-riepilogo-prenotazione",74),t.qZA(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,4,"booking.my-page.riepilogoPrenotazione")," "),t.xp6(3),t.Q6J("proposteSelected",e.getCamere())("totale",e.totale-e.scontoVoucher)("caparra",e.caparra)}}function Z1(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,b1,5,4,"div",47),t.TgZ(2,"div",48)(3,"mat-form-field",49)(4,"textarea",50),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.note=a)}),t.ALo(5,"translate"),t.qZA()()(),t.YNc(6,C1,5,4,"div",51),t.YNc(7,z1,7,9,"div",52),t.YNc(8,M1,5,4,"div",53),t.YNc(9,y1,7,6,"ng-container",18),t.TgZ(10,"div",54)(11,"h5",55),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.isVisualizzaCondizioniPrenotazioneStep2&&!!e.condizioniPrenotazione),t.xp6(2),t.Q6J("floatLabel","always"),t.xp6(1),t.Q6J("placeholder",t.lcZ(5,9,"booking.my-page.richieste"))("ngModel",e.note),t.xp6(2),t.Q6J("ngIf",e.portale.isRichiediInformazioniOspiti&&e.camere.length>1),t.xp6(1),t.Q6J("ngIf",e.numeroVoucher>0),t.xp6(1),t.Q6J("ngIf",e.sistemazioni),t.xp6(1),t.Q6J("ngIf",e.isVisualizzaRiepilogoPagamentoMyPage),t.xp6(3),t.hij(" ",t.lcZ(13,11,"booking.my-page.selezionaModalitaPagamento")," ")}}const k1=function(o,n,e){return{lingua:o,oidPortale:n,oidAlbergo:e}};function A1(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,x1,3,3,"h5",44),t.YNc(2,Z1,14,13,"ng-container",18),t.TgZ(3,"app-pagamento-form",45),t.NdJ("createOrder",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.conferma(a))})("noPaymentMethod",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.noPaymentMethod=!0)})("onCaparraChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onCaparraChange(a))}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.noPaymentMethod),t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod),t.xp6(1),t.Q6J("_totale",e.totale-e.scontoVoucher)("linguaPortaleAlbergo",t.kEZ(23,k1,e.lingua,null!=e.portale?e.portale.oid:null,e.albergo.oid))("_modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.allModalitaPagamento)("cliente",e.cliente)("_formValid",e.formValid)("errorMessage","globals.messages.inserireDati")("elevation",!1)("_isAccettaContrattoPrenotazioneStep2",e.portale.isAccettaContrattoPrenotazioneStep2)("isVerificaCartaCredito",e.portale.isVerificaCartaCredito)("isVisualizzaCRO",e.portale.isVisualizzaCRO)("condizioniContratto",e.condizioniContratto)("_recaptchaAttiva",e.albergo.isRecaptchaAttiva)("arrivo",e.prenotazione.arrivo)("partenza",e.prenotazione.partenza)("_camere",e.getCamere())("_caparra",e.preventivo.caparra)("_isCaparraPercentuale",e.preventivo.isCaparraPercentuale)("note",e.note)("privacy",null==e.cliente?null:e.cliente.privacy)("newsletter",null==e.cliente?null:e.cliente.newsletter)}}function S1(o,n){if(1&o&&(t.TgZ(0,"div",75),t._UZ(1,"app-inner-html",57),t.qZA()),2&o){const e=t.oxw();t.Udp("top",e.templateStampaHtmlTop,"px"),t.xp6(1),t.Q6J("_text",e.templateStampaHtml)}}class Ne extends Vt{constructor(n,e,i,a){super(n,e,i,a),this.utility=n,this.mypageService=e,this.containerService=i,this.apiService=a}}Ne.\u0275fac=function(n){return new(n||Ne)(t.Y36(v.t),t.Y36(lt),t.Y36(T.J),t.Y36(k.s))},Ne.\u0275cmp=t.Xpm({type:Ne,selectors:[["app-mypage-prenotazione-v2"]],features:[t.qOj],decls:59,vars:68,consts:[[1,"position-relative"],["class","position-absolute scaricaPDFButton","mat-flat-button","",3,"click",4,"ngIf"],[1,"color-blue","font-weight-bold","text-center","mb-2","prenotazione"],["class","stato text-small pr-3 pl-3 pb-1 pt-1 mx-auto",3,"ngClass",4,"ngIf"],["class","text-center text-small mt-1",4,"ngIf"],["class","font-weight-bold text-center",4,"ngIf"],["class","coordinate-bonifico text-center",4,"ngIf"],[1,"mb-2","text-center","text-small"],[1,"prenotazione-container","mat-elevation-z5","mx-auto"],[1,"row","m-0"],[1,"col-6","pt-2","pb-2","background-color-light-blue","arrivo-col"],[1,"d-table","mx-auto"],[1,"font-weight-bold","text-big"],[1,"text-small"],[1,"col-6","pt-2","pb-2","background-color-blue"],[1,"text-center","color-blue","mt-3","div-totalePrenotazione"],[1,"text-big","text-center","totalePrenotazione","font-weight-bold","mb-3"],[1,"price-decimals"],[4,"ngIf"],["class","print-div",3,"top",4,"ngIf"],["mat-flat-button","",1,"position-absolute","scaricaPDFButton",3,"click"],[1,"fas","fa-file-pdf","align-middle","mr-2"],[1,"align-middle"],[1,"stato","text-small","pr-3","pl-3","pb-1","pt-1","mx-auto",3,"ngClass"],[1,"text-center","text-small","mt-1"],[1,"font-weight-bold","text-center"],[1,"d-inline-block","align-middle"],["mat-icon-button","","class","align-middle ml-1 info-button",3,"click",4,"ngIf"],["mat-icon-button","",1,"align-middle","ml-1","info-button",3,"click"],[1,"material-icons-round","info-icon"],[1,"coordinate-bonifico","text-center"],[1,"coordinate-bonifico-banca"],[1,"coordinate-bonifico-iban"],["class","text-center mb-3",4,"ngIf"],["class","stampaPrenotazioneButton text-center d-block mx-auto","mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","",1,"dettagliPrenotazioneButton","text-center","d-block","mx-auto","position-relative",3,"click"],["class","material-icons-round dettagliPrenotazioneIcon",4,"ngIf"],[1,"dettagliPrenotazionePanel","pt-3"],["dettagliPrenotazionePanel",""],[3,"camere","isPrenotato","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isVisualizzaInformazioniPropostaMyPage","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","testoPrimaProposte","testoDopoProposte","config","onEditTestoClick"],[1,"text-center","mb-3"],["mat-flat-button","",1,"button-blue",3,"click"],["mat-flat-button","",1,"stampaPrenotazioneButton","text-center","d-block","mx-auto",3,"click"],[1,"material-icons-round","dettagliPrenotazioneIcon"],["class","font-weight-bold mb-0 mt-4 text-center",4,"ngIf"],[3,"_totale","linguaPortaleAlbergo","_modalitaPagamento","allModalitaPagamento","cliente","_formValid","errorMessage","elevation","_isAccettaContrattoPrenotazioneStep2","isVerificaCartaCredito","isVisualizzaCRO","condizioniContratto","_recaptchaAttiva","arrivo","partenza","_camere","_caparra","_isCaparraPercentuale","note","privacy","newsletter","createOrder","noPaymentMethod","onCaparraChange"],[1,"font-weight-bold","mb-0","mt-4","text-center"],["class","mt-3 p-3 border rounded condizioni-prenotazione-container",4,"ngIf"],[1,"richieste-container","border","p-3","mb-3","mt-3"],[1,"w-100","richieste-textarea",3,"floatLabel"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"placeholder","ngModel","ngModelChange"],["class","ospiti-container border p-3 mt-3",4,"ngIf"],["class","voucher-container border pr-3 pl-3 pt-3 mt-3",4,"ngIf"],["class","sistemazioni-container border p-3 mt-3",4,"ngIf"],[1,"text-center","mt-5","mb-3"],[1,"color-blue","font-weight-bold"],[1,"mt-3","p-3","border","rounded","condizioni-prenotazione-container"],[3,"_text"],[1,"ospiti-container","border","p-3","mt-3"],[1,"color-blue","font-weight-bold","mb-3"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-4"],[1,"w-100"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","ngModelChange"],[1,"voucher-container","border","pr-3","pl-3","pt-3","mt-3"],[1,"d-inline-block","align-middle","mr-3","voucher-input"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","disabled","ngModelChange"],["mat-flat-button","",1,"button-blue","d-inline-block","align-middle","voucher-button",3,"disabled","click"],[1,"sistemazioni-container","border","p-3","mt-3"],[3,"errorStateMatcher","panelClass","ngModel","placeholder","required","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"riepilogo-container","d-table","mx-auto","border","p-3"],[3,"proposteSelected","totale","caparra"],[1,"print-div"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,a1,5,3,"button",1),t.TgZ(2,"div",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,l1,3,9,"div",3),t.YNc(6,c1,5,9,"div",4),t.YNc(7,s1,3,3,"div",4),t.YNc(8,g1,4,2,"div",5),t.YNc(9,m1,5,2,"div",6),t.TgZ(10,"div",7),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",13),t._uU(21),t.ALo(22,"titlecase"),t.ALo(23,"momentFormat"),t.qZA(),t.TgZ(24,"div",12),t._uU(25),t.ALo(26,"titlecase"),t.ALo(27,"momentFormat"),t.qZA(),t.TgZ(28,"div",13),t._uU(29),t.ALo(30,"titlecase"),t.ALo(31,"momentFormat"),t.qZA()()(),t.TgZ(32,"div",14)(33,"div",11)(34,"div",12),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"div",13),t._uU(38),t.ALo(39,"titlecase"),t.ALo(40,"momentFormat"),t.qZA(),t.TgZ(41,"div",12),t._uU(42),t.ALo(43,"titlecase"),t.ALo(44,"momentFormat"),t.qZA(),t.TgZ(45,"div",13),t._uU(46),t.ALo(47,"titlecase"),t.ALo(48,"momentFormat"),t.qZA()()()()(),t.TgZ(49,"div",15),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"div",16),t._uU(53),t.TgZ(54,"small",17),t._uU(55),t.qZA()(),t.YNc(56,h1,13,18,"ng-container",18),t.YNc(57,A1,4,27,"ng-container",18),t.qZA(),t.YNc(58,S1,2,3,"div",19)),2&n&&(t.xp6(1),t.Q6J("ngIf",!!e.prenotazione.urlReport),t.xp6(2),t.hij(" ",t.lcZ(4,22,"booking.my-page.prenotazione")," "),t.xp6(2),t.Q6J("ngIf",e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento||e.prenotazione.stato!=e.enumStatoPrenotazione.Nessuno),t.xp6(1),t.Q6J("ngIf",e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento&&null!=e.preventivo.dataScadenzaAccontoCaparra),t.xp6(1),t.Q6J("ngIf",null==e.preventivo.dataConfermaPagamento),t.xp6(1),t.Q6J("ngIf",null!=e.prenotazione.modalitaPagamento&&!!e.prenotazione.nomeModalitaPagamento),t.xp6(1),t.Q6J("ngIf",null!=e.prenotazione.modalitaPagamento&&e.prenotazione.modalitaPagamento.tipo==e.enumTipoModalitaPagamento.BonificoBancario),t.xp6(2),t.hij(" ",t.lcZ(12,24,"booking.my-page.cod")+e.prenotazione.codice," "),t.xp6(7),t.Oqu(t.lcZ(19,26,"booking.my-page.arrivo")),t.xp6(3),t.hij(" ",t.lcZ(22,28,t.Dn7(23,30,e.prenotazione.arrivo,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(26,34,t.Dn7(27,36,e.prenotazione.arrivo,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(30,40,t.Dn7(31,42,e.prenotazione.arrivo,"YYYY",e.getLocale()))," "),t.xp6(6),t.Oqu(t.lcZ(36,46,"booking.my-page.partenza")),t.xp6(3),t.hij(" ",t.lcZ(39,48,t.Dn7(40,50,e.prenotazione.partenza,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(43,54,t.Dn7(44,56,e.prenotazione.partenza,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(47,60,t.Dn7(48,62,e.prenotazione.partenza,"YYYY",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(51,66,"booking.my-page.totalePrenotazione")," "),t.xp6(3),t.hij(" ","\u20ac "+e.utility.getPriceIntegerPart(e.prenotazione.totale),""),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.prenotazione.totale)),t.xp6(1),t.Q6J("ngIf",null!=e.camere&&e.camere.length>0),t.xp6(1),t.Q6J("ngIf",e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento&&null==e.preventivo.modalitaPagamento),t.xp6(1),t.Q6J("ngIf",!!e.templateStampaHtml))},dependencies:[s.mk,s.sg,s.O5,R.X,C.eB,bt.IC,M.nI,M.v_,Y.k0,F.CK,U.x8,W.ib,f.Fj,f.JJ,f.Q7,f.On,Jt.Q,Z.W,Yt,wt,s.rS,s.uU,B.H,b.X$],styles:['.stampaPrenotazioneButton[_ngcontent-%COMP%]{text-decoration:underline;background-color:transparent}.dettagliPrenotazioneIcon[_ngcontent-%COMP%]{position:absolute;top:5px;right:-15px}.dettagliPrenotazioneButton[_ngcontent-%COMP%]{text-decoration:underline;background-color:transparent}.confermata[_ngcontent-%COMP%]{background-color:#23b574;color:#fff}.rifiutata[_ngcontent-%COMP%]{background-color:#d9534f;color:#fff}.inAttesa[_ngcontent-%COMP%]{background-color:#e0d312;color:#fff}.inAttesaPagamento[_ngcontent-%COMP%]{background-color:orange!important;color:#fff}.stato[_ngcontent-%COMP%]{border-radius:7px;display:table}.scaricaPDFButton[_ngcontent-%COMP%]{background-color:#f2f2f2;border-radius:7px}  .dettagliPrenotazionePanel{box-shadow:none!important;background-color:transparent!important}  .dettagliPrenotazionePanel .mat-expansion-panel-content{font:inherit!important}.condizioni-prenotazione-container[_ngcontent-%COMP%], .sistemazioni-container[_ngcontent-%COMP%], .ospiti-container[_ngcontent-%COMP%], .riepilogo-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}  .richieste-textarea .mat-form-field-underline{visibility:hidden!important}  .richieste-textarea .mat-form-field-wrapper{padding-bottom:0!important}textarea.mat-input-element[_ngcontent-%COMP%]{margin:0;padding:0}.richieste-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.prenotazione[_ngcontent-%COMP%]{font-size:1.8rem;padding-top:10px}@media (min-width: 992px){.prenotazione[_ngcontent-%COMP%]{font-size:36px;padding-top:0}}.prenotazione-container[_ngcontent-%COMP%]{overflow:hidden;width:550px;max-width:100%}.text-big[_ngcontent-%COMP%]{font-size:22px;line-height:26px}.text-small[_ngcontent-%COMP%]{font-size:16px;line-height:20px}.arrivo-col[_ngcontent-%COMP%]{position:relative;height:110px;min-height:110px;max-height:110px}.arrivo-col[_ngcontent-%COMP%]:after{content:"";height:100%;border-top:55px solid transparent;border-bottom:55px solid transparent;border-left:30px solid var(--light-color);position:absolute;top:0;right:-30px;z-index:1}.totale[_ngcontent-%COMP%], .totalePrenotazione[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#23b574}.info-button[_ngcontent-%COMP%]{width:16px;height:16px;line-height:16px}.info-icon[_ngcontent-%COMP%]{font-size:16px;line-height:16px}.voucher-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.voucher-input[_ngcontent-%COMP%]{width:calc(100% - 1rem - 100px)}.voucher-button[_ngcontent-%COMP%]{width:100px}.coordinate-bonifico[_ngcontent-%COMP%]{font-size:smaller;font-style:italic}']});const O1=["recensioniContainer"],uo=function(o){return{"recensione-circle-selected":o}};function I1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"span",7),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(3);return t.KtG(l.recensioniPageIndex=r)}),t._uU(1,"\xa0"),t.qZA()}if(2&o){const e=n.index,i=t.oxw(3);t.Q6J("ngClass",t.VKq(1,uo,i.recensioniPageIndex==e))}}function q1(o,n){if(1&o&&(t.TgZ(0,"div",5)(1,"div"),t.YNc(2,I1,2,3,"span",6),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.recensioniPages)}}function J1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.previous())}),t.TgZ(2,"span",9),t._uU(3,"keyboard_arrow_left"),t.qZA()(),t.TgZ(4,"button",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.next())}),t.TgZ(5,"span",9),t._uU(6,"keyboard_arrow_right"),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.recensioniPageIndex<=0),t.xp6(3),t.Q6J("disabled",e.recensioniPageIndex>=e.recensioniPages.length-1)}}function Q1(o,n){if(1&o&&(t.TgZ(0,"div",13),t._UZ(1,"app-recensione",14),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("recensione",e)}}function U1(o,n){if(1&o&&(t.TgZ(0,"mat-tab")(1,"div",11),t.YNc(2,Q1,2,1,"div",12),t.qZA()()),2&o){const e=n.$implicit;t.xp6(2),t.Q6J("ngForOf",e)}}function N1(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,q1,3,1,"div",1),t.TgZ(2,"div",2),t.YNc(3,J1,7,2,"div",0),t.TgZ(4,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.recensioniPageIndex=a)}),t.YNc(5,U1,3,1,"mat-tab",4),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null!=e.recensioni&&e.recensioni.length>1),t.xp6(2),t.Q6J("ngIf",e.recensioni.length>1),t.xp6(1),t.Q6J("selectedIndex",e.recensioniPageIndex),t.xp6(1),t.Q6J("ngForOf",e.recensioniPages)}}function E1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"span",7),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.toIndex(r))}),t._uU(1,"\xa0"),t.qZA()}if(2&o){const e=n.index,i=t.oxw(2);t.Q6J("ngClass",t.VKq(1,uo,i.recensioneIndex==e))}}const D1=function(o,n,e,i){return{"single-recensione":o,"ml-4":n,"mr-4":e,"mr-3":i}};function L1(o,n){if(1&o&&(t.TgZ(0,"div",18),t._UZ(1,"app-recensione",14),t.qZA()),2&o){const e=n.$implicit,i=n.index,a=t.oxw(2);t.Q6J("ngClass",t.l5B(2,D1,1==a.recensioni.length,a.recensioni.length>1&&0==i,a.recensioni.length>1&&i==a.recensioni.length-1,i<a.recensioni.length-1)),t.xp6(1),t.Q6J("recensione",e)}}function B1(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div"),t.YNc(3,E1,2,3,"span",6),t.qZA()(),t.TgZ(4,"div",15,16),t.NdJ("mousedown",function(a){t.CHM(e);const r=t.oxw();return r.cursorStartX=a.clientX,t.KtG(r.cursorStartY=a.clientY)})("mouseup",function(a){t.CHM(e);const r=t.oxw();return r.cursorEndX=a.clientX,r.cursorEndY=a.clientY,t.KtG(r.checkGesture())})("touchstart",function(a){t.CHM(e);const r=t.oxw();return r.cursorStartX=a.touches[0].clientX,t.KtG(r.cursorStartY=a.touches[0].clientY)})("touchend",function(a){t.CHM(e);const r=t.oxw();return r.cursorEndX=a.changedTouches[0].clientX,r.cursorEndY=a.changedTouches[0].clientY,t.KtG(r.checkGesture())}),t.YNc(6,L1,2,7,"div",17),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.recensioni),t.xp6(3),t.Q6J("ngForOf",e.recensioni)}}class Ee{constructor(n,e){this.utility=n,this.containerService=e,this.recensioniPageIndex=0,this.recensioniPages=[],this.recensioneIndex=0,this.changeEnabled=!0}ngOnInit(){this.sub=this.containerService.windowResizeEvent.subscribe(()=>{setTimeout(()=>{this.calculateWidth(),this.toIndex(this.recensioneIndex)},500)});let n=0,e=[];do{e=this.recensioni.slice(n,n+3),e.length>0&&this.recensioniPages.push(e),n+=3}while(3==e.length)}ngAfterViewInit(){this.calculateWidth()}previousRecensione(){this.changeEnabled&&this.recensioneIndex>0&&(this.changeEnabled=!1,this.recensioneIndex==this.recensioni.length-1?this.recensioniContainer.nativeElement.scrollTo({top:0,left:this.recensioniContainer.nativeElement.scrollLeft-this.startEndScroll,behavior:"smooth"}):this.recensioniContainer.nativeElement.scrollTo({top:0,left:this.recensioniContainer.nativeElement.scrollLeft-this.width,behavior:"smooth"}),setTimeout(()=>{this.recensioneIndex--,this.changeEnabled=!0},500))}nextRecensione(){this.changeEnabled&&this.recensioneIndex<this.recensioni.length-1&&(this.changeEnabled=!1,0==this.recensioneIndex?this.recensioniContainer.nativeElement.scrollTo({top:0,left:this.recensioniContainer.nativeElement.scrollLeft+this.startEndScroll,behavior:"smooth"}):this.recensioniContainer.nativeElement.scrollTo({top:0,left:this.recensioniContainer.nativeElement.scrollLeft+this.width,behavior:"smooth"}),setTimeout(()=>{this.recensioneIndex++,this.changeEnabled=!0},500))}toIndex(n){null!=this.recensioniContainer&&this.changeEnabled&&(this.changeEnabled=!1,this.recensioniContainer.nativeElement.scrollTo({top:0,left:n>=1?this.startEndScroll+this.width*(n-1):0,behavior:"smooth"}),setTimeout(()=>{this.recensioneIndex=n,this.changeEnabled=!0},500))}checkGesture(){this.recensioni.length>1&&Math.abs(this.cursorStartX-this.cursorEndX)>50&&Math.abs(this.cursorStartY-this.cursorEndY)<50&&(this.cursorStartX<this.cursorEndX?this.previousRecensione():this.nextRecensione())}calculateWidth(){null!=this.recensioniContainer&&(this.width=70*this.recensioniContainer.nativeElement.offsetWidth/100+16,this.startEndScroll=this.width-15*this.recensioniContainer.nativeElement.offsetWidth/100+24)}previous(){this.recensioniPageIndex>0&&this.recensioniPageIndex--}next(){this.recensioniPageIndex<this.recensioniPages.length-1&&this.recensioniPageIndex++}ngOnDestroy(){this.sub.unsubscribe()}}Ee.\u0275fac=function(n){return new(n||Ee)(t.Y36(v.t),t.Y36(T.J))},Ee.\u0275cmp=t.Xpm({type:Ee,selectors:[["app-mypage-recensioni-v2"]],viewQuery:function(n,e){if(1&n&&t.Gf(O1,5),2&n){let i;t.iGM(i=t.CRH())&&(e.recensioniContainer=i.first)}},inputs:{recensioni:"recensioni"},decls:2,vars:2,consts:[[4,"ngIf"],["class","mb-4 d-table mx-auto text-center",4,"ngIf"],[1,"position-relative"],[1,"mypage-recensioni-tab-group",3,"selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf"],[1,"mb-4","d-table","mx-auto","text-center"],["class","align-middle d-inline-block recensione-circle mr-3",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"align-middle","d-inline-block","recensione-circle","mr-3",3,"ngClass","click"],["mat-icon-button","",1,"position-absolute","previous-button-mypage-recensioni",3,"disabled","click"],[1,"material-icons-round","previous-next-icon"],["mat-icon-button","",1,"position-absolute","next-button-mypage-recensioni",3,"disabled","click"],[1,"w-100","text-center","text-nowrap","overflow-hidden"],["class","d-inline-block text-left recensione-container mr-3 ml-3",4,"ngFor","ngForOf"],[1,"d-inline-block","text-left","recensione-container","mr-3","ml-3"],[3,"recensione"],[1,"w-100","text-center","text-nowrap","overflow-hidden",3,"mousedown","mouseup","touchstart","touchend"],["recensioniContainer",""],["class","d-inline-block text-left recensione",3,"ngClass",4,"ngFor","ngForOf"],[1,"d-inline-block","text-left","recensione",3,"ngClass"]],template:function(n,e){1&n&&(t.YNc(0,N1,6,4,"ng-container",0),t.YNc(1,B1,7,2,"ng-container",0)),2&n&&(t.Q6J("ngIf",e.containerService.dimension.width>=992),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width<992))},dependencies:[s.mk,s.sg,s.O5,C.eB,j.SK,j.R7,It],styles:[".recensione-container[_ngcontent-%COMP%]{width:calc(33.333% - 2rem);vertical-align:top}.recensione[_ngcontent-%COMP%]{width:70%;vertical-align:top;-webkit-user-select:none;-moz-user-select:none;user-select:none}.single-recensione[_ngcontent-%COMP%]{width:calc(100% - 3rem)}.recensione-circle[_ngcontent-%COMP%]{cursor:pointer;background-color:#ccc;width:10px;height:10px;border-radius:10px}.recensione-circle-selected[_ngcontent-%COMP%]{background-color:gray!important}.mypage-recensioni-tab-group[_ngcontent-%COMP%]{font:inherit!important}  .mypage-recensioni-tab-group .mat-tab-header{display:none!important}  .previous-button-mypage-recensioni{left:-40px;top:calc(50% - 30px);width:60px;height:60px;line-height:60px;z-index:2}  .previous-button-mypage-recensioni .mat-ripple{display:none}  .next-button-mypage-recensioni{right:-40px;top:calc(50% - 30px);width:60px;height:60px;line-height:60px;z-index:2}  .next-button-mypage-recensioni .mat-ripple{display:none}.previous-button-mypage-recensioni[_ngcontent-%COMP%]:enabled, .next-button-mypage-recensioni[_ngcontent-%COMP%]:enabled{color:#333!important}.previous-next-icon[_ngcontent-%COMP%]{font-size:60px;line-height:60px}"]});const V1=["prenotazioneForm"],Y1=["datiForm"],F1=["continuaButton"],H1=["richiestaInnerContainer"],R1=["camereContainer"];function G1(o,n){if(1&o&&t._UZ(0,"app-mypage-header",8),2&o){const e=t.oxw(2);t.Q6J("url",e.portale.url)("urlLogo",e.portale.urlImmagineLogo)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("telefono",e.portale.telefono)("urlIFrameGoogleMap",e.portale.urlIFrameGoogleMap)("cliente",e.preventivo.cliente)("oidAlbergo",e.albergo.oid)("v2",e.versioneMyPage==e.enumVersioneMyPage.Versione2)}}function K1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.editImmagineSfondo())}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function j1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.editImmagineHeader())}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function X1(o,n){if(1&o&&(t.TgZ(0,"div",31),t._UZ(1,"app-image-slider",32),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("images",e.immaginiHeader)("minimumHeight",450)("maximumHeight",450)("gallery",!1)}}function $1(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.editTesto(a.enumTestoMyPage.TestoIniziale))}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function W1(o,n){if(1&o&&(t.TgZ(0,"div",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.ciao")+" "+(null!=e.preventivo.cliente&&e.preventivo.cliente.nome?e.preventivo.cliente.nome:"")," ")}}function th(o,n){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-inner-html",35),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("_text",e.preventivo.testoIniziale)}}function eh(o,n){if(1&o&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.preventivo.noteCliente," ")}}function nh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",37)(1,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.rifiutaPreventivo())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.my-page.rifiutaOfferta")))}function oh(o,n){1&o&&(t.TgZ(0,"div",37)(1,"div",49)(2,"i",50),t._uU(3,"cancel"),t.qZA(),t.TgZ(4,"h3",51),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",52),t._uU(8),t.ALo(9,"translate"),t.qZA()()),2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,2,"booking.my-page.preventivoScaduto"),""),t.xp6(3),t.hij(" ",t.lcZ(9,4,"booking.my-page.preventivoScaduto1")," "))}function ih(o,n){if(1&o&&(t.TgZ(0,"div",53)(1,"span",54),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",54)(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"small",55),t._uU(8),t.qZA()()()),2&o){const e=t.oxw(5);t.xp6(2),t.Oqu(t.lcZ(3,3,"booking.my-page.importoCaparra")),t.xp6(4),t.Oqu("\u20ac "+e.utility.getPriceIntegerPart(e.preventivo.isCaparraPercentuale?(e.totale-e.scontoVoucher)*e.preventivo.caparra/100:e.preventivo.caparra)),t.xp6(2),t.Oqu(","+e.utility.getPriceDecimalPart(e.preventivo.isCaparraPercentuale?(e.totale-e.scontoVoucher)*e.preventivo.caparra/100:e.preventivo.caparra))}}function ah(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.onContinuaClick())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw(5);t.Q6J("disabled",e.continuaButtonDisabled),t.xp6(1),t.Oqu(t.lcZ(2,2,"booking.my-page.continua"))}}function rh(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h4",41)(2,"span",42),t._uU(3,"vpn_key"),t.qZA(),t.TgZ(4,"span",43),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,oh,10,6,"div",22),t.TgZ(8,"div",44)(9,"app-mypage-camere",45),t.NdJ("onEditTestoClick",function(a){t.CHM(e);const r=t.oxw(4);return t.KtG(r.editTesto(a))})("continuaButtonEnabled",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onContinuaButtonEnabled())})("propostaSelected",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onPropostaSelected())}),t.qZA(),t.YNc(10,ih,9,5,"div",46),t._UZ(11,"div",null,47),t.YNc(13,ah,3,4,"button",48),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(4);t.xp6(5),t.Oqu(t.lcZ(6,18,"booking.my-page.proposte")),t.xp6(2),t.Q6J("ngIf",e.isExpired),t.xp6(2),t.Q6J("camere",e.camere)("scadenzaPreventivo",e.preventivo.dataScadenza)("proposteSelected",e.proposteSelected)("isPrenotato",!1)("isExpired",e.isExpired)("testoPrimaProposte",e.preventivo.testoPrimaProposte)("testoDopoProposte",e.preventivo.testoDopoProposte)("isVisualizzaDettagli",e.portale.isVisualizzaDettagli)("isVisualizzaDescrizionePoliticaCancellazione",e.portale.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",e.portale.isVisualizzaDescrizioneDettagliataTariffa)("config",e.config)("isVisualizzaDettaglioGiornaliero",e.portale.isVisualizzaDettaglioGiornaliero)("isVisualizzaProposteEspanse",e.portale.isVisualizzaProposteEspanse)("isVisualizzaInformazioniPropostaMyPage",e.portale.isVisualizzaInformazioniPropostaMyPage),t.xp6(1),t.Q6J("ngIf",e.allProposteSelected&&e.preventivo.caparra>0),t.xp6(3),t.Q6J("ngIf",!e.isExpired)}}function lh(o,n){1&o&&(t.TgZ(0,"h4",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.nessunaProposta")," "))}function ch(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",39),t.YNc(2,rh,14,20,"ng-container",1),t.YNc(3,lh,3,3,"h4",40),t.qZA(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.isPrenotabile),t.xp6(1),t.Q6J("ngIf",!e.isPrenotabile)}}function sh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",58)(1,"app-mypage-prenotazione",59),t.NdJ("confirmed",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.showMessageOnClose=!1)})("onEditTestoClick",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.editTesto(a))})("onScontoVoucherChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.scontoVoucher=a)}),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("lingua",e.preventivo.lingua)("albergo",e.albergo)("portale",e.portale)("preventivo",e.preventivo)("totale",e.totale)("modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.allModalitaPagamento)("prenotazione",e.prenotazione)("camere",e.camere)("isVisualizzaCondizioniPrenotazioneStep2",e.portale.isVisualizzaCondizioniPrenotazioneStep2)("isVisualizzaRiepilogoPagamentoMyPage",e.portale.isVisualizzaRiepilogoPagamentoMyPage)("condizioniPrenotazione",e.condizioniPrenotazione)("condizioniContratto",e.condizioniContratto)("oidSistemazioni",e.oidSistemazioni)("sistemazioni",e.sistemazioni)("templateStampaOid",e.portale.templateStampaOid)("numeroVoucher",e.numeroVoucher)("ospiti",e.ospiti)("config",e.config)}}function ph(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",60)(1,"app-mypage-camere",61),t.NdJ("onEditTestoClick",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.editTesto(a))}),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("camere",e.camere)("isPrenotato",!0)("isVisualizzaDettaglioGiornaliero",e.portale.isVisualizzaDettaglioGiornaliero)("isVisualizzaProposteEspanse",e.portale.isVisualizzaProposteEspanse)("isVisualizzaDettagli",e.portale.isVisualizzaDettagli)("isVisualizzaDescrizionePoliticaCancellazione",e.portale.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",e.portale.isVisualizzaDescrizioneDettagliataTariffa)("isVisualizzaInformazioniPropostaMyPage",e.portale.isVisualizzaInformazioniPropostaMyPage)("testoPrimaProposte",e.preventivo.testoPrimaProposte)("testoDopoProposte",e.preventivo.testoDopoProposte)("config",e.config)}}function gh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(5);return t.KtG(r.editContenuto(a.oid))}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function mh(o,n){if(1&o&&(t.TgZ(0,"div",64),t.YNc(1,gh,3,0,"button",18),t.TgZ(2,"h4",65),t._uU(3),t.qZA(),t._UZ(4,"app-inner-html",35),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw(5);t.xp6(1),t.Q6J("ngIf",i.config),t.xp6(2),t.hij(" ",e.titolo," "),t.xp6(1),t.Q6J("_text",e.testo)}}function dh(o,n){if(1&o&&(t.ynx(0),t.YNc(1,mh,5,3,"div",63),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!!e.titolo&&!!e.testo)}}function _h(o,n){if(1&o&&(t.ynx(0),t.YNc(1,dh,2,1,"ng-container",62),t.BQk()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.contenuti)}}function uh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw(5);return t.KtG(r.editContenuto(a.oid))}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}const fh=function(o){return{"mt-2":o}};function hh(o,n){if(1&o&&(t.TgZ(0,"mat-expansion-panel",68),t.YNc(1,uh,3,0,"button",18),t.TgZ(2,"mat-expansion-panel-header",69),t._uU(3),t.qZA(),t._UZ(4,"app-inner-html",35),t.qZA()),2&o){const e=t.oxw(),i=e.index,a=e.$implicit,r=t.oxw(5);t.Q6J("ngClass",t.VKq(4,fh,i>0)),t.xp6(1),t.Q6J("ngIf",r.config),t.xp6(2),t.hij(" ",a.titolo," "),t.xp6(1),t.Q6J("_text",a.testo)}}function xh(o,n){if(1&o&&(t.ynx(0),t.YNc(1,hh,5,6,"mat-expansion-panel",67),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",!!e.titolo&&!!e.testo)}}function bh(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",66),t.YNc(2,xh,2,1,"ng-container",62),t.qZA(),t.BQk()),2&o){const e=t.oxw(4);t.xp6(2),t.Q6J("ngForOf",e.contenuti)}}function vh(o,n){if(1&o&&(t.ynx(0),t.YNc(1,_h,2,1,"ng-container",1),t.YNc(2,bh,3,1,"ng-container",1),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.preventivo.isVisualizzaContenutiSeparati),t.xp6(1),t.Q6J("ngIf",!e.preventivo.isVisualizzaContenutiSeparati)}}function Ch(o,n){if(1&o&&(t.TgZ(0,"div",70)(1,"h5",71),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-booking-recensioni",72),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,3,"booking.my-page.recensioni")),t.xp6(2),t.Q6J("recensioni",e.recensioni)("startSubject",e.startSubject)}}function zh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.editTesto(a.enumTestoMyPage.TestoUpSelling))}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function wh(o,n){if(1&o&&(t.TgZ(0,"div",84),t._UZ(1,"app-inner-html",35),t.qZA()),2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("_text",e.preventivo.testoUpSelling)}}function Ph(o,n){1&o&&(t.TgZ(0,"h5",85),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.extra")," "))}const Th=function(o,n){return{"pr-md-2":o,"pl-md-2":n}};function Mh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",86)(1,"app-mypage-extra",87),t.NdJ("onQuantitaGiorniChange",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.onExtrasSelectedChange())}),t.qZA()()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw(5);t.Q6J("ngClass",t.WLB(4,Th,(i+1)%2==1,(i+1)%2==0)),t.xp6(1),t.Q6J("articolo",e)("_proposteSelected",a.proposteSelected)("_extraSelected",a.extraSelected)}}function yh(o,n){if(1&o&&(t.TgZ(0,"div",79),t.YNc(1,wh,2,1,"div",80),t.YNc(2,Ph,3,3,"h5",81),t.TgZ(3,"div",82),t.YNc(4,Mh,2,7,"div",83),t.qZA()()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!!e.preventivo.testoUpSelling),t.xp6(1),t.Q6J("ngIf",!e.preventivo.testoUpSelling),t.xp6(2),t.Q6J("ngForOf",e.articoli)}}function Zh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",73,74),t.YNc(2,zh,3,0,"button",75),t.YNc(3,yh,5,3,"div",76),t.TgZ(4,"app-mypage-prenotazione-form",77),t.NdJ("confirmed",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.showMessageOnClose=!1)})("onScontoVoucherChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.scontoVoucher=a)}),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("ngIf",null!=e.articoli&&e.articoli.length>0),t.xp6(1),t.Q6J("lingua",e.preventivo.lingua)("albergo",e.albergo)("portale",e.portale)("preventivo",e.preventivo)("proposteSelected",e.proposteSelected)("totale",e.totale)("modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.allModalitaPagamento)("extraSelected",e.extraSelected)("_cliente",e.preventivo.cliente)("gtmService",e.gtmService)("condizioniPrenotazione",e.condizioniPrenotazione)("condizioniContratto",e.condizioniContratto)("isAccettaPreventiviConPagamentoImmediato",e.preventivo.isAccettaConPagamentoImmediato)("oidPreventivo",e.preventivo.oid)("oidSistemazioni",e.oidSistemazioni)("_sistemazioni",e.sistemazioni)("v2",!1)("numeroVoucher",e.numeroVoucher)("_ospiti",e.ospiti)}}function kh(o,n){if(1&o&&(t.TgZ(0,"div",88)(1,"div",89)(2,"div",90)(3,"span",29),t._uU(4,"message"),t.qZA()(),t._UZ(5,"app-messaggi-send",91),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(5),t.Q6J("_preventivo",e.preventivo)("messaggi",e.messaggi)("mittente",e.enumMittente.Cliente)("nomeAlbergo",e.albergo.nome)("nomePortale",e.portale.nomeStruttura)("maxHeight",500)("booking",!0)}}function Ah(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",9),t.YNc(2,K1,3,0,"button",10),t.TgZ(3,"div",11)(4,"div",12),t.YNc(5,j1,3,0,"button",13),t.YNc(6,X1,2,4,"div",14),t.TgZ(7,"div",15)(8,"div",16),t._uU(9),t.ALo(10,"translate"),t.ALo(11,"translate"),t.ALo(12,"momentFormat"),t.qZA(),t.TgZ(13,"div",17),t.YNc(14,$1,3,0,"button",18),t.YNc(15,W1,3,3,"div",19),t.YNc(16,th,2,1,"div",1),t.qZA(),t._UZ(17,"app-mypage-richiesta",20),t.YNc(18,eh,2,1,"div",21),t.YNc(19,nh,4,3,"div",22),t.qZA()(),t.YNc(20,ch,4,2,"ng-container",1),t.YNc(21,sh,2,19,"div",23),t.YNc(22,ph,2,11,"div",24),t.YNc(23,vh,3,2,"ng-container",1),t.YNc(24,Ch,5,5,"div",25),t.YNc(25,Zh,5,22,"div",26),t.qZA(),t.YNc(26,kh,6,7,"div",27),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.config),t.xp6(3),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("ngIf",null!=e.immaginiHeader&&e.immaginiHeader.length>0),t.xp6(3),t.hij(" ",t.lcZ(10,17,"booking.my-page.preventivo")+" N\xb0 "+e.preventivo.codicePreventivo+t.lcZ(11,19,"booking.my-page.del")+t.Dn7(12,21,e.preventivo.dataPreventivo,"D/MM/YYYY",e.getLocale())," "),t.xp6(5),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("ngIf",!e.preventivo.testoIniziale),t.xp6(1),t.Q6J("ngIf",!!e.preventivo.testoIniziale),t.xp6(1),t.Q6J("richiesta",e.richiesta),t.xp6(1),t.Q6J("ngIf",!!e.preventivo.noteCliente),t.xp6(1),t.Q6J("ngIf",e.portale.isVisualizzaRifiutaOfferta&&!e.isExpired&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Prenotato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Accettato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.InAttesaPagamento&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Rifiutato),t.xp6(1),t.Q6J("ngIf",e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Prenotato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Accettato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.InAttesaPagamento),t.xp6(1),t.Q6J("ngIf",(e.preventivo.statoPreventivo==e.enumStatoPreventivo.Prenotato||e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento)&&null!=e.prenotazione),t.xp6(1),t.Q6J("ngIf",e.preventivo.statoPreventivo==e.enumStatoPreventivo.Accettato),t.xp6(1),t.Q6J("ngIf",null!=e.contenuti&&e.contenuti.length>0),t.xp6(1),t.Q6J("ngIf",null!=e.recensioni&&e.recensioni.length>0),t.xp6(1),t.Q6J("ngIf",e.showPrenotazioneForm&&!e.isExpired&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Prenotato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Accettato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.InAttesaPagamento),t.xp6(1),t.Q6J("ngIf",!e.portale.isNascondiChat)}}function Sh(o,n){if(1&o&&t._UZ(0,"app-image-slider",125),2&o){const e=t.oxw(3);t.Q6J("images",e.immaginiHeader)("minimumHeight",e.containerService.dimension.width>=992?e.richiestaContainerHeight:400)("maximumHeight",e.containerService.dimension.width>=992?e.richiestaContainerHeight:400)("gallery",!1)("updateSize",e.updateImageSize)}}function Oh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",126),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.editImmagineHeader())}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function Ih(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.editTesto(a.enumTestoMyPage.TestoIniziale))}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function qh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.editTesto(a.enumTestoMyPage.TestoIniziale2))}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function Jh(o,n){if(1&o&&(t.TgZ(0,"div",127),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"momentFormat"),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,e.isExpired?"booking.my-page.scadutoIl":"booking.my-page.validoFinoAl")+t.Dn7(3,3,e.preventivo.dataScadenza,"D/MM/YYYY",e.getLocale()))}}function Qh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",128),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.rinnovaRichiesta())}),t.TgZ(1,"span",115),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",116),t._uU(5,"keyboard_arrow_right"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.my-page.rinnovaLaStessaRichiesta")))}function Uh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",129),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.rifiutaPreventivo())}),t.TgZ(1,"span",115),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",116),t._uU(5,"keyboard_arrow_right"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.my-page.rifiutaOfferta")))}function Nh(o,n){if(1&o&&t._UZ(0,"app-inner-html",35),2&o){const e=t.oxw(3);t.Q6J("_text",e.preventivo.testoIniziale)}}function Eh(o,n){if(1&o&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.preventivo.noteCliente," ")}}function Dh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.editTesto(a.enumTestoMyPage.TestoIniziale2))}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function Lh(o,n){if(1&o&&(t.TgZ(0,"div",130),t.YNc(1,Dh,3,0,"button",18),t._UZ(2,"app-inner-html",35),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("_text",e.preventivo.testoIniziale2)}}function Bh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-mypage-camere-v2",133),t.NdJ("onEditTestoClick",function(a){t.CHM(e);const r=t.oxw(4);return t.KtG(r.editTesto(a))})("propostaSelected",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onPropostaSelected())})("continuaButtonEnabled",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onContinuaButtonEnabled())})("onContinuaButtonClick",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onContinuaClick())}),t.qZA()}if(2&o){const e=t.oxw(4);t.Q6J("camere",e.camere)("proposteSelected",e.proposteSelected)("isPrenotato",!1)("isExpired",e.isExpired)("testoPrimaProposte",e.preventivo.testoPrimaProposte)("testoDopoProposte",e.preventivo.testoDopoProposte)("isVisualizzaDettagli",e.portale.isVisualizzaDettagli)("isVisualizzaDescrizionePoliticaCancellazione",e.portale.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",e.portale.isVisualizzaDescrizioneDettagliataTariffa)("isVisualizzaInformazioniPropostaMyPage",e.portale.isVisualizzaInformazioniPropostaMyPage)("bulletPoints",e.bulletPoints)("config",e.config)("isVisualizzaDettaglioGiornaliero",e.portale.isVisualizzaDettaglioGiornaliero)("isVisualizzaProposteEspanse",e.portale.isVisualizzaProposteEspanse)}}function Vh(o,n){1&o&&(t.TgZ(0,"h4",134),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"booking.my-page.nessunaProposta")," "))}function Yh(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Bh,1,14,"app-mypage-camere-v2",131),t.YNc(2,Vh,3,3,"h4",132),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.isPrenotabile),t.xp6(1),t.Q6J("ngIf",!e.isPrenotabile)}}function Fh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-mypage-prenotazione-v2",59),t.NdJ("confirmed",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.showMessageOnClose=!1)})("onEditTestoClick",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.editTesto(a))})("onScontoVoucherChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.scontoVoucher=a)}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("lingua",e.preventivo.lingua)("albergo",e.albergo)("portale",e.portale)("preventivo",e.preventivo)("totale",e.totale)("modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.allModalitaPagamento)("prenotazione",e.prenotazione)("camere",e.camere)("isVisualizzaCondizioniPrenotazioneStep2",e.portale.isVisualizzaCondizioniPrenotazioneStep2)("isVisualizzaRiepilogoPagamentoMyPage",e.portale.isVisualizzaRiepilogoPagamentoMyPage)("condizioniPrenotazione",e.condizioniPrenotazione)("condizioniContratto",e.condizioniContratto)("oidSistemazioni",e.oidSistemazioni)("sistemazioni",e.sistemazioni)("templateStampaOid",e.portale.templateStampaOid)("numeroVoucher",e.numeroVoucher)("ospiti",e.ospiti)("config",e.config)}}function Hh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-mypage-camere-v2",61),t.NdJ("onEditTestoClick",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.editTesto(a))}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("camere",e.camere)("isPrenotato",!0)("isVisualizzaDettaglioGiornaliero",e.portale.isVisualizzaDettaglioGiornaliero)("isVisualizzaProposteEspanse",e.portale.isVisualizzaProposteEspanse)("isVisualizzaDettagli",e.portale.isVisualizzaDettagli)("isVisualizzaDescrizionePoliticaCancellazione",e.portale.isVisualizzaDescrizionePoliticaCancellazione)("isVisualizzaDescrizioneDettagliataTariffa",e.portale.isVisualizzaDescrizioneDettagliataTariffa)("isVisualizzaInformazioniPropostaMyPage",e.portale.isVisualizzaInformazioniPropostaMyPage)("testoPrimaProposte",e.preventivo.testoPrimaProposte)("testoDopoProposte",e.preventivo.testoDopoProposte)("config",e.config)}}function Rh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.editTesto(a.enumTestoMyPage.TestoUpSelling))}),t.TgZ(1,"i",29),t._uU(2,"edit"),t.qZA()()}}function Gh(o,n){if(1&o&&(t.TgZ(0,"div",143),t._UZ(1,"app-inner-html",35),t.qZA()),2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("_text",e.preventivo.testoUpSelling)}}function Kh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",147)(1,"app-mypage-extra-v2",87),t.NdJ("onQuantitaGiorniChange",function(){t.CHM(e);const a=t.oxw(6);return t.KtG(a.onExtrasSelectedChange())}),t.qZA()()}if(2&o){const e=n.$implicit,i=t.oxw(6);t.xp6(1),t.Q6J("articolo",e)("_proposteSelected",i.proposteSelected)("_extraSelected",i.extraSelected)}}function jh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",148),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(6);return t.KtG(a.showMoreArticoli())}),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",149)(5,"span",29),t._uU(6,"keyboard_arrow_down"),t.qZA()()()}2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"booking.my-page.vediAltriServizi")," "))}const Xh=function(o,n){return{"mt-4":o,"mt-5":n}};function $h(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,Kh,2,3,"div",144),t.YNc(2,jh,7,3,"div",145),t.TgZ(3,"div",146),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.onProseguiClick())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.articoliVisible),t.xp6(1),t.Q6J("ngIf",e.articoliVisible.length<e.articoli.length),t.xp6(1),t.Q6J("ngClass",t.WLB(6,Xh,e.articoliVisible.length<e.articoli.length,e.articoliVisible.length>=e.articoli.length)),t.xp6(1),t.hij(" ",t.lcZ(5,4,"booking.my-page.proseguiConLaPrenotazione")," ")}}function Wh(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-mypage-extras-v2",150),t.NdJ("onProseguiClick",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.onProseguiClick())})("onQuantitaGiorniChange",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.onExtrasSelectedChange())}),t.qZA()}if(2&o){const e=t.oxw(5);t.Q6J("articoli",e.articoli)("proposteSelected",e.proposteSelected)("extraSelected",e.extraSelected)}}function tx(o,n){if(1&o&&(t.TgZ(0,"div",138)(1,"div",139),t.YNc(2,Rh,3,0,"button",18),t.TgZ(3,"div",140),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,Gh,2,1,"div",141),t.YNc(7,$h,6,9,"ng-container",1),t.YNc(8,Wh,1,3,"app-mypage-extras-v2",142),t.qZA()),2&o){const e=t.oxw(4);t.xp6(2),t.Q6J("ngIf",e.config),t.xp6(2),t.hij(" ",t.lcZ(5,5,"booking.my-page.serviziAggiuntivi")," "),t.xp6(2),t.Q6J("ngIf",!!e.preventivo.testoUpSelling),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width>=992),t.xp6(1),t.Q6J("ngIf",e.containerService.dimension.width<992)}}function ex(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",null,74),t.YNc(2,tx,9,7,"div",135),t.TgZ(3,"div",136,137)(5,"app-mypage-prenotazione-form",77),t.NdJ("confirmed",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.showMessageOnClose=!1)})("onScontoVoucherChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.scontoVoucher=a)}),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",null!=e.articoli&&e.articoli.length>0),t.xp6(3),t.Q6J("lingua",e.preventivo.lingua)("albergo",e.albergo)("portale",e.portale)("preventivo",e.preventivo)("proposteSelected",e.proposteSelected)("totale",e.totale)("modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.allModalitaPagamento)("extraSelected",e.extraSelected)("_cliente",e.preventivo.cliente)("gtmService",e.gtmService)("condizioniPrenotazione",e.condizioniPrenotazione)("condizioniContratto",e.condizioniContratto)("isAccettaPreventiviConPagamentoImmediato",e.preventivo.isAccettaConPagamentoImmediato)("oidPreventivo",e.preventivo.oid)("oidSistemazioni",e.oidSistemazioni)("_sistemazioni",e.sistemazioni)("v2",!0)("numeroVoucher",e.numeroVoucher)("_ospiti",e.ospiti)}}function nx(o,n){if(1&o&&(t.TgZ(0,"div",151)(1,"div",152),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-mypage-recensioni-v2",153),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,2,"booking.my-page.recensioni")," "),t.xp6(2),t.Q6J("recensioni",e.recensioni)}}const ox=function(o,n){return{"col-12 col-lg-7":o,"col-12":n}};function ix(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",92),t.YNc(2,Sh,1,5,"app-image-slider",93),t.TgZ(3,"div",94),t.YNc(4,Oh,3,0,"button",95),t._UZ(5,"div",96),t.TgZ(6,"div",97,98)(8,"div",99)(9,"div",100),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",101),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"app-mypage-richiesta-v2",102),t.NdJ("onVisualizzaCamereClick",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.scrollToCamere())}),t.qZA()()(),t.TgZ(16,"div",103)(17,"div",104),t.YNc(18,Ih,3,0,"button",18),t.YNc(19,qh,3,0,"button",13),t.TgZ(20,"div",105)(21,"div",106)(22,"div",107),t._UZ(23,"img",108),t.qZA(),t.TgZ(24,"div",109)(25,"div",110),t._uU(26),t.ALo(27,"translate"),t.ALo(28,"translate"),t.ALo(29,"momentFormat"),t.qZA(),t.YNc(30,Jh,4,7,"div",111),t.qZA()(),t.YNc(31,Qh,6,3,"div",112),t.YNc(32,Uh,6,3,"div",113),t.TgZ(33,"div",114),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.richiediNuovoPreventivo())}),t.TgZ(34,"span",115),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"span",116),t._uU(38,"keyboard_arrow_right"),t.qZA()()(),t.YNc(39,Nh,1,1,"app-inner-html",117),t.YNc(40,Eh,2,1,"div",21),t.qZA(),t.YNc(41,Lh,3,2,"div",118),t.qZA(),t.TgZ(42,"div",119,120),t.YNc(44,Yh,3,2,"ng-container",1),t.YNc(45,Fh,1,19,"app-mypage-prenotazione-v2",121),t.YNc(46,Hh,1,11,"app-mypage-camere-v2",122),t.qZA(),t.YNc(47,ex,6,21,"div",1),t.TgZ(48,"app-mypage-contenuti-v2",123),t.NdJ("onContenutoEdit",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.editContenuto(a))}),t.qZA(),t.YNc(49,nx,5,4,"div",124),t.qZA(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",null!=e.immaginiHeader&&e.immaginiHeader.length>0),t.xp6(1),t.Udp("background-image",null!=e.immaginiHeader&&e.immaginiHeader.length>0?null:e.preventivo.urlImmagineSfondo?"url("+e.preventivo.urlImmagineSfondo+")":e.portale.urlImmagineSfondo?"url("+e.portale.urlImmagineSfondo+")":null)("height",e.containerService.dimension.width>=992?e.richiestaContainerHeight:400,"px"),t.xp6(1),t.Q6J("ngIf",e.config),t.xp6(6),t.hij(" ",t.lcZ(11,34,"booking.my-page.buongiorno")+(null!=e.preventivo.cliente&&e.preventivo.cliente.nome?e.preventivo.cliente.nome:"")," "),t.xp6(3),t.hij(" ",t.lcZ(14,36,"booking.my-page.graziePerLaTuaRichiesta")," "),t.xp6(2),t.Q6J("richiesta",e.richiesta)("totale",e.preventivo.totale)("isNonPrenotato",e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Prenotato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Accettato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.InAttesaPagamento),t.xp6(1),t.Udp("margin-top",e.containerService.dimension.width<992?e.richiestaContainerHeight+20:0,"px"),t.xp6(1),t.Q6J("ngClass",t.WLB(48,ox,!!e.preventivo.testoIniziale2,!e.preventivo.testoIniziale2)),t.xp6(1),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("ngIf",e.config&&!e.preventivo.testoIniziale2),t.xp6(2),t.Q6J("ngClass",e.isExpired?"background-grey":"background-color-blue"),t.xp6(1),t.Q6J("ngClass",e.isExpired?"background-red":"background-color-light-blue"),t.xp6(4),t.Oqu(t.lcZ(27,38,"booking.my-page.preventivo")+" N\xb0 "+e.preventivo.codicePreventivo+t.lcZ(28,40,"booking.my-page.del")+t.Dn7(29,42,e.preventivo.dataPreventivo,"D/MM/YYYY",e.getLocale())),t.xp6(4),t.Q6J("ngIf",null!=e.preventivo.dataScadenza),t.xp6(1),t.Q6J("ngIf",e.isExpired),t.xp6(1),t.Q6J("ngIf",e.portale.isVisualizzaRifiutaOfferta&&!e.isExpired&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Prenotato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Accettato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.InAttesaPagamento&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Rifiutato),t.xp6(3),t.Oqu(t.lcZ(36,46,"booking.my-page.richiediUnNuovoPreventivo")),t.xp6(4),t.Q6J("ngIf",!!e.preventivo.testoIniziale),t.xp6(1),t.Q6J("ngIf",!!e.preventivo.noteCliente),t.xp6(1),t.Q6J("ngIf",!!e.preventivo.testoIniziale2),t.xp6(3),t.Q6J("ngIf",e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Prenotato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Accettato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.InAttesaPagamento),t.xp6(1),t.Q6J("ngIf",(e.preventivo.statoPreventivo==e.enumStatoPreventivo.Prenotato||e.preventivo.statoPreventivo==e.enumStatoPreventivo.InAttesaPagamento)&&null!=e.prenotazione),t.xp6(1),t.Q6J("ngIf",e.preventivo.statoPreventivo==e.enumStatoPreventivo.Accettato),t.xp6(1),t.Q6J("ngIf",e.showPrenotazioneForm&&!e.isExpired&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Prenotato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.Accettato&&e.preventivo.statoPreventivo!=e.enumStatoPreventivo.InAttesaPagamento),t.xp6(1),t.Q6J("contenuti",e.contenuti)("coloreMyPage",e.preventivo.coloreMyPage)("config",e.config),t.xp6(1),t.Q6J("ngIf",null!=e.recensioni&&e.recensioni.length>0)}}function ax(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",154),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.configPanelVisible=!a.configPanelVisible)}),t.TgZ(1,"i",29),t._uU(2),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(e.configPanelVisible?"keyboard_arrow_up":"keyboard_arrow_down")}}function rx(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",155)(1,"div",103)(2,"div",156),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",157)(6,"app-view-select",158),t.NdJ("valueChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.tag=a)})("valueChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onTagCrmChange())}),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"div",103)(9,"div",156),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",159)(13,"div",160)(14,"app-color-picker",161),t.NdJ("valueChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.preventivo.coloreMyPage=a)})("valueChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setColor())})("colorChanged",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onColoreChange())}),t.qZA()(),t.TgZ(15,"button",162),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return a.preventivo.coloreMyPage=null,t.KtG(a.onColoreChange())}),t.TgZ(16,"i",163),t._uU(17," settings_backup_restore "),t.qZA()()()(),t.TgZ(18,"div",103)(19,"div",156),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",159)(23,"div",160)(24,"app-color-picker",161),t.NdJ("valueChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.preventivo.coloreSecondarioMyPage=a)})("valueChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setColor())})("colorChanged",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onColoreSecondarioChange())}),t.qZA()(),t.TgZ(25,"button",162),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return a.preventivo.coloreSecondarioMyPage=null,t.KtG(a.onColoreSecondarioChange())}),t.TgZ(26,"i",163),t._uU(27," settings_backup_restore "),t.qZA()()()(),t.TgZ(28,"div",164)(29,"div",165),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",159)(33,"button",166),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.editContenuti())}),t.TgZ(34,"i",163),t._uU(35,"edit"),t.qZA()()()(),t.TgZ(36,"div",167)(37,"div",165),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",159)(41,"button",166),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.editArticoli())}),t.TgZ(42,"i",163),t._uU(43,"edit"),t.qZA()()()()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,11,"booking.my-page.tag")," "),t.xp6(3),t.Q6J("blue",!0)("dataLoader",e.apiService.getTagCrmViewSelect(null,!1,e.albergo.oid))("title",t.lcZ(7,13,"booking.my-page.tag"))("value",e.tag),t.xp6(4),t.hij(" ",t.lcZ(11,15,"booking.my-page.colore")," "),t.xp6(4),t.Q6J("value",e.preventivo.coloreMyPage),t.xp6(6),t.hij(" ",t.lcZ(21,17,"booking.my-page.coloreSecondario")," "),t.xp6(4),t.Q6J("value",e.preventivo.coloreSecondarioMyPage),t.xp6(6),t.hij(" ",t.lcZ(31,19,"booking.my-page.contenuti")," "),t.xp6(8),t.hij(" ",t.lcZ(39,21,"booking.my-page.articoli")," ")}}function lx(o,n){if(1&o&&(t.ynx(0),t.YNc(1,G1,1,11,"app-mypage-header",4),t.YNc(2,Ah,27,25,"ng-container",1),t.YNc(3,ix,50,51,"ng-container",1),t._UZ(4,"app-mypage-footer",5),t.YNc(5,ax,3,1,"button",6),t.YNc(6,rx,44,23,"div",7),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.initialized),t.xp6(1),t.Q6J("ngIf",e.versioneMyPage==e.enumVersioneMyPage.Versione1),t.xp6(1),t.Q6J("ngIf",e.versioneMyPage==e.enumVersioneMyPage.Versione2),t.xp6(1),t.Q6J("urlMappa",e.portale.urlIFrameGoogleMap)("email",e.portale.email)("telefono",e.portale.telefono)("telefonoWhatsApp",e.portale.telefonoWhatsApp)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("nome",e.portale.nomeStruttura)("urlFacebook",e.portale.urlFacebook)("urlInstagram",e.portale.urlInstagram),t.xp6(1),t.Q6J("ngIf",e.config),t.xp6(1),t.Q6J("ngIf",e.config&&e.configPanelVisible)}}function cx(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",168),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openChat())}),t.TgZ(1,"span",169),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",170)(5,"span",29),t._uU(6,"chat"),t.qZA()()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"booking.my-page.chat")))}function sx(o,n){if(1&o&&t._UZ(0,"div",171),2&o){const e=t.oxw();t.uIk("page_id",e.portale.facebookPageId)}}class De extends z.H{beforeUnloadHandler(n){return(this.showPrenotazioneForm||null!=this.preventivo&&this.preventivo.statoPreventivo==m.N4.InAttesaPagamento&&null!=this.prenotazione&&null==this.preventivo.modalitaPagamento)&&this.showMessageOnClose?(n&&(n.returnValue=""),""):null}constructor(n,e,i,a,r,l,c,g,_,u){super(),this.router=n,this.route=e,this.localizationService=i,this.cssLoaderService=a,this.apiService=r,this.containerService=l,this.deviceService=c,this.utility=g,this.mypageService=_,this.meta=u,this.initialized=!1,this.albergo=new p.YBX,this.portale=new p.LKf,this.contenuti=[],this.camere=[],this.modalitaPagamento=[],this.allModalitaPagamento=[],this.articoli=[],this.articoliVisible=[],this.recensioni=[],this.enumMittente=m.VM,this.proposteSelected=[],this.totale=0,this.startSubject=new y.x,this.enumStatoPreventivo=m.N4,this.extraSelected=[],this.oidSistemazioni=[],this.ospiti=[],this.showPrenotazioneForm=!1,this.continuaButtonDisabled=!0,this.allProposteSelected=!1,this.enumVersioneMyPage=m.wA,this.bulletPoints=[],this.config=!1,this.enumTestoMyPage=m.et,this.chatButtonVisible=!1,this.tag=new w.I73,this.configPanelVisible=!0,this.isPrenotabile=!0,this.showMessageOnClose=!0,this.scontoVoucher=0,this.sessionTimeout=18e5,this.getMyPageRQ=new p.tas,this.immaginiHeader=[],this.updateImageSize=new y.x,this.HOLIPAY_WIDGET_URL="https://api.holipay.com/holipay.js?hotel_id=",this.SCALAPAY_WIDGET_URL="https://cdn.scalapay.com/widget/v3/js/scalapay-widget.js",this.SCALAPAY_ESM_WIDGET_URL="https://cdn.scalapay.com/widget/v3/js/scalapay-widget.esm.js"}ngOnInit(){this.setIsLoading(!0),this.sub=this.route.queryParamMap.subscribe(n=>{this.uid=n.get("uid"),this.config="config"==n.get("mode");let e=n.get("v");this.uid?(this.getMyPageRQ.uid=this.uid,this.getMyPageRQ.isMobile=this.deviceService.isMobile(),this.getMyPageRQ.isHotel="true"==n.get("isHotel"),this.apiService.getMyPage(this.getMyPageRQ).subscribe(i=>{if(null!=i.data&&null!=i.data.preventivo){var a;this.preventivo=i.data.preventivo,this.camere=i.data.camere,this.recensioni=i.data.recensioni,this.contenuti=i.data.contenuti;let r="left";for(let c of this.contenuti)c.urlImmagine&&(c.imagePosition=r,r="left"==r?"right":"left");this.prenotazione=i.data.prenotazione,this.articoli=i.data.articoli,this.articoliVisible=this.articoli.slice(0,3),this.condizioniPrenotazione=i.data.condizioniPrenotazione,this.condizioniContratto=i.data.condizioniContratto,this.bulletPoints=i.data.bulletPoints,this.allModalitaPagamento=i.data.modalitaPagamento,this.numeroVoucher=i.data.numeroVoucher,this.cssLoaderService.setColor(this.preventivo.coloreMyPage,this.preventivo.coloreSecondarioMyPage),this.tag=new w.I73(this.preventivo.oidTagCrm),this.tag.nome=this.preventivo.nomeTagCrm,this.totale=0,this.sistemazioni=!1;let l=[];if(null!=this.camere&&this.camere.length>0)for(let c of this.camere){let g=-1;if(this.proposteSelected.push(null),this.ospiti.push(new w.c1h),null!=this.articoli&&this.articoli.length>0){let _=[];for(let u of this.articoli){let h=new p.vxL;h.oid=u.oid,h.nome=u.nome,h.quantita=0,_.push(h)}this.extraSelected.push(_)}this.preventivo.statoPreventivo==m.N4.InAttesaPagamento&&1==c.proposte.length&&(1==c.proposte[0].proposte.length&&(this.totale+=c.proposte[0].proposte[0].totaleScontato,null!=c.proposte[0].proposte[0].modalitaPagamento&&c.proposte[0].proposte[0].modalitaPagamento.length>0&&(l=l.concat(c.proposte[0].proposte[0].modalitaPagamento.filter(_=>-1==l.findIndex(u=>u.paymentId==_.paymentId)))),g=c.proposte[0].proposte[0].oidSistemazione),null!=c.proposte[0].tipoCamera.sistemazioni&&c.proposte[0].tipoCamera.sistemazioni.length>0&&(this.sistemazioni=!0)),0==c.proposte.length&&(this.isPrenotabile=!1),this.oidSistemazioni.push(g)}else this.isPrenotabile=!1;if(this.modalitaPagamento=l,this.albergo=i.data.albergo,this.cssLoaderService.load(this.albergo.oid,m.I8.MyPage,null===(a=i.data.portale)||void 0===a?void 0:a.oidUbicazioneIstat),null!=i.data.portale?(this.portale=i.data.portale,this.versioneMyPage=i.data.portale.versioneMyPage,this.meta.updateTag({property:"og:site_name",content:i.data.portale.nomeStruttura}),this.meta.updateTag({property:"og:title",content:i.data.portale.nomeStruttura}),this.meta.updateTag({property:"og:description",content:i.data.portale.descrizione}),this.meta.updateTag({property:"og:image",content:i.data.portale.urlImmagineLogo}),this.portale.googleGTM&&(this.gtmService=new Hn.kK(null,i.data.portale.googleGTM,null,null,null,null,null),this.gtmService.pushTag({event:"page",pageName:"mypage"})),this.portale.facebookPageId&&setTimeout(()=>{FB.init({xfbml:!0,version:"v3.2"})},2e3)):this.versioneMyPage=m.wA.Versione1,e&&("1"==e?this.versioneMyPage=m.wA.Versione1:"2"==e&&(this.versioneMyPage=m.wA.Versione2)),this.versioneMyPage==m.wA.Versione2&&!this.portale.facebookPageId&&(this.chatButtonVisible=!0),this.richiesta=i.data.richiesta,this.messaggi=i.data.messaggi,null!=this.preventivo.dataScadenza&&P(this.getDate(this.preventivo.dataScadenza)).isBefore(P().startOf("day"))?this.isExpired=!0:this.isExpired=!1,this.setImmaginiHeader(),!this.isExpired&&this.preventivo.statoPreventivo!=m.N4.Prenotato&&this.preventivo.statoPreventivo!=m.N4.Accettato&&this.preventivo.statoPreventivo!=m.N4.InAttesaPagamento){if(this.camere.some(c=>c.proposte.some(g=>g.proposte.some(_=>_.isHolipayDisponibile)))){let c=this.allModalitaPagamento.find(g=>g.tipo==m.sc.Holipay);null!=c&&this.utility.loadExternalScript(this.HOLIPAY_WIDGET_URL+c.holipayHotelId)}this.camere.some(c=>c.proposte.some(g=>g.proposte.some(_=>_.isScalaPayDisponibile)))&&(this.utility.loadExternalScript(this.SCALAPAY_ESM_WIDGET_URL,[new p.u$m("type","module")]),this.utility.loadExternalScript(this.SCALAPAY_WIDGET_URL,[new p.u$m("nomodule")]))}!this.isExpired&&this.preventivo.statoPreventivo!=m.N4.Accettato&&this.preventivo.statoPreventivo!=m.N4.Prenotato&&this.isPrenotabile&&setTimeout(()=>{this.showError("booking.my-page.sessioneScaduta").then(()=>window.location.reload())},this.sessionTimeout),this.utility.setLingua(this.preventivo.lingua).then(()=>{if(i.data.traduzioni){let c;try{c=JSON.parse(i.data.traduzioni)}catch(g){}c&&this.localizationService.setTranslation(this.localizationService.getCurrentLocale(),c)}this.versioneMyPage==m.wA.Versione1?this.utility.setBackgroundImage(this.preventivo.urlImmagineSfondo?this.preventivo.urlImmagineSfondo:this.portale.urlImmagineSfondo).then(c=>{this.backgroundImage=c,this.init()}):this.init()})}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})}),this.sub1=this.containerService.windowResizeEvent.subscribe(n=>{this.versioneMyPage==m.wA.Versione1&&(!this.portale.facebookPageId&&n.width<992?this.chatButtonVisible=!0:this.chatButtonVisible=!1),null!=this.richiestaInnerContainer&&setTimeout(()=>{this.richiestaContainerHeight=this.richiestaInnerContainer.nativeElement.clientHeight,this.updateImageSize.next()},200)})}ngAfterViewInit(){this.mypageService.setScrollbarRef(this.scrollbarRef)}init(){this.initialized=!0,setTimeout(()=>{this.versioneMyPage==m.wA.Versione1&&!this.portale.facebookPageId&&this.containerService.dimension.width<992&&(this.chatButtonVisible=!0),this.startSubject.next(),setTimeout(()=>{null!=this.richiestaInnerContainer&&(this.richiestaContainerHeight=this.richiestaInnerContainer.nativeElement.clientHeight,this.updateImageSize.next())},200),this.setIsLoading(!1)},200)}onContinuaButtonEnabled(){this.continuaButtonDisabled=!1,this.showPrenotazioneForm=!0,setTimeout(()=>{this.containerService.windowResizeEvent.emit(this.containerService.dimension),this.onContinuaClick()},200)}onContinuaClick(){null!=this.prenotazioneForm&&this.prenotazioneForm.nativeElement.scrollIntoView({behavior:"smooth"})}onProseguiClick(){this.datiForm.nativeElement.scrollIntoView({behavior:"smooth"})}onPropostaSelected(){let n=0;this.sistemazioni=!1,this.allProposteSelected=!0;let e=[],i=0;for(let a of this.proposteSelected){if(null!=a){if(n+=a.totaleScontato,null!=this.extraSelected&&null!=this.extraSelected[i])for(let r of this.extraSelected[i].filter(l=>l.quantita>0))n+=r.giorni.filter(l=>l.selected).reduce((l,c)=>l+c.prezzo,0)*r.quantita;null!=a.tipoCamera.sistemazioni&&a.tipoCamera.sistemazioni.length>0&&(this.sistemazioni=!0),null!=a.modalitaPagamento&&a.modalitaPagamento.length>0&&(e=e.concat(a.modalitaPagamento.filter(r=>-1==e.findIndex(l=>l.paymentId==r.paymentId))))}else this.allProposteSelected=!1;i++}this.totale=n,this.proposteSelected=Object.assign([],this.proposteSelected),this.modalitaPagamento=e}onExtrasSelectedChange(){let n=0,e=0;for(let i of this.proposteSelected.filter(a=>null!=a)){if(n+=i.totaleScontato,null!=this.extraSelected&&null!=this.extraSelected[e])for(let a of this.extraSelected[e].filter(r=>r.quantita>0))a.totale=a.giorni.filter(r=>r.selected).reduce((r,l)=>r+l.prezzo,0)*a.quantita,n+=a.totale;e++}this.totale=n}editTesto(n){let e=new p.Zpt;e.width="80vw",e.minHeight="30vh",e.panelClass="mypage-dialog";let i=this.showModalDialog(Ae,e),a=i.componentInstance;a.getMyPageRQ=this.getMyPageRQ,a.oidPreventivo=this.preventivo.oid,a.oidTagCrm=this.preventivo.oidTagCrm,a.testoMypage=n,a.dialogRef=i,i.afterClosed().subscribe(r=>{null!=r&&(this.preventivo=r.data.preventivo)})}editImmagineHeader(){let n=new p.Zpt;n.width="80vw",n.panelClass="mypage-dialog";let e=this.showModalDialog(Ze,n),i=e.componentInstance;i.oidTagCrm=this.preventivo.oidTagCrm,i.urlImmagine=this.versioneMyPage==m.wA.Versione1?this.preventivo.urlHeaderMyPage:this.preventivo.urlImmagineSfondo,i.immagini=this.preventivo.immaginiTagCrm,i.versioneMyPage=this.versioneMyPage,e.afterClosed().subscribe(()=>{this.versioneMyPage==m.wA.Versione1?this.preventivo.urlHeaderMyPage=i.urlImmagine:this.preventivo.urlImmagineSfondo=i.urlImmagine,this.preventivo.immaginiTagCrm=i.immagini,this.setImmaginiHeader()})}editImmagineSfondo(){let n=new p.Zpt;n.width="50vw",n.panelClass="mypage-dialog";let e=this.showModalDialog(Mn.t,n),i=e.componentInstance;i._url=this.preventivo.urlImmagineSfondo,i.title="sbm.tabelle.tag-crm.immagineSfondo",i.blue=!0,i.dialogRef=e,e.afterClosed().subscribe(a=>{if(null!=a){this.setIsLoading(!0);let r=new p.J4L;r.oid=this.preventivo.oidTagCrm,r.tipoImmagine=m.cS.Sfondo,r.base64=a,this.apiService.setImmagineTagCrm(r).subscribe(l=>{null!=l.data?(this.preventivo.urlImmagineSfondo=l.data.url,this.versioneMyPage==m.wA.Versione1?this.utility.setBackgroundImage(this.preventivo.urlImmagineSfondo?this.preventivo.urlImmagineSfondo:this.portale.urlImmagineSfondo).then(c=>{this.backgroundImage=c,this.setIsLoading(!1)}):this.setIsLoading(!1)):this.setIsLoading(!1)})}})}editArticoli(){let n=new p.Zpt;n.width="80vw",n.minHeight="30vh",n.panelClass="mypage-dialog";let e=this.showModalDialog(Te,n),i=e.componentInstance;i.getMyPageRQ=this.getMyPageRQ,i.oidAlbergo=this.albergo.oid,i.oidPreventivo=this.preventivo.oid,i.dialogRef=e,e.afterClosed().subscribe(a=>{if(null!=a){this.articoli=a.data.articoli,this.articoliVisible=this.articoli.slice(0,3);let r=[];if(null!=this.camere&&this.camere.length>0)for(let l of this.camere)if(null!=this.articoli&&this.articoli.length>0){let c=[];for(let g of this.articoli){let _=new p.vxL;_.oid=g.oid,_.nome=g.nome,_.quantita=0,c.push(_)}r.push(c)}this.extraSelected=r}})}editContenuti(){let n=new p.Zpt;n.width="80vw",n.minHeight="30vh",n.panelClass="mypage-dialog";let e=this.showModalDialog(Me,n),i=e.componentInstance;i.getMyPageRQ=this.getMyPageRQ,i.oidAlbergo=this.albergo.oid,i.oidPreventivo=this.preventivo.oid,i.dialogRef=e,e.afterClosed().subscribe(a=>{if(null!=a){this.contenuti=a.data.contenuti;let r="left";for(let l of this.contenuti)l.urlImmagine&&(l.imagePosition=r,r="left"==r?"right":"left")}})}editContenuto(n){let e=new p.Zpt;e.width="80vw",e.minHeight="30vh",e.panelClass="mypage-dialog",e.disableClose=!0;let i=this.showModalDialog(ye,e),a=i.componentInstance;a.getMyPageRQ=this.getMyPageRQ,a.oidContenuto=n,a.v2=this.versioneMyPage==m.wA.Versione2,a.dialogRef=i,i.afterClosed().subscribe(r=>{if(null!=r){this.contenuti=r.data.contenuti;let l="left";for(let c of this.contenuti)c.urlImmagine&&(c.imagePosition=l,l="left"==l?"right":"left")}})}openChat(){if(null==this.chatDialog){let n=new p.Zpt;n.width="370px",n.panelClass="mypage-dialog-no-padding",n.disableClose=!0,n.hasBackdrop=!1,n.dialogPosition={bottom:"80px",right:"30px"},this.chatDialog=this.showModalDialog(yn.G,n);let e=this.chatDialog.componentInstance;e._preventivo=this.preventivo,e.messaggi=this.messaggi,e.mittente=m.VM.Cliente,e.nomeAlbergo=this.albergo.nome,e.nomePortale=this.portale.nomeStruttura,e.maxHeight=500,e.booking=!0,this.chatDialog.afterClosed().subscribe(()=>{this.chatDialog=null})}else this.chatDialog.close(),this.chatDialog=null}onTagCrmChange(){this.setIsLoading(!0),this.apiService.getPreventivo(this.preventivo.oid).subscribe(n=>{n.data.tagCrm=this.tag,this.apiService.setPreventivo(n.data).subscribe(()=>{window.location.reload()})})}onColoreChange(){this.setIsLoading(!0),this.apiService.getTagCrm(this.preventivo.oidTagCrm).subscribe(n=>{if(null!=n.data){if(this.preventivo.coloreMyPage)try{n.data.coloreMyPage=_n(this.preventivo.coloreMyPage).rgbNumber()}catch(e){}else n.data.coloreMyPage=null;this.apiService.updateTagCrm(n.data).subscribe(()=>{this.cssLoaderService.setColor(this.preventivo.coloreMyPage,this.preventivo.coloreSecondarioMyPage),this.setIsLoading(!1)})}else this.setIsLoading(!1)})}onColoreSecondarioChange(){this.setIsLoading(!0),this.apiService.getTagCrm(this.preventivo.oidTagCrm).subscribe(n=>{if(null!=n.data){if(this.preventivo.coloreSecondarioMyPage)try{n.data.coloreSecondarioMyPage=_n(this.preventivo.coloreSecondarioMyPage).rgbNumber()}catch(e){}else n.data.coloreSecondarioMyPage=null;this.apiService.updateTagCrm(n.data).subscribe(()=>{this.cssLoaderService.setColor(this.preventivo.coloreMyPage,this.preventivo.coloreSecondarioMyPage),this.setIsLoading(!1)})}else this.setIsLoading(!1)})}setColor(){null==this.setColorTimeout&&(this.setColorTimeout=setTimeout(()=>{this.cssLoaderService.setColor(this.preventivo.coloreMyPage,this.preventivo.coloreSecondarioMyPage),this.setColorTimeout=null},50))}scrollToCamere(){this.camereContainer.nativeElement.scrollIntoView({behavior:"smooth"})}rinnovaRichiesta(){this.setIsLoading(!0);let n=new p.oVY;n.oidPreventivo=this.preventivo.oid,this.apiService.rinnovaRichiesta(n).subscribe(e=>{this.setIsLoading(!1),e.data?this.showInfo("booking.my-page.emailInviata"):this.showError("interfaces.email-send.erroreInvioEmail")})}richiediNuovoPreventivo(){let n=new p.Zpt;this.containerService.dimension.width>=992?n.width="80vw":n.width="95vw",n.minHeight="80vh",n.maxHeight="95vh",n.panelClass="mypage-dialog-no-padding";let e=this.showModalDialog(Cn.u,n),i=e.componentInstance;if(i.dialogRef=e,i.oidAlbergo=this.albergo.oid,i.oidPortale=null!=this.portale?this.portale.oid:-1,i.language=this.preventivo.lingua,i.booking=!0,null!=this.preventivo.cliente){let a=new w.c1h;a.nome=this.preventivo.cliente.nome,a.cognome=this.preventivo.cliente.cognome,a.email=this.preventivo.cliente.email,a.cellulare=this.preventivo.cliente.cellulare,i.cliente=a}}rifiutaPreventivo(){let n=new p.Zpt;n.width="50vw",n.panelClass="mypage-dialog";let e=this.showModalDialog(ke,n),i=e.componentInstance;i.oidPreventivo=this.preventivo.oid,i.dialogRef=e,e.afterClosed().subscribe(a=>{a&&window.location.reload()})}showMoreArticoli(){this.articoliVisible=this.articoli.slice(0,this.articoliVisible.length+3)}setImmaginiHeader(){let n=[];this.versioneMyPage==m.wA.Versione1?(this.preventivo.urlHeaderMyPage&&n.push(this.preventivo.urlHeaderMyPage),null!=this.preventivo.immaginiTagCrm&&this.preventivo.immaginiTagCrm.length>0&&(n=n.concat(this.preventivo.immaginiTagCrm.filter(e=>e.isAttiva&&!!e.urlImmagine).sort((e,i)=>e.ordinamento<i.ordinamento?-1:i.ordinamento<e.ordinamento?1:0).map(e=>e.urlImmagine)))):null!=this.preventivo.immaginiTagCrm&&this.preventivo.immaginiTagCrm.length>0&&(this.preventivo.urlImmagineSfondo?n.push(this.preventivo.urlImmagineSfondo):this.portale.urlImmagineSfondo&&n.push(this.portale.urlImmagineSfondo),n=n.concat(this.preventivo.immaginiTagCrm.filter(e=>e.isAttiva&&!!e.urlImmagine).sort((e,i)=>e.ordinamento<i.ordinamento?-1:i.ordinamento<e.ordinamento?1:0).map(e=>e.urlImmagine))),this.immaginiHeader=n}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.startSubject.complete(),this.updateImageSize.complete(),this.meta.updateTag({property:"og:site_name",content:null}),this.meta.updateTag({property:"og:title",content:null}),this.meta.updateTag({property:"og:description",content:null}),this.meta.updateTag({property:"og:image",content:null})}}De.\u0275fac=function(n){return new(n||De)(t.Y36(S.F0),t.Y36(S.gz),t.Y36(K.o),t.Y36(le.e),t.Y36(k.s),t.Y36(T.J),t.Y36(xt.x0),t.Y36(v.t),t.Y36(lt),t.Y36(Gn.h_))},De.\u0275cmp=t.Xpm({type:De,selectors:[["app-mypage"]],viewQuery:function(n,e){if(1&n&&(t.Gf(V1,5),t.Gf(Y1,5),t.Gf(F1,5),t.Gf(H1,5),t.Gf(R1,5),t.Gf(ut,5)),2&n){let i;t.iGM(i=t.CRH())&&(e.prenotazioneForm=i.first),t.iGM(i=t.CRH())&&(e.datiForm=i.first),t.iGM(i=t.CRH())&&(e.continuaButton=i.first),t.iGM(i=t.CRH())&&(e.richiestaInnerContainer=i.first),t.iGM(i=t.CRH())&&(e.camereContainer=i.first),t.iGM(i=t.CRH())&&(e.scrollbarRef=i.first)}},hostBindings:function(n,e){1&n&&t.NdJ("beforeunload",function(a){return e.beforeUnloadHandler(a)},!1,t.Jf7)},features:[t.qOj],decls:5,vars:5,consts:[["id","myPage",1,"w-100","h-100"],[4,"ngIf"],["mat-flat-button","","class","button-blue chat-button no-print",3,"click",4,"ngIf"],["class","fb-customerchat",4,"ngIf"],[3,"url","urlLogo","indirizzo","cap","citta","provincia","telefono","urlIFrameGoogleMap","cliente","oidAlbergo","v2",4,"ngIf"],[3,"urlMappa","email","telefono","telefonoWhatsApp","indirizzo","cap","citta","provincia","nome","urlFacebook","urlInstagram"],["mat-mini-fab","","class","button-blue button-blue-circle config-panel-button",3,"click",4,"ngIf"],["class","border rounded mat-elevation-z5 config-panel p-3",4,"ngIf"],[3,"url","urlLogo","indirizzo","cap","citta","provincia","telefono","urlIFrameGoogleMap","cliente","oidAlbergo","v2"],[1,"myPage-outer-container","position-relative","d-flex","flex-row","justify-content-center","mb-5"],["mat-mini-fab","","class","button-blue button-blue-circle config-button config-button-right config-button-immagine-sfondo",3,"click",4,"ngIf"],[1,"myPage-col","mx-auto","mx-lg-0"],[1,"mat-elevation-z5","richiesta-container","position-relative"],["mat-mini-fab","","class","button-blue button-blue-circle config-button config-button-right",3,"click",4,"ngIf"],["class","header-img",4,"ngIf"],[1,"pr-3","pl-3","pt-2","pb-4"],[1,"mb-2","text-small","text-grey"],[1,"mt-4","position-relative"],["mat-mini-fab","","class","button-blue button-blue-circle config-button",3,"click",4,"ngIf"],["class","color-blue ciao font-weight-bold text-center",4,"ngIf"],[3,"richiesta"],["class","mt-4 note-cliente",4,"ngIf"],["class","text-center mt-4",4,"ngIf"],["class","border p-3 pt-4 pb-4 mat-elevation-z5 prenotazione-container mt-3",4,"ngIf"],["class","border p-3 pt-4 pb-4 mat-elevation-z5 camere-container mt-3",4,"ngIf"],["class","border p-3 pt-4 pb-4 mat-elevation-z5 recensioni-container mt-3",4,"ngIf"],["class","border p-3 mat-elevation-z5 prenotazione-form-container mt-3 position-relative",4,"ngIf"],["class","messaggi-col d-none d-lg-block",4,"ngIf"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button","config-button-right","config-button-immagine-sfondo",3,"click"],[1,"material-icons-round"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button","config-button-right",3,"click"],[1,"header-img"],[3,"images","minimumHeight","maximumHeight","gallery"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button",3,"click"],[1,"color-blue","ciao","font-weight-bold","text-center"],[3,"_text"],[1,"mt-4","note-cliente"],[1,"text-center","mt-4"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"mat-elevation-z5","proposte-container","mt-3","overflow-hidden"],["class","p-4 mb-0 font-weight-bold text-center color-blue",4,"ngIf"],[1,"w-100","p-2","mb-0","font-weight-bold","background-color-blue","text-center"],[1,"material-icons","align-middle","mr-2"],[1,"d-inline-block","align-middle"],[1,"pr-3","pl-3","pb-4"],[3,"camere","scadenzaPreventivo","proposteSelected","isPrenotato","isExpired","testoPrimaProposte","testoDopoProposte","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","config","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","isVisualizzaInformazioniPropostaMyPage","onEditTestoClick","continuaButtonEnabled","propostaSelected"],["class","text-small font-weight-bold text-center mt-2",4,"ngIf"],["continuaButton",""],["class","w-100 button-blue mt-4 p-1 seleziona-proposta","mat-flat-button","",3,"disabled","click",4,"ngIf"],[1,"color-red"],[1,"material-icons-round","mr-2","d-inline","align-middle","cancel-icon"],[1,"d-inline","align-middle","font-weight-bold"],[1,"mt-3","font-weight-bold","color-blue"],[1,"text-small","font-weight-bold","text-center","mt-2"],[1,"align-middle"],[1,"price-decimals"],["mat-flat-button","",1,"w-100","button-blue","mt-4","p-1","seleziona-proposta",3,"disabled","click"],[1,"p-4","mb-0","font-weight-bold","text-center","color-blue"],[1,"border","p-3","pt-4","pb-4","mat-elevation-z5","prenotazione-container","mt-3"],[3,"lingua","albergo","portale","preventivo","totale","modalitaPagamento","allModalitaPagamento","prenotazione","camere","isVisualizzaCondizioniPrenotazioneStep2","isVisualizzaRiepilogoPagamentoMyPage","condizioniPrenotazione","condizioniContratto","oidSistemazioni","sistemazioni","templateStampaOid","numeroVoucher","ospiti","config","confirmed","onEditTestoClick","onScontoVoucherChange"],[1,"border","p-3","pt-4","pb-4","mat-elevation-z5","camere-container","mt-3"],[3,"camere","isPrenotato","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isVisualizzaInformazioniPropostaMyPage","testoPrimaProposte","testoDopoProposte","config","onEditTestoClick"],[4,"ngFor","ngForOf"],["class","border p-3 mat-elevation-z5 contenuto-container mt-3 text-center position-relative",4,"ngIf"],[1,"border","p-3","mat-elevation-z5","contenuto-container","mt-3","text-center","position-relative"],[1,"color-blue"],[1,"border","p-3","mat-elevation-z5","contenuto-container","mt-3","text-center"],["class","border mat-elevation-z0 position-relative mypage-contenuto-panel",3,"ngClass",4,"ngIf"],[1,"border","mat-elevation-z0","position-relative","mypage-contenuto-panel",3,"ngClass"],[1,"color-blue","font-weight-bold"],[1,"border","p-3","pt-4","pb-4","mat-elevation-z5","recensioni-container","mt-3"],[1,"color-blue","font-weight-bold","mb-2","text-center"],[3,"recensioni","startSubject"],[1,"border","p-3","mat-elevation-z5","prenotazione-form-container","mt-3","position-relative"],["prenotazioneForm",""],["mat-mini-fab","","class","button-blue button-blue-circle config-button config-button-testo-upselling",3,"click",4,"ngIf"],["class","mb-5",4,"ngIf"],[3,"lingua","albergo","portale","preventivo","proposteSelected","totale","modalitaPagamento","allModalitaPagamento","extraSelected","_cliente","gtmService","condizioniPrenotazione","condizioniContratto","isAccettaPreventiviConPagamentoImmediato","oidPreventivo","oidSistemazioni","_sistemazioni","v2","numeroVoucher","_ospiti","confirmed","onScontoVoucherChange"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button","config-button-testo-upselling",3,"click"],[1,"mb-5"],["class","mt-4 text-center",4,"ngIf"],["class","color-blue font-weight-bold mt-4 text-center",4,"ngIf"],[1,"row"],["class","col-12 col-md-6 mt-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4","text-center"],[1,"color-blue","font-weight-bold","mt-4","text-center"],[1,"col-12","col-md-6","mt-3",3,"ngClass"],[3,"articolo","_proposteSelected","_extraSelected","onQuantitaGiorniChange"],[1,"messaggi-col","d-none","d-lg-block"],[1,"mat-elevation-z5","messaggi-container","overflow-hidden"],[1,"background-color-light-blue","d-flex","justify-content-center","align-items-center","p-2"],[3,"_preventivo","messaggi","mittente","nomeAlbergo","nomePortale","maxHeight","booking"],[1,"myPage-outer-container-v2","w-100"],["class","image-slider-mypage-v2",3,"images","widt","minimumHeight","maximumHeight","gallery","updateSize",4,"ngIf"],[1,"richiesta-container-v2","position-relative"],["mat-mini-fab","","class","button-blue button-blue-circle config-button config-button-right config-button-bottom",3,"click",4,"ngIf"],[1,"richiesta-container-v2-mask"],[1,"richiesta-inner-container-v2"],["richiestaInnerContainer",""],[1,"mb-4","testo-prima-richiesta"],[1,"color-blue","buongiorno"],[1,"graziePerLaTuaRichiesta"],[3,"richiesta","totale","isNonPrenotato","onVisualizzaCamereClick"],[1,"row","mr-0","ml-0"],[1,"testo-iniziale-container","position-relative",3,"ngClass"],[1,"d-table","mb-3"],[1,"d-flex","w-100",3,"ngClass"],[1,"preventivoScaduto","d-inline-flex","justify-content-center","align-items-center","text-small",3,"ngClass"],["src","/assets/images/booking/tag.svg",1,"tag-icon"],[1,"d-inline-block","pr-3","pl-3","pt-1","pb-1"],[1,"text-small"],["class","text-big font-weight-bold",4,"ngIf"],["class","mt-1 cursor-pointer background-color-blue pr-4 pl-4 pt-1 w-100 text-big font-weight-bold",3,"click",4,"ngIf"],["class","mt-1 cursor-pointer background-color-light-blue pr-4 pl-4 pt-1 w-100 text-big font-weight-bold",3,"click",4,"ngIf"],[1,"mt-1","mb-3","cursor-pointer","background-color-light-blue","pr-4","pl-4","pt-1","w-100","text-big","font-weight-bold",3,"click"],[1,"align-middle","d-inline-block","mb-1"],[1,"material-icons-round","align-middle","icon-small"],[3,"_text",4,"ngIf"],["class","col-12 col-lg-5 background-color-light-blue pr-3 pl-3 pt-4 pb-4 pr-lg-5 pl-lg-5 pt-lg-5 pb-lg-5 position-relative",4,"ngIf"],[1,"grey-container","camere-container-v2"],["camereContainer",""],[3,"lingua","albergo","portale","preventivo","totale","modalitaPagamento","allModalitaPagamento","prenotazione","camere","isVisualizzaCondizioniPrenotazioneStep2","isVisualizzaRiepilogoPagamentoMyPage","condizioniPrenotazione","condizioniContratto","oidSistemazioni","sistemazioni","templateStampaOid","numeroVoucher","ospiti","config","confirmed","onEditTestoClick","onScontoVoucherChange",4,"ngIf"],[3,"camere","isPrenotato","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isVisualizzaInformazioniPropostaMyPage","testoPrimaProposte","testoDopoProposte","config","onEditTestoClick",4,"ngIf"],[3,"contenuti","coloreMyPage","config","onContenutoEdit"],["class","pt-3 pb-3 pr-0 pl-0 pt-lg-5 pb-lg-5 pr-lg-5 pl-lg-5",4,"ngIf"],[1,"image-slider-mypage-v2",3,"images","widt","minimumHeight","maximumHeight","gallery","updateSize"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button","config-button-right","config-button-bottom",3,"click"],[1,"text-big","font-weight-bold"],[1,"mt-1","cursor-pointer","background-color-blue","pr-4","pl-4","pt-1","w-100","text-big","font-weight-bold",3,"click"],[1,"mt-1","cursor-pointer","background-color-light-blue","pr-4","pl-4","pt-1","w-100","text-big","font-weight-bold",3,"click"],[1,"col-12","col-lg-5","background-color-light-blue","pr-3","pl-3","pt-4","pb-4","pr-lg-5","pl-lg-5","pt-lg-5","pb-lg-5","position-relative"],[3,"camere","proposteSelected","isPrenotato","isExpired","testoPrimaProposte","testoDopoProposte","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isVisualizzaInformazioniPropostaMyPage","bulletPoints","config","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","onEditTestoClick","propostaSelected","continuaButtonEnabled","onContinuaButtonClick",4,"ngIf"],["class","mb-0 font-weight-bold text-center color-blue",4,"ngIf"],[3,"camere","proposteSelected","isPrenotato","isExpired","testoPrimaProposte","testoDopoProposte","isVisualizzaDettagli","isVisualizzaDescrizionePoliticaCancellazione","isVisualizzaDescrizioneDettagliataTariffa","isVisualizzaInformazioniPropostaMyPage","bulletPoints","config","isVisualizzaDettaglioGiornaliero","isVisualizzaProposteEspanse","onEditTestoClick","propostaSelected","continuaButtonEnabled","onContinuaButtonClick"],[1,"mb-0","font-weight-bold","text-center","color-blue"],["class","servizi-aggiuntivi-container",4,"ngIf"],[1,"p-3","p-lg-5","grey-container"],["datiForm",""],[1,"servizi-aggiuntivi-container"],[1,"position-relative"],[1,"color-blue","font-weight-bold","serviziAggiuntivi","text-center","mb-4"],["class","mb-4 text-center",4,"ngIf"],[3,"articoli","proposteSelected","extraSelected","onProseguiClick","onQuantitaGiorniChange",4,"ngIf"],[1,"mb-4","text-center"],["class","mt-1",4,"ngFor","ngForOf"],["class","cursor-pointer mt-4 d-table mx-auto text-center",3,"click",4,"ngIf"],[1,"prosegui-button","mx-auto","text-center","pt-2","pb-2",3,"ngClass","click"],[1,"mt-1"],[1,"cursor-pointer","mt-4","d-table","mx-auto","text-center",3,"click"],[1,"mt-n2"],[3,"articoli","proposteSelected","extraSelected","onProseguiClick","onQuantitaGiorniChange"],[1,"pt-3","pb-3","pr-0","pl-0","pt-lg-5","pb-lg-5","pr-lg-5","pl-lg-5"],[1,"color-blue","font-weight-bold","serviziAggiuntivi","text-center","mb-2"],[3,"recensioni"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-panel-button",3,"click"],[1,"border","rounded","mat-elevation-z5","config-panel","p-3"],[1,"col-6","d-flex","align-items-center","font-weight-bold"],[1,"col-6","config-form-field"],["displayMember","nome",3,"blue","dataLoader","title","value","valueChange"],[1,"col-6"],[1,"d-inline-block","config-form-field","colore-picker"],[3,"value","valueChange","colorChanged"],["mat-icon-button","",1,"colore-reset",3,"click"],[1,"material-icons-round","color-blue"],[1,"row","mr-0","ml-0","mt-2"],[1,"col-6","font-weight-bold"],["mat-icon-button","",1,"config-button-small",3,"click"],[1,"row","mr-0","ml-0","mt-4"],["mat-flat-button","",1,"button-blue","chat-button","no-print",3,"click"],[1,"d-inline-block","align-middle","mr-2"],["mat-mini-fab","",1,"d-inline-block","align-middle","background-color-light-blue"],[1,"fb-customerchat"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"ng-scrollbar"),t.YNc(2,lx,7,16,"ng-container",1),t.qZA(),t.YNc(3,cx,7,3,"button",2),t.YNc(4,sx,1,1,"div",3),t.qZA()),2&n&&(t.Udp("background-image",e.backgroundImage),t.xp6(2),t.Q6J("ngIf",e.initialized),t.xp6(1),t.Q6J("ngIf",e.chatButtonVisible&&!e.portale.isNascondiChat),t.xp6(1),t.Q6J("ngIf",!!e.portale.facebookPageId))},dependencies:[s.mk,s.sg,s.O5,C.eB,W.ib,W.yz,io.h,H.V,yn.G,Z.W,Tn.d,ut,Se,Oe,Dt,Lt,Ie,qe,Vt,ft,Pt,Yt,Je,Qe,Ue,Ne,Ee,B.H,b.X$],styles:["#myPage[_ngcontent-%COMP%]{background-color:#fff!important;font-family:Titillium Web,sans-serif!important;background-position:center;background-repeat:no-repeat;background-size:cover}ng-scrollbar[_ngcontent-%COMP%]{--scrollbar-size: 10px;--scrollbar-thumb-color: #303030AA;--scrollbar-thumb-hover-color: #303030;--scrollbar-border-radius: 0px;--scrollbar-padding: 0px}  .ng-scroll-content{width:100%!important}.myPage-outer-container[_ngcontent-%COMP%]{max-width:100%;padding-left:12px!important;padding-right:12px!important;min-height:calc(100vh - 600px - 3rem)!important;margin-top:100px!important}@media (min-width: 992px){.myPage-outer-container[_ngcontent-%COMP%]{min-height:calc(100vh - 400px - 3rem)!important}}.myPage-col[_ngcontent-%COMP%]{flex:1;max-width:800px;width:100%}.messaggi-col[_ngcontent-%COMP%]{width:370px;max-width:370px;min-width:370px;padding-left:15px}.richiesta-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;overflow:hidden}.proposte-container[_ngcontent-%COMP%], .prenotazione-container[_ngcontent-%COMP%], .camere-container[_ngcontent-%COMP%], .recensioni-container[_ngcontent-%COMP%], .prenotazione-form-container[_ngcontent-%COMP%], .messaggi-container[_ngcontent-%COMP%], .contenuto-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}  #myPage .mat-form-field .mat-form-field-label{color:#0000008a!important}  #myPage .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #myPage .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:var(--main-color)!important}  #myPage .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #myPage .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #myPage .mat-form-field.mat-focused .mat-form-field-ripple{background-color:var(--main-color)!important}  #myPage .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:var(--main-color)!important}  #myPage .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:var(--main-color)!important}  #myPage .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:var(--main-color)!important}  #myPage .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#f55158!important}  #myPage .mat-input-element{caret-color:var(--main-color)!important}  #myPage .mat-datepicker-toggle{color:var(--main-color)!important}  #myPage .mat-checkbox-checked .mat-checkbox-background{background-color:var(--main-color)!important}.ciao[_ngcontent-%COMP%]{font-size:24px}.text-small[_ngcontent-%COMP%]{font-size:14px}.text-grey[_ngcontent-%COMP%]{color:#999}.my-page-image[_ngcontent-%COMP%]{height:300px}.cancel-icon[_ngcontent-%COMP%]{font-size:1.75rem}.seleziona-proposta[_ngcontent-%COMP%]{font-size:22px}.header-img[_ngcontent-%COMP%]{min-height:450px!important;max-height:450px!important;height:450px!important}.config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:20px;line-height:20px;margin-bottom:.25rem}.config-button-small[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}.config-button-small[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:20px;line-height:20px}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-panel-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:2}.config-panel-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:20px;line-height:20px;margin-bottom:.25rem}.chat-button[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:30px;z-index:10000;padding:2px 2px 2px 15px!important;border-radius:50vh!important}.chat-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none!important;width:50px!important;height:50px!important;line-height:50px!important}.config-panel[_ngcontent-%COMP%]{position:absolute;top:30px;left:30px;background-color:#ffffffeb;z-index:1;width:400px}  .config-form-field .mat-form-field-infix{border-top:0}.config-button-immagine-sfondo[_ngcontent-%COMP%]{margin-top:-40px}.config-button-testo-upselling[_ngcontent-%COMP%]{margin-top:20px}.colore-picker[_ngcontent-%COMP%]{width:calc(100% - 50px)}.colore-reset[_ngcontent-%COMP%]{width:50px}  .mypage-contenuto-panel .mat-expansion-panel-content{font:inherit!important}  .mypage-contenuto-panel .mat-expansion-panel-body{overflow-x:auto!important}  .mypage-contenuto-panel .mat-expansion-panel-header{font:inherit!important}",".myPage-outer-container-v2[_ngcontent-%COMP%]{min-height:calc(100vh - 500px)!important}@media (min-width: 992px){.myPage-outer-container-v2[_ngcontent-%COMP%]{min-height:calc(100vh - 300px)!important}}.richiesta-container-v2[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover;position:relative}.richiesta-container-v2-mask[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;-webkit-mask-image:linear-gradient(to top,rgb(255,255,255),rgba(255,255,255,0) 50%);mask-image:linear-gradient(to top,rgb(255,255,255),rgba(255,255,255,0) 50%)}@media (min-width: 992px){.richiesta-container-v2-mask[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to right,rgb(255,255,255) 10%,rgba(255,255,255,0) 70%);mask-image:linear-gradient(to right,rgb(255,255,255) 10%,rgba(255,255,255,0) 70%)}}.richiesta-inner-container-v2[_ngcontent-%COMP%]{position:absolute;top:350px;left:0;padding-left:1.5rem;padding-right:1.5rem;width:100%}@media (min-width: 992px){.richiesta-inner-container-v2[_ngcontent-%COMP%]{top:0;padding:150px 150px 100px}}.background-grey[_ngcontent-%COMP%]{background-color:#b3b3b3;color:#fff}.background-red[_ngcontent-%COMP%]{background-color:#f55158;color:#fff}.grey-container[_ngcontent-%COMP%]{background-color:#f2f2f2}.preventivoScaduto[_ngcontent-%COMP%]{width:40px;color:#fff}.testo-iniziale-container[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem;padding-bottom:1rem}@media (min-width: 992px){.testo-iniziale-container[_ngcontent-%COMP%]{padding:50px 150px 100px}}.icon-small[_ngcontent-%COMP%]{font-size:20px;line-height:20px}.buongiorno[_ngcontent-%COMP%]{font-size:28px;font-weight:700}@media (min-width: 992px){.buongiorno[_ngcontent-%COMP%]{font-size:40px}}.graziePerLaTuaRichiesta[_ngcontent-%COMP%]{font-size:26px}.tag-icon[_ngcontent-%COMP%]{width:24px;height:24px}.text-big[_ngcontent-%COMP%]{font-size:18px}.camere-container-v2[_ngcontent-%COMP%]{padding:1rem}@media (min-width: 992px){.camere-container-v2[_ngcontent-%COMP%]{padding:3rem}}@media (min-width: 1300px){.camere-container-v2[_ngcontent-%COMP%]{padding:3rem 6rem}}.servizi-aggiuntivi-container[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem;padding-right:0;padding-left:0}@media (min-width: 992px){.servizi-aggiuntivi-container[_ngcontent-%COMP%]{padding:1.5rem}}@media (min-width: 1050px){.servizi-aggiuntivi-container[_ngcontent-%COMP%]{padding:3rem}}@media (min-width: 1300px){.servizi-aggiuntivi-container[_ngcontent-%COMP%]{padding:3rem 12rem}}.serviziAggiuntivi[_ngcontent-%COMP%]{font-size:1.8rem;padding-top:10px}@media (min-width: 992px){.serviziAggiuntivi[_ngcontent-%COMP%]{font-size:36px;padding-top:0}}.recensioni[_ngcontent-%COMP%]{font-size:1.8rem;padding-top:10px}@media (min-width: 992px){.recensioni[_ngcontent-%COMP%]{font-size:36px;padding-top:0}}.prosegui-button[_ngcontent-%COMP%]{cursor:pointer;background-color:#22ca73;color:#fff;font-size:20px;transition:background-color .2s ease-out;width:310px}.prosegui-button[_ngcontent-%COMP%]:hover{background-color:#1fb467;transition:background-color .2s ease-out}  .image-slider-mypage-v2{position:absolute;top:0;left:0;width:100vw}  .image-slider-mypage-v2 .previous-button,   .image-slider-mypage-v2 .next-button{z-index:1!important}"]});var ot=d(38034);function px(o,n){if(1&o&&t._UZ(0,"img",7),2&o){const e=t.oxw();t.Q6J("src",e.urlLogo,t.LSH)}}function gx(o,n){if(1&o&&(t.TgZ(0,"span",8)(1,"span",9),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}class Le{constructor(n){this.utility=n}}function mx(o,n){if(1&o&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.nome," ")}}function dx(o,n){if(1&o&&(t.TgZ(0,"div",13)(1,"span",7),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",8),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}function _x(o,n){if(1&o&&(t._UZ(0,"iframe",14),t.ALo(1,"safeUrl")),2&o){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,e.urlMappa),t.uOi)}}Le.\u0275fac=function(n){return new(n||Le)(t.Y36(v.t))},Le.\u0275cmp=t.Xpm({type:Le,selectors:[["app-offer-header"]],inputs:{urlLogo:"urlLogo",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono"},decls:8,vars:3,consts:[[1,"offer-header","p-2","w-100"],[1,"logo-container","align-middle","d-inline-flex","align-items-center","justify-content-center"],["class","logo d-inline-block align-middle",3,"src",4,"ngIf"],["class","indirizzo d-none d-md-inline-block font-weight-bold",4,"ngIf"],[1,"d-block","float-right","pt-2"],["mat-icon-button","",1,"align-middle","mb-1",3,"disableRipple","click"],[1,"material-icons-round","phone-icon"],[1,"logo","d-inline-block","align-middle",3,"src"],[1,"indirizzo","d-none","d-md-inline-block","font-weight-bold"],[1,"material-icons-round","mr-1","align-middle"],[1,"align-middle"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t.YNc(2,px,1,1,"img",2),t.qZA(),t.YNc(3,gx,5,1,"span",3),t.TgZ(4,"span",4)(5,"button",5),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(6,"span",6),t._uU(7," phone "),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!!e.urlLogo),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(2),t.Q6J("disableRipple",!0))},dependencies:[s.O5,C.eB],styles:[".offer-header[_ngcontent-%COMP%]{height:80px;position:absolute;top:0;background-color:#ffffffb3}.logo-container[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;margin-left:20px;cursor:pointer}.logo[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;object-fit:contain}.phone-icon[_ngcontent-%COMP%]{color:#9b9b9b}.indirizzo[_ngcontent-%COMP%]{margin-left:40px;font-size:14px;cursor:pointer;color:#004987;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]:hover{color:#006dc9;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px}"]});const fo=function(o){return{"cursor-pointer":o}};class Be{constructor(n){this.utility=n}}function ux(o,n){if(1&o&&t._UZ(0,"app-offer-header",4),2&o){const e=t.oxw();t.Q6J("urlLogo",e.portale.urlImmagineLogo)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("telefono",e.portale.telefono)}}function fx(o,n){if(1&o&&(t.TgZ(0,"div",27),t._UZ(1,"app-inner-html",28),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("_text",e.promozione.descrizione)}}function hx(o,n){if(1&o&&(t.TgZ(0,"div",27),t._UZ(1,"app-inner-html",28),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("_text",e.promozione.descrizioneDettagliata)}}function xx(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.promozioneValidaDalAl," ")}}function bx(o,n){1&o&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function vx(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.promozionePrenotabileDalAl," ")}}Be.\u0275fac=function(n){return new(n||Be)(t.Y36(v.t))},Be.\u0275cmp=t.Xpm({type:Be,selectors:[["app-offer-footer"]],inputs:{nome:"nome",urlMappa:"urlMappa",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono",email:"email"},decls:18,vars:11,consts:[[1,"offer-footer","w-100"],[1,"row","m-0","h-100"],[1,"col-12","col-lg-4","info-col","p-0","d-flex","align-items-center","justify-content-center"],[1,"p-4","text-center"],["class","mb-3 text-big font-weight-bold",4,"ngIf"],["class","mb-1 text-nowrap",4,"ngIf"],[1,"mb-1","text-nowrap",3,"ngClass","click"],[1,"material-icons-round","mr-1","align-middle","contatti-icon"],[1,"align-middle","text-wrap"],[1,"text-nowrap","email",3,"ngClass","click"],[1,"col-12","col-lg-8","p-0","iframe-col"],["width","100%","height","100%","frameborder","0","class","rounded","allowfullscreen","",3,"src",4,"ngIf"],[1,"mb-3","text-big","font-weight-bold"],[1,"mb-1","text-nowrap"],["width","100%","height","100%","frameborder","0","allowfullscreen","",1,"rounded",3,"src"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,mx,2,1,"div",4),t.YNc(5,dx,5,1,"div",5),t.TgZ(6,"div",6),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(7,"span",7),t._uU(8,"phone_enabled"),t.qZA(),t.TgZ(9,"span",8),t._uU(10),t.qZA()(),t.TgZ(11,"div",9),t.NdJ("click",function(){return e.utility.sendEmail(e.email)}),t.TgZ(12,"span",7),t._uU(13,"email"),t.qZA(),t.TgZ(14,"span",8),t._uU(15),t.qZA()()()(),t.TgZ(16,"div",10),t.YNc(17,_x,2,3,"iframe",11),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",e.nome),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(1),t.Q6J("ngClass",t.VKq(7,fo,!!e.telefono)),t.xp6(4),t.Oqu(e.telefono?e.telefono:"---"),t.xp6(1),t.Q6J("ngClass",t.VKq(9,fo,!!e.email)),t.xp6(4),t.Oqu(e.email?e.email:"---"),t.xp6(2),t.Q6J("ngIf",!!e.urlMappa))},dependencies:[s.mk,s.O5,zt.Q],styles:[".offer-footer[_ngcontent-%COMP%]{background-color:#fff;height:500px}@media (min-width: 992px){.offer-footer[_ngcontent-%COMP%]{height:300px}}.info-col[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff}.contatti-icon[_ngcontent-%COMP%]{font-size:18px}.text-big[_ngcontent-%COMP%]{font-size:20px}.iframe-col[_ngcontent-%COMP%]{min-height:300px;overflow:hidden}"]});const Cx=function(o){return[o]};function zx(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),t._UZ(5,"app-image-slider",9),t.qZA(),t.TgZ(6,"div",10)(7,"div",11),t._uU(8),t.qZA(),t.YNc(9,fx,2,1,"div",12),t.YNc(10,hx,2,1,"div",12),t.TgZ(11,"div",13)(12,"div"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",14),t.YNc(16,xx,2,1,"span",3),t.YNc(17,bx,2,0,"span",3),t.YNc(18,vx,2,1,"span",3),t.qZA()(),t.TgZ(19,"div",15)(20,"div",16)(21,"mat-form-field",17)(22,"input",18),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.arrivo=a)})("dateChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onArrivoChange())})("click",function(){t.CHM(e);const a=t.MAs(26);return t.KtG(a.open())}),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"mat-datepicker-toggle",19)(25,"mat-datepicker",20,21),t.qZA()(),t.TgZ(27,"div",16)(28,"mat-form-field",17)(29,"input",18),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.partenza=a)})("dateChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onPartenzaChange())})("click",function(){t.CHM(e);const a=t.MAs(33);return t.KtG(a.open())}),t.ALo(30,"translate"),t.qZA(),t._UZ(31,"mat-datepicker-toggle",19)(32,"mat-datepicker",20,22),t.qZA()(),t.TgZ(34,"div",23)(35,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.search())}),t.TgZ(36,"span"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"span",25),t._uU(40,"keyboard_arrow_right"),t.qZA()()()()()()()(),t._UZ(41,"app-offer-footer",26),t.BQk()}if(2&o){const e=t.MAs(26),i=t.MAs(33),a=t.oxw();t.xp6(5),t.Q6J("images",t.VKq(36,Cx,a.promozione.urlImmagineEvidenza))("minimumHeight",400)("maximumHeight",400),t.xp6(3),t.hij(" ",a.promozione.nome," "),t.xp6(1),t.Q6J("ngIf",!!a.promozione.descrizione),t.xp6(1),t.Q6J("ngIf",!!a.promozione.descrizioneDettagliata),t.xp6(3),t.Oqu(t.lcZ(14,28,"booking.offer.prenota")),t.xp6(3),t.Q6J("ngIf",!!a.promozioneValidaDalAl),t.xp6(1),t.Q6J("ngIf",!!a.promozioneValidaDalAl&&!!a.promozionePrenotabileDalAl),t.xp6(1),t.Q6J("ngIf",!!a.promozionePrenotabileDalAl),t.xp6(4),t.s9C("placeholder",t.lcZ(23,30,"booking.offer.arrivo")),t.Q6J("matDatepicker",e)("ngModel",a.arrivo),t.xp6(2),t.Q6J("for",e),t.xp6(5),t.s9C("placeholder",t.lcZ(30,32,"booking.offer.partenza")),t.Q6J("matDatepicker",i)("ngModel",a.partenza),t.xp6(2),t.Q6J("for",i),t.xp6(4),t.Q6J("disabled",!a.arrivo||!a.partenza),t.xp6(2),t.Oqu(t.lcZ(38,34,"booking.offer.cerca")),t.xp6(4),t.Q6J("urlMappa",a.portale.urlIFrameGoogleMap)("email",a.portale.email)("telefono",a.portale.telefono)("indirizzo",a.portale.indirizzo)("cap",a.portale.cap)("citta",a.portale.citta)("provincia",a.portale.provincia)("nome",a.portale.nomeStruttura)}}class Ve extends z.H{constructor(n,e,i,a,r,l,c){super(),this.containerService=n,this.localizationService=e,this.apiService=i,this.route=a,this.router=r,this.deviceService=l,this.utility=c,this.initialized=!1,this.portale=new p.ab4}ngOnInit(){this.containerService.setScrollingContainer("offer-scrolling"),this.setIsLoading(!0),this.sub=this.route.queryParamMap.subscribe(n=>{let e=n.get("oidPromozione");if(this.lingua=n.get("lingua"),e&&!isNaN(+e)){let i=new p.T8S;i.oidPromozione=+e,i.isMobile=this.deviceService.isMobile(),i.lingua=this.lingua,this.apiService.getOffer(i).subscribe(a=>{null!=a.data.promozione?(this.promozione=a.data.promozione,this.portale=a.data.portale,(this.promozione.validaDal||this.promozione.validaAl)&&(this.promozioneValidaDalAl=this.localizationService.getTranslationSync("booking.offer.promozioneValidaDalAl",{dal:this.promozione.validaDal?this.promozione.validaDal:"---",al:this.promozione.validaAl?this.promozione.validaAl:"---"})),(this.promozione.prenotabileDal||this.promozione.prenotabileAl)&&(this.promozionePrenotabileDalAl=this.localizationService.getTranslationSync("booking.offer.promozionePrenotabileDalAl",{dal:this.promozione.prenotabileDal?this.promozione.prenotabileDal:"---",al:this.promozione.prenotabileAl?this.promozione.prenotabileAl:"---"})),this.utility.setLingua(this.lingua).then(()=>{this.utility.setBackgroundImage(this.portale.urlImmagineSfondo).then(r=>{this.backgroundImage=r,this.initialized=!0})}),this.setIsLoading(!1)):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}search(){window.location.href=window.location.origin+"/booking?oidPortale="+this.portale.oid+"&arrivo="+this.arrivo+"&partenza="+this.partenza+"&codicePromozione="+this.promozione.codice+(this.lingua?"&lingua="+this.lingua:"")}onArrivoChange(){setTimeout(()=>{this.arrivo=this.getDate(this.arrivo),P(this.arrivo)<P().startOf("day")&&(this.arrivo=this.getDate(P())),(null==this.partenza||P(this.arrivo)>=P(this.partenza))&&(this.partenza=this.getDate(P(this.arrivo).add(1,"day")))},200)}onPartenzaChange(){setTimeout(()=>{this.partenza=this.getDate(this.partenza),P(this.partenza)<P().add(1,"day").startOf("day")&&(this.partenza=this.getDate(P().add(1,"day"))),(null==this.arrivo||P(this.arrivo)>=P(this.partenza))&&(this.arrivo=this.getDate(P(this.partenza).subtract(1,"day")))},200)}ngOnDestroy(){this.sub.unsubscribe()}}function wx(o,n){if(1&o&&t._UZ(0,"img",7),2&o){const e=t.oxw();t.Q6J("src",e.urlLogo,t.LSH)}}function Px(o,n){if(1&o&&(t.TgZ(0,"span",8)(1,"span",9),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}Ve.\u0275fac=function(n){return new(n||Ve)(t.Y36(T.J),t.Y36(K.o),t.Y36(k.s),t.Y36(S.gz),t.Y36(S.F0),t.Y36(xt.x0),t.Y36(v.t))},Ve.\u0275cmp=t.Xpm({type:Ve,selectors:[["app-offer"]],features:[t.qOj],decls:4,vars:4,consts:[["id","offer",1,"container-fluid","p-0","w-100","h-100"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono",4,"ngIf"],["id","offer-scrolling",1,"overflow-auto","w-100"],[4,"ngIf"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono"],[1,"offer-outer-container","d-flex","flex-row","justify-content-center","mt-5","mb-5"],[1,"offer-col","mx-auto"],[1,"mat-elevation-z5","offer-container"],[1,"immagine-pacchetto"],[3,"images","minimumHeight","maximumHeight"],[1,"p-4"],[1,"font-weight-bold","pacchetto-nome"],["class","mt-3",4,"ngIf"],[1,"mt-3","ml-3"],[1,"mt-3","ml-3","font-italic"],[1,"row","mt-4"],[1,"col-4"],[1,"w-100"],["autocompleteOff","","type","text","matInput","","readonly","",3,"matDatepicker","placeholder","ngModel","ngModelChange","dateChange","click"],["matSuffix","",3,"for"],["panelClass","booking-datepicker"],["dal",""],["al",""],[1,"col-4","text-right"],["mat-flat-button","",1,"button-blue","mt-3","mr-3",3,"disabled","click"],[1,"material-icons-round"],[3,"urlMappa","email","telefono","indirizzo","cap","citta","provincia","nome"],[1,"mt-3"],[3,"_text"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,ux,1,6,"app-offer-header",1),t.TgZ(2,"div",2),t.YNc(3,zx,42,38,"ng-container",3),t.qZA()()),2&n&&(t.Udp("background-image",e.backgroundImage),t.xp6(1),t.Q6J("ngIf",e.initialized),t.xp6(2),t.Q6J("ngIf",e.initialized))},dependencies:[s.O5,R.X,C.eB,M.v_,M.nX,Y.k0,ot.Mq,ot.hl,ot.nW,f.Fj,f.JJ,f.On,H.V,Z.W,Le,Be,b.X$],styles:["#offer[_ngcontent-%COMP%]{background-color:#e6e6e6!important;font-family:Titillium Web,sans-serif!important;background-position:center;background-repeat:no-repeat;background-size:cover}#offer-scrolling[_ngcontent-%COMP%]{position:absolute!important;top:80px!important;height:calc(100% - 80px)!important;scrollbar-width:thin!important}#offer-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px!important;height:10px!important;background-color:transparent!important}#offer-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0!important;box-shadow:none!important;background-color:#000000b3!important}#offer-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0!important;background-color:#aaaaaa80!important;box-shadow:inset 0 0 3px #000000bf!important}.offer-outer-container[_ngcontent-%COMP%]{max-width:100%;padding-left:12px!important;padding-right:12px!important;min-height:calc(100% - 500px - 6rem)!important}@media (min-width: 992px){.offer-outer-container[_ngcontent-%COMP%]{min-height:calc(100% - 300px - 6rem)!important}}.offer-col[_ngcontent-%COMP%]{flex:1;max-width:1000px;width:100%}.offer-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;overflow:hidden}  #offer .mat-form-field .mat-form-field-label{color:#0000008a!important}  #offer .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #offer .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:#004987!important}  #offer .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #offer .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #offer .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#004987!important}  #offer .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#004987!important}  #offer .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#004987!important}  #offer .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:#004987!important}  #offer .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#004987!important}  #offer .mat-input-element{caret-color:#004987!important}  #offer .mat-datepicker-toggle{color:#004987!important}  #offer .mat-checkbox-checked .mat-checkbox-background{background-color:#004987!important}.immagine-pacchetto[_ngcontent-%COMP%]{min-height:400px!important}.pacchetto-nome[_ngcontent-%COMP%]{color:#004987;font-size:20px}"]});class Ye{constructor(n){this.utility=n}}function Tx(o,n){if(1&o&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.nome," ")}}function Mx(o,n){if(1&o&&(t.TgZ(0,"div",13)(1,"span",7),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",8),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}function yx(o,n){if(1&o&&(t._UZ(0,"iframe",14),t.ALo(1,"safeUrl")),2&o){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,e.urlMappa),t.uOi)}}Ye.\u0275fac=function(n){return new(n||Ye)(t.Y36(v.t))},Ye.\u0275cmp=t.Xpm({type:Ye,selectors:[["app-paymail-header"]],inputs:{urlLogo:"urlLogo",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono"},decls:8,vars:3,consts:[[1,"paymail-header","p-2","w-100"],[1,"logo-container","align-middle","d-inline-flex","align-items-center","justify-content-center"],["class","logo d-inline-block align-middle",3,"src",4,"ngIf"],["class","indirizzo d-none d-md-inline-block font-weight-bold",4,"ngIf"],[1,"d-block","float-right","pt-2"],["mat-icon-button","",1,"align-middle","mb-1","mr-3",3,"disableRipple","click"],[1,"material-icons-round","phone-icon"],[1,"logo","d-inline-block","align-middle",3,"src"],[1,"indirizzo","d-none","d-md-inline-block","font-weight-bold"],[1,"material-icons-round","mr-1","align-middle"],[1,"align-middle"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t.YNc(2,wx,1,1,"img",2),t.qZA(),t.YNc(3,Px,5,1,"span",3),t.TgZ(4,"span",4)(5,"button",5),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(6,"span",6),t._uU(7," phone "),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!!e.urlLogo),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(2),t.Q6J("disableRipple",!0))},dependencies:[s.O5,C.eB],styles:[".paymail-header[_ngcontent-%COMP%]{height:80px;position:absolute;top:0;background-color:#ffffffb3}.logo-container[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;margin-left:20px;cursor:pointer}.logo[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;object-fit:contain}.phone-icon[_ngcontent-%COMP%]{color:#868686}.indirizzo[_ngcontent-%COMP%]{margin-left:40px;font-size:14px;cursor:pointer;color:#004987;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]:hover{color:#006dc9;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px}"]});const ho=function(o){return{"cursor-pointer":o}};class Fe{constructor(n){this.utility=n}}function Zx(o,n){if(1&o&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.prenotazione.cliente," ")}}Fe.\u0275fac=function(n){return new(n||Fe)(t.Y36(v.t))},Fe.\u0275cmp=t.Xpm({type:Fe,selectors:[["app-paymail-footer"]],inputs:{nome:"nome",urlMappa:"urlMappa",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono",email:"email"},decls:18,vars:11,consts:[[1,"paymail-footer","w-100"],[1,"row","m-0","h-100"],[1,"col-12","col-lg-4","info-col","p-0","d-flex","align-items-center","justify-content-center"],[1,"p-4","text-center"],["class","mb-3 text-big font-weight-bold",4,"ngIf"],["class","mb-1 text-nowrap",4,"ngIf"],[1,"mb-1","text-nowrap",3,"ngClass","click"],[1,"material-icons-round","mr-1","align-middle","contatti-icon"],[1,"align-middle","text-wrap"],[1,"text-nowrap","email",3,"ngClass","click"],[1,"col-12","col-lg-8","p-0","iframe-col"],["width","100%","height","100%","frameborder","0","class","rounded","allowfullscreen","",3,"src",4,"ngIf"],[1,"mb-3","text-big","font-weight-bold"],[1,"mb-1","text-nowrap"],["width","100%","height","100%","frameborder","0","allowfullscreen","",1,"rounded",3,"src"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Tx,2,1,"div",4),t.YNc(5,Mx,5,1,"div",5),t.TgZ(6,"div",6),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(7,"span",7),t._uU(8,"phone_enabled"),t.qZA(),t.TgZ(9,"span",8),t._uU(10),t.qZA()(),t.TgZ(11,"div",9),t.NdJ("click",function(){return e.utility.sendEmail(e.email)}),t.TgZ(12,"span",7),t._uU(13,"email"),t.qZA(),t.TgZ(14,"span",8),t._uU(15),t.qZA()()()(),t.TgZ(16,"div",10),t.YNc(17,yx,2,3,"iframe",11),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",e.nome),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(1),t.Q6J("ngClass",t.VKq(7,ho,!!e.telefono)),t.xp6(4),t.Oqu(e.telefono?e.telefono:"---"),t.xp6(1),t.Q6J("ngClass",t.VKq(9,ho,!!e.email)),t.xp6(4),t.Oqu(e.email?e.email:"---"),t.xp6(2),t.Q6J("ngIf",!!e.urlMappa))},dependencies:[s.mk,s.O5,zt.Q],styles:[".paymail-footer[_ngcontent-%COMP%]{background-color:#fff;height:500px}@media (min-width: 992px){.paymail-footer[_ngcontent-%COMP%]{height:300px}}.info-col[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff}.contatti-icon[_ngcontent-%COMP%]{font-size:18px}.text-big[_ngcontent-%COMP%]{font-size:20px}.iframe-col[_ngcontent-%COMP%]{min-height:300px;overflow:hidden}"]});class He extends z.H{constructor(){super()}}function kx(o,n){if(1&o&&t._UZ(0,"app-paymail-header",4),2&o){const e=t.oxw();t.Q6J("urlLogo",e.portale.urlImmagineLogo)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("telefono",e.portale.telefono)}}function Ax(o,n){1&o&&(t.TgZ(0,"h5",18),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"interfaces.pagamento-form.nessunaModalitaPagamento")))}function Sx(o,n){if(1&o&&t._UZ(0,"app-paymail-prenotazione",31),2&o){const e=t.oxw(3);t.Q6J("prenotazione",e.transazione.prenotazione)}}function Ox(o,n){if(1&o&&(t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.paymail.richiestaDiPagamento")+'"'+(e.portale.nomeStruttura?e.portale.nomeStruttura:e.albergo.nome)+'"')}}function Ix(o,n){if(1&o&&(t.TgZ(0,"div",33),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.transazione.note," ")}}function qx(o,n){if(1&o&&t._UZ(0,"google-signin-button",45),2&o){const e=t.oxw(5);t.Q6J("locale",e.transazione.lingua)}}function Jx(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"button",39),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.utility.signInWithFB())}),t._UZ(3,"i",40),t.TgZ(4,"span",41),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",42)(8,"div",43),t.YNc(9,qx,1,1,"google-signin-button",44),t.qZA()()()}if(2&o){const e=t.oxw(4);t.xp6(5),t.Oqu(t.lcZ(6,2,"booking.paymail.accediFacebook")),t.xp6(4),t.Q6J("ngIf",!(null==e.transazione||!e.transazione.lingua))}}function Qx(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",34)(2,"h5",35),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.YNc(5,Jx,10,4,"div",36),t.BQk()),2&o){const e=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,2,"booking.paymail.inserireInformazioni")," "),t.xp6(2),t.Q6J("ngIf",e.albergo.isVisualizzaBottoniSocialLoginStep2)}}function Ux(o,n){if(1&o&&(t.TgZ(0,"div",48)(1,"h4",35),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"app-inner-html",49),t.qZA()),2&o){const e=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,2,"booking.paymail.condizioniPrenotazione")),t.xp6(2),t.Q6J("_text",e.condizioniPrenotazione)}}function Nx(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ux,5,4,"div",46),t.TgZ(2,"div",47)(3,"h5",35),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.portale.isVisualizzaCondizioniPrenotazioneStep2&&!!e.condizioniPrenotazione),t.xp6(3),t.hij(" ",t.lcZ(5,2,"booking.paymail.selezionaModalitaPagamento")," ")}}function Ex(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.YNc(1,Sx,1,1,"app-paymail-prenotazione",19),t.YNc(2,Ox,3,3,"div",20),t.TgZ(3,"div",21)(4,"div",22),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",23),t._uU(8),t.ALo(9,"eurCurrency"),t.qZA()(),t.YNc(10,Ix,2,1,"div",24),t.YNc(11,Qx,6,4,"ng-container",3),t.TgZ(12,"div",25)(13,"mat-form-field",26)(14,"input",27),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cliente.nome=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw(2);return a.cliente.nome&&(a.cliente.nome=a.utility.capitalize(a.cliente.nome)),t.KtG(a.checkFormValidity())}),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"mat-error"),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"mat-form-field",28)(20,"input",27),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cliente.cognome=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw(2);return a.cliente.cognome&&(a.cliente.cognome=a.utility.capitalize(a.cliente.cognome)),t.KtG(a.checkFormValidity())}),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"mat-error"),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"mat-form-field",28)(26,"input",29),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cliente.email=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.checkFormValidity())}),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"mat-error"),t._uU(29),t.ALo(30,"translate"),t.qZA()(),t.TgZ(31,"mat-form-field",28)(32,"input",30),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.cliente.cellulare=a)}),t.ALo(33,"translate"),t.qZA()()(),t.YNc(34,Nx,6,4,"ng-container",3),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=e.transazione.prenotazione),t.xp6(1),t.Q6J("ngIf",null==e.transazione.prenotazione),t.xp6(3),t.Oqu(t.lcZ(6,29,"booking.paymail.totaleDaPagare")),t.xp6(3),t.Oqu(t.lcZ(9,31,e.transazione.importo)),t.xp6(2),t.Q6J("ngIf",!!e.transazione.note),t.xp6(1),t.Q6J("ngIf",!e.transazione.isPagamentoEffettuato),t.xp6(3),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(15,33,"booking.paymail.nome"))("ngModel",e.cliente.nome)("readOnly",e.transazione.isPagamentoEffettuato)("disabled",e.transazione.isPagamentoEffettuato),t.xp6(3),t.Oqu(t.lcZ(18,35,"globals.required")),t.xp6(3),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(21,37,"booking.paymail.cognome"))("ngModel",e.cliente.cognome)("readOnly",e.transazione.isPagamentoEffettuato)("disabled",e.transazione.isPagamentoEffettuato),t.xp6(3),t.Oqu(t.lcZ(24,39,"globals.required")),t.xp6(3),t.Q6J("errorStateMatcher",e.errorStateMatcher)("placeholder",t.lcZ(27,41,"booking.paymail.email"))("ngModel",e.cliente.email)("readOnly",e.transazione.isPagamentoEffettuato)("disabled",e.transazione.isPagamentoEffettuato),t.xp6(3),t.Oqu(t.lcZ(30,43,"globals.required")),t.xp6(3),t.Q6J("placeholder",t.lcZ(33,45,"booking.paymail.cellulare"))("ngModel",e.cliente.cellulare)("readOnly",e.transazione.isPagamentoEffettuato)("disabled",e.transazione.isPagamentoEffettuato),t.xp6(2),t.Q6J("ngIf",!e.transazione.isPagamentoEffettuato)}}He.\u0275fac=function(n){return new(n||He)},He.\u0275cmp=t.Xpm({type:He,selectors:[["app-paymail-prenotazione"]],inputs:{prenotazione:"prenotazione"},features:[t.qOj],decls:65,vars:66,consts:[[1,"prenotazione-container","border","mat-elevation-z1","overflow-hidden"],[1,"background-color-blue","pt-1","pb-1"],[1,"text-center","text-small"],[1,"font-weight-bold"],["class","text-center text-small font-weight-bold",4,"ngIf"],[1,"mx-auto","d-table","mt-1"],[1,"prenotazione-header-col","pl-3"],[1,"prenotazione-header-col"],[1,"material-icons-round","align-middle","icon-small","night-icon"],[1,"material-icons-round","align-middle","adults-icon"],[1,"material-icons-round","child-icon"],[1,"mx-auto","d-table","mt-3","mb-3"],[1,"prenotazione-col","color-blue","pl-3"],[1,"text-big","font-weight-bold","mt-n1","mb-n1"],[1,"prenotazione-col","color-blue","d-inline-flex","justify-content-center","align-items-center","text-big","font-weight-bold"],[1,"prenotazione-col","color-blue"],[1,"text-center","text-small","font-weight-bold"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"span",3),t._uU(7),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"span",3),t._uU(12),t.ALo(13,"titlecase"),t.ALo(14,"momentFormat"),t.qZA()(),t.YNc(15,Zx,2,1,"div",4),t.TgZ(16,"div",5)(17,"span",6),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"span",7)(21,"span",8),t._uU(22,"nights_stay"),t.qZA()(),t.TgZ(23,"span",7),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"span",7)(27,"span",9),t._uU(28,"person"),t.qZA()(),t.TgZ(29,"span",7)(30,"span",10),t._uU(31,"person"),t.qZA()()()(),t.TgZ(32,"div",11)(33,"span",12)(34,"div"),t._uU(35),t.ALo(36,"titlecase"),t.ALo(37,"momentFormat"),t.qZA(),t.TgZ(38,"div",13),t._uU(39),t.ALo(40,"titlecase"),t.ALo(41,"momentFormat"),t.qZA(),t.TgZ(42,"div"),t._uU(43),t.ALo(44,"titlecase"),t.ALo(45,"momentFormat"),t.qZA()(),t.TgZ(46,"span",14),t._uU(47),t.qZA(),t.TgZ(48,"span",15)(49,"div"),t._uU(50),t.ALo(51,"titlecase"),t.ALo(52,"momentFormat"),t.qZA(),t.TgZ(53,"div",13),t._uU(54),t.ALo(55,"titlecase"),t.ALo(56,"momentFormat"),t.qZA(),t.TgZ(57,"div"),t._uU(58),t.ALo(59,"titlecase"),t.ALo(60,"momentFormat"),t.qZA()(),t.TgZ(61,"span",14),t._uU(62),t.qZA(),t.TgZ(63,"span",14),t._uU(64),t.qZA()()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,16,"booking.paymail.prenotazione")),t.xp6(3),t.Oqu(" #"+e.prenotazione.codice),t.xp6(2),t.Oqu(t.lcZ(10,18,"booking.paymail.del")),t.xp6(3),t.Oqu(t.lcZ(13,20,t.Dn7(14,22,e.prenotazione.data,"D MMMM YYYY",e.getLocale()))),t.xp6(3),t.Q6J("ngIf",!!e.prenotazione.cliente),t.xp6(3),t.hij(" ",t.lcZ(19,26,"booking.paymail.arrivo")," "),t.xp6(6),t.hij(" ",t.lcZ(25,28,"booking.paymail.partenza")," "),t.xp6(11),t.hij(" ",t.lcZ(36,30,t.Dn7(37,32,e.prenotazione.arrivo,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(40,36,t.Dn7(41,38,e.prenotazione.arrivo,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(44,42,t.Dn7(45,44,e.prenotazione.arrivo,"YYYY",e.getLocale()))," "),t.xp6(4),t.hij(" ",e.prenotazione.notti," "),t.xp6(3),t.hij(" ",t.lcZ(51,48,t.Dn7(52,50,e.prenotazione.partenza,"dddd",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(55,54,t.Dn7(56,56,e.prenotazione.partenza,"D MMM",e.getLocale()))," "),t.xp6(4),t.hij(" ",t.lcZ(59,60,t.Dn7(60,62,e.prenotazione.partenza,"YYYY",e.getLocale()))," "),t.xp6(4),t.hij(" ",e.prenotazione.numeroAdulti," "),t.xp6(2),t.hij(" ",e.prenotazione.numeroBambini," "))},dependencies:[s.O5,s.rS,B.H,b.X$],styles:[".prenotazione-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.prenotazione-header-col[_ngcontent-%COMP%], .prenotazione-col[_ngcontent-%COMP%]{width:90px;max-width:20%;display:inline-block;vertical-align:middle;text-align:center}.icon-small[_ngcontent-%COMP%]{font-size:18px;line-height:18px}.night-icon[_ngcontent-%COMP%]{margin-bottom:3px}.text-big[_ngcontent-%COMP%]{font-size:18px}.text-small[_ngcontent-%COMP%]{font-size:14px}.adults-icon[_ngcontent-%COMP%]{font-size:20px;margin-bottom:3px}.child-icon[_ngcontent-%COMP%]{font-size:14px;vertical-align:bottom;margin-bottom:2px}"]});const Dx=function(o,n,e){return{lingua:o,oidPortale:n,oidAlbergo:e}};function Lx(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-pagamento-form",50),t.NdJ("createOrder",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onPaymentComplete(a))})("onPaymentError",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onPaymentError(a))})("noPaymentMethod",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.noPaymentMethod=!0)}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("_totale",e.transazione.importo)("linguaPortaleAlbergo",t.kEZ(18,Dx,e.transazione.lingua,null!=e.portale?e.portale.oid:null,e.albergo.oid))("_modalitaPagamento",e.modalitaPagamento)("allModalitaPagamento",e.modalitaPagamento)("cliente",e.cliente)("_formValid",e.formValid)("errorMessage",e.errorMessage)("elevation",!1)("_isAccettaContrattoPrenotazioneStep2",e.portale.isAccettaContrattoPrenotazioneStep2)("isVerificaCartaCredito",e.portale.isVerificaCartaCredito)("isVisualizzaCRO",e.portale.isVisualizzaCRO)("condizioniContratto",e.condizioniContratto)("_recaptchaAttiva",e.albergo.isRecaptchaAttiva)("showCaparra",!1)("arrivo",null==e.transazione.prenotazione?null:e.transazione.prenotazione.arrivo)("partenza",null==e.transazione.prenotazione?null:e.transazione.prenotazione.partenza)("privacy",e.cliente.privacy)("newsletter",e.cliente.newsletter)}}function Bx(o,n){1&o&&(t.TgZ(0,"h4",51),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"booking.paymail.pagamentoEffettuato")))}function Vx(o,n){1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"globals.messages.emailNonValida")," "))}function Yx(o,n){if(1&o&&(t.TgZ(0,"div",52),t.YNc(1,Vx,3,3,"ng-container",3),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!!e.cliente.email&&!e.utility.validateEmail(e.cliente.email))}}function Fx(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7),t.YNc(4,Ax,3,3,"h5",8),t.YNc(5,Ex,35,47,"ng-container",3),t.YNc(6,Lx,1,22,"app-pagamento-form",9),t.YNc(7,Bx,3,3,"h4",10),t.YNc(8,Yx,2,1,"div",11),t.qZA()(),t.TgZ(9,"div",12)(10,"div",13)(11,"div",14)(12,"span",15),t._uU(13,"message"),t.qZA()(),t._UZ(14,"app-messaggi-send",16),t.qZA()()(),t._UZ(15,"app-paymail-footer",17),t.BQk()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.noPaymentMethod),t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod),t.xp6(1),t.Q6J("ngIf",!e.transazione.isPagamentoEffettuato),t.xp6(1),t.Q6J("ngIf",e.transazione.isPagamentoEffettuato),t.xp6(1),t.Q6J("ngIf",!e.noPaymentMethod&&!e.transazione.isPagamentoEffettuato),t.xp6(6),t.Q6J("_transazione",e.transazione)("messaggi",e.messaggi)("mittente",e.enumMittente.Cliente)("nomeAlbergo",e.albergo.nome)("nomePortale",e.portale.nomeStruttura)("maxHeight",500)("booking",!0),t.xp6(1),t.Q6J("urlMappa",e.portale.urlIFrameGoogleMap)("email",e.portale.email)("telefono",e.portale.telefono)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("nome",e.portale.nomeStruttura)}}class Re extends z.H{beforeUnloadHandler(n){return!this.transazione.isPagamentoEffettuato&&this.showMessageOnClose?(n&&(n.returnValue=""),""):null}constructor(n,e,i,a,r,l,c,g,_){super(),this.router=n,this.route=e,this.localizationService=i,this.apiService=a,this.containerService=r,this.deviceService=l,this.utility=c,this.authService=g,this.cssLoaderService=_,this.initialized=!1,this.portale=new p.di9,this.transazione=new p.Fve,this.messaggi=[],this.modalitaPagamento=[],this.formValid=!1,this.noPaymentMethod=!1,this.errorMessage="globals.messages.inserireDati",this.cliente=new w.c1h,this.enumStatoEsecuzione=m.g_,this.enumMittente=m.VM,this.albergo=new p.GJR,this.showMessageOnClose=!0}ngOnInit(){this.containerService.setScrollingContainer("paymail-scrolling"),this.setIsLoading(!0),this.sub=this.route.queryParamMap.subscribe(n=>{let e=n.get("uid");if(e){let i=new p.Kk_;i.uid=e,i.isMobile=this.deviceService.isMobile(),this.apiService.getPayMail(i).subscribe(a=>{var r;null!=a.data&&null!=a.data.transazione&&null!=a.data.albergo?(this.transazione=a.data.transazione,this.albergo=a.data.albergo,this.cssLoaderService.load(this.albergo.oid,m.I8.Paymail,null===(r=a.data.portale)||void 0===r?void 0:r.oidUbicazioneIstat),this.modalitaPagamento=a.data.modalitaPagamento,this.messaggi=a.data.messaggi,this.condizioniPrenotazione=a.data.condizioniPrenotazione,this.condizioniContratto=a.data.condizioniContratto,null!=a.data.portale&&(this.portale=a.data.portale),null!=this.transazione.cliente&&(this.cliente.nome=this.transazione.cliente.nome,this.cliente.cognome=this.transazione.cliente.cognome,this.cliente.email=this.transazione.cliente.email,this.cliente.cellulare=this.transazione.cliente.cellulare,this.cliente.privacy=this.transazione.cliente.privacy,this.cliente.newsletter=this.transazione.cliente.newsletter,this.checkFormValidity()),this.utility.setLingua(this.transazione.lingua).then(()=>{if(a.data.traduzioni){let l;try{l=JSON.parse(a.data.traduzioni)}catch(c){}l&&this.localizationService.setTranslation(this.localizationService.getCurrentLocale(),l)}this.utility.setBackgroundImage(this.portale.urlImmagineSfondo).then(l=>{this.backgroundImage=l,this.initialized=!0,this.setIsLoading(!1)})})):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})}),this.sub1=this.authService.authState.subscribe(n=>{null!=n&&null!=this.cliente&&(this.cliente.nome=n.firstName,this.cliente.cognome=n.lastName,this.cliente.email=n.email,this.checkFormValidity())})}checkFormValidity(){this.cliente.nome&&this.cliente.cognome&&this.cliente.email?this.utility.validateEmail(this.cliente.email)?this.formValid=!0:(this.errorMessage="globals.messages.emailNonValida",this.formValid=!1):(this.errorMessage="globals.messages.inserireDati",this.formValid=!1)}onPaymentComplete(n){this.setIsLoading(!0);let e=new p.bnJ;e.oid=this.transazione.oid,e.isErrore=!1,e.token=n.modalitaPagamento.token,e.oidModalitaPagamento=n.modalitaPagamento.paymentId,e.descrizioneEsito="Pagamento eseguito",e.isNotificaGestionale=!0,e.oidTransazioneEseguita=n.oidTransazione,e.numeroCarta=n.numeroCarta,e.titolareCarta=n.titolareCarta,e.scadenzaCartaAnno=n.scadenzaCartaAnno,e.scadenzaCartaMese=n.scadenzaCartaMese,e.codiceSicurezza=n.codiceSicurezza,e.codiceRiferimentoOperazione=n.codiceRiferimentoOperazione,this.apiService.setTransazione(e).subscribe(()=>{this.setIsLoading(!1),this.showMessageOnClose=!1,this.showInfo("booking.paymail.pagamentoCompletato").then(()=>{window.location.reload()})})}onPaymentError(n){this.setIsLoading(!0);let e=new p.bnJ;e.oid=this.transazione.oid,e.isErrore=!0,e.descrizioneEsito=n,e.isNotificaGestionale=!1,this.apiService.setTransazione(e).subscribe(()=>{this.setIsLoading(!1)})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe()}}Re.\u0275fac=function(n){return new(n||Re)(t.Y36(S.F0),t.Y36(S.gz),t.Y36(K.o),t.Y36(k.s),t.Y36(T.J),t.Y36(xt.x0),t.Y36(v.t),t.Y36(qt.xE),t.Y36(le.e))},Re.\u0275cmp=t.Xpm({type:Re,selectors:[["app-paymail"]],hostBindings:function(n,e){1&n&&t.NdJ("beforeunload",function(a){return e.beforeUnloadHandler(a)},!1,t.Jf7)},features:[t.qOj],decls:4,vars:4,consts:[["id","paymail",1,"container-fluid","p-0","w-100","h-100"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono",4,"ngIf"],["id","paymail-scrolling",1,"overflow-auto","w-100"],[4,"ngIf"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono"],[1,"paymail-outer-container","d-flex","flex-row","justify-content-center","mt-5","mb-5"],[1,"paymail-col","mx-auto","mx-lg-0"],[1,"mat-elevation-z5","pagamento-form-container","p-4"],["class","font-weight-bold mb-0 text-center",4,"ngIf"],[3,"_totale","linguaPortaleAlbergo","_modalitaPagamento","allModalitaPagamento","cliente","_formValid","errorMessage","elevation","_isAccettaContrattoPrenotazioneStep2","isVerificaCartaCredito","isVisualizzaCRO","condizioniContratto","_recaptchaAttiva","showCaparra","arrivo","partenza","privacy","newsletter","createOrder","onPaymentError","noPaymentMethod",4,"ngIf"],["class","text-center p-3 mt-3 informazioni-container border",4,"ngIf"],["class","text-center error-text mt-2",4,"ngIf"],[1,"messaggi-col","d-none","d-lg-block"],[1,"mat-elevation-z5","messaggi-container","overflow-hidden"],[1,"messaggi-header","d-flex","justify-content-center","align-items-center","p-2"],[1,"material-icons-round"],[3,"_transazione","messaggi","mittente","nomeAlbergo","nomePortale","maxHeight","booking"],[3,"urlMappa","email","telefono","indirizzo","cap","citta","provincia","nome"],[1,"font-weight-bold","mb-0","text-center"],[3,"prenotazione",4,"ngIf"],["class","text-big font-weight-bold text-center color-blue",4,"ngIf"],[1,"background-grey","rounded-lg","p-4","font-weight-bold","mb-4","mt-3","text-center"],[1,"totaleText"],[1,"totale"],["class","mb-4 p-3 border rounded-lg",4,"ngIf"],[1,"p-3","informazioni-container","border"],[1,"w-100"],["autocompleteOff","","matInput","","required","",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","ngModelChange"],[1,"w-100","mt-2"],["autocompleteOff","","matInput","","type","email","required","",3,"errorStateMatcher","placeholder","ngModel","readOnly","disabled","ngModelChange"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","readOnly","disabled","ngModelChange"],[3,"prenotazione"],[1,"text-big","font-weight-bold","text-center","color-blue"],[1,"mb-4","p-3","border","rounded-lg"],[1,"text-center","mb-3"],[1,"color-blue","font-weight-bold"],["class","row mb-4 mt-3",4,"ngIf"],[1,"row","mb-4","mt-3"],[1,"col-12","col-sm-6","text-center","text-sm-right","facebook-col"],["mat-flat-button","",1,"loginButtons",3,"click"],[1,"fa","fa-facebook","align-middle","mr-2","facebook-icon"],[1,"align-middle"],[1,"col-12","col-sm-6","text-center","text-sm-left","google-col"],[1,"loginButtons","d-inline-block","overflow-hidden","mt-3","mt-sm-0"],[3,"locale",4,"ngIf"],[3,"locale"],["class","mt-4 p-3 border condizioni-prenotazione-container",4,"ngIf"],[1,"text-center","mt-5","mb-3"],[1,"mt-4","p-3","border","condizioni-prenotazione-container"],[3,"_text"],[3,"_totale","linguaPortaleAlbergo","_modalitaPagamento","allModalitaPagamento","cliente","_formValid","errorMessage","elevation","_isAccettaContrattoPrenotazioneStep2","isVerificaCartaCredito","isVisualizzaCRO","condizioniContratto","_recaptchaAttiva","showCaparra","arrivo","partenza","privacy","newsletter","createOrder","onPaymentError","noPaymentMethod"],[1,"text-center","p-3","mt-3","informazioni-container","border"],[1,"text-center","error-text","mt-2"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,kx,1,6,"app-paymail-header",1),t.TgZ(2,"div",2),t.YNc(3,Fx,16,20,"ng-container",3),t.qZA()()),2&n&&(t.Udp("background-image",e.backgroundImage),t.xp6(1),t.Q6J("ngIf",e.initialized),t.xp6(2),t.Q6J("ngIf",e.initialized))},dependencies:[s.O5,R.X,et,C.eB,M.nI,M.v_,Y.k0,f.Fj,f.JJ,f.Q7,f.On,Jt.Q,yn.G,Z.W,Ye,Fe,He,Qt.f,b.X$],styles:["#paymail[_ngcontent-%COMP%]{background-color:#e6e6e6!important;font-family:Titillium Web,sans-serif!important;background-position:center;background-repeat:no-repeat;background-size:cover}#paymail-scrolling[_ngcontent-%COMP%]{position:absolute!important;top:80px!important;height:calc(100% - 80px)!important;scrollbar-width:thin!important}#paymail-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px!important;height:10px!important;background-color:transparent!important}#paymail-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0!important;box-shadow:none!important;background-color:#000000b3!important}#paymail-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0!important;background-color:#aaaaaa80!important;box-shadow:inset 0 0 3px #000000bf!important}.paymail-outer-container[_ngcontent-%COMP%]{max-width:100%;padding-left:12px!important;padding-right:12px!important;min-height:calc(100% - 500px - 6rem)!important}@media (min-width: 992px){.paymail-outer-container[_ngcontent-%COMP%]{min-height:calc(100% - 300px - 6rem)!important}}.paymail-col[_ngcontent-%COMP%]{flex:1;max-width:800px;width:100%}.messaggi-col[_ngcontent-%COMP%]{width:370px;max-width:370px;min-width:370px;padding-left:15px}.messaggi-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.messaggi-header[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff}.pagamento-form-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.condizioni-prenotazione-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}  #paymail .mat-form-field .mat-form-field-label{color:#0000008a!important}  #paymail .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #paymail .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:#004987!important}  #paymail .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #paymail .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #paymail .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#004987!important}  #paymail .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#004987!important}  #paymail .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#004987!important}  #paymail .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:#004987!important}  #paymail .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#004987!important}  #paymail .mat-input-element{caret-color:#004987!important}  #paymail .mat-datepicker-toggle{color:#004987!important}  #paymail .mat-checkbox-checked .mat-checkbox-background{background-color:#004987!important}.text-big[_ngcontent-%COMP%]{font-size:18px}.totaleText[_ngcontent-%COMP%]{color:#666;font-size:14px}.totale[_ngcontent-%COMP%]{font-size:22px}.informazioni-container[_ngcontent-%COMP%], .pagamentoEffettuato-container[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff}.error-text[_ngcontent-%COMP%]{font-size:15px;color:#d9534f;font-weight:700}.loginButtons[_ngcontent-%COMP%]{border:1px solid #6b6b6b!important;border-radius:7px!important;color:#6b6b6b!important;transition:all .4s ease-out!important;height:34px;line-height:34px}.loginButtons[_ngcontent-%COMP%]:hover{color:#adadad!important;border:1px solid #adadad!important;transition:all .4s ease-out!important}.facebook-icon[_ngcontent-%COMP%]{color:#3768f1}.facebook-col[_ngcontent-%COMP%]{padding-right:.75rem!important}.google-col[_ngcontent-%COMP%]{padding-left:.75rem!important}.background-grey[_ngcontent-%COMP%]{background-color:#f2f2f2}"]});var Hx=d(47563);class Ge{constructor(){}}function Rx(o,n){if(1&o&&t._UZ(0,"img",7),2&o){const e=t.oxw();t.Q6J("src",e.urlLogo,t.LSH)}}function Gx(o,n){if(1&o&&(t.TgZ(0,"span",8)(1,"span",9),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}Ge.\u0275fac=function(n){return new(n||Ge)},Ge.\u0275cmp=t.Xpm({type:Ge,selectors:[["app-rooming-list-checkin-dialog"]],inputs:{albergo:"albergo",isVisualizzaTuttiDatiSelfCheckIn:"isVisualizzaTuttiDatiSelfCheckIn",isBloccaModificaDatiCheckIn:"isBloccaModificaDatiCheckIn",model:"model",lingua:"lingua",orarioDiArrivoMinimo:"orarioDiArrivoMinimo",orarioDiArrivoMassimo:"orarioDiArrivoMassimo",dialogRef:"dialogRef"},decls:4,vars:9,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[3,"roomingList","albergo","model","isVisualizzaTuttiDatiSelfCheckIn","isBloccaModificaDatiCheckIn","lingua","orarioDiArrivoMinimo","orarioDiArrivoMassimo","back"]],template:function(n,e){1&n&&(t.TgZ(0,"button",0)(1,"i",1),t._uU(2,"clear"),t.qZA()(),t.TgZ(3,"app-my-self-check-in",2),t.NdJ("back",function(a){return e.dialogRef.close(a)}),t.qZA()),2&n&&(t.Q6J("disableRipple",!0),t.xp6(3),t.Q6J("roomingList",!0)("albergo",e.albergo)("model",e.model)("isVisualizzaTuttiDatiSelfCheckIn",e.isVisualizzaTuttiDatiSelfCheckIn)("isBloccaModificaDatiCheckIn",e.isBloccaModificaDatiCheckIn)("lingua",e.lingua)("orarioDiArrivoMinimo",e.orarioDiArrivoMinimo)("orarioDiArrivoMassimo",e.orarioDiArrivoMassimo))},dependencies:[C.eB,G.aO,Hx.Y]});class Ke{constructor(n){this.utility=n}}function Kx(o,n){if(1&o&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.nome," ")}}function jx(o,n){if(1&o&&(t.TgZ(0,"div",13)(1,"span",7),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",8),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}function Xx(o,n){if(1&o&&(t._UZ(0,"iframe",14),t.ALo(1,"safeUrl")),2&o){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,e.urlMappa),t.uOi)}}Ke.\u0275fac=function(n){return new(n||Ke)(t.Y36(v.t))},Ke.\u0275cmp=t.Xpm({type:Ke,selectors:[["app-rooming-list-header"]],inputs:{urlLogo:"urlLogo",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono"},decls:8,vars:3,consts:[[1,"rooming-list-header","p-2","w-100"],[1,"logo-container","align-middle","d-inline-flex","align-items-center","justify-content-center"],["class","logo d-inline-block align-middle",3,"src",4,"ngIf"],["class","indirizzo d-none d-md-inline-block font-weight-bold",4,"ngIf"],[1,"d-block","float-right","pt-2"],["mat-icon-button","",1,"align-middle","mb-1","mr-3",3,"disableRipple","click"],[1,"material-icons-round","phone-icon"],[1,"logo","d-inline-block","align-middle",3,"src"],[1,"indirizzo","d-none","d-md-inline-block","font-weight-bold"],[1,"material-icons-round","mr-1","align-middle"],[1,"align-middle"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t.YNc(2,Rx,1,1,"img",2),t.qZA(),t.YNc(3,Gx,5,1,"span",3),t.TgZ(4,"span",4)(5,"button",5),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(6,"span",6),t._uU(7," phone "),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!!e.urlLogo),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(2),t.Q6J("disableRipple",!0))},dependencies:[s.O5,C.eB],styles:[".rooming-list-header[_ngcontent-%COMP%]{height:80px;position:absolute;top:0;background-color:#ffffffb3}.logo-container[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;margin-left:20px;cursor:pointer}.logo[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;object-fit:contain}.phone-icon[_ngcontent-%COMP%]{color:#868686}.indirizzo[_ngcontent-%COMP%]{margin-left:40px;font-size:14px;cursor:pointer;color:#004987;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]:hover{color:#006dc9;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px}"]});const xo=function(o){return{"cursor-pointer":o}};class je{constructor(n){this.utility=n}}je.\u0275fac=function(n){return new(n||je)(t.Y36(v.t))},je.\u0275cmp=t.Xpm({type:je,selectors:[["app-rooming-list-footer"]],inputs:{nome:"nome",urlMappa:"urlMappa",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono",email:"email"},decls:19,vars:11,consts:[[1,"rooming-list-footer","w-100"],[1,"row","m-0","h-100"],[1,"col-12","col-lg-4","info-col","p-0","d-flex","align-items-center","justify-content-center"],[1,"p-4","text-center"],["class","mb-3 text-big font-weight-bold",4,"ngIf"],["class","mb-1 text-nowrap",4,"ngIf"],[1,"mb-1","text-nowrap",3,"ngClass","click"],[1,"material-icons-round","mr-1","align-middle","contatti-icon"],[1,"align-middle","text-wrap"],[1,"text-nowrap","email",3,"ngClass","click"],[1,"col-12","col-lg-8","p-0","iframe-col"],["width","100%","height","100%","frameborder","0","class","rounded","allowfullscreen","",3,"src",4,"ngIf"],[1,"mb-3","text-big","font-weight-bold"],[1,"mb-1","text-nowrap"],["width","100%","height","100%","frameborder","0","allowfullscreen","",1,"rounded",3,"src"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Kx,2,1,"div",4),t.YNc(5,jx,5,1,"div",5),t._uU(6," <"),t.TgZ(7,"div",6),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(8,"span",7),t._uU(9,"phone_enabled"),t.qZA(),t.TgZ(10,"span",8),t._uU(11),t.qZA()(),t.TgZ(12,"div",9),t.NdJ("click",function(){return e.utility.sendEmail(e.email)}),t.TgZ(13,"span",7),t._uU(14,"email"),t.qZA(),t.TgZ(15,"span",8),t._uU(16),t.qZA()()()(),t.TgZ(17,"div",10),t.YNc(18,Xx,2,3,"iframe",11),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",e.nome),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(2),t.Q6J("ngClass",t.VKq(7,xo,!!e.telefono)),t.xp6(4),t.Oqu(e.telefono?e.telefono:"---"),t.xp6(1),t.Q6J("ngClass",t.VKq(9,xo,!!e.email)),t.xp6(4),t.Oqu(e.email?e.email:"---"),t.xp6(2),t.Q6J("ngIf",!!e.urlMappa))},dependencies:[s.mk,s.O5,zt.Q],styles:[".rooming-list-footer[_ngcontent-%COMP%]{background-color:#fff;height:500px}@media (min-width: 992px){.rooming-list-footer[_ngcontent-%COMP%]{height:300px}}.info-col[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff}.contatti-icon[_ngcontent-%COMP%]{font-size:18px}.text-big[_ngcontent-%COMP%]{font-size:20px}.iframe-col[_ngcontent-%COMP%]{min-height:300px;overflow:hidden}"]});var $x=d(46446);function Wx(o,n){if(1&o&&t._UZ(0,"app-rooming-list-header",4),2&o){const e=t.oxw();t.Q6J("urlLogo",e.portale.urlImmagineLogo)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("telefono",e.portale.telefono)}}function tb(o,n){if(1&o&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null!=e.prenotazione.tipoCameraVendita?e.prenotazione.tipoCameraVendita.nome:""," ")}}function eb(o,n){if(1&o&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null!=e.prenotazione.tipoCamera?e.prenotazione.tipoCamera.nome:""," ")}}function nb(o,n){if(1&o&&(t.TgZ(0,"mat-option",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.value)," ")}}function ob(o,n){if(1&o&&(t.TgZ(0,"mat-option",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",t.lcZ(2,2,e.value)," ")}}const ib=function(o){return{"mt-3":o}},bo=function(){return["nome"]};function ab(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",15)(2,"button",27),t.NdJ("click",function(){const r=t.CHM(e).index,l=t.oxw(2).index,c=t.oxw(3);return t.KtG(c.openCheckIn(l,r))}),t.TgZ(3,"i",28),t._uU(4,"open_in_new"),t.qZA()(),t.TgZ(5,"mat-form-field",29)(6,"input",30),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.cognome=a)}),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"div",15)(9,"mat-form-field",31)(10,"input",30),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.nome=a)}),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",15)(13,"mat-form-field",31)(14,"input",32),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.dataNascita=a)})("dateChange",function(){const r=t.CHM(e).$implicit,l=t.oxw(5);return t.KtG(l.dataNascitaChange(r))}),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"mat-datepicker-toggle",33)(17,"mat-datepicker",34,35),t.qZA()(),t.TgZ(19,"div",15)(20,"app-autocomplete",36),t.NdJ("updateOptionsEvent",function(a){const l=t.CHM(e).index,c=t.oxw(2).index,g=t.oxw(3);return t.KtG(g.onUpdateOptionsComuneNascita(c,l,a))})("optionSelectedEvent",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.comuneNascita=a)}),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",15)(23,"mat-form-field",31)(24,"mat-select",37),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.tipoComponentePrenotazione=a)}),t.ALo(25,"translate"),t.YNc(26,nb,3,4,"mat-option",38),t.ALo(27,"selectEnum"),t.qZA()()(),t.TgZ(28,"div",15)(29,"mat-form-field",31)(30,"mat-select",37),t.NdJ("ngModelChange",function(a){const l=t.CHM(e).$implicit;return t.KtG(l.sesso=a)}),t.ALo(31,"translate"),t.YNc(32,ob,3,4,"mat-option",38),t.ALo(33,"selectEnum"),t.qZA()()()()}if(2&o){const e=n.$implicit,i=n.index,a=t.MAs(18),r=t.oxw(2).index,l=t.oxw(3);t.Q6J("ngClass",t.VKq(44,ib,0==i)),t.xp6(6),t.Q6J("placeholder",t.lcZ(7,26,"bo.componenteXPrenotazione.proprieta.cognome"))("ngModel",e.cognome),t.xp6(4),t.Q6J("placeholder",t.lcZ(11,28,"bo.componenteXPrenotazione.proprieta.nome"))("ngModel",e.nome),t.xp6(4),t.s9C("placeholder",t.lcZ(15,30,"bo.componenteXPrenotazione.proprieta.dataNascita")),t.Q6J("matDatepicker",a)("ngModel",e.dataNascita)("min",l.dataNascitaMinDate)("max",l.dataNascitaMaxDate),t.xp6(2),t.Q6J("for",a),t.xp6(1),t.Q6J("startAt",l.utility.isNullDate(e.dataNascita)?l.today:null)("panelClass","rooming-list-datepicker"),t.xp6(3),t.Q6J("dataLoader",l.comuneDataLoaders[r][i])("viewProperties",t.DdM(46,bo))("viewPropertiesSelected",t.DdM(47,bo))("label",t.lcZ(21,32,"bo.componenteXPrenotazione.proprieta.comuneNascita"))("selected",l.selectedComuni[r][i]),t.xp6(4),t.s9C("placeholder",t.lcZ(25,34,"bo.componenteXPrenotazione.proprieta.tipoComponentePrenotazione")),t.Q6J("panelClass","rooming-list-select")("ngModel",e.tipoComponentePrenotazione),t.xp6(2),t.Q6J("ngForOf",t.xi3(27,36,l.enumTipoComponentePrenotazione,"tipoComponentePrenotazione")),t.xp6(4),t.s9C("placeholder",t.lcZ(31,39,"bo.componenteXPrenotazione.proprieta.sesso")),t.Q6J("panelClass","rooming-list-select")("ngModel",e.sesso),t.xp6(2),t.Q6J("ngForOf",t.xi3(33,41,l.enumSesso,"sesso"))}}function rb(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ab,34,48,"div",25),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.ospiti)}}function lb(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",20)(3,"button",21),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.expanded=!r.expanded)}),t.TgZ(4,"i",22),t._uU(5),t.qZA()(),t.TgZ(6,"span",23),t._uU(7),t.qZA()(),t.TgZ(8,"div",13),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"div",13),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"div",14),t._uU(15),t.qZA(),t.TgZ(16,"div",13),t._uU(17),t.qZA(),t.YNc(18,tb,2,1,"div",24),t.YNc(19,eb,2,1,"div",24),t.TgZ(20,"div",13),t._uU(21),t.qZA(),t.TgZ(22,"div",14),t._uU(23),t.qZA(),t.TgZ(24,"div",15),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t.YNc(27,rb,2,1,"ng-container",3),t.BQk()}if(2&o){const e=n.$implicit,i=t.oxw(3);t.xp6(5),t.Oqu(e.ospiti.length>0?e.expanded?"remove":"add":""),t.xp6(2),t.Oqu(null!=e.prenotazione.cliente?e.prenotazione.cliente.cognome+" "+e.prenotazione.cliente.nome:""),t.xp6(2),t.hij(" ",t.xi3(10,12,e.prenotazione.arrivo,"dd/MM/yyyy")," "),t.xp6(3),t.hij(" ",t.xi3(13,15,e.prenotazione.partenza,"dd/MM/yyyy")," "),t.xp6(3),t.hij(" ",e.prenotazione.notti," "),t.xp6(2),t.hij(" ",e.prenotazione.camera," "),t.xp6(1),t.Q6J("ngIf",null!=e.prenotazione.tipoCameraVendita),t.xp6(1),t.Q6J("ngIf",null==e.prenotazione.tipoCameraVendita),t.xp6(2),t.hij(" ",null!=e.prenotazione.trattamento?e.prenotazione.trattamento.nome:""," "),t.xp6(2),t.hij(" ",e.prenotazione.pax," "),t.xp6(2),t.hij(" ",t.lcZ(26,18,i.getEnumKeyTranslation(i.enumStatoPrenotazione,e.prenotazione.statoPrenotazione,"statoPrenotazione"))," "),t.xp6(2),t.Q6J("ngIf",e.expanded)}}function cb(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h4",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",11)(5,"div",12),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div",13),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",13),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",14),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",13),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",13),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",13),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",14),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",15),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t.YNc(32,lb,28,20,"ng-container",16),t.TgZ(33,"div",17)(34,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.save())}),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,12,"booking.rooming-list.prenotazioni")),t.xp6(4),t.hij(" ",t.lcZ(7,14,"bo.cliente.proprieta.ragioneSociale")," "),t.xp6(3),t.hij(" ",t.lcZ(10,16,"bo.prenotazione.proprieta.arrivo")," "),t.xp6(3),t.hij(" ",t.lcZ(13,18,"bo.prenotazione.proprieta.partenza")," "),t.xp6(3),t.hij(" ",t.lcZ(16,20,"bo.prenotazione.proprieta.notti")," "),t.xp6(3),t.hij(" ",t.lcZ(19,22,"bo.prenotazione.proprieta.camera")," "),t.xp6(3),t.hij(" ",t.lcZ(22,24,"bo.prenotazione.proprieta.tipoCamera")," "),t.xp6(3),t.hij(" ",t.lcZ(25,26,"bo.prenotazione.proprieta.trattamento")," "),t.xp6(3),t.hij(" ",t.lcZ(28,28,"bo.prenotazione.proprieta.pax")," "),t.xp6(3),t.hij(" ",t.lcZ(31,30,"bo.prenotazione.proprieta.statoPrenotazione")," "),t.xp6(2),t.Q6J("ngForOf",e.prenotazioni),t.xp6(3),t.hij(" ",t.lcZ(36,32,"globals.conferma")," ")}}function sb(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"h4",41),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-form-field",42)(5,"input",43,44),t.NdJ("keyup.enter",function(){t.CHM(e);const a=t.MAs(6),r=t.oxw(2);return t.KtG(r.checkPassword(a.value))}),t.qZA()(),t.TgZ(7,"button",45),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(6),r=t.oxw(2);return t.KtG(r.checkPassword(a.value))}),t._uU(8),t.ALo(9,"translate"),t.qZA()()}if(2&o){const e=t.MAs(6);t.xp6(2),t.Oqu(t.lcZ(3,3,"booking.rooming-list.inserirePassword")),t.xp6(5),t.Q6J("disabled",!e.value),t.xp6(1),t.hij(" ",t.lcZ(9,5,"globals.continua")," ")}}const pb=function(o){return{"d-table mx-auto p-5":o}};function gb(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7),t.YNc(4,cb,37,34,"ng-container",3),t.YNc(5,sb,10,7,"div",8),t.qZA()()(),t._UZ(6,"app-rooming-list-footer",9),t.BQk()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(11,pb,!e.passwordInserted)),t.xp6(1),t.Q6J("ngIf",e.passwordInserted),t.xp6(1),t.Q6J("ngIf",!e.passwordInserted),t.xp6(1),t.Q6J("urlMappa",e.portale.urlIFrameGoogleMap)("email",e.portale.email)("telefono",e.portale.telefono)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("nome",e.portale.nomeStruttura)}}class Xe extends z.H{constructor(n,e,i,a,r,l){super(),this.containerService=n,this.apiService=e,this.route=i,this.router=a,this.deviceService=r,this.utility=l,this.initialized=!1,this.portale=new p.aH0,this.albergo=new p.OT6,this.passwordInserted=!1,this.prenotazioni=[],this.selectedComuni=[],this.comuneDataLoaders=[],this.enumStatoPrenotazione=m.gp,this.enumTipoComponentePrenotazione=m.dE,this.enumSesso=m._z,this.dataNascitaMinDate=this.getDate(ae()().subtract(100,"years")),this.dataNascitaMaxDate=this.getDate(ae()())}ngOnInit(){this.containerService.setScrollingContainer("rooming-list-scrolling"),this.setIsLoading(!0),this.sub=this.route.queryParamMap.subscribe(n=>{let e=n.get("uid");if(e){let i=new p.HgI;i.uid=e,i.isMobile=this.deviceService.isMobile(),this.apiService.getRoomingList(i).subscribe(a=>{if(null!=a.data.roomingList){this.password=a.data.password,this.prenotazioni=a.data.prenotazioni,this.passwordInserted=!this.password,null!=a.data.albergo&&(this.albergo=a.data.albergo),null!=a.data.portale&&(this.portale=a.data.portale);let r=0;for(let l of this.prenotazioni){this.selectedComuni.push([]),this.comuneDataLoaders.push([]);for(let c of l.ospiti)null!=c.comuneNascita&&c.comuneNascita.oid>0?this.selectedComuni[r].push(Object.assign({},c.comuneNascita)):this.selectedComuni[r].push(new w.AlI);r++}this.utility.setLingua(a.data.lingua).then(l=>{this.lingua=null==l?void 0:l.codice,this.utility.setBackgroundImage(this.portale.urlImmagineSfondo).then(c=>{this.backgroundImage=c,this.initialized=!0})}),this.setIsLoading(!1)}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}checkPassword(n){n==this.password?this.passwordInserted=!0:this.showError("booking.rooming-list.passwordErrata")}onUpdateOptionsComuneNascita(n,e,i){this.comuneDataLoaders[n][e]=new p.hkX(this.apiService.getComuniFilter(i))}save(){this.setIsLoading(!0);let n=new p.uWi;n.lingua=this.lingua,n.componenti=[];for(let e of this.prenotazioni)for(let i of e.ospiti)i.isCheckInOnlineEseguito=!0,i.isAggiornaSuWelcome=!0,i.dataNascita=this.getDate(i.dataNascita),n.componenti.push(i);this.apiService.setDatiCheckInMultiple(n).subscribe(()=>{this.setIsLoading(!1),this.showInfo("globals.messages.datiSalvati").then(()=>{window.location.reload()})})}openCheckIn(n,e){let i=new p.Zpt;i.width="80vw",i.panelClass="booking-dialog";let a=this.showModalDialog(Ge,i),r=a.componentInstance;r.albergo=new p.A7U(this.albergo.oid),r.isVisualizzaTuttiDatiSelfCheckIn=this.portale.isVisualizzaTuttiDatiSelfCheckIn,r.isBloccaModificaDatiCheckIn=this.portale.isBloccaModificaDatiCheckIn,r.model=Object.assign({},this.prenotazioni[n].ospiti[e]),r.lingua=this.lingua,r.orarioDiArrivoMinimo=this.portale.orarioDiArrivoMinimo,r.orarioDiArrivoMassimo=this.portale.orarioDiArrivoMassimo,r.dialogRef=a,a.afterClosed().subscribe(l=>{null!=l&&(this.prenotazioni[n].ospiti[e]=l)})}dataNascitaChange(n){if(n.dataNascita){let e=ae()(n.dataNascita).startOf("day");(e.isBefore(ae()(this.dataNascitaMinDate))||e.isAfter(ae()(this.dataNascitaMaxDate)))&&(n.dataNascita=null,this.showError("booking.rooming-list.formatoDataNonValido"))}}ngOnDestroy(){this.sub.unsubscribe()}}Xe.\u0275fac=function(n){return new(n||Xe)(t.Y36(T.J),t.Y36(k.s),t.Y36(S.gz),t.Y36(S.F0),t.Y36(xt.x0),t.Y36(v.t))},Xe.\u0275cmp=t.Xpm({type:Xe,selectors:[["app-rooming-list"]],features:[t.qOj],decls:4,vars:4,consts:[["id","rooming-list",1,"container-fluid","p-0","w-100","h-100"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono",4,"ngIf"],["id","rooming-list-scrolling",1,"overflow-auto","w-100"],[4,"ngIf"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono"],[1,"rooming-list-outer-container","d-flex","flex-row","justify-content-center","mt-5","mb-5"],[1,"rooming-list-col","mx-auto"],[1,"mat-elevation-z5","rooming-list-container","p-3",3,"ngClass"],["class","text-center",4,"ngIf"],[3,"urlMappa","email","telefono","indirizzo","cap","citta","provincia","nome"],[1,"color-blue","font-weight-bold","mb-3","pl-3"],[1,"row","font-weight-bold","color-blue"],[1,"col-3","ragione-sociale-col"],[1,"col-1"],[1,"col-1","text-center"],[1,"col-2"],[4,"ngFor","ngForOf"],[1,"mt-3","text-right"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"row","font-weight-bold","mt-3"],[1,"col-3","text-nowrap"],["mat-icon-button","",1,"expand-button","align-middle","ml-n1","mr-2",3,"click"],[1,"material-icons-round","expand-icon"],[1,"align-middle","d-inline-block","text-wrap"],["class","col-1",4,"ngIf"],["class","row",3,"ngClass",4,"ngFor","ngForOf"],[1,"row",3,"ngClass"],["mat-icon-button","",1,"button-blue","button-blue-circle","details-button","align-middle","mr-3",3,"click"],[1,"material-icons-round","details-icon","mb-1"],[1,"d-inline-block","align-middle","cognome-input"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","ngModelChange"],[1,"w-100"],["autocompleteOff","","type","text","matInput","",3,"matDatepicker","placeholder","ngModel","min","max","ngModelChange","dateChange"],["matSuffix","",3,"for"],[3,"startAt","panelClass"],["dataNascita",""],[3,"dataLoader","viewProperties","viewPropertiesSelected","label","selected","updateOptionsEvent","optionSelectedEvent"],[3,"panelClass","ngModel","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-center"],[1,"mb-3","color-blue"],[1,"password-input-rooming-list","d-block","mx-auto"],["autocompleteOff","","type","password","matInput","","required","",3,"keyup.enter"],["passwordInput",""],["mat-flat-button","",1,"password-button","button-blue","mt-4",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Wx,1,6,"app-rooming-list-header",1),t.TgZ(2,"div",2),t.YNc(3,gb,7,13,"ng-container",3),t.qZA()()),2&n&&(t.Udp("background-image",e.backgroundImage),t.xp6(1),t.Q6J("ngIf",e.initialized),t.xp6(2),t.Q6J("ngIf",e.initialized))},dependencies:[s.mk,s.sg,s.O5,R.X,C.eB,M.v_,M.nX,Y.k0,F.CK,ot.Mq,ot.hl,ot.nW,U.x8,f.Fj,f.JJ,f.On,to.Y,Ke,je,s.uU,$x.A,b.X$],styles:["#rooming-list[_ngcontent-%COMP%]{background-color:#e6e6e6!important;font-family:Titillium Web,sans-serif!important;background-position:center;background-repeat:no-repeat;background-size:cover}#rooming-list-scrolling[_ngcontent-%COMP%]{position:absolute!important;top:80px!important;height:calc(100% - 80px)!important;scrollbar-width:thin!important}#rooming-list-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px!important;height:10px!important;background-color:transparent!important}#rooming-list-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0!important;box-shadow:none!important;background-color:#000000b3!important}#rooming-list-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0!important;background-color:#aaaaaa80!important;box-shadow:inset 0 0 3px #000000bf!important}.rooming-list-outer-container[_ngcontent-%COMP%]{max-width:100%;padding-left:12px!important;padding-right:12px!important;min-height:calc(100% - 500px - 6rem)!important}@media (min-width: 992px){.rooming-list-outer-container[_ngcontent-%COMP%]{min-height:calc(100% - 300px - 6rem)!important}}.rooming-list-col[_ngcontent-%COMP%]{flex:1;max-width:1400px;width:100%}.rooming-list-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}  #rooming-list .mat-form-field .mat-form-field-label{color:#0000008a!important}  #rooming-list .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #rooming-list .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:#004987!important}  #rooming-list .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #rooming-list .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #rooming-list .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#004987!important}  #rooming-list .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#004987!important}  #rooming-list .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#004987!important}  #rooming-list .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:#004987!important}  #rooming-list .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#004987!important}  #rooming-list .mat-input-element{caret-color:#004987!important}  #rooming-list .mat-datepicker-toggle{color:#004987!important}  #rooming-list .mat-checkbox-checked .mat-checkbox-background{background-color:#004987!important}.password-input-rooming-list[_ngcontent-%COMP%]{width:200px}  .password-input-rooming-list .mat-form-field-infix{border-top:0!important}  .password-input-rooming-list .mat-form-field-flex{border:1px solid #dddddd!important;border-radius:7px!important;padding-left:.25rem!important;padding-right:.25rem!important}  .password-input-rooming-list .mat-form-field-underline{visibility:hidden!important}  .password-input-rooming-list .mat-form-field-wrapper{padding-bottom:0!important}.password-button[_ngcontent-%COMP%]{width:150px}.expand-button[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px}.expand-icon[_ngcontent-%COMP%]{font-size:18px;line-height:18px}.ragione-sociale-col[_ngcontent-%COMP%]{padding-left:37px}.details-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.details-icon[_ngcontent-%COMP%]{font-size:16px;line-height:16px}.cognome-input[_ngcontent-%COMP%]{width:calc(100% - 30px - 1rem)}"]});var vo=d(11036),$e=d(61545);function mb(o,n){if(1&o&&t._UZ(0,"img",7),2&o){const e=t.oxw();t.Q6J("src",e.urlLogo,t.LSH)}}function db(o,n){if(1&o&&(t.TgZ(0,"span",8)(1,"span",9),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}class We{constructor(n){this.utility=n}}function _b(o,n){if(1&o&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.nome," ")}}function ub(o,n){if(1&o&&(t.TgZ(0,"div",13)(1,"span",7),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",8),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}function fb(o,n){if(1&o&&(t._UZ(0,"iframe",14),t.ALo(1,"safeUrl")),2&o){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,e.urlMappa),t.uOi)}}We.\u0275fac=function(n){return new(n||We)(t.Y36(v.t))},We.\u0275cmp=t.Xpm({type:We,selectors:[["app-sondaggio-form-header"]],inputs:{urlLogo:"urlLogo",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono"},decls:8,vars:3,consts:[[1,"sondaggio-form-header","p-2","w-100"],[1,"logo-container","align-middle","d-inline-flex","align-items-center","justify-content-center"],["class","logo d-inline-block align-middle",3,"src",4,"ngIf"],["class","indirizzo d-none d-md-inline-block font-weight-bold",4,"ngIf"],[1,"d-block","float-right","pt-2"],["mat-icon-button","",1,"align-middle","mb-1","mr-3",3,"disableRipple","click"],[1,"material-icons-round","phone-icon"],[1,"logo","d-inline-block","align-middle",3,"src"],[1,"indirizzo","d-none","d-md-inline-block","font-weight-bold"],[1,"material-icons-round","mr-1","align-middle"],[1,"align-middle"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t.YNc(2,mb,1,1,"img",2),t.qZA(),t.YNc(3,db,5,1,"span",3),t.TgZ(4,"span",4)(5,"button",5),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(6,"span",6),t._uU(7," phone "),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!!e.urlLogo),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(2),t.Q6J("disableRipple",!0))},dependencies:[s.O5,C.eB],styles:[".sondaggio-form-header[_ngcontent-%COMP%]{height:80px;position:absolute;top:0;background-color:#ffffffb3}.logo-container[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;margin-left:20px;cursor:pointer}.logo[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;object-fit:contain}.phone-icon[_ngcontent-%COMP%]{color:#868686}.indirizzo[_ngcontent-%COMP%]{margin-left:40px;font-size:14px;cursor:pointer;color:#004987;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]:hover{color:#006dc9;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px}"]});const Co=function(o){return{"cursor-pointer":o}};class tn{constructor(n){this.utility=n}}function hb(o,n){if(1&o&&t._UZ(0,"app-sondaggio-form-header",4),2&o){const e=t.oxw();t.Q6J("urlLogo",e.portale.urlImmagineLogo)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("telefono",e.portale.telefono)}}function xb(o,n){if(1&o&&(t.TgZ(0,"div",11)(1,"div",12),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",13),t._UZ(5,"app-inner-html",14),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"booking.sondaggio-form.ciao")+" "+(null!=e.risposta.cliente&&e.risposta.cliente.nome?e.risposta.cliente.nome:"")+","," "),t.xp6(3),t.Q6J("_text",e.sondaggio.testoIniziale)}}function bb(o,n){1&o&&(t._uU(0),t.ALo(1,"translate")),2&o&&t.Oqu(t.lcZ(1,1,"booking.sondaggio-form.inserisciDatiPersonali")+"*")}function vb(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-step",18),t.YNc(1,bb,2,3,"ng-template",19),t.TgZ(2,"div",20)(3,"div",21)(4,"mat-form-field",22)(5,"input",23),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.risposta.cliente.nome=a)})("input",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.checkClienteStepCompleted())}),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",21)(8,"mat-form-field",22)(9,"input",23),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.risposta.cliente.cognome=a)})("input",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.checkClienteStepCompleted())}),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",21)(12,"mat-form-field",22)(13,"input",23),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(3);return t.KtG(r.risposta.cliente.email=a)})("input",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.checkClienteStepCompleted())}),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",24)(16,"button",25),t._uU(17),t.ALo(18,"translate"),t.qZA()()()}if(2&o){const e=t.oxw(3);t.Q6J("completed",e.clienteStepCompleted),t.xp6(5),t.Q6J("placeholder",t.lcZ(6,9,"bo.cliente.proprieta.nome"))("ngModel",e.risposta.cliente.nome),t.xp6(4),t.Q6J("placeholder",t.lcZ(10,11,"bo.cliente.proprieta.cognome"))("ngModel",e.risposta.cliente.cognome),t.xp6(4),t.Q6J("placeholder",t.lcZ(14,13,"bo.cliente.proprieta.email"))("ngModel",e.risposta.cliente.email),t.xp6(3),t.Q6J("disabled",!e.clienteStepCompleted),t.xp6(1),t.Oqu(t.lcZ(18,15,"globals.next"))}}function Cb(o,n){if(1&o&&t._uU(0),2&o){const e=t.oxw().$implicit;t.Oqu(e.titolo+(e.isObbligatoria?"*":""))}}function zb(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",22)(1,"textarea",33),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.rispostaJSON[r.titolo]=a)})("input",function(){t.CHM(e);const a=t.oxw(),r=a.$implicit,l=a.index,c=t.oxw(3);return t.KtG(r.isObbligatoria?c.stepsCompleted[l]=!!c.rispostaJSON[r.titolo]:null)}),t.qZA()()}if(2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngModel",i.rispostaJSON[e.titolo])("required",e.isObbligatoria)}}function wb(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",22)(1,"input",34),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.rispostaJSON[r.titolo]=a)})("input",function(){t.CHM(e);const a=t.oxw(),r=a.$implicit,l=a.index,c=t.oxw(3);return t.KtG(r.isObbligatoria?c.stepsCompleted[l]=c.utility.validateEmail(c.rispostaJSON[r.titolo]):null)}),t.ALo(2,"translate"),t.qZA()()}if(2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("placeholder",t.lcZ(2,3,"booking.sondaggio-form.inserisciEmail"))("ngModel",i.rispostaJSON[e.titolo])("required",e.isObbligatoria)}}function Pb(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",35)(1,"input",36),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.rispostaJSON[r.titolo]=a)})("dateChange",function(){t.CHM(e);const a=t.oxw(),r=a.$implicit,l=a.index,c=t.oxw(3);return c.rispostaJSON[r.titolo]=c.getDate(c.rispostaJSON[r.titolo]),t.KtG(c.stepsCompleted[l]=!0)}),t.qZA(),t._UZ(2,"mat-datepicker-toggle",37)(3,"mat-datepicker",38,39),t.qZA()}if(2&o){const e=t.MAs(4),i=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.Q6J("matDatepicker",e)("ngModel",a.rispostaJSON[i.titolo])("required",i.isObbligatoria),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.Q6J("panelClass","sondaggio-form-datepicker")}}function Tb(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-checkbox",41),t.NdJ("change",function(a){const l=t.CHM(e).$implicit,c=t.oxw(2),g=c.index,_=c.$implicit,u=t.oxw(3);return t.KtG(u.onOptionToggle(g,l,a.checked,_.titolo))}),t._uU(1),t.qZA()}if(2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e)}}function Mb(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Tb,2,1,"mat-checkbox",40),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.valoriArray)}}function yb(o,n){if(1&o&&(t.TgZ(0,"mat-radio-button",44),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Zb(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-radio-group",42),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.rispostaJSON[r.titolo]=a)})("change",function(){t.CHM(e);const a=t.oxw().index,r=t.oxw(3);return t.KtG(r.stepsCompleted[a]=!0)}),t.YNc(1,yb,2,2,"mat-radio-button",43),t.qZA()}if(2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.Q6J("ngModel",i.rispostaJSON[e.titolo]),t.xp6(1),t.Q6J("ngForOf",e.valoriArray)}}function kb(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-radio-group",42),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.rispostaJSON[r.titolo]=a)})("change",function(){t.CHM(e);const a=t.oxw().index,r=t.oxw(3);return t.KtG(r.stepsCompleted[a]=!0)}),t.TgZ(1,"mat-radio-button",44),t.ALo(2,"translate"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-radio-button",44),t.ALo(6,"translate"),t._uU(7),t.ALo(8,"translate"),t.qZA()()}if(2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.Q6J("ngModel",i.rispostaJSON[e.titolo]),t.xp6(1),t.Q6J("value",t.lcZ(2,5,"globals.si")),t.xp6(2),t.Oqu(t.lcZ(4,7,"globals.si")),t.xp6(2),t.Q6J("value",t.lcZ(6,9,"globals.no")),t.xp6(2),t.Oqu(t.lcZ(8,11,"globals.no"))}}function Ab(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"span",47),t.NdJ("mouseenter",function(){const r=t.CHM(e).index,l=t.oxw(2).$implicit;return t.KtG(l.numeroStelleHover=r+1)})("mouseleave",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.KtG(a.numeroStelleHover=0)})("click",function(){t.CHM(e);const a=t.oxw(2),r=a.index,l=a.$implicit,c=t.oxw(3);return t.KtG(c.onStelleSelected(r,l.titolo))}),t._uU(1),t.qZA()}if(2&o){const e=n.index,i=t.oxw(2).$implicit;t.xp6(1),t.Oqu(i.numeroStelleHover>0?e<i.numeroStelleHover?"star":"star_border":e<i.numeroStelle?"star":"star_border")}}function Sb(o,n){if(1&o&&(t.TgZ(0,"div",45),t.YNc(1,Ab,2,1,"span",46),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.utility.counter(5))}}function Ob(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"i",49),t.NdJ("mouseenter",function(){const r=t.CHM(e).index,l=t.oxw(2).$implicit;return t.KtG(l.numeroStelleHover=r+1)})("mouseleave",function(){t.CHM(e);const a=t.oxw(2).$implicit;return t.KtG(a.numeroStelleHover=0)})("click",function(){t.CHM(e);const a=t.oxw(2),r=a.index,l=a.$implicit,c=t.oxw(3);return t.KtG(c.onFaccinaSelected(r,l.titolo))}),t.qZA()}if(2&o){const e=n.$implicit,i=n.index,a=t.oxw(2).$implicit;t.Tol("cursor-pointer smile-icon color-blue "+((a.numeroStelleHover>0?a.numeroStelleHover==i+1:a.numeroStelle==i+1)?"fas fa-":"far fa-")+e)}}function Ib(o,n){if(1&o&&(t.TgZ(0,"div",45),t.YNc(1,Ob,1,2,"i",48),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.smileIcons)}}function qb(o,n){1&o&&(t.TgZ(0,"button",50),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"globals.previous")))}function Jb(o,n){if(1&o&&(t.TgZ(0,"button",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=t.oxw().index,i=t.oxw(3);t.Q6J("disabled",!i.stepsCompleted[e]),t.xp6(1),t.Oqu(t.lcZ(2,2,"globals.next"))}}function Qb(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.save())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw().index,i=t.oxw(3);t.Q6J("disabled",!i.stepsCompleted[e]),t.xp6(1),t.Oqu(t.lcZ(2,2,"booking.sondaggio-form.invia"))}}function Ub(o,n){if(1&o&&(t.TgZ(0,"mat-step",18),t.YNc(1,Cb,1,1,"ng-template",19),t.YNc(2,zb,2,2,"mat-form-field",26),t.YNc(3,wb,3,5,"mat-form-field",26),t.YNc(4,Pb,5,5,"mat-form-field",27),t.YNc(5,Mb,2,1,"ng-container",3),t.YNc(6,Zb,2,2,"mat-radio-group",28),t.YNc(7,kb,9,13,"mat-radio-group",28),t.YNc(8,Sb,2,1,"div",29),t.YNc(9,Ib,2,1,"div",29),t.TgZ(10,"div",24),t.YNc(11,qb,3,3,"button",30),t.YNc(12,Jb,3,4,"button",31),t.YNc(13,Qb,3,4,"button",32),t.qZA()()),2&o){const e=n.$implicit,i=n.index,a=t.oxw(3);t.Q6J("completed",a.stepsCompleted[i]),t.xp6(2),t.Q6J("ngIf",e.tipo==a.enumTipoDomanda.Text),t.xp6(1),t.Q6J("ngIf",e.tipo==a.enumTipoDomanda.Email),t.xp6(1),t.Q6J("ngIf",e.tipo==a.enumTipoDomanda.Date),t.xp6(1),t.Q6J("ngIf",e.tipo==a.enumTipoDomanda.Checkbox&&null!=e.valoriArray&&e.valoriArray.length>0),t.xp6(1),t.Q6J("ngIf",e.tipo==a.enumTipoDomanda.Radio&&null!=e.valoriArray&&e.valoriArray.length>0),t.xp6(1),t.Q6J("ngIf",e.tipo==a.enumTipoDomanda.SiNo),t.xp6(1),t.Q6J("ngIf",e.tipo==a.enumTipoDomanda.VotoStelle),t.xp6(1),t.Q6J("ngIf",e.tipo==a.enumTipoDomanda.VotoFaccine),t.xp6(2),t.Q6J("ngIf",i>0||a.clienteStepVisible&&0==i),t.xp6(1),t.Q6J("ngIf",i<a.domande.length-1),t.xp6(1),t.Q6J("ngIf",i==a.domande.length-1)}}function Nb(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-vertical-stepper",15),t.YNc(2,vb,19,17,"mat-step",16),t.YNc(3,Ub,14,12,"mat-step",17),t.qZA(),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("linear",!0),t.xp6(1),t.Q6J("ngIf",e.clienteStepVisible),t.xp6(1),t.Q6J("ngForOf",e.domande)}}function Eb(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.risposta?e.risposta:"---"," ")}}function Db(o,n){1&o&&(t.TgZ(0,"span",58),t._uU(1,"star"),t.qZA())}function Lb(o,n){1&o&&(t.TgZ(0,"span",58),t._uU(1,"star_border"),t.qZA())}function Bb(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Db,2,0,"span",57),t.YNc(2,Lb,2,0,"span",57),t.BQk()),2&o){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.utility.counter(e.numeroStelle)),t.xp6(1),t.Q6J("ngForOf",i.utility.counter(5-e.numeroStelle))}}function Vb(o,n){if(1&o&&t._UZ(0,"i"),2&o){const e=n.$implicit,i=n.index,a=t.oxw(2).$implicit;t.Tol("cursor-pointer smile-icon color-blue "+(a.numeroFaccine==i+1?"fas fa-":"far fa-")+e)}}function Yb(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Vb,1,2,"i",59),t.BQk()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.smileIcons)}}function Fb(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"h5",56),t._uU(2),t.qZA(),t.TgZ(3,"div"),t.YNc(4,Eb,2,1,"ng-container",3),t.YNc(5,Bb,3,2,"ng-container",3),t.YNc(6,Yb,2,1,"ng-container",3),t.qZA(),t.BQk()),2&o){const e=n.$implicit;t.xp6(2),t.Oqu(e.domanda),t.xp6(2),t.Q6J("ngIf",!e.numeroStelle&&!e.numeroFaccine),t.xp6(1),t.Q6J("ngIf",e.numeroStelle>0),t.xp6(1),t.Q6J("ngIf",e.numeroFaccine>0)}}function Hb(o,n){if(1&o&&(t.TgZ(0,"div",60),t._UZ(1,"app-inner-html",14),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("_text",e.testoFinale)}}function Rb(o,n){if(1&o&&(t.TgZ(0,"div",52)(1,"h4",53),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Fb,7,4,"ng-container",54),t.YNc(5,Hb,2,1,"div",55),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,3,"booking.sondaggio-form.riepilogoSondaggio")," "),t.xp6(2),t.Q6J("ngForOf",e.risposteDomande),t.xp6(1),t.Q6J("ngIf",!!e.testoFinale)}}function Gb(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7),t.YNc(4,xb,6,4,"div",8),t.YNc(5,Nb,4,3,"ng-container",3),t.YNc(6,Rb,6,5,"div",9),t.qZA()()(),t._UZ(7,"app-sondaggio-form-footer",10),t.BQk()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!!e.sondaggio.testoIniziale),t.xp6(1),t.Q6J("ngIf",!e.sondaggioCompletato),t.xp6(1),t.Q6J("ngIf",e.sondaggioCompletato),t.xp6(1),t.Q6J("urlMappa",e.portale.urlIFrameGoogleMap)("email",e.portale.email)("telefono",e.portale.telefono)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("nome",e.portale.nomeStruttura)}}tn.\u0275fac=function(n){return new(n||tn)(t.Y36(v.t))},tn.\u0275cmp=t.Xpm({type:tn,selectors:[["app-sondaggio-form-footer"]],inputs:{nome:"nome",urlMappa:"urlMappa",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono",email:"email"},decls:18,vars:11,consts:[[1,"sondaggio-form-footer","w-100"],[1,"row","m-0","h-100"],[1,"col-12","col-lg-4","info-col","p-0","d-flex","align-items-center","justify-content-center"],[1,"p-4","text-center"],["class","mb-3 text-big font-weight-bold",4,"ngIf"],["class","mb-1 text-nowrap",4,"ngIf"],[1,"mb-1","text-nowrap",3,"ngClass","click"],[1,"material-icons-round","mr-1","align-middle","contatti-icon"],[1,"align-middle","text-wrap"],[1,"text-nowrap","email",3,"ngClass","click"],[1,"col-12","col-lg-8","p-0","iframe-col"],["width","100%","height","100%","frameborder","0","class","rounded","allowfullscreen","",3,"src",4,"ngIf"],[1,"mb-3","text-big","font-weight-bold"],[1,"mb-1","text-nowrap"],["width","100%","height","100%","frameborder","0","allowfullscreen","",1,"rounded",3,"src"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,_b,2,1,"div",4),t.YNc(5,ub,5,1,"div",5),t.TgZ(6,"div",6),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(7,"span",7),t._uU(8,"phone_enabled"),t.qZA(),t.TgZ(9,"span",8),t._uU(10),t.qZA()(),t.TgZ(11,"div",9),t.NdJ("click",function(){return e.utility.sendEmail(e.email)}),t.TgZ(12,"span",7),t._uU(13,"email"),t.qZA(),t.TgZ(14,"span",8),t._uU(15),t.qZA()()()(),t.TgZ(16,"div",10),t.YNc(17,fb,2,3,"iframe",11),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",e.nome),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(1),t.Q6J("ngClass",t.VKq(7,Co,!!e.telefono)),t.xp6(4),t.Oqu(e.telefono?e.telefono:"---"),t.xp6(1),t.Q6J("ngClass",t.VKq(9,Co,!!e.email)),t.xp6(4),t.Oqu(e.email?e.email:"---"),t.xp6(2),t.Q6J("ngIf",!!e.urlMappa))},dependencies:[s.mk,s.O5,zt.Q],styles:[".sondaggio-form-footer[_ngcontent-%COMP%]{background-color:#fff;height:500px}@media (min-width: 992px){.sondaggio-form-footer[_ngcontent-%COMP%]{height:300px}}.info-col[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff}.contatti-icon[_ngcontent-%COMP%]{font-size:18px}.text-big[_ngcontent-%COMP%]{font-size:20px}.iframe-col[_ngcontent-%COMP%]{min-height:300px;overflow:hidden}"]});class en extends z.H{constructor(n,e,i,a,r,l,c,g){super(),this.containerService=n,this.apiService=e,this.route=i,this.router=a,this.deviceService=r,this.localizationService=l,this.cssLoaderService=c,this.utility=g,this.initialized=!1,this.sondaggio=new w.lv0,this.domande=[],this.risposta=new w.Zrs,this.portale=new p.W1$,this.stepsCompleted=[],this.rispostaJSON={},this.enumTipoDomanda=m.NJ,this.sondaggioCompletato=!1,this.clienteStepVisible=!1,this.clienteStepCompleted=!0,this.smileIcons=["tired","frown","meh","smile","grin"]}ngOnInit(){this.containerService.setScrollingContainer("sondaggio-form-scrolling"),this.setIsLoading(!0),this.sub=this.route.queryParamMap.subscribe(n=>{let e=n.get("uid"),i=n.get("oidPrenotazione"),a=n.get("lingua");if(e||i&&!isNaN(+i)){let r=new p.gmS;r.uid=e,r.oidPrenotazione=+i,r.isMobile=this.deviceService.isMobile(),r.lingua=a,this.apiService.getSondaggioPrenotazione(r).subscribe(l=>{if(null!=l.data.sondaggio&&null!=l.data.risposta&&l.data.domande.length>0){var c;if(this.sondaggio=l.data.sondaggio,this.sogliaPunteggio=l.data.sogliaPunteggio,this.domande=l.data.domande,this.risposta=l.data.risposta,null!=l.data.portale&&(this.portale=l.data.portale),this.cssLoaderService.load(l.data.oidAlbergo,m.I8.Sondaggio,null===(c=l.data.portale)||void 0===c?void 0:c.oidUbicazioneIstat),this.risposta.stato==m.eK.Visualizzato){null==this.risposta.cliente&&(this.risposta.cliente=new w.c1h,this.clienteStepVisible=!0,this.clienteStepCompleted=!1);for(let g of this.domande)this.stepsCompleted.push(!g.isObbligatoria),this.rispostaJSON[g.titolo]="",g.valori&&(g.valoriArray=g.valori.split(";"),g.valoriArraySelected=[]),g.numeroStelle=0}else this.initRiepilogoSondaggio();this.utility.setLingua(l.data.sondaggio.lingua.codice).then(()=>{if(l.data.traduzioni){let g;try{g=JSON.parse(l.data.traduzioni)}catch(_){}g&&this.localizationService.setTranslation(this.localizationService.getCurrentLocale(),g)}this.utility.setBackgroundImage(this.portale.urlImmagineSfondo).then(g=>{this.backgroundImage=g,this.initialized=!0})}),this.setIsLoading(!1)}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}initRiepilogoSondaggio(){if(this.risposteDomande=[],this.risposta.risposta)try{let n=JSON.parse(this.risposta.risposta);if(null!=n)for(let e in n){let i=new p.con;i.domanda=e;let a=n[e];a&&a.length>0&&a.length<=5?Array.from(a).every(r=>"*"==r)?i.numeroStelle=a.length:Array.from(a).every(r=>"\xb0"==r)?i.numeroFaccine=a.length:i.risposta=a:i.risposta=a,this.risposteDomande.push(i)}}catch(n){}this.sondaggioCompletato=!0}save(){this.setIsLoading(!0),this.risposta.risposta=JSON.stringify(this.rispostaJSON),this.risposta.punteggio=this.domande.reduce((n,e)=>n+e.numeroStelle,0),this.risposta.stato=m.eK.Compilato,this.risposta.isNotificataAGestionale=!0,this.domande.some(n=>n.tipo==m.NJ.VotoStelle||n.tipo==m.NJ.VotoFaccine)&&this.sogliaPunteggio>0&&(this.risposta.punteggio<this.sogliaPunteggio&&this.sondaggio.testoFinalePunteggioBasso||this.risposta.punteggio>=this.sogliaPunteggio&&this.sondaggio.testoFinalePunteggioAlto)&&(this.risposta.punteggio<this.sogliaPunteggio?this.testoFinale=this.sondaggio.testoFinalePunteggioBasso:this.testoFinale=this.sondaggio.testoFinalePunteggioAlto),this.apiService.setRispostaSondaggio(this.risposta).subscribe(()=>{this.initRiepilogoSondaggio(),this.setIsLoading(!1)})}onOptionToggle(n,e,i,a){i?this.domande[n].valoriArraySelected.push(e):this.domande[n].valoriArraySelected.splice(this.domande[n].valoriArraySelected.indexOf(e),1),this.rispostaJSON[a]=this.domande[n].valoriArraySelected.join(", "),!this.domande[n].isObbligatoria||this.domande[n].valoriArraySelected.length>0?this.stepsCompleted[n]=!0:this.stepsCompleted[n]=!1}onStelleSelected(n,e){this.onVotoSelected(n,e,"*")}onFaccinaSelected(n,e){this.onVotoSelected(n,e,"\xb0")}onVotoSelected(n,e,i){this.domande[n].numeroStelle=this.domande[n].numeroStelleHover,this.stepsCompleted[n]=!0,this.rispostaJSON[e]=i.repeat(this.domande[n].numeroStelle)}checkClienteStepCompleted(){this.risposta.cliente.nome&&this.risposta.cliente.cognome&&this.risposta.cliente.email&&this.utility.validateEmail(this.risposta.cliente.email)?this.clienteStepCompleted=!0:this.clienteStepCompleted=!1}ngOnDestroy(){this.sub.unsubscribe()}}en.\u0275fac=function(n){return new(n||en)(t.Y36(T.J),t.Y36(k.s),t.Y36(S.gz),t.Y36(S.F0),t.Y36(xt.x0),t.Y36(K.o),t.Y36(le.e),t.Y36(v.t))},en.\u0275cmp=t.Xpm({type:en,selectors:[["app-sondaggio-form"]],features:[t.qOj],decls:4,vars:4,consts:[["id","sondaggio",1,"container-fluid","p-0","w-100","h-100"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono",4,"ngIf"],["id","sondaggio-form-scrolling",1,"overflow-auto","w-100"],[4,"ngIf"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono"],[1,"sondaggio-form-outer-container","d-flex","flex-row","justify-content-center","mt-5","mb-5"],[1,"sondaggio-form-col","mx-auto"],[1,"mat-elevation-z5","form-container","p-3"],["class","text-center mb-4",4,"ngIf"],["class","text-center",4,"ngIf"],[3,"urlMappa","email","telefono","indirizzo","cap","citta","provincia","nome"],[1,"text-center","mb-4"],[1,"color-blue","text-big","font-weight-bold","text-center"],[1,"text-center","mt-2"],[3,"_text"],[1,"sondaggio-form-stepper",3,"linear"],[3,"completed",4,"ngIf"],[3,"completed",4,"ngFor","ngForOf"],[3,"completed"],["matStepLabel",""],[1,"row"],[1,"col-12","col-lg-4"],[1,"w-100"],["autocompleteOff","","type","text","matInput","","required","",3,"placeholder","ngModel","ngModelChange","input"],[1,"button-div"],["mat-flat-button","","matStepperNext","",1,"button-blue",3,"disabled"],["class","w-100",4,"ngIf"],["class","sondaggio-form-input w-100",4,"ngIf"],[3,"ngModel","ngModelChange","change",4,"ngIf"],["class","mb-3",4,"ngIf"],["mat-flat-button","","color","blank","class","mr-1","matStepperPrevious","",4,"ngIf"],["class","button-blue","mat-flat-button","","matStepperNext","",3,"disabled",4,"ngIf"],["class","button-blue","mat-flat-button","","matStepperNext","",3,"disabled","click",4,"ngIf"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5",3,"ngModel","required","ngModelChange","input"],["autocompleteOff","","type","text","matInput","",3,"placeholder","ngModel","required","ngModelChange","input"],[1,"sondaggio-form-input","w-100"],["autocompleteOff","","type","text","matInput","","readonly","",3,"matDatepicker","ngModel","required","ngModelChange","dateChange"],["matSuffix","",3,"for"],[3,"panelClass"],["datepicker_i",""],["class","d-inline-block mr-3 mt-2",3,"change",4,"ngFor","ngForOf"],[1,"d-inline-block","mr-3","mt-2",3,"change"],[3,"ngModel","ngModelChange","change"],["class","d-inline-block mr-3 mt-2",3,"value",4,"ngFor","ngForOf"],[1,"d-inline-block","mr-3","mt-2",3,"value"],[1,"mb-3"],["class","material-icons cursor-pointer color-blue",3,"mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"material-icons","cursor-pointer","color-blue",3,"mouseenter","mouseleave","click"],[3,"class","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[3,"mouseenter","mouseleave","click"],["mat-flat-button","","color","blank","matStepperPrevious","",1,"mr-1"],["mat-flat-button","","matStepperNext","",1,"button-blue",3,"disabled","click"],[1,"text-center"],[1,"font-weight-bold"],[4,"ngFor","ngForOf"],["class","text-center mt-4",4,"ngIf"],[1,"font-weight-bold","mt-3"],["class","material-icons color-blue",4,"ngFor","ngForOf"],[1,"material-icons","color-blue"],[3,"class",4,"ngFor","ngForOf"],[1,"text-center","mt-4"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,hb,1,6,"app-sondaggio-form-header",1),t.TgZ(2,"div",2),t.YNc(3,Gb,8,11,"ng-container",3),t.qZA()()),2&n&&(t.Udp("background-image",e.backgroundImage),t.xp6(1),t.Q6J("ngIf",e.initialized),t.xp6(2),t.Q6J("ngIf",e.initialized))},dependencies:[s.sg,s.O5,R.X,mn.FC,C.eB,bt.IC,M.v_,M.nX,Y.k0,ot.Mq,ot.hl,ot.nW,vo.OY,vo.vy,$e.C0,$e.VY,$e.Vq,$e.Ic,$e.fd,f.Fj,f.JJ,f.Q7,f.On,Z.W,We,tn,b.X$],styles:["#sondaggio[_ngcontent-%COMP%]{background-color:#e6e6e6!important;font-family:Titillium Web,sans-serif!important;background-position:center;background-repeat:no-repeat;background-size:cover}#sondaggio-form-scrolling[_ngcontent-%COMP%]{position:absolute!important;top:80px!important;height:calc(100% - 80px)!important;scrollbar-width:thin!important}#sondaggio-form-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px!important;height:10px!important;background-color:transparent!important}#sondaggio-form-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0!important;box-shadow:none!important;background-color:#000000b3!important}#sondaggio-form-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0!important;background-color:#aaaaaa80!important;box-shadow:inset 0 0 3px #000000bf!important}.sondaggio-form-outer-container[_ngcontent-%COMP%]{max-width:100%;padding-left:12px!important;padding-right:12px!important;min-height:calc(100% - 500px - 6rem)!important}@media (min-width: 992px){.sondaggio-form-outer-container[_ngcontent-%COMP%]{min-height:calc(100% - 300px - 6rem)!important}}.sondaggio-form-col[_ngcontent-%COMP%]{flex:1;max-width:1000px;width:100%}.form-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}  #sondaggio .mat-form-field .mat-form-field-label{color:#0000008a!important}  #sondaggio .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #sondaggio .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:#004987!important}  #sondaggio .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #sondaggio .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #sondaggio .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#004987!important}  #sondaggio .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#004987!important}  #sondaggio .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#004987!important}  #sondaggio .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:#004987!important}  #sondaggio .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#004987!important}  #sondaggio .mat-input-element{caret-color:#004987!important}  #sondaggio .mat-datepicker-toggle{color:#004987!important}  #sondaggio .mat-checkbox-checked .mat-checkbox-background{background-color:#004987!important}  #sondaggio .mat-radio-button.mat-radio-checked .mat-radio-outer-circle{border-color:#004987!important}  #sondaggio .mat-radio-button.mat-radio-checked .mat-radio-inner-circle{background-color:#004987!important}.text-big[_ngcontent-%COMP%]{font-size:24px}  .sondaggio-form-stepper .mat-step-icon{background-color:#004987!important}  .sondaggio-form-stepper .mat-step-label.mat-step-label-active.mat-step-label-selected{font-size:18px!important}  .sondaggio-form-stepper .mat-vertical-content{padding-bottom:0!important}  .sondaggio-form-stepper .mat-step-text-label{white-space:normal!important}  .sondaggio-form-stepper .mat-step-header.cdk-keyboard-focused,   .sondaggio-form-stepper .mat-step-header.cdk-program-focused,   .sondaggio-form-stepper .mat-step-header:hover{background-color:transparent!important}  .sondaggio-form-stepper .mat-step-header{height:auto!important}  .sondaggio-form-input .mat-form-field-infix{border-top:none!important}.button-div[_ngcontent-%COMP%]{text-align:right;margin-top:16px}.smile-icon[_ngcontent-%COMP%]{padding-right:1rem;font-size:24px}"]});var Kb=d(85893);class nn extends z.H{constructor(n,e,i){super(),this.route=n,this.apiService=e,this.router=i}ngOnInit(){this.setIsLoading(!0),this.sub=this.route.queryParamMap.subscribe(n=>{let e=n.get("uid"),i=n.get("oidTemplate");if(e&&i&&!isNaN(+i)){let a=new p.spf;a.uidPreventivo=e,a.oidTemplate=+i,this.apiService.replaceTagsTemplate(a).subscribe(r=>{this.templateHtml=r.data.testo,this.setIsLoading(!1)})}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}ngOnDestroy(){this.sub.unsubscribe()}}function jb(o,n){if(1&o&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.nome," ")}}function Xb(o,n){if(1&o&&(t.TgZ(0,"div",13)(1,"span",7),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",8),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}function $b(o,n){if(1&o&&(t._UZ(0,"iframe",14),t.ALo(1,"safeUrl")),2&o){const e=t.oxw();t.Q6J("src",t.lcZ(1,1,e.urlMappa),t.uOi)}}nn.\u0275fac=function(n){return new(n||nn)(t.Y36(S.gz),t.Y36(k.s),t.Y36(S.F0))},nn.\u0275cmp=t.Xpm({type:nn,selectors:[["app-template"]],features:[t.qOj],decls:3,vars:4,consts:[[1,"w-100","h-100",3,"hidden"],["width","100%","height","100%","frameborder","0",3,"srcdoc"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"iframe",1),t.ALo(2,"safeHtml"),t.qZA()),2&n&&(t.Q6J("hidden",!e.templateHtml),t.xp6(1),t.Q6J("srcdoc",t.lcZ(2,2,e.templateHtml),t.oJD))},dependencies:[Kb.z]});const zo=function(o){return{"cursor-pointer":o}};class on{constructor(n){this.utility=n}}function Wb(o,n){if(1&o&&t._UZ(0,"img",7),2&o){const e=t.oxw();t.Q6J("src",e.urlLogo,t.LSH)}}function tv(o,n){if(1&o&&(t.TgZ(0,"span",8)(1,"span",9),t._uU(2,"place"),t.qZA(),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.indirizzo+", "+(e.cap?e.cap+" ":"")+(e.citta?e.citta+" ":"")+(e.provincia?e.provincia:""))}}on.\u0275fac=function(n){return new(n||on)(t.Y36(v.t))},on.\u0275cmp=t.Xpm({type:on,selectors:[["app-unsubscribe-footer"]],inputs:{nome:"nome",urlMappa:"urlMappa",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono",email:"email"},decls:18,vars:11,consts:[[1,"unsubscribe-footer","w-100"],[1,"row","m-0","h-100"],[1,"col-12","col-lg-4","info-col","p-0","d-flex","align-items-center","justify-content-center"],[1,"p-4","text-center"],["class","mb-3 text-big font-weight-bold",4,"ngIf"],["class","mb-1 text-nowrap",4,"ngIf"],[1,"mb-1","text-nowrap",3,"ngClass","click"],[1,"material-icons-round","mr-1","align-middle","contatti-icon"],[1,"align-middle","text-wrap"],[1,"text-nowrap","email",3,"ngClass","click"],[1,"col-12","col-lg-8","p-0","iframe-col"],["width","100%","height","100%","frameborder","0","class","rounded","allowfullscreen","",3,"src",4,"ngIf"],[1,"mb-3","text-big","font-weight-bold"],[1,"mb-1","text-nowrap"],["width","100%","height","100%","frameborder","0","allowfullscreen","",1,"rounded",3,"src"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,jb,2,1,"div",4),t.YNc(5,Xb,5,1,"div",5),t.TgZ(6,"div",6),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(7,"span",7),t._uU(8,"phone_enabled"),t.qZA(),t.TgZ(9,"span",8),t._uU(10),t.qZA()(),t.TgZ(11,"div",9),t.NdJ("click",function(){return e.utility.sendEmail(e.email)}),t.TgZ(12,"span",7),t._uU(13,"email"),t.qZA(),t.TgZ(14,"span",8),t._uU(15),t.qZA()()()(),t.TgZ(16,"div",10),t.YNc(17,$b,2,3,"iframe",11),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",e.nome),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(1),t.Q6J("ngClass",t.VKq(7,zo,!!e.telefono)),t.xp6(4),t.Oqu(e.telefono?e.telefono:"---"),t.xp6(1),t.Q6J("ngClass",t.VKq(9,zo,!!e.email)),t.xp6(4),t.Oqu(e.email?e.email:"---"),t.xp6(2),t.Q6J("ngIf",!!e.urlMappa))},dependencies:[s.mk,s.O5,zt.Q],styles:[".unsubscribe-footer[_ngcontent-%COMP%]{background-color:#fff;height:500px}@media (min-width: 992px){.unsubscribe-footer[_ngcontent-%COMP%]{height:300px}}.info-col[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#004987,#006DC9);color:#fff}.contatti-icon[_ngcontent-%COMP%]{font-size:18px}.text-big[_ngcontent-%COMP%]{font-size:20px}.iframe-col[_ngcontent-%COMP%]{min-height:300px;overflow:hidden}"]});class an{constructor(n){this.utility=n}}function ev(o,n){if(1&o&&t._UZ(0,"app-unsubscribe-header",4),2&o){const e=t.oxw();t.Q6J("urlLogo",e.portale.urlImmagineLogo)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("telefono",e.portale.telefono)}}function nv(o,n){if(1&o&&(t.TgZ(0,"div")(1,"b"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"bo.cliente.proprieta.email")+": "),t.xp6(3),t.Oqu(e.cliente.email)}}function ov(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",13)(1,"input",14),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.email=a)}),t.ALo(2,"translate"),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("placeholder",t.lcZ(2,2,"bo.cliente.proprieta.email"))("ngModel",e.email)}}function iv(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.unsubscribe())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("disabled",!e.email),t.xp6(1),t.Oqu(t.lcZ(2,2,"booking.unsubscribe.disiscrivimi"))}}function av(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"h5",7),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",8)(7,"div")(8,"b"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.qZA()(),t.TgZ(13,"div")(14,"b"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.qZA()(),t.YNc(19,nv,6,4,"div",3),t.TgZ(20,"div",9),t._uU(21),t.ALo(22,"uppercase"),t.ALo(23,"translate"),t.qZA(),t.YNc(24,ov,3,4,"mat-form-field",10),t.qZA(),t.YNc(25,iv,3,4,"button",11),t.qZA()(),t._UZ(26,"app-unsubscribe-footer",12),t.BQk()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,17,"booking.unsubscribe.informazioniCliente")),t.xp6(5),t.Oqu(t.lcZ(10,19,"bo.cliente.proprieta.nome")+": "),t.xp6(3),t.Oqu(e.cliente.nome+" "+e.cliente.cognome),t.xp6(3),t.Oqu(t.lcZ(16,21,"bo.cliente.proprieta.cellulare")+": "),t.xp6(3),t.Oqu(e.cliente.cellulare),t.xp6(1),t.Q6J("ngIf",!e.cliente.isSubscribed),t.xp6(2),t.hij(" ",t.lcZ(22,23,t.lcZ(23,25,"booking.unsubscribe."+(e.cliente.isSubscribed?"iscritto":"disiscritto")))," "),t.xp6(3),t.Q6J("ngIf",e.cliente.isSubscribed),t.xp6(1),t.Q6J("ngIf",e.cliente.isSubscribed),t.xp6(1),t.Q6J("urlMappa",e.portale.urlIFrameGoogleMap)("email",e.portale.email)("telefono",e.portale.telefono)("indirizzo",e.portale.indirizzo)("cap",e.portale.cap)("citta",e.portale.citta)("provincia",e.portale.provincia)("nome",e.portale.nomeStruttura)}}an.\u0275fac=function(n){return new(n||an)(t.Y36(v.t))},an.\u0275cmp=t.Xpm({type:an,selectors:[["app-unsubscribe-header"]],inputs:{urlLogo:"urlLogo",indirizzo:"indirizzo",cap:"cap",citta:"citta",provincia:"provincia",telefono:"telefono"},decls:8,vars:3,consts:[[1,"unsubscribe-header","p-2","w-100"],[1,"logo-container","align-middle","d-inline-flex","align-items-center","justify-content-center"],["class","logo d-inline-block align-middle",3,"src",4,"ngIf"],["class","indirizzo d-none d-md-inline-block font-weight-bold",4,"ngIf"],[1,"d-block","float-right","pt-2"],["mat-icon-button","",1,"align-middle","mb-1","mr-3",3,"disableRipple","click"],[1,"material-icons-round","phone-icon"],[1,"logo","d-inline-block","align-middle",3,"src"],[1,"indirizzo","d-none","d-md-inline-block","font-weight-bold"],[1,"material-icons-round","mr-1","align-middle"],[1,"align-middle"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"span",1),t.YNc(2,Wb,1,1,"img",2),t.qZA(),t.YNc(3,tv,5,1,"span",3),t.TgZ(4,"span",4)(5,"button",5),t.NdJ("click",function(){return e.utility.callNumber(e.telefono)}),t.TgZ(6,"span",6),t._uU(7," phone "),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",!!e.urlLogo),t.xp6(1),t.Q6J("ngIf",!!e.indirizzo),t.xp6(2),t.Q6J("disableRipple",!0))},dependencies:[s.O5,C.eB],styles:[".unsubscribe-header[_ngcontent-%COMP%]{height:80px;position:absolute;top:0;background-color:#ffffffb3}.logo-container[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;margin-left:20px;cursor:pointer}.logo[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:60px;max-height:60px;object-fit:contain}.phone-icon[_ngcontent-%COMP%]{color:#868686}.indirizzo[_ngcontent-%COMP%]{margin-left:40px;font-size:14px;cursor:pointer;color:#004987;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]:hover{color:#006dc9;transition:all .5s ease-out}.indirizzo[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px}"]});class rn extends z.H{constructor(n,e,i,a,r,l){super(),this.router=n,this.route=e,this.apiService=i,this.utility=a,this.containerService=r,this.deviceService=l,this.cliente=new p.LYG,this.portale=new p.MOP,this.initialized=!1}ngOnInit(){this.containerService.setScrollingContainer("unsubscribe-scrolling"),this.setIsLoading(!0),this.sub=this.route.queryParamMap.subscribe(n=>{let e=n.get("uid");if(e){let i=new p.KyT;i.uid=e,i.isMobile=this.deviceService.isMobile(),this.apiService.getUnsubscribe(i).subscribe(a=>{null!=a.data&&null!=a.data.cliente?(this.cliente=a.data.cliente,null!=a.data.portale&&(this.portale=a.data.portale),this.utility.setLingua(this.cliente.lingua).then(()=>{this.utility.setBackgroundImage(this.portale.urlImmagineSfondo).then(r=>{this.backgroundImage=r,this.initialized=!0,this.setIsLoading(!1)})})):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}else this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}unsubscribe(){this.email==this.cliente.email?(this.setIsLoading(!0),this.apiService.newsletterUnsubscribe(this.cliente.oid).subscribe(()=>{this.setIsLoading(!1),this.showInfo("booking.unsubscribe.disiscrizioneEffettuata").then(()=>{this.cliente.isSubscribed=!1})})):this.showError("booking.unsubscribe.emailNonCorrispondente")}ngOnDestroy(){this.sub.unsubscribe()}}rn.\u0275fac=function(n){return new(n||rn)(t.Y36(S.F0),t.Y36(S.gz),t.Y36(k.s),t.Y36(v.t),t.Y36(T.J),t.Y36(xt.x0))},rn.\u0275cmp=t.Xpm({type:rn,selectors:[["app-unsubscribe"]],features:[t.qOj],decls:4,vars:4,consts:[["id","unsubscribe",1,"container-fluid","p-0","w-100","h-100"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono",4,"ngIf"],["id","unsubscribe-scrolling",1,"overflow-auto","w-100"],[4,"ngIf"],[3,"urlLogo","indirizzo","cap","citta","provincia","telefono"],[1,"unsubscribe-outer-container","mt-5","mb-5","mx-auto"],[1,"unsubscribe-container","p-3","mat-elevation-z5"],[1,"mb-2","font-weight-bold","color-blue"],[1,"border","p-3","background-grey"],[1,"font-weight-bold","color-blue","mt-2"],["class","w-100 mt-3 mb-n3",4,"ngIf"],["mat-flat-button","","class","button-blue mt-3",3,"disabled","click",4,"ngIf"],[3,"urlMappa","email","telefono","indirizzo","cap","citta","provincia","nome"],[1,"w-100","mt-3","mb-n3"],["autocompleteOff","","type","text","matInput","","required","",3,"placeholder","ngModel","ngModelChange"],["mat-flat-button","",1,"button-blue","mt-3",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,ev,1,6,"app-unsubscribe-header",1),t.TgZ(2,"div",2),t.YNc(3,av,27,27,"ng-container",3),t.qZA()()),2&n&&(t.Udp("background-image",e.backgroundImage),t.xp6(1),t.Q6J("ngIf",e.initialized),t.xp6(2),t.Q6J("ngIf",e.initialized))},dependencies:[s.O5,R.X,C.eB,M.v_,Y.k0,f.Fj,f.JJ,f.Q7,f.On,on,an,s.gd,b.X$],styles:["#unsubscribe[_ngcontent-%COMP%]{background-color:#e6e6e6!important;font-family:Titillium Web,sans-serif!important;background-position:center;background-repeat:no-repeat;background-size:cover}#unsubscribe-scrolling[_ngcontent-%COMP%]{position:absolute!important;top:80px!important;height:calc(100% - 80px)!important;scrollbar-width:thin!important}#unsubscribe-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px!important;height:10px!important;background-color:transparent!important}#unsubscribe-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0!important;box-shadow:none!important;background-color:#000000b3!important}#unsubscribe-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0!important;background-color:#aaaaaa80!important;box-shadow:inset 0 0 3px #000000bf!important}.unsubscribe-outer-container[_ngcontent-%COMP%]{width:800px;max-width:100%;padding-left:12px!important;padding-right:12px!important;min-height:calc(100% - 500px - 6rem)!important}@media (min-width: 992px){.unsubscribe-outer-container[_ngcontent-%COMP%]{min-height:calc(100% - 300px - 6rem)!important}}  #unsubscribe .mat-form-field .mat-form-field-label{color:#0000008a!important}  #unsubscribe .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #unsubscribe .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:#004987!important}  #unsubscribe .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #unsubscribe .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #unsubscribe .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#004987!important}  #unsubscribe .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:#004987!important}  #unsubscribe .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#004987!important}  #unsubscribe .mat-input-element{caret-color:#004987!important}.background-grey[_ngcontent-%COMP%]{background-color:#f2f2f2;border-radius:5px}.unsubscribe-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}"]});const rv=[{path:"",component:we},{path:"mypage",component:De},{path:"paymail",component:Re},{path:"formv1",component:Pe},{path:"self-checkin",component:ie},{path:"sondaggio",component:en},{path:"rooming-list",component:Xe},{path:"offer",component:Ve},{path:"pagamentoSuccess",component:te},{path:"pagamentoError",component:Wt},{path:"popupCheck",component:ne},{path:"paymentForm",component:ee},{path:"template",component:nn},{path:"unsubscribe",component:rn},{path:"recensioni",component:oe}];class Ft{}Ft.\u0275fac=function(n){return new(n||Ft)},Ft.\u0275mod=t.oAB({type:Ft}),Ft.\u0275inj=t.cJS({imports:[S.Bz.forChild(rv),S.Bz]});var lv=d(39402);class Ht{constructor(n,e,i){this.headerService=n,this.cssLoaderService=e,this.sessionService=i,this.headerService.hideHeader(),this.cssLoaderService.unloadCssDms(),this.sessionService.isAttachRequestHeaders=!1}}Ht.\u0275fac=function(n){return new(n||Ht)(t.LFG(lv.r),t.LFG(le.e),t.LFG(nt.m))},Ht.\u0275mod=t.oAB({type:Ht}),Ht.\u0275inj=t.cJS({imports:[s.ez,oi.m,ei.Q,ni.E,St,In.P4,ti.C,Ft]})}}]);