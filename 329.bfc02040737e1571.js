"use strict";(self.webpackChunkwelcome_sbm=self.webpackChunkwelcome_sbm||[]).push([[329],{95329:(ll,Le,r)=>{r.r(Le),r.d(Le,{MySelfMobileModule:()=>F});var c=r(26575),Ke=r(11927),Xe=r(30087),Ve=r(56208),x=r(96603),Ne=r(38033),e=r(61699),T=r(58540),Ye=r(86427),P=r(6556),u=r(86107),p=r(52374),_=r(14090),S=r(19209),z=r(2214),g=r(78654),C=r(12531),Te=r(44769),Fe=r(32836),f=r(5939);function je(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab",7)(1,"app-editor",8),e.NdJ("textChange",function(l){e.CHM(t);const a=e.oxw().index,s=e.oxw();return e.KtG(s.onTestoChange(a,l))}),e.qZA()()}if(2&i){const t=e.oxw(),n=t.$implicit,l=t.index,a=e.oxw();e.Q6J("label",n.lingua.nome),e.xp6(1),e.Q6J("id","testo"+l)("text",a.testoMySelf==a.mySelfMobileService.enumTestoMySelf.TestoIniziale?a.rq[l].testoIniziale:a.rq[l].testoIniziale2)}}function We(i,o){if(1&i&&(e.ynx(0),e.YNc(1,je,2,3,"mat-tab",6),e.BQk()),2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.sessionService.isLinguaAttiva(t.lingua))}}class H extends _.H{constructor(o,t,n){super(),this.apiService=o,this.sessionService=t,this.mySelfMobileService=n,this.rq=[]}ngOnInit(){this.setIsLoading(!0);for(let o of this.lingue){let t=new P.xUx;t.lingua=o,t.ubicazioneIstat=new P.Dgg(this.mySelfMobileService.ubicazioneIstat.oid),this.rq.push(t)}this.apiService.getUbicazioniIstatXLinguaFilter(u.k$g.fromFilter("oid",p.Hp.Equal,this.mySelfMobileService.ubicazioneIstat.oid.toString(),p.NM.Number)).subscribe(o=>{if(1==o.data.length)for(let t of o.data[0].ubicazioniIstatXLingua)if(null!=t.lingua){let n=this.rq.findIndex(l=>l.lingua.oid==t.lingua.oid);n>=0&&(this.rq[n].testoIniziale=t.testoIniziale,this.rq[n].testoIniziale2=t.testoIniziale2)}this.setIsLoading(!1)})}onTestoChange(o,t){this.testoMySelf==p.qf.TestoIniziale?this.rq[o].testoIniziale=t:this.rq[o].testoIniziale2=t}save(){this.setIsLoading(!0),this.apiService.setUbicazioniIstatXLingua(this.rq).subscribe(()=>{this.dialogRef.close(),this.mySelfMobileService.downloadEvent.emit()})}}H.\u0275fac=function(o){return new(o||H)(e.Y36(S.s),e.Y36(z.m),e.Y36(m))},H.\u0275cmp=e.Xpm({type:H,selectors:[["app-my-self-mobile-testo-edit"]],inputs:{testoMySelf:"testoMySelf",dialogRef:"dialogRef"},features:[e.qOj],decls:12,vars:8,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[4,"ngFor","ngForOf"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"click"],[3,"label",4,"ngIf"],[3,"label"],[3,"id","text","textChange"]],template:function(o,t){1&o&&(e.TgZ(0,"button",0)(1,"i",1),e._uU(2,"clear"),e.qZA()(),e.TgZ(3,"h5",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"mat-tab-group"),e.YNc(7,We,2,1,"ng-container",3),e.qZA(),e.TgZ(8,"div",4)(9,"button",5),e.NdJ("click",function(){return t.save()}),e._uU(10),e.ALo(11,"translate"),e.qZA()()),2&o&&(e.Q6J("disableRipple",!0),e.xp6(4),e.Oqu(e.lcZ(5,4,t.getEnumKeyTranslation(t.mySelfMobileService.enumTestoMySelf,t.testoMySelf,"testoMySelf"))),e.xp6(3),e.Q6J("ngForOf",t.rq),e.xp6(3),e.Oqu(e.lcZ(11,6,"globals.salvaModifiche")))},dependencies:[c.sg,c.O5,g.eB,C.SK,C.R7,Te.aO,Fe.P,f.X$]});var E=r(93724),y=r(2353);class m{constructor(o,t,n,l,a){this.router=o,this.containerService=t,this.utility=n,this.apiService=l,this.location=a,this.portale=new u.nzR,this.ubicazioneIstat=new u._2z,this.prenotazioni=[],this.prenotazioniFuture=[],this.messaggi=[],this.transazioni=[],this.richieste=[],this.voucher=[],this.recensioni=[],this.sondaggi=[],this.pagine=[],this.pagineHome=[],this.selectedLanguage=new P.orF,this.lingue=[],this.headerHeight=65,this.footerHeight=65,this.showBackButton=!1,this.scrollPositions=[],this.config=!1,this.contenuti=[],this.eventi=[],this.enumTestoMySelf=p.qf,this.enumTipoImmagineUbicazioneIstat=p.u,this.resetArticoliSelected=!0,this.isVisualizzaFormPagamento=!1,this.totaleArticoli=0,this.numeroMessaggiNonLetti=0,this.allClickEvent=new e.vpe,this.downloadEvent=new e.vpe}openPage(o){this.router.navigate(["myself/home",{outlets:{myself:o}}],{queryParamsHandling:"preserve"}).then(()=>{this.containerService.scrollToTop(!1)})}saveScrollPosition(){this.scrollPositions.push(this.containerService.container.scrollTop)}setHeaderHeight(o){setTimeout(()=>{this.headerHeight=o},10)}setFooterHeight(o){setTimeout(()=>{this.footerHeight=o},10)}showHeaderBackButton(){setTimeout(()=>{this.showBackButton=!0},10)}editTesto(o){let t=new u.Zpt;t.width="80vw",t.minHeight="30vh",t.panelClass="myself-mobile-dialog";let n=this.utility.showModalDialog(H,t),l=n.componentInstance;l.testoMySelf=o,l.dialogRef=n}editImmagine(o){return new Promise(t=>{let n=new u.Zpt;n.width="50vw",n.panelClass="myself-mobile-dialog";let l=this.utility.showModalDialog(Ye.t,n),a=l.componentInstance;a._url=o==p.u.HeaderMySelf?this.ubicazioneIstat.urlHeaderMySelf:this.ubicazioneIstat.urlImmagineSfondo,a.title=o==p.u.HeaderMySelf?"sbm.configurazione-myself.impostazioni.immagineHeaderMySelf":"sbm.configurazione-myself.impostazioni.immagineSfondo",a.blue=!0,a.dialogRef=l,l.afterClosed().subscribe(s=>{if(null!=s){this.utility.setIsLoading(!0);let h=new u.R_j;h.oid=this.ubicazioneIstat.oid,h.tipoImmagine=o,h.base64=s,this.apiService.setImmagineUbicazioneIstat(h).subscribe(v=>{o==p.u.HeaderMySelf?this.ubicazioneIstat.urlHeaderMySelf=v.data.url:this.ubicazioneIstat.urlImmagineSfondo=v.data.url,this.utility.setIsLoading(!1),t(!0)})}else t(!1)})})}acquistaArticoli(o,t,n,l=!0){this.utility.setIsLoading(!0);let a=new u.vRS;a.oidPrenotazione=this.prenotazioneSelectedArticoli.oid,a.articoli=o,a.pagamento=n,a.isUpSelling=t,this.apiService.creaPrenotazioneExtraSelfCheckin(a).subscribe(s=>{s.data.success?this.utility.showInfo("myself.richiestaInviata").then(()=>{l?this.openPage("home"):this.back()}):this.utility.showError("myself.erroreRichiesta"),this.utility.setIsLoading(!1)})}onPrenotazioneClick(o){this.prenotazione=o,this.saveScrollPosition(),this.openPage("prenotazione")}back(){this.location.back(),setTimeout(()=>{if(this.scrollPositions.length>0){let o=this.scrollPositions.pop();this.containerService.scrollToPosition(o,!1)}else this.containerService.scrollToTop(!1)},25)}isCheckInEnabled(o){return T(this.utility.getDate(o.arrivo)).isSameOrAfter(T().startOf("day"))}}m.\u0275fac=function(o){return new(o||m)(e.LFG(x.F0),e.LFG(E.J),e.LFG(y.t),e.LFG(S.s),e.LFG(c.Ye))},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});var k=r(95787),He=r(91123),A=r(64352),Ae=r(60773),q=r(92198),b=r(28849),Z=r(22165),J=r(1477);function et(i,o){if(1&i&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.articolo.nome)}}function tt(i,o){if(1&i&&e._UZ(0,"app-inner-html",15),2&i){const t=e.oxw();e.Q6J("_text",t.articolo.descrizione)}}function ot(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"div",16),e._uU(2),e.TgZ(3,"small",17),e._uU(4),e.qZA()(),e.TgZ(5,"div")(6,"span",18),e._uU(7),e.TgZ(8,"small",17),e._uU(9),e.qZA()(),e.TgZ(10,"span",19),e._uU(11),e.qZA()(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.hij(" ","\u20ac "+t.utility.getPriceIntegerPart(t.articolo.prezzo),""),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.articolo.prezzo)),e.xp6(3),e.Oqu("\u20ac "+t.utility.getPriceIntegerPart(t.articolo.prezzoPieno)),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.articolo.prezzoPieno)),e.xp6(2),e.hij("-",t.articolo.sconto,"%")}}function it(i,o){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.TgZ(2,"small",17),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ","\u20ac "+t.utility.getPriceIntegerPart(t.articolo.prezzo),""),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.articolo.prezzo))}}function nt(i,o){1&i&&(e.ynx(0),e._uU(1," 0 "),e.BQk())}function lt(i,o){if(1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"eurCurrency"),e.BQk()),2&i){const t=e.oxw(),n=t.index,l=t.$implicit,a=e.oxw();e.xp6(1),e.hij(" ",a.getQuantity(n)+(l>0?" ("+e.lcZ(2,1,l)+")":"")," ")}}function at(i,o){if(1&i&&(e.TgZ(0,"mat-option",20),e.YNc(1,nt,2,0,"ng-container",7),e.YNc(2,lt,3,3,"ng-container",7),e.qZA()),2&i){const t=o.index,n=e.oxw();e.Q6J("value",n.getQuantity(t)),e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(1),e.Q6J("ngIf",t>0)}}function ct(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(l){e.CHM(t);const a=e.oxw();return l.preventDefault(),e.KtG(a.openGiornoSelect())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.giorni")," "))}class R extends _.H{constructor(o,t){super(),this.utility=o,this.mySelfMobileService=t,this.quantitaGiorniChangeEvent=new e.vpe,this.quantities=[]}ngOnInit(){this.numeroPax=this.mySelfMobileService.prenotazione.numeroAdulti+this.mySelfMobileService.prenotazione.numeroBambini,this.quantitaMassima=this.articolo.quantitaMassima>0?this.articolo.quantitaMassima:1==this.articolo.isApplicaATuttiComponenti?10*this.numeroPax:10,this.updateQuantities()}openGiornoSelect(){let o=new u.Zpt;o.width="80vw";let t=this.showModalDialog(He.P,o),n=t.componentInstance;n.giorni=JSON.parse(JSON.stringify(this.articolo.giorni)),n.dialogRef=t,t.afterClosed().subscribe(l=>{if(null!=l){let a=0;for(let s of l)this.articolo.giorni[a].selected=s.selected,a++;this.updateQuantities(),this.articolo.quantita>0&&this.quantitaGiorniChangeEvent.emit()}})}updateQuantities(){this.quantities=[];for(let o=0;o<=(1==this.articolo.isApplicaATuttiComponenti?Math.ceil(this.quantitaMassima/this.numeroPax):this.quantitaMassima);o++)this.quantities.push((1==this.articolo.isApplicaATuttiComponenti?o*this.numeroPax:o)*this.articolo.giorni.filter(t=>t.selected).reduce((t,n)=>t+n.prezzo,0))}getQuantity(o){let t=this.articolo.isApplicaATuttiComponenti,n=o*this.numeroPax;return 1==t?Math.min(n,this.quantitaMassima):o}getTipoExtra(){return null==this.articolo.tipo?"myself.perCameraExtra":this.articolo.tipo==p.E9.Camera?this.articolo.tipoApplicazione==p.x6.PrimoGiorno||this.articolo.tipoApplicazione==p.x6.UltimoGiorno?"myself.perCameraSingoloGiorno":"myself.perCamera":this.articolo.tipo==p.E9.Persona?this.articolo.tipoApplicazione==p.x6.PrimoGiorno||this.articolo.tipoApplicazione==p.x6.UltimoGiorno?"myself.perPersonaSingoloGiorno":"myself.perPersona":""}}R.\u0275fac=function(o){return new(o||R)(e.Y36(y.t),e.Y36(m))},R.\u0275cmp=e.Xpm({type:R,selectors:[["app-my-self-mobile-articolo-prenotazione"]],inputs:{articolo:"articolo"},outputs:{quantitaGiorniChangeEvent:"quantitaGiorniChangeEvent"},features:[e.qOj],decls:18,vars:13,consts:[[1,"border","articolo-container","bg-white","overflow-hidden","d-flex"],[1,"articolo-image",3,"src"],[1,"articolo-descrizione-container","d-flex","flex-column","p-3"],["class","color-blue font-weight-bold mb-2",4,"ngIf"],["class","overflow-auto thin-scrollbar",3,"_text",4,"ngIf"],[1,"prezzo-container","pr-3","pt-3","pb-3","d-flex","align-items-center","justify-content-center"],[1,"text-center"],[4,"ngIf"],["class","extra-prezzo text-nowrap",4,"ngIf"],[1,"extra-tipo","color-blue"],[1,"quantity-select-myself-mobile","mt-2"],[3,"panelClass","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["href","#","class","d-block color-blue mt-1",3,"click",4,"ngIf"],[1,"color-blue","font-weight-bold","mb-2"],[1,"overflow-auto","thin-scrollbar",3,"_text"],[1,"extra-prezzo","text-nowrap"],[1,"price-decimals"],[1,"extra-prezzo-sconto","text-nowrap"],[1,"ml-1","extra-sconto","text-nowrap"],[3,"value"],["href","#",1,"d-block","color-blue","mt-1",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2),e.YNc(3,et,2,1,"div",3),e.YNc(4,tt,1,1,"app-inner-html",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6),e.YNc(7,ot,12,5,"ng-container",7),e.YNc(8,it,4,2,"div",8),e.TgZ(9,"div",9),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"mat-form-field",10)(13,"mat-select",11),e.NdJ("ngModelChange",function(l){return t.articolo.quantita=l})("selectionChange",function(){return t.quantitaGiorniChangeEvent.emit()}),e.TgZ(14,"mat-select-trigger"),e._uU(15),e.qZA(),e.YNc(16,at,3,3,"mat-option",12),e.qZA()(),e.YNc(17,ct,3,3,"a",13),e.qZA()()()),2&o&&(e.xp6(1),e.Q6J("src",t.articolo.urlImmagine?t.articolo.urlImmagine:"assets/images/sbm/no-image-big.png",e.LSH),e.xp6(2),e.Q6J("ngIf",!!t.articolo.nome),e.xp6(1),e.Q6J("ngIf",!!t.articolo.descrizione),e.xp6(3),e.Q6J("ngIf",t.articolo.sconto>0),e.xp6(1),e.Q6J("ngIf",null==t.articolo.sconto||t.articolo.sconto<=0),e.xp6(2),e.hij(" ",e.lcZ(11,11,t.getTipoExtra())," "),e.xp6(3),e.Q6J("panelClass","myself-select")("ngModel",t.articolo.quantita),e.xp6(2),e.hij(" ",t.articolo.quantita," "),e.xp6(1),e.Q6J("ngForOf",t.quantities),e.xp6(1),e.Q6J("ngIf",null!=t.articolo.giorni&&t.articolo.giorni.length>1))},dependencies:[c.sg,c.O5,A.v_,Ae.CK,q.x8,q.Cb,b.JJ,b.On,Z.W,J.f,f.X$],styles:[".articolo-container[_ngcontent-%COMP%]{border-radius:5px;flex-wrap:wrap}.articolo-image[_ngcontent-%COMP%]{width:100%;object-fit:cover;display:block;height:200px}@media (min-width: 992px){.articolo-container[_ngcontent-%COMP%]{height:200px;flex-wrap:nowrap}.articolo-image[_ngcontent-%COMP%]{width:400px;height:100%}}.articolo-descrizione-container[_ngcontent-%COMP%]{flex:1}.prezzo-container[_ngcontent-%COMP%]{width:150px}.extra-prezzo[_ngcontent-%COMP%]{font-size:25px;line-height:25px;font-weight:600;color:var(--main-color)}.extra-prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:var(--main-color);text-decoration-color:var(--main-color);font-size:16px;font-weight:600;color:#999}.extra-sconto[_ngcontent-%COMP%]{font-size:13px;color:var(--main-color);font-weight:600}.extra-tipo[_ngcontent-%COMP%]{font-size:13px}.quantity-select-myself-mobile[_ngcontent-%COMP%]{width:50px!important}  .quantity-select-myself-mobile .mat-form-field-infix{border-top:0!important}  .quantity-select-myself-mobile .mat-form-field-flex{border:1px solid #bbbbbb!important;padding-left:.25rem!important;padding-right:.25rem!important;height:30px!important;border-radius:5px!important}  .quantity-select-myself-mobile .mat-form-field-underline{visibility:hidden!important}  .quantity-select-myself-mobile .mat-form-field-wrapper{padding-bottom:0!important}"]});const rt=["riepilogoContainer"],Oe=function(i){return{"mb-2":i}};function st(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"app-my-self-mobile-articolo-prenotazione",9),e.NdJ("quantitaGiorniChangeEvent",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.updateArticoliSelected())}),e.qZA()()}if(2&i){const t=o.$implicit,n=o.index,l=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(2,Oe,n<l.articoli.length-1)),e.xp6(1),e.Q6J("articolo",t)}}function mt(i,o){if(1&i&&(e.TgZ(0,"mat-expansion-panel",3)(1,"mat-expansion-panel-header",4)(2,"span",5),e._uU(3),e.qZA()(),e.TgZ(4,"div",6),e.YNc(5,st,2,4,"div",7),e.qZA()()),2&i){const t=o.$implicit,n=o.index,l=e.oxw();e.Q6J("expanded",!0)("ngClass",e.VKq(6,Oe,n<l.articoli.length-1)),e.xp6(1),e.Q6J("expandedHeight","35px")("collapsedHeight","35px"),e.xp6(2),e.Oqu(t.voceAddebito.nome),e.xp6(2),e.Q6J("ngForOf",t.articoli)}}function pt(i,o){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.TgZ(2,"div",17),e._uU(3),e.ALo(4,"eurCurrency"),e.qZA()()),2&i){const t=o.$implicit,n=o.index,l=e.oxw(2);e.Q6J("ngClass",e.VKq(5,Oe,n<l.articoliSelected.length-1)),e.xp6(1),e.hij(" ",t.quantita+"x "+t.nome," "),e.xp6(2),e.hij(" ",e.lcZ(4,3,t.totale)," ")}}function ft(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",10,11)(2,"h5",12),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,pt,5,7,"div",13),e.TgZ(6,"h5",14),e._uU(7),e.ALo(8,"translate"),e.ALo(9,"eurCurrency"),e.qZA(),e.TgZ(10,"button",15),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mySelfMobileService.acquistaArticoli(l.articoliSelected,l.isUpSelling,null,!1))}),e._uU(11),e.ALo(12,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,4,"myself-mobile.ilTuoOrdine")),e.xp6(2),e.Q6J("ngForOf",t.articoliSelected),e.xp6(2),e.Oqu(e.lcZ(8,6,"myself.totale")+" "+e.lcZ(9,8,t.totaleArticoli)),e.xp6(4),e.Oqu(e.lcZ(12,10,"myself-mobile.acquista"))}}class Q{constructor(o,t,n){this.mySelfMobileService=o,this.containerService=t,this.utility=n,this.articoliSelected=[],this.articoloSelected=!1}ngOnInit(){null==this.mySelfMobileService.prenotazione?this.mySelfMobileService.openPage("prenotazioni"):(this.mySelfMobileService.showHeaderBackButton(),this.mySelfMobileService.setFooterHeight(105),this.isUpSelling?this.articoli=this.mySelfMobileService.prenotazione.articoliUpSelling:this.articoli=this.mySelfMobileService.prenotazione.articoliRoomService,this.mySelfMobileService.prenotazioneSelectedArticoli=this.mySelfMobileService.prenotazione)}updateArticoliSelected(){this.articoliSelected=[].concat(...this.articoli.map(o=>o.articoli.filter(t=>t.quantita>0))),this.articoliSelected.forEach(o=>o.totale=o.quantita*(null!=o.giorni?o.giorni.filter(t=>t.selected).reduce((t,n)=>t+n.prezzo,0):o.prezzo)),this.totaleArticoli=this.articoliSelected.reduce((o,t)=>o+t.totale,0),setTimeout(()=>{this.articoloSelected=this.articoliSelected.length>0},200)}scrollToRiepilogo(){this.riepilogoContainer.nativeElement.scrollIntoView({behavior:"smooth"})}isScrollToRiepilogoDisabled(){return!this.articoloSelected||this.containerService.container.scrollTop+this.containerService.container.offsetHeight>=this.containerService.container.scrollHeight||null!=this.riepilogoContainer&&this.containerService.container.scrollTop>=this.riepilogoContainer.nativeElement.offsetTop}}Q.\u0275fac=function(o){return new(o||Q)(e.Y36(m),e.Y36(E.J),e.Y36(y.t))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-my-self-mobile-articoli-prenotazione"]],viewQuery:function(o,t){if(1&o&&e.Gf(rt,5),2&o){let n;e.iGM(n=e.CRH())&&(t.riepilogoContainer=n.first)}},inputs:{isUpSelling:"isUpSelling"},decls:5,vars:6,consts:[["class","myself-mobile-voce-addebito-panel",3,"expanded","ngClass",4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],["mat-flat-button","",1,"button-blue","fixed-bottom-button",3,"disabled","click"],[1,"myself-mobile-voce-addebito-panel",3,"expanded","ngClass"],[1,"background-color-light-blue","mat-elevation-z3",3,"expandedHeight","collapsedHeight"],[1,"font-weight-bold","voce-addebito-container"],[1,"mt-2"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"articolo","quantitaGiorniChangeEvent"],[1,"mt-3"],["riepilogoContainer",""],[1,"font-weight-bold"],["class","border articolo-container-summary bg-white pr-3 pl-3 pt-2 pb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"font-weight-bold","color-blue","mt-4"],["mat-flat-button","",1,"button-blue","w-100","mt-3",3,"click"],[1,"border","articolo-container-summary","bg-white","pr-3","pl-3","pt-2","pb-2",3,"ngClass"],[1,"float-right","color-blue","font-weight-bold"]],template:function(o,t){1&o&&(e.YNc(0,mt,6,8,"mat-expansion-panel",0),e.YNc(1,ft,13,12,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.scrollToRiepilogo()}),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&o&&(e.Q6J("ngForOf",t.articoli),e.xp6(1),e.Q6J("ngIf",t.articoloSelected),e.xp6(1),e.Q6J("disabled",t.isScrollToRiepilogoDisabled()),e.xp6(1),e.Oqu(e.lcZ(4,4,"myself-mobile.vediOrdine")))},dependencies:[c.mk,c.sg,c.O5,g.eB,k.ib,k.yz,R,J.f,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}.voce-addebito-container[_ngcontent-%COMP%]{font-size:14px!important}.articolo-container-summary[_ngcontent-%COMP%]{border-radius:5px}  .myself-mobile-voce-addebito-panel{box-shadow:none!important;border-radius:0!important;background-color:transparent!important;overflow:visible!important}  .myself-mobile-voce-addebito-panel .mat-expansion-panel-content{font:inherit!important}  .myself-mobile-voce-addebito-panel .mat-expansion-panel-header{font:inherit!important;border-radius:5px!important}  .myself-mobile-voce-addebito-panel .mat-expansion-panel-body{padding:0!important}  .myself-mobile-voce-addebito-panel .mat-expansion-indicator:after{color:#fff!important;position:absolute!important;top:-5px!important;left:-5px!important}"]});class D{constructor(){}}D.\u0275fac=function(o){return new(o||D)},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-my-self-mobile-articoli-room-service-prenotazione"]],decls:1,vars:1,consts:[[3,"isUpSelling"]],template:function(o,t){1&o&&e._UZ(0,"app-my-self-mobile-articoli-prenotazione",0),2&o&&e.Q6J("isUpSelling",!1)},dependencies:[Q]});class B{constructor(){}}function ut(i,o){if(1&i&&(e.TgZ(0,"h5",13),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.articolo.nome)}}function gt(i,o){if(1&i&&e._UZ(0,"app-inner-html",14),2&i){const t=e.oxw();e.Q6J("_text",t.articolo.descrizione)}}function dt(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"div",15),e._uU(2),e.TgZ(3,"small",16),e._uU(4),e.qZA()(),e.TgZ(5,"div")(6,"span",17),e._uU(7),e.TgZ(8,"small",16),e._uU(9),e.qZA()(),e.TgZ(10,"span",18),e._uU(11),e.qZA()(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.hij(" ","\u20ac "+t.utility.getPriceIntegerPart(t.articolo.prezzo),""),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.articolo.prezzo)),e.xp6(3),e.Oqu("\u20ac "+t.utility.getPriceIntegerPart(t.articolo.prezzoPieno)),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.articolo.prezzoPieno)),e.xp6(2),e.hij("-",t.articolo.sconto,"%")}}function _t(i,o){if(1&i&&(e.TgZ(0,"div",15),e._uU(1),e.TgZ(2,"small",16),e._uU(3),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ","\u20ac "+t.utility.getPriceIntegerPart(t.articolo.prezzo),""),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.articolo.prezzo))}}function bt(i,o){1&i&&(e.ynx(0),e._uU(1," 0 "),e.BQk())}function ht(i,o){if(1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"eurCurrency"),e.BQk()),2&i){const t=e.oxw(),n=t.index,l=t.$implicit,a=e.oxw();e.xp6(1),e.hij(" ",a.getQuantity(n)+(l>0?" ("+e.lcZ(2,1,l)+")":"")," ")}}function Mt(i,o){if(1&i&&(e.TgZ(0,"mat-option",19),e.YNc(1,bt,2,0,"ng-container",7),e.YNc(2,ht,3,3,"ng-container",7),e.qZA()),2&i){const t=o.index,n=e.oxw();e.Q6J("value",n.getQuantity(t)),e.xp6(1),e.Q6J("ngIf",0==t),e.xp6(1),e.Q6J("ngIf",t>0)}}B.\u0275fac=function(o){return new(o||B)},B.\u0275cmp=e.Xpm({type:B,selectors:[["app-my-self-mobile-articoli-up-selling-prenotazione"]],decls:1,vars:1,consts:[[3,"isUpSelling"]],template:function(o,t){1&o&&e._UZ(0,"app-my-self-mobile-articoli-prenotazione",0),2&o&&e.Q6J("isUpSelling",!0)},dependencies:[Q]});class G{constructor(o,t){this.mySelfMobileService=o,this.utility=t,this.quantitaChangeEvent=new e.vpe,this.quantities=[],this.numeroPax=0,this.enumTipoSupplemento=p.E9}ngOnInit(){this.quantitaMassima=this.articolo.quantitaMassima>0?this.articolo.quantitaMassima:10,1==this.mySelfMobileService.prenotazioniFuture.length&&(this.numeroPax=this.mySelfMobileService.prenotazioniFuture[0].numeroAdulti+this.mySelfMobileService.prenotazioniFuture[0].numeroBambini,this.articolo.quantitaMassima<=0&&1==this.articolo.isApplicaATuttiComponenti&&(this.quantitaMassima=10*this.numeroPax)),this.updateQuantities()}updateQuantities(){this.quantities=[];for(let o=0;o<=(1==this.articolo.isApplicaATuttiComponenti&&this.numeroPax>0?Math.ceil(this.quantitaMassima/this.numeroPax):this.quantitaMassima);o++)this.quantities.push((1==this.articolo.isApplicaATuttiComponenti&&this.numeroPax>0?o*this.numeroPax:o)*(this.articolo.giorni.length>0?this.articolo.giorni.filter(t=>t.selected).reduce((t,n)=>t+n.prezzo,0):this.articolo.prezzo))}getQuantity(o){let t=this.articolo.isApplicaATuttiComponenti,n=o*this.numeroPax;return 1==t&&this.numeroPax>0?Math.min(n,this.quantitaMassima):o}getTipoExtra(){return null==this.articolo.tipo?"myself.perCameraExtra":this.articolo.tipo==p.E9.Camera?this.articolo.tipoApplicazione==p.x6.PrimoGiorno||this.articolo.tipoApplicazione==p.x6.UltimoGiorno?"myself.perCameraSingoloGiorno":"myself.perCamera":this.articolo.tipo==p.E9.Persona?this.articolo.tipoApplicazione==p.x6.PrimoGiorno||this.articolo.tipoApplicazione==p.x6.UltimoGiorno?"myself.perPersonaSingoloGiorno":"myself.perPersona":""}}function St(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"app-my-self-mobile-articolo",6),e.NdJ("quantitaChangeEvent",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.calculateTotale())}),e.qZA()()}if(2&i){const t=o.$implicit;e.xp6(1),e.Q6J("articolo",t)}}function yt(i,o){if(1&i&&(e.TgZ(0,"div",3),e.YNc(1,St,2,1,"div",4),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.articoliSelected)}}G.\u0275fac=function(o){return new(o||G)(e.Y36(m),e.Y36(y.t))},G.\u0275cmp=e.Xpm({type:G,selectors:[["app-my-self-mobile-articolo"]],inputs:{articolo:"articolo"},outputs:{quantitaChangeEvent:"quantitaChangeEvent"},decls:17,vars:12,consts:[[1,"articolo-container","h-100","border","overflow-hidden"],[1,"articolo-image",3,"src"],[1,"d-flex"],[1,"descrizione-container","p-3"],["class","font-weight-bold color-blue mb-2",4,"ngIf"],[3,"_text",4,"ngIf"],[1,"pt-3","pr-3","pb-3","text-center"],[4,"ngIf"],["class","extra-prezzo text-nowrap",4,"ngIf"],[1,"extra-tipo","color-blue"],[1,"quantity-select-myself-mobile","mt-2"],[3,"panelClass","ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"font-weight-bold","color-blue","mb-2"],[3,"_text"],[1,"extra-prezzo","text-nowrap"],[1,"price-decimals"],[1,"extra-prezzo-sconto","text-nowrap"],[1,"ml-1","extra-sconto","text-nowrap"],[3,"value"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,ut,2,1,"h5",4),e.YNc(5,gt,1,1,"app-inner-html",5),e.qZA(),e.TgZ(6,"div",6),e.YNc(7,dt,12,5,"ng-container",7),e.YNc(8,_t,4,2,"div",8),e.TgZ(9,"div",9),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"mat-form-field",10)(13,"mat-select",11),e.NdJ("ngModelChange",function(l){return t.articolo.quantita=l})("selectionChange",function(){return t.quantitaChangeEvent.emit()}),e.TgZ(14,"mat-select-trigger"),e._uU(15),e.qZA(),e.YNc(16,Mt,3,3,"mat-option",12),e.qZA()()()()()),2&o&&(e.xp6(1),e.Q6J("src",t.articolo.urlImmagine?t.articolo.urlImmagine:"assets/images/sbm/no-image-big.png",e.LSH),e.xp6(3),e.Q6J("ngIf",!!t.articolo.nome),e.xp6(1),e.Q6J("ngIf",!!t.articolo.descrizione),e.xp6(2),e.Q6J("ngIf",t.articolo.sconto>0),e.xp6(1),e.Q6J("ngIf",null==t.articolo.sconto||t.articolo.sconto<=0),e.xp6(2),e.hij(" ",e.lcZ(11,10,t.getTipoExtra())," "),e.xp6(3),e.Q6J("panelClass","myself-select")("ngModel",t.articolo.quantita),e.xp6(2),e.hij(" ",t.articolo.quantita," "),e.xp6(1),e.Q6J("ngForOf",t.quantities))},dependencies:[c.sg,c.O5,A.v_,Ae.CK,q.x8,q.Cb,b.JJ,b.On,Z.W,J.f,f.X$],styles:[".articolo-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.articolo-image[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:cover}.extra-prezzo[_ngcontent-%COMP%]{font-size:25px;line-height:25px;font-weight:600;color:var(--main-color)}.extra-prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:var(--main-color);text-decoration-color:var(--main-color);font-size:16px;font-weight:600;color:#999}.extra-sconto[_ngcontent-%COMP%]{font-size:13px;color:var(--main-color);font-weight:600}.extra-tipo[_ngcontent-%COMP%]{font-size:13px}.descrizione-container[_ngcontent-%COMP%]{flex:1}.quantity-select-myself-mobile[_ngcontent-%COMP%]{width:50px!important}  .quantity-select-myself-mobile .mat-form-field-infix{border-top:0!important}  .quantity-select-myself-mobile .mat-form-field-flex{border:1px solid #bbbbbb!important;padding-left:.25rem!important;padding-right:.25rem!important;height:30px!important;border-radius:5px!important}  .quantity-select-myself-mobile .mat-form-field-underline{visibility:hidden!important}  .quantity-select-myself-mobile .mat-form-field-wrapper{padding-bottom:0!important}"]});class ${constructor(o){this.mySelfMobileService=o,this.acquistaEnabled=!1,this.totaleArticoli=0}ngOnInit(){null==this.mySelfMobileService.articoliXVoceAddebito?this.mySelfMobileService.openPage("home"):(this.mySelfMobileService.showHeaderBackButton(),this.mySelfMobileService.setFooterHeight(105),this.mySelfMobileService.resetArticoliSelected?(this.mySelfMobileService.articoliSelected=JSON.parse(JSON.stringify(this.mySelfMobileService.articoliXVoceAddebito)),this.mySelfMobileService.resetArticoliSelected=!1):this.calculateTotale())}acquista(){this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("riepilogo-articoli")}calculateTotale(){this.acquistaEnabled=this.mySelfMobileService.articoliSelected.some(o=>o.quantita>0),this.totaleArticoli=0;for(let o of this.mySelfMobileService.articoliSelected)if(o.quantita>0)if(o.giorni.length>0)for(let t of o.giorni)t.selected&&(this.totaleArticoli+=t.prezzo*o.quantita);else this.totaleArticoli+=o.prezzo*o.quantita}}$.\u0275fac=function(o){return new(o||$)(e.Y36(m))},$.\u0275cmp=e.Xpm({type:$,selectors:[["app-my-self-mobile-articoli"]],decls:8,vars:10,consts:[["class","row mr-n1 ml-n1",4,"ngIf"],[1,"font-weight-bold","color-blue","mt-4","mb-2"],["mat-flat-button","",1,"button-blue","fixed-bottom-button",3,"disabled","click"],[1,"row","mr-n1","ml-n1"],["class","col-12 col-md-4 col-lg-3 pr-1 pl-1 mt-2",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","col-lg-3","pr-1","pl-1","mt-2"],[3,"articolo","quantitaChangeEvent"]],template:function(o,t){1&o&&(e.YNc(0,yt,2,1,"div",0),e.TgZ(1,"h5",1),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"eurCurrency"),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return t.acquista()}),e._uU(6),e.ALo(7,"translate"),e.qZA()),2&o&&(e.Q6J("ngIf",null!=t.mySelfMobileService.articoliSelected),e.xp6(2),e.Oqu(e.lcZ(3,4,"myself.totale")+" "+e.lcZ(4,6,t.totaleArticoli)),e.xp6(3),e.Q6J("disabled",!t.acquistaEnabled),e.xp6(1),e.Oqu(e.lcZ(7,8,"myself-mobile.acquista")))},dependencies:[c.sg,c.O5,g.eB,G,J.f,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}"]});var vt=r(36004);function xt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-my-self-check-in-multiple",1),e.NdJ("back",function(l){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckInBack(l))})("onStepChange",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onStepChange())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ospiti",t.ospitiCheckIn)("albergo",t.sessionService.getAlbergo())("isVisualizzaTuttiDatiSelfCheckIn",t.mySelfMobileService.portale.isVisualizzaTuttiDatiSelfCheckIn)("isBloccaModificaDatiCheckIn",t.mySelfMobileService.portale.isBloccaModificaDatiCheckIn)("myself",!0)("lingua",t.mySelfMobileService.lingua)("orarioDiArrivoMinimo",t.mySelfMobileService.portale.orarioDiArrivoMinimo)("orarioDiArrivoMassimo",t.mySelfMobileService.portale.orarioDiArrivoMassimo)}}class K{constructor(o,t,n){this.mySelfMobileService=o,this.sessionService=t,this.containerService=n,this.ospitiCheckIn=[]}ngOnInit(){null==this.mySelfMobileService.prenotazione?this.mySelfMobileService.openPage("prenotazioni"):(this.mySelfMobileService.showHeaderBackButton(),this.ospitiCheckIn=JSON.parse(JSON.stringify(this.mySelfMobileService.prenotazione.ospiti)))}onCheckInBack(o){this.mySelfMobileService.prenotazione.ospiti=o}onStepChange(){this.containerService.scrollToTop()}}K.\u0275fac=function(o){return new(o||K)(e.Y36(m),e.Y36(z.m),e.Y36(E.J))},K.\u0275cmp=e.Xpm({type:K,selectors:[["app-my-self-mobile-checkin"]],decls:1,vars:1,consts:[[3,"ospiti","albergo","isVisualizzaTuttiDatiSelfCheckIn","isBloccaModificaDatiCheckIn","myself","lingua","orarioDiArrivoMinimo","orarioDiArrivoMassimo","back","onStepChange",4,"ngIf"],[3,"ospiti","albergo","isVisualizzaTuttiDatiSelfCheckIn","isBloccaModificaDatiCheckIn","myself","lingua","orarioDiArrivoMinimo","orarioDiArrivoMassimo","back","onStepChange"]],template:function(o,t){1&o&&e.YNc(0,xt,1,8,"app-my-self-check-in-multiple",0),2&o&&e.Q6J("ngIf",null!=t.mySelfMobileService.prenotazione)},dependencies:[c.O5,vt.N]});var Ct=r(4731),Ie=r(30724),ze=r(60166),Ee=r(27162);class X extends _.H{constructor(o,t,n,l){super(),this.mySelfMobileService=o,this.localStorage=t,this.sessionService=n,this.apiService=l}ngOnInit(){this.mySelfMobileService.setFooterHeight(105),this.cliente=JSON.parse(JSON.stringify(this.mySelfMobileService.cliente))}save(){this.setIsLoading(!0),null==this.cliente.password&&(this.cliente.password=""),this.apiService.setCliente(this.cliente).subscribe(()=>{var o;this.mySelfMobileService.cliente=this.cliente,this.sessionService.sessione.clienteMySelf.nome=this.cliente.nome,this.sessionService.sessione.clienteMySelf.cognome=this.cliente.cognome,this.sessionService.sessione.clienteMySelf.email=this.cliente.email,this.sessionService.sessione.clienteMySelf.cellulare=this.cliente.cellulare,this.sessionService.sessione.clienteMySelf.password=this.cliente.password,this.sessionService.sessione.clienteMySelf.lingua=null===(o=this.cliente.lingua)||void 0===o?void 0:o.codice,this.localStorage.set(this.sessionService.SESSION_KEY,this.sessionService.sessione),this.setIsLoading(!1),this.showInfo("globals.messages.datiSalvati")})}}X.\u0275fac=function(o){return new(o||X)(e.Y36(m),e.Y36(Ct.n),e.Y36(z.m),e.Y36(S.s))},X.\u0275cmp=e.Xpm({type:X,selectors:[["app-my-self-mobile-cliente-edit"]],features:[e.qOj],decls:39,vars:34,consts:[[1,"row","mr-n2","ml-n2"],[1,"col-12","col-md-6","pl-2","pr-2"],["appearance","outline",1,"w-100","my-self-mobile-input"],["autocompleteOff","","type","text","matInput","","required","",3,"ngModel","ngModelChange"],["type","password","autocomplete","new-password","matInput","","required","",3,"ngModel","ngModelChange"],["displayMember","nome",3,"blue","appearance","dataLoader","value","placeholder","required","valueChange"],["mat-flat-button","",1,"button-blue","fixed-bottom-button",3,"disabled","click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"input",3),e.NdJ("ngModelChange",function(l){return t.cliente.nome=l}),e.qZA()()(),e.TgZ(7,"div",1)(8,"mat-form-field",2)(9,"mat-label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"input",3),e.NdJ("ngModelChange",function(l){return t.cliente.cognome=l}),e.qZA()()()(),e.TgZ(13,"div",0)(14,"div",1)(15,"mat-form-field",2)(16,"mat-label"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",3),e.NdJ("ngModelChange",function(l){return t.cliente.email=l}),e.qZA()()(),e.TgZ(20,"div",1)(21,"mat-form-field",2)(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"input",3),e.NdJ("ngModelChange",function(l){return t.cliente.cellulare=l}),e.qZA()()()(),e.TgZ(26,"div",0)(27,"div",1)(28,"mat-form-field",2)(29,"mat-label"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"input",4),e.NdJ("ngModelChange",function(l){return t.cliente.password=l}),e.qZA()()(),e.TgZ(33,"div",1)(34,"app-view-select",5),e.NdJ("valueChange",function(l){return t.cliente.lingua=l}),e.ALo(35,"translate"),e.qZA()()(),e.TgZ(36,"button",6),e.NdJ("click",function(){return t.save()}),e._uU(37),e.ALo(38,"translate"),e.qZA()),2&o&&(e.xp6(4),e.Oqu(e.lcZ(5,20,"bo.cliente.proprieta.nome")),e.xp6(2),e.Q6J("ngModel",t.cliente.nome),e.xp6(4),e.Oqu(e.lcZ(11,22,"bo.cliente.proprieta.cognome")),e.xp6(2),e.Q6J("ngModel",t.cliente.cognome),e.xp6(5),e.Oqu(e.lcZ(18,24,"bo.cliente.proprieta.email")),e.xp6(2),e.Q6J("ngModel",t.cliente.email),e.xp6(4),e.Oqu(e.lcZ(24,26,"bo.cliente.proprieta.cellulare")),e.xp6(2),e.Q6J("ngModel",t.cliente.cellulare),e.xp6(5),e.Oqu(e.lcZ(31,28,"bo.cliente.proprieta.password")),e.xp6(2),e.Q6J("ngModel",t.cliente.password),e.xp6(2),e.Tol("my-self-mobile-input"),e.Q6J("blue",!0)("appearance","outline")("dataLoader",t.apiService.getLingueViewSelect())("value",t.cliente.lingua)("placeholder",e.lcZ(35,30,"bo.cliente.proprieta.lingua"))("required",!0),e.xp6(2),e.Q6J("disabled",!t.cliente.nome||!t.cliente.cognome||!t.cliente.email||!t.cliente.cellulare||!t.cliente.password||null==t.cliente.lingua||null==t.cliente.lingua.oid||t.cliente.lingua.oid<=0),e.xp6(1),e.Oqu(e.lcZ(38,32,"globals.salva")))},dependencies:[Ie.X,g.eB,A.v_,A.$V,ze.k0,b.Fj,b.JJ,b.Q7,b.On,Ee.d,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}  .my-self-mobile-input .mat-form-field-wrapper{padding-bottom:.5rem!important}  .my-self-mobile-input .mat-form-field-outline{border-radius:5px!important;background-color:#fff!important}"]});var Re=r(32642),Zt=r(31534);function Tt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab",10)(1,"mat-form-field",11)(2,"input",12),e.NdJ("ngModelChange",function(l){e.CHM(t);const a=e.oxw().index,s=e.oxw();return e.KtG(s.rq.templatesXLingua[a].titolo=l)}),e.ALo(3,"translate"),e.qZA()(),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"app-editor",13),e.NdJ("textChange",function(l){e.CHM(t);const a=e.oxw().index,s=e.oxw();return e.KtG(s.rq.templatesXLingua[a].testo=l)})("onHeadRemove",function(l){e.CHM(t);const a=e.oxw(2);return e.KtG(a.rq.template.head=l)}),e.qZA()()}if(2&i){const t=e.oxw(),n=t.$implicit,l=t.index,a=e.oxw();e.Q6J("label",n.lingua.nome),e.xp6(2),e.s9C("placeholder",e.lcZ(3,6,"bo.templateXLingua.proprieta.titolo")),e.Q6J("ngModel",a.rq.templatesXLingua[l].titolo),e.xp6(2),e.hij(" ",e.lcZ(5,8,"bo.templateXLingua.proprieta.testo")," "),e.xp6(2),e.Q6J("id","testo"+l)("text",a.rq.templatesXLingua[l].testo)}}function At(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Tt,7,10,"mat-tab",9),e.BQk()),2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.sessionService.isLinguaAttiva(t.lingua))}}class V extends _.H{constructor(o,t,n){super(),this.apiService=o,this.sessionService=t,this.mySelfMobileService=n,this.rq=new u.dKo,this.imageEdited=!1}ngOnInit(){this.setIsLoading(!0);for(let o of this.lingue){let t=new P.L92;t.lingua=o,t.template=new P.YSh(this.oidContenuto),this.rq.templatesXLingua.push(t)}this.apiService.getTemplatesFilter(u.k$g.fromFilter("oid",p.Hp.Equal,this.oidContenuto.toString(),p.NM.Number)).subscribe(o=>{if(o.data.templates.length>0){this.rq.template=o.data.templates[0].template;for(let t of o.data.templates[0].templatesXLingua)if(null!=t.lingua){let n=this.rq.templatesXLingua.findIndex(l=>l.lingua.oid==t.lingua.oid);n>=0&&(this.rq.templatesXLingua[n].titolo=t.titolo,this.rq.templatesXLingua[n].testo=t.testo,this.rq.templatesXLingua[n].design=t.design)}}this.setIsLoading(!1)})}save(){this.setIsLoading(!0),this.apiService.setTemplate(this.rq).subscribe(()=>{this.dialogRef.close(),this.mySelfMobileService.downloadEvent.emit()})}editImage(){let o=new u.Zpt;o.width="50vw";let t=this.showModalDialog(Ye.t,o),n=t.componentInstance;n._url=this.rq.template.urlImmagine,n.title="globals.immagine",n.blue=!0,n.dialogRef=t,t.afterClosed().subscribe(l=>{if(null!=l){this.setIsLoading(!0);let a=new u.Pft;a.oid=this.rq.template.oid,a.base64=l,this.apiService.setImmagineTemplate(a).subscribe(s=>{null!=s.data&&(this.rq.template.urlImmagine=s.data.url),this.imageEdited=!0,this.setIsLoading(!1)})}})}deleteImage(){this.showDialogConfirm("globals.eliminareImmagine").then(o=>{this.setIsLoading(!0);let t=new u.Pft;t.oid=this.rq.template.oid,t.base64="",this.apiService.setImmagineTemplate(t).subscribe(n=>{null!=n.data&&(this.rq.template.urlImmagine=n.data.url),this.imageEdited=!0,this.setIsLoading(!1)})},o=>{})}onCloseClick(){this.dialogRef.close(),this.imageEdited&&this.mySelfMobileService.downloadEvent.emit()}}function zt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.editContenuto())}),e.TgZ(1,"i",9),e._uU(2,"edit"),e.qZA()()}}function wt(i,o){if(1&i&&(e.TgZ(0,"h5",10),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.contenuto.titolo)}}function Pt(i,o){if(1&i&&e._UZ(0,"app-inner-html",11),2&i){const t=e.oxw(2);e.Q6J("_text",t.testo)}}function qt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"button",13),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.openDetails())}),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",9),e._uU(6,"keyboard_arrow_right"),e.qZA()()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"myself-mobile.guarda")))}V.\u0275fac=function(o){return new(o||V)(e.Y36(S.s),e.Y36(z.m),e.Y36(m))},V.\u0275cmp=e.Xpm({type:V,selectors:[["app-my-self-mobile-contenuto-edit"]],inputs:{oidContenuto:"oidContenuto",dialogRef:"dialogRef"},features:[e.qOj],decls:13,vars:8,consts:[["mat-icon-button","",1,"modal-close-button",3,"disableRipple","click"],[1,"material-icons-round"],[1,"row"],[1,"col-7"],[4,"ngFor","ngForOf"],[1,"col-5"],[3,"title","url","blue","edit","delete"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"click"],[3,"label",4,"ngIf"],[3,"label"],[1,"w-100","mt-3"],["autocompleteOff","","matInput","",3,"placeholder","ngModel","ngModelChange"],[3,"id","text","textChange","onHeadRemove"]],template:function(o,t){1&o&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return t.onCloseClick()}),e.TgZ(1,"i",1),e._uU(2,"clear"),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3)(5,"mat-tab-group"),e.YNc(6,At,2,1,"ng-container",4),e.qZA()(),e.TgZ(7,"div",5)(8,"app-image",6),e.NdJ("edit",function(){return t.editImage()})("delete",function(){return t.deleteImage()}),e.qZA()()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return t.save()}),e._uU(11),e.ALo(12,"translate"),e.qZA()()),2&o&&(e.Q6J("disableRipple",!0),e.xp6(6),e.Q6J("ngForOf",t.rq.templatesXLingua),e.xp6(2),e.Q6J("title","globals.immagine")("url",t.rq.template.urlImmagine)("blue",!0),e.xp6(3),e.Oqu(e.lcZ(12,6,"globals.salvaModifiche")))},dependencies:[c.sg,c.O5,Ie.X,g.eB,A.v_,ze.k0,C.SK,C.R7,b.Fj,b.JJ,b.On,Fe.P,Zt.c,f.X$],styles:[".colore-picker[_ngcontent-%COMP%]{width:calc(100% - 50px)}.colore-reset[_ngcontent-%COMP%]{width:50px}"]});const Ot=function(i,o){return{"contenuto-container h-100 border mat-elevation-z1 overflow-hidden":i,"mr-n3 ml-n3 mt-n3":o}},It=function(i){return{"contenuto-image-full":i}};function kt(i,o){if(1&i&&(e.TgZ(0,"div",1),e.YNc(1,zt,3,0,"button",2),e._UZ(2,"img",3),e.TgZ(3,"div",4),e.YNc(4,wt,2,1,"h5",5),e.YNc(5,Pt,1,1,"app-inner-html",6),e.YNc(6,qt,7,3,"div",7),e.qZA()()),2&i){const t=e.oxw();e.Q6J("ngClass",e.WLB(7,Ot,!t.full,t.full)),e.xp6(1),e.Q6J("ngIf",t.mySelfMobileService.config),e.xp6(1),e.Q6J("ngClass",e.VKq(10,It,t.full))("src",t.contenuto.urlImmagine?t.contenuto.urlImmagine:"assets/images/sbm/no-image-big.png",e.LSH),e.xp6(2),e.Q6J("ngIf",!!t.contenuto.titolo),e.xp6(1),e.Q6J("ngIf",!!t.testo),e.xp6(1),e.Q6J("ngIf",!t.full)}}class U extends _.H{constructor(o){super(),this.mySelfMobileService=o,this.full=!0}ngOnInit(){this.full&&(null==this.mySelfMobileService.contenuto?this.mySelfMobileService.openPage("home"):this.mySelfMobileService.showHeaderBackButton()),null==this.contenuto&&(this.contenuto=this.mySelfMobileService.contenuto),null!=this.contenuto&&this.contenuto.testo&&(this.full?this.testo=this.contenuto.testo:this.testo=(0,Re.Z)(this.contenuto.testo,150,{html:!0,breakWords:!0}))}openDetails(){this.mySelfMobileService.contenuto=this.contenuto,this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("contenuto")}editContenuto(){let o=new u.Zpt;o.width="80vw",o.minHeight="30vh",o.panelClass="myself-mobile-dialog",o.disableClose=!0;let t=this.showModalDialog(V,o),n=t.componentInstance;n.oidContenuto=this.contenuto.oid,n.dialogRef=t}}function Jt(i,o){if(1&i&&(e.TgZ(0,"h5",8),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.evento.nome)}}function Qt(i,o){if(1&i&&e._UZ(0,"app-inner-html",9),2&i){const t=e.oxw(2);e.Q6J("_text",t.descrizione)}}function Ut(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.openDetails())}),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",12),e._uU(6,"keyboard_arrow_right"),e.qZA()()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"myself-mobile.guarda")))}U.\u0275fac=function(o){return new(o||U)(e.Y36(m))},U.\u0275cmp=e.Xpm({type:U,selectors:[["app-my-self-mobile-contenuto"]],inputs:{contenuto:"contenuto",full:"full"},features:[e.qOj],decls:1,vars:1,consts:[["class","position-relative",3,"ngClass",4,"ngIf"],[1,"position-relative",3,"ngClass"],["mat-mini-fab","","class","button-blue button-blue-circle config-button",3,"click",4,"ngIf"],[1,"contenuto-image",3,"ngClass","src"],[1,"p-3"],["class","font-weight-bold color-blue mb-2",4,"ngIf"],[3,"_text",4,"ngIf"],["class","mt-3 text-right",4,"ngIf"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button",3,"click"],[1,"material-icons-round"],[1,"font-weight-bold","color-blue","mb-2"],[3,"_text"],[1,"mt-3","text-right"],["mat-flat-button","",1,"button-blue",3,"click"]],template:function(o,t){1&o&&e.YNc(0,kt,7,12,"div",0),2&o&&e.Q6J("ngIf",null!=t.contenuto)},dependencies:[c.mk,c.O5,g.eB,Z.W,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}.contenuto-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.contenuto-image[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:cover}.contenuto-image-full[_ngcontent-%COMP%]{height:400px!important}"]});const Lt=function(i,o){return{"evento-container h-100 border overflow-hidden":i,"mr-n3 ml-n3 mt-n3":o}},Nt=function(i){return{"evento-image-full":i}};function Yt(i,o){if(1&i&&(e.TgZ(0,"div",1),e._UZ(1,"img",2),e.TgZ(2,"div",3),e.YNc(3,Jt,2,1,"h5",4),e.TgZ(4,"div",5),e._uU(5),e.ALo(6,"translate"),e.ALo(7,"date"),e.ALo(8,"translate"),e.ALo(9,"date"),e.qZA(),e.YNc(10,Qt,1,1,"app-inner-html",6),e.YNc(11,Ut,7,3,"div",7),e.qZA()()),2&i){const t=e.oxw();e.Q6J("ngClass",e.WLB(17,Lt,!t.full,t.full)),e.xp6(1),e.Q6J("ngClass",e.VKq(20,Nt,t.full))("src",t.evento.urlImmagine?t.evento.urlImmagine:"assets/images/sbm/no-image-big.png",e.LSH),e.xp6(2),e.Q6J("ngIf",!!t.evento.nome),e.xp6(2),e.hij(" ",e.lcZ(6,7,"globals.dal")+" "+e.xi3(7,9,t.evento.dal,"dd/MM/yyyy")+" "+e.lcZ(8,12,"globals.al")+" "+e.xi3(9,14,t.evento.al,"dd/MM/yyyy")," "),e.xp6(5),e.Q6J("ngIf",!!t.descrizione),e.xp6(1),e.Q6J("ngIf",!t.full)}}class L{constructor(o){this.mySelfMobileService=o,this.full=!0}ngOnInit(){this.full&&(null==this.mySelfMobileService.evento?this.mySelfMobileService.openPage("home"):this.mySelfMobileService.showHeaderBackButton()),null==this.evento&&(this.evento=this.mySelfMobileService.evento),null!=this.evento&&this.evento.descrizione&&(this.full?this.descrizione=this.evento.descrizione:this.descrizione=(0,Re.Z)(this.evento.descrizione,150,{html:!0,breakWords:!0}))}openDetails(){this.mySelfMobileService.evento=this.evento,this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("evento")}}L.\u0275fac=function(o){return new(o||L)(e.Y36(m))},L.\u0275cmp=e.Xpm({type:L,selectors:[["app-my-self-mobile-evento"]],inputs:{evento:"evento",full:"full"},decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"evento-image",3,"ngClass","src"],[1,"p-3"],["class","font-weight-bold color-blue mb-1",4,"ngIf"],[1,"mb-2","periodo"],[3,"_text",4,"ngIf"],["class","mt-3 text-right",4,"ngIf"],[1,"font-weight-bold","color-blue","mb-1"],[3,"_text"],[1,"mt-3","text-right"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"material-icons-round"]],template:function(o,t){1&o&&e.YNc(0,Yt,12,22,"div",0),2&o&&e.Q6J("ngIf",null!=t.evento)},dependencies:[c.mk,c.O5,g.eB,Z.W,c.uU,f.X$],styles:[".evento-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.evento-image[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:cover}.evento-image-full[_ngcontent-%COMP%]{height:400px!important}.periodo[_ngcontent-%COMP%]{font-size:13px;color:#666}"]});var Ft=r(6442),O=r(79474);const Ht=function(i){return[i]};function Et(i,o){if(1&i&&(e.TgZ(0,"div",15),e._UZ(1,"app-image-slider",16),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("images",e.VKq(4,Ht,t.prenotazione.tipoCamera.urlImmagine))("minimumHeight",200)("maximumHeight",200)("fullHeight",!1)}}function Rt(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"span",17),e._uU(2,"person"),e.qZA(),e.TgZ(3,"span",8),e._uU(4),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.prenotazione.numeroBambini)}}function Dt(i,o){if(1&i&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.prenotazione.tipoCamera.nome)}}function Bt(i,o){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.prenotazione.tariffa.descrizione)}}function Gt(i,o){1&i&&(e.TgZ(0,"button",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself-mobile.sceltaMenu")))}function $t(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.checkin())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself-mobile.effettuaCheckinPrenotazione")))}const Kt=function(i,o){return{"color-red":i,"color-blue":o}};function Xt(i,o){if(1&i&&(e.TgZ(0,"div",20)(1,"div",21),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,$t,3,3,"button",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(5,Kt,!t.isCheckInOnlineEseguito,t.isCheckInOnlineEseguito)),e.xp6(1),e.Oqu(e.lcZ(3,3,t.isCheckInOnlineEseguito?"myself-mobile.checkinCompletato":"myself-mobile.checkinNonCompletato")),e.xp6(2),e.Q6J("ngIf",!t.isCheckInOnlineEseguito)}}class I extends _.H{constructor(o){super(),this.mySelfMobileService=o,this.isDettaglioPrenotazione=!1,this.clickEvent=new e.vpe}ngOnInit(){if(this.isCheckInEnabled=this.mySelfMobileService.isCheckInEnabled(this.prenotazione),this.isCheckInOnlineEseguito=this.prenotazione.ospiti.every(o=>o.isCheckInOnlineEseguito),!this.isDettaglioPrenotazione&&this.mySelfMobileService.ubicazioneIstat.isSceltaMenuAttiva){let o=T().startOf("day");this.mySelfMobileService.ubicazioneIstat.modalitaSceltaMenuMySelf==p.eI.GiornoSuccessivo?this.isScegliPiattiVisible=T(this.getDate(this.prenotazione.arrivo)).subtract(1,"day").isSameOrBefore(o)&&T(this.getDate(this.prenotazione.partenza)).isSameOrAfter(o):this.mySelfMobileService.ubicazioneIstat.modalitaSceltaMenuMySelf==p.eI.TuttiIGiorni&&(this.isScegliPiattiVisible=T(this.getDate(this.prenotazione.partenza)).isSameOrAfter(o))}else this.isScegliPiattiVisible=!1}checkin(){this.mySelfMobileService.prenotazione=this.prenotazione,this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("checkin")}}function Vt(i,o){if(1&i&&(e.TgZ(0,"h5",8),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.articoliXVoceAddebito.voceAddebito.nome)}}function jt(i,o){if(1&i&&e._UZ(0,"app-inner-html",9),2&i){const t=e.oxw();e.Q6J("_text",t.articoliXVoceAddebito.voceAddebito.descrizione)}}I.\u0275fac=function(o){return new(o||I)(e.Y36(m))},I.\u0275cmp=e.Xpm({type:I,selectors:[["app-my-self-mobile-prenotazione-container"]],inputs:{prenotazione:"prenotazione",isDettaglioPrenotazione:"isDettaglioPrenotazione"},outputs:{clickEvent:"clickEvent"},features:[e.qOj],decls:43,vars:35,consts:[[1,"prenotazione-container","cursor-pointer","border","mat-elevation-z1","overflow-hidden",3,"click"],[1,"background-color-blue","pt-1","pb-1","text-center","text-small"],[1,"font-weight-bold"],["class","w-100 immagine",4,"ngIf"],[1,"p-3"],[1,"row","no-gutters"],[1,"col-6","font-weight-bold"],[1,"material-icons-round","align-middle","mr-1","icon-small"],[1,"d-inline-block","align-middle"],[1,"d-inline-block","align-middle","mr-1"],[4,"ngIf"],[1,"col-6"],["class","font-weight-bold color-blue",4,"ngIf"],["mat-flat-button","","class","button-blue mt-2 scegliPiattiButton",4,"ngIf"],["class","text-small font-italic mt-1",4,"ngIf"],[1,"w-100","immagine"],[3,"images","minimumHeight","maximumHeight","fullHeight"],[1,"material-icons-round","align-middle","mr-1","child-icon"],[1,"font-weight-bold","color-blue"],["mat-flat-button","",1,"button-blue","mt-2","scegliPiattiButton"],[1,"text-small","font-italic","mt-1"],[3,"ngClass"],["mat-flat-button","","class","button-blue mt-2 effettuaCheckinPrenotazioneButton",3,"click",4,"ngIf"],["mat-flat-button","",1,"button-blue","mt-2","effettuaCheckinPrenotazioneButton",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return t.clickEvent.emit(t.prenotazione)}),e.TgZ(1,"div",1)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",2),e._uU(6),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span",2),e._uU(11),e.ALo(12,"titlecase"),e.ALo(13,"momentFormat"),e.qZA()(),e.YNc(14,Et,2,6,"div",3),e.TgZ(15,"div",4)(16,"div",5)(17,"div",6)(18,"div")(19,"span",7),e._uU(20,"event_available"),e.qZA(),e.TgZ(21,"span",8),e._uU(22),e.ALo(23,"titlecase"),e.ALo(24,"momentFormat"),e.qZA()(),e.TgZ(25,"div")(26,"span",7),e._uU(27,"event_busy"),e.qZA(),e.TgZ(28,"span",8),e._uU(29),e.ALo(30,"titlecase"),e.ALo(31,"momentFormat"),e.qZA()(),e.TgZ(32,"div")(33,"span",7),e._uU(34,"person"),e.qZA(),e.TgZ(35,"span",9),e._uU(36),e.qZA(),e.YNc(37,Rt,5,1,"ng-container",10),e.qZA()(),e.TgZ(38,"div",11),e.YNc(39,Dt,2,1,"div",12),e.YNc(40,Bt,2,1,"div",10),e.YNc(41,Gt,3,3,"button",13),e.qZA()(),e.YNc(42,Xt,5,8,"div",14),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,13,"myself.prenotazione")),e.xp6(3),e.Oqu(" #"+t.prenotazione.codicePrenotazione),e.xp6(2),e.Oqu(e.lcZ(9,15,"myself.del")),e.xp6(3),e.Oqu(e.lcZ(12,17,e.Dn7(13,19,t.prenotazione.data,"D MMMM YYYY",t.getLocale()))),e.xp6(3),e.Q6J("ngIf",!(null==t.prenotazione.tipoCamera||!t.prenotazione.tipoCamera.urlImmagine)),e.xp6(8),e.Oqu(e.lcZ(23,23,e.Dn7(24,25,t.prenotazione.arrivo,"ddd D MMM",t.getLocale()))),e.xp6(7),e.Oqu(e.lcZ(30,29,e.Dn7(31,31,t.prenotazione.partenza,"ddd D MMM",t.getLocale()))),e.xp6(7),e.Oqu(t.prenotazione.numeroAdulti),e.xp6(1),e.Q6J("ngIf",t.prenotazione.numeroBambini>0),e.xp6(2),e.Q6J("ngIf",!(null==t.prenotazione.tipoCamera||!t.prenotazione.tipoCamera.nome)),e.xp6(1),e.Q6J("ngIf",!(null==t.prenotazione.tariffa||!t.prenotazione.tariffa.descrizione)),e.xp6(1),e.Q6J("ngIf",t.isScegliPiattiVisible),e.xp6(1),e.Q6J("ngIf",t.isCheckInEnabled))},dependencies:[c.mk,c.O5,g.eB,Ft.V,c.rS,O.H,f.X$],styles:[".prenotazione-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.immagine[_ngcontent-%COMP%]{height:200px}.text-small[_ngcontent-%COMP%]{font-size:14px}.icon-small[_ngcontent-%COMP%]{font-size:20px}.child-icon[_ngcontent-%COMP%]{font-size:14px;margin-top:2px}.color-red[_ngcontent-%COMP%]{color:#d9534f!important}.effettuaCheckinPrenotazioneButton[_ngcontent-%COMP%]{line-height:30px}.scegliPiattiButton[_ngcontent-%COMP%]{line-height:28px;white-space:normal}"]});class j{constructor(o){this.mySelfMobileService=o}showArticoli(){this.mySelfMobileService.articoliXVoceAddebito=this.articoliXVoceAddebito.articoli,this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("articoli")}}function Wt(i,o){if(1&i&&e._UZ(0,"span"),2&i){const t=e.oxw();e.Tol("color-blue icona-pagina "+t.pagina.icona)}}function eo(i,o){if(1&i&&e._UZ(0,"img",4),2&i){const t=e.oxw();e.Q6J("src",t.pagina.immagineIcona,e.LSH)}}j.\u0275fac=function(o){return new(o||j)(e.Y36(m))},j.\u0275cmp=e.Xpm({type:j,selectors:[["app-my-self-mobile-voce-addebito"]],inputs:{articoliXVoceAddebito:"articoliXVoceAddebito"},decls:12,vars:6,consts:[[1,"voce-addebito-container","h-100","border","mat-elevation-z1","overflow-hidden"],[1,"voce-addebito-image",3,"src"],[1,"p-3"],["class","font-weight-bold color-blue mb-2",4,"ngIf"],[3,"_text",4,"ngIf"],[1,"mt-3","text-right"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"material-icons-round"],[1,"font-weight-bold","color-blue","mb-2"],[3,"_text"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2),e.YNc(3,Vt,2,1,"h5",3),e.YNc(4,jt,1,1,"app-inner-html",4),e.TgZ(5,"div",5)(6,"button",6),e.NdJ("click",function(){return t.showArticoli()}),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span",7),e._uU(11,"keyboard_arrow_right"),e.qZA()()()()()),2&o&&(e.xp6(1),e.Q6J("src",t.articoliXVoceAddebito.voceAddebito.urlImmagine?t.articoliXVoceAddebito.voceAddebito.urlImmagine:"assets/images/sbm/no-image-big.png",e.LSH),e.xp6(2),e.Q6J("ngIf",!!t.articoliXVoceAddebito.voceAddebito.nome),e.xp6(1),e.Q6J("ngIf",!!t.articoliXVoceAddebito.voceAddebito.descrizione),e.xp6(4),e.Oqu(e.lcZ(9,4,"myself-mobile.guarda")))},dependencies:[c.O5,g.eB,Z.W,f.X$],styles:[".voce-addebito-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.voce-addebito-image[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:cover}"]});class N{constructor(o,t){this.mySelfMobileService=o,this.utility=t}onPaginaClick(o){o.tipoPaginaMySelf==p.vg.Link?this.utility.openUrlInNewTab(o.url):o.tipoPaginaMySelf==p.vg.Pagina&&(this.mySelfMobileService.pagina=o,this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("pagina"))}}function to(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mySelfMobileService.editImmagine(l.mySelfMobileService.enumTipoImmagineUbicazioneIstat.HeaderMySelf))}),e.TgZ(1,"i",9),e._uU(2,"edit"),e.qZA()()}}function oo(i,o){if(1&i&&e._UZ(0,"img",10),2&i){const t=e.oxw();e.Q6J("src",t.mySelfMobileService.ubicazioneIstat.urlHeaderMySelf,e.LSH)}}N.\u0275fac=function(o){return new(o||N)(e.Y36(m),e.Y36(y.t))},N.\u0275cmp=e.Xpm({type:N,selectors:[["app-my-self-mobile-page"]],inputs:{pagina:"pagina"},decls:7,vars:3,consts:[[1,"border","p-3","text-center","cursor-pointer","mat-elevation-z1","pagina-container","h-100","d-flex","align-items-center","justify-content-center",3,"click"],[3,"class",4,"ngIf"],["class","immagine-pagina",3,"src",4,"ngIf"],[1,"mt-2","font-weight-bold"],[1,"immagine-pagina",3,"src"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return t.onPaginaClick(t.pagina)}),e.TgZ(1,"div")(2,"div"),e.YNc(3,Wt,1,2,"span",1),e.YNc(4,eo,1,1,"img",2),e.qZA(),e.TgZ(5,"div",3),e._uU(6),e.qZA()()()),2&o&&(e.xp6(3),e.Q6J("ngIf",!!t.pagina.icona&&!t.pagina.immagineIcona),e.xp6(1),e.Q6J("ngIf",!!t.pagina.immagineIcona),e.xp6(2),e.hij(" ",t.pagina.titolo," "))},dependencies:[c.O5],styles:[".immagine-pagina[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain}.icona-pagina[_ngcontent-%COMP%]{width:26px;height:26px;font-size:26px}.pagina-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}"]});const io=function(i,o){return{"col-12 col-md-7":i,"col-12":o}};function no(i,o){if(1&i&&(e.TgZ(0,"div",11),e._UZ(1,"app-inner-html",12),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.WLB(2,io,!!t.mySelfMobileService.ubicazioneIstat.testoIniziale2,!t.mySelfMobileService.ubicazioneIstat.testoIniziale2)),e.xp6(1),e.Q6J("_text",t.mySelfMobileService.ubicazioneIstat.testoIniziale)}}const lo=function(i,o){return{"col-12 col-md-5":i,"col-12":o}};function ao(i,o){if(1&i&&(e.TgZ(0,"div",13),e._UZ(1,"app-inner-html",12),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",e.WLB(2,lo,!!t.mySelfMobileService.ubicazioneIstat.testoIniziale,!t.mySelfMobileService.ubicazioneIstat.testoIniziale)),e.xp6(1),e.Q6J("_text",t.mySelfMobileService.ubicazioneIstat.testoIniziale2)}}function co(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mySelfMobileService.editTesto(l.mySelfMobileService.enumTestoMySelf.TestoIniziale))}),e.TgZ(2,"i",9),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",15),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mySelfMobileService.editTesto(l.mySelfMobileService.enumTestoMySelf.TestoIniziale2))}),e.TgZ(5,"i",9),e._uU(6,"edit"),e.qZA()(),e.BQk()}}function ro(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"app-my-self-mobile-prenotazione-container",17),e.NdJ("clickEvent",function(l){e.CHM(t);const a=e.oxw();return e.KtG(a.mySelfMobileService.onPrenotazioneClick(l))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("prenotazione",t.mySelfMobileService.prenotazioneFutura)}}function so(i,o){if(1&i&&(e.TgZ(0,"div",21),e._UZ(1,"app-my-self-mobile-contenuto",22),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("contenuto",t)("full",!1)}}function mo(i,o){if(1&i&&(e.ynx(0),e.YNc(1,so,2,2,"div",20),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.contenuti)}}function po(i,o){if(1&i&&(e.TgZ(0,"div",21),e._UZ(1,"app-my-self-mobile-page",23),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("pagina",t)}}function fo(i,o){if(1&i&&(e.ynx(0),e.YNc(1,po,2,1,"div",20),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.pagineHome)}}function uo(i,o){if(1&i&&(e.TgZ(0,"div",16)(1,"h4",18),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",19),e.YNc(5,mo,2,1,"ng-container",6),e.YNc(6,fo,2,1,"ng-container",6),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"myself-mobile.informazioniUtili")),e.xp6(3),e.Q6J("ngIf",null!=t.mySelfMobileService.contenuti),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.pagineHome)}}function go(i,o){if(1&i&&(e.TgZ(0,"div",21),e._UZ(1,"app-my-self-mobile-voce-addebito",24),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("articoliXVoceAddebito",t)}}function _o(i,o){if(1&i&&(e.TgZ(0,"div",16)(1,"h4",18),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",19),e.YNc(5,go,2,1,"div",20),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"myself-mobile.acquistaConAnticipoLeTueEsperienze")),e.xp6(3),e.Q6J("ngForOf",t.mySelfMobileService.articoli)}}function bo(i,o){if(1&i&&(e.TgZ(0,"div",21),e._UZ(1,"app-my-self-mobile-evento",25),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("evento",t)("full",!1)}}function ho(i,o){if(1&i&&(e.TgZ(0,"div",16)(1,"h4",18),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",19),e.YNc(5,bo,2,2,"div",20),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"myself-mobile.eventiChePotrebberoInteressarti")),e.xp6(3),e.Q6J("ngForOf",t.mySelfMobileService.eventi)}}class W{constructor(o){this.mySelfMobileService=o}ngOnInit(){this.mySelfMobileService.resetArticoliSelected=!0}}W.\u0275fac=function(o){return new(o||W)(e.Y36(m))},W.\u0275cmp=e.Xpm({type:W,selectors:[["app-my-self-mobile-home"]],decls:11,vars:9,consts:[["mat-mini-fab","","class","button-blue button-blue-circle config-button config-button-center",3,"click",4,"ngIf"],[1,"mt-n3","ml-n3","mr-n3"],["class","header-image",3,"src",4,"ngIf"],[1,"row","mr-0","ml-0","position-relative"],["class","background-color-blue p-4",3,"ngClass",4,"ngIf"],["class","background-color-light-blue p-4",3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button","config-button-center",3,"click"],[1,"material-icons-round"],[1,"header-image",3,"src"],[1,"background-color-blue","p-4",3,"ngClass"],[3,"_text"],[1,"background-color-light-blue","p-4",3,"ngClass"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button",3,"click"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button","config-button-right",3,"click"],[1,"mt-4"],[3,"prenotazione","clickEvent"],[1,"font-weight-bold","color-blue"],[1,"row","mr-n1","ml-n1"],["class","col-12 col-md-4 col-lg-3 pr-1 pl-1 mt-2",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","col-lg-3","pr-1","pl-1","mt-2"],[3,"contenuto","full"],[3,"pagina"],[3,"articoliXVoceAddebito"],[3,"evento","full"]],template:function(o,t){1&o&&(e.YNc(0,to,3,0,"button",0),e.TgZ(1,"div",1),e.YNc(2,oo,1,1,"img",2),e.TgZ(3,"div",3),e.YNc(4,no,2,5,"div",4),e.YNc(5,ao,2,5,"div",5),e.YNc(6,co,7,0,"ng-container",6),e.qZA()(),e.YNc(7,ro,2,1,"div",7),e.YNc(8,uo,7,5,"div",7),e.YNc(9,_o,6,4,"div",7),e.YNc(10,ho,6,4,"div",7)),2&o&&(e.Q6J("ngIf",t.mySelfMobileService.config),e.xp6(2),e.Q6J("ngIf",!!t.mySelfMobileService.ubicazioneIstat.urlHeaderMySelf),e.xp6(2),e.Q6J("ngIf",!!t.mySelfMobileService.ubicazioneIstat.testoIniziale),e.xp6(1),e.Q6J("ngIf",!!t.mySelfMobileService.ubicazioneIstat.testoIniziale2),e.xp6(1),e.Q6J("ngIf",t.mySelfMobileService.config),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.prenotazioneFutura),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.contenuti&&t.mySelfMobileService.contenuti.length>0||null!=t.mySelfMobileService.pagineHome&&t.mySelfMobileService.pagineHome.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.articoli&&t.mySelfMobileService.articoli.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.eventi&&t.mySelfMobileService.eventi.length>0))},dependencies:[c.mk,c.sg,c.O5,g.eB,Z.W,I,U,L,j,N,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}.header-image[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:400px}"]});var Mo=r(23478);function So(i,o){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.mySelfMobileService.portale.nomeStruttura," ")}}function yo(i,o){if(1&i&&(e.TgZ(0,"div",3)(1,"span",4),e._uU(2,"place"),e.qZA(),e.TgZ(3,"span",5),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.mySelfMobileService.portale.indirizzo+", "+(t.mySelfMobileService.portale.cap?t.mySelfMobileService.portale.cap+" ":"")+(t.mySelfMobileService.portale.citta?t.mySelfMobileService.portale.citta+" ":"")+(t.mySelfMobileService.portale.provincia?t.mySelfMobileService.portale.provincia:""))}}function vo(i,o){if(1&i&&(e._UZ(0,"iframe",9),e.ALo(1,"safeUrl")),2&i){const t=e.oxw();e.Q6J("src",e.lcZ(1,1,t.mySelfMobileService.portale.urlIFrameGoogleMap),e.uOi)}}class ee{constructor(o){this.mySelfMobileService=o}}ee.\u0275fac=function(o){return new(o||ee)(e.Y36(m))},ee.\u0275cmp=e.Xpm({type:ee,selectors:[["app-my-self-mobile-informazioni-struttura"]],decls:14,vars:5,consts:[[1,"background-color-blue-gradient","text-center","m-n3","p-4","informazioni-container"],["class","mb-3 text-big font-weight-bold",4,"ngIf"],["class","mb-1 text-nowrap",4,"ngIf"],[1,"mb-1","text-nowrap"],[1,"material-icons-round","mr-1","align-middle","contatti-icon"],[1,"align-middle"],[1,"text-nowrap"],["width","100%","height","230","frameborder","0","allowfullscreen","",3,"src",4,"ngIf"],[1,"mb-3","text-big","font-weight-bold"],["width","100%","height","230","frameborder","0","allowfullscreen","",3,"src"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.YNc(1,So,2,1,"div",1),e.YNc(2,yo,5,1,"div",2),e.TgZ(3,"div",3)(4,"span",4),e._uU(5,"phone_enabled"),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA()(),e.TgZ(8,"div",6)(9,"span",4),e._uU(10,"email"),e.qZA(),e.TgZ(11,"span",5),e._uU(12),e.qZA()()(),e.YNc(13,vo,2,3,"iframe",7)),2&o&&(e.xp6(1),e.Q6J("ngIf",!!t.mySelfMobileService.portale.nomeStruttura),e.xp6(1),e.Q6J("ngIf",!!t.mySelfMobileService.portale.indirizzo),e.xp6(5),e.Oqu(t.mySelfMobileService.portale.telefono?t.mySelfMobileService.portale.telefono:"---"),e.xp6(5),e.Oqu(t.mySelfMobileService.portale.email?t.mySelfMobileService.portale.email:"---"),e.xp6(1),e.Q6J("ngIf",!!t.mySelfMobileService.portale.urlIFrameGoogleMap))},dependencies:[c.O5,Mo.Q],styles:[".contatti-icon[_ngcontent-%COMP%]{font-size:18px}.text-big[_ngcontent-%COMP%]{font-size:20px}iframe[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.informazioni-container[_ngcontent-%COMP%]{height:calc(100% + 2rem)}"]});var xo=r(47292),we=r(85105),ke=r(61612);function Co(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.editImmagineSfondo())}),e.TgZ(1,"i",5),e._uU(2,"edit"),e.qZA()()}}function Zo(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field",6)(2,"input",7),e.NdJ("ngModelChange",function(l){e.CHM(t);const a=e.oxw();return e.KtG(a.emailCodice=l)})("keyup.enter",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.login())}),e.ALo(3,"translate"),e.qZA()(),e.TgZ(4,"mat-form-field",6)(5,"input",8),e.NdJ("ngModelChange",function(l){e.CHM(t);const a=e.oxw();return e.KtG(a.passwordCognome=l)})("keyup.enter",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.login())}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"mat-checkbox",9),e.NdJ("ngModelChange",function(l){e.CHM(t);const a=e.oxw();return e.KtG(a.accessoConCodice=l)})("change",function(){e.CHM(t);const l=e.oxw();return l.emailCodice="",e.KtG(l.passwordCognome="")}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",10),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.login())}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.recuperoPassword=!0)}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("placeholder",e.lcZ(3,9,t.accessoConCodice?"myself.login.codicePrenotazione":"myself.login.email"))("ngModel",t.emailCodice),e.xp6(3),e.Q6J("type",t.accessoConCodice?"text":"password")("placeholder",e.lcZ(6,11,t.accessoConCodice?"myself.login.cognome":"myself.login.password"))("ngModel",t.passwordCognome),e.xp6(2),e.Q6J("ngModel",t.accessoConCodice),e.xp6(1),e.hij(" ",e.lcZ(9,13,"myself.login.accessoConCodice")," "),e.xp6(3),e.Oqu(e.lcZ(12,15,"myself.login.login")),e.xp6(3),e.Oqu(e.lcZ(15,17,"myself.login.passwordDimenticata"))}}function To(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"h4",11),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-form-field",6)(5,"input",12,13),e.NdJ("keyup.enter",function(){e.CHM(t);const l=e.MAs(6),a=e.oxw();return e.KtG(a.recuperaPassword(l.value))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"button",14),e.NdJ("click",function(){e.CHM(t);const l=e.MAs(6),a=e.oxw();return e.KtG(a.recuperaPassword(l.value))}),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"button",10),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.recuperoPassword=!1)}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,"myself.recuperaPassword")),e.xp6(3),e.Q6J("placeholder",e.lcZ(7,7,"myself.login.email"))("value",t.emailCodice?t.emailCodice:""),e.xp6(4),e.Oqu(e.lcZ(10,9,"globals.conferma")),e.xp6(3),e.Oqu(e.lcZ(13,11,"globals.annulla"))}}class te extends _.H{constructor(o,t,n,l,a,s,h){super(),this._authService=o,this.route=t,this.router=n,this.apiService=l,this.localizationService=a,this.utility=s,this.mySelfMobileService=h,this.recuperoPassword=!1,this.accessoConCodice=!0,this.isLoginInCorso=!1,this.config=!1}ngOnInit(){this.sub=this.route.queryParamMap.subscribe(o=>{this.config="config"==o.get("mode");let t=o.get("oidUbicazioneIstat"),n=o.get("lingua"),l=o.get("email"),a=o.get("codicePrenotazione"),s=o.get("password"),h=o.get("cognome");if(l||s?(this.accessoConCodice=!1,this.emailCodice=l,this.passwordCognome=s):(a||h)&&(this.accessoConCodice=!0,this.emailCodice=a,this.passwordCognome=h),n&&null!=this.localizationService.languages.find(w=>w.codice==n)&&this.localizationService.setDefaultLang(n),t&&!isNaN(+t)){this.oidUbicazioneIstat=+t,this.setIsLoading(!0);let v=new u.k68;v.oidUbicazioneIstat=this.oidUbicazioneIstat,this.apiService.getMySelfConfig(v).subscribe(w=>{null!=w.data.ubicazioneIstat?(this.mySelfMobileService.ubicazioneIstat=w.data.ubicazioneIstat,this.utility.setBackgroundImage(w.data.ubicazioneIstat.urlImmagineSfondo).then(qe=>{this.backgroundImage=qe||this.utility.getRandomImage()}),this.oidAlbergo=w.data.ubicazioneIstat.oidAlbergo,this.emailCodice&&this.passwordCognome?this.login():this.setIsLoading(!1)):this.router.navigate(["sbm"]).then(()=>{this.setIsLoading(!1)})})}else this.router.navigate(["sbm"])})}login(){if(!this.isLoginInCorso)if(this.emailCodice&&this.passwordCognome){let o=null,t=null,n=null,l=null;this.accessoConCodice?(t=this.emailCodice,l=this.passwordCognome):(o=this.emailCodice,n=this.passwordCognome),this.setIsLoading(!0),this.isLoginInCorso=!0,this._authService.loginMySelf(!0,this.oidAlbergo,null,o,n,l,t).then(()=>{this.isLoginInCorso=!1,this.redirectToHome()},()=>{this.isLoginInCorso=!1})}else this.showError("globals.messages.inserireDati")}recuperaPassword(o){if(o){this.setIsLoading(!0);let t=new u.QPQ;t.email=o,t.oidAlbergo=this.oidAlbergo,this.apiService.recuperaPassword(t).subscribe(n=>{this.setIsLoading(!1),n.data.success?this.showInfo("myself.emailInviata").then(()=>{this.recuperoPassword=!1}):this.showError("myself.erroreRecuperoPassword").then(()=>{this.recuperoPassword=!1})})}else this.showError("globals.messages.inserireDati")}redirectToHome(){let o={queryParams:{oidUbicazioneIstat:this.oidUbicazioneIstat}};this.config&&(o.queryParams.mode="config"),this.router.navigate(["myself/home",{outlets:{myself:"home"}}],o).then(()=>this.setIsLoading(!1))}editImmagineSfondo(){this.mySelfMobileService.editImmagine(this.mySelfMobileService.enumTipoImmagineUbicazioneIstat.Sfondo).then(o=>{o&&this.utility.setBackgroundImage(this.mySelfMobileService.ubicazioneIstat.urlImmagineSfondo).then(t=>{this.backgroundImage=t||this.utility.getRandomImage()})})}ngOnDestroy(){this.sub.unsubscribe()}}function Ao(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.openMenuPiattiSelected(l))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself-mobile.visualizza")))}te.\u0275fac=function(o){return new(o||te)(e.Y36(xo.$),e.Y36(x.gz),e.Y36(x.F0),e.Y36(S.s),e.Y36(we.o),e.Y36(y.t),e.Y36(m))},te.\u0275cmp=e.Xpm({type:te,selectors:[["app-my-self-mobile-login"]],features:[e.qOj],decls:5,vars:5,consts:[["id","login-myself",1,"container-fluid","w-100","h-100","pr-3","pl-3","position-absolute"],["mat-mini-fab","","class","button-blue button-blue-circle config-button",3,"click",4,"ngIf"],[1,"mx-auto","border","mat-elevation-z10","container-fluid","p-3","login-container"],[4,"ngIf"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-button",3,"click"],[1,"material-icons-round"],[1,"w-100"],["autocompleteOff","","matInput","","required","",3,"placeholder","ngModel","ngModelChange","keyup.enter"],["autocompleteOff","","matInput","","required","",3,"type","placeholder","ngModel","ngModelChange","keyup.enter"],[3,"ngModel","ngModelChange","change"],["mat-flat-button","",1,"w-100","mt-1","button-blue",3,"click"],[1,"mb-4","text-center"],["autocompleteOff","","matInput","","required","",3,"placeholder","value","keyup.enter"],["emailRecupero",""],["mat-flat-button","",1,"mr-1","w-100","mt-2","button-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Co,3,0,"button",1),e.TgZ(2,"div",2),e.YNc(3,Zo,16,19,"ng-container",3),e.YNc(4,To,14,13,"ng-container",3),e.qZA()()),2&o&&(e.Udp("background-image",t.backgroundImage),e.xp6(1),e.Q6J("ngIf",t.config),e.xp6(2),e.Q6J("ngIf",!t.recuperoPassword),e.xp6(1),e.Q6J("ngIf",t.recuperoPassword))},dependencies:[c.O5,Ie.X,ke.FC,g.eB,A.v_,ze.k0,b.Fj,b.JJ,b.Q7,b.On,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}.login-container[_ngcontent-%COMP%]{margin-top:150px;background-color:#fff;border-radius:5px;width:400px;max-width:100%}  #login-myself{background-position:center;background-repeat:no-repeat;background-size:cover}  #login-myself .mat-form-field .mat-form-field-label{color:#0000008a!important}  #login-myself .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #login-myself .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:#004987!important}  #login-myself .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #login-myself .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #login-myself .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#004987!important}  #login-myself .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#004987!important}  #login-myself .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#004987!important}  #login-myself .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:#004987!important}  #login-myself .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#004987!important}  #login-myself .mat-input-element{caret-color:#004987!important}  #login-myself .mat-datepicker-toggle{color:#004987!important}  #login-myself .mat-checkbox-checked .mat-checkbox-background{background-color:#004987!important}"]});const zo=function(i){return{"mb-2":i}};function wo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"div")(2,"div",4),e._uU(3),e.ALo(4,"titlecase"),e.ALo(5,"momentFormat"),e.qZA(),e.YNc(6,Ao,3,3,"button",5),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.openMenuPiattiSelect(a))}),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",7),e._uU(12,"keyboard_arrow_right"),e.qZA()()()}if(2&i){const t=o.$implicit,n=o.index,l=e.oxw(2);e.Q6J("ngClass",e.VKq(12,zo,n<l.mySelfMobileService.prenotazione.giorniMenu.length-1)),e.xp6(3),e.Oqu(e.lcZ(4,4,e.Dn7(5,6,t.data,"dddd D MMMM",l.getLocale()))),e.xp6(3),e.Q6J("ngIf",t.piattiSelected.length>0),e.xp6(3),e.Oqu(e.lcZ(10,10,"myself-mobile.seleziona"))}}function Po(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"h5",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,wo,13,14,"div",2),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"myself-mobile.selezionareGiornoMenu")),e.xp6(2),e.Q6J("ngForOf",t.mySelfMobileService.prenotazione.giorniMenu)}}class oe extends _.H{constructor(o){super(),this.mySelfMobileService=o}ngOnInit(){null==this.mySelfMobileService.prenotazione?this.mySelfMobileService.openPage("prenotazioni"):this.mySelfMobileService.showHeaderBackButton()}openMenuPiattiSelect(o){this.mySelfMobileService.giornoMenu=o,this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("menu-piatti-select")}openMenuPiattiSelected(o){this.mySelfMobileService.giornoMenu=o,this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("menu-piatti-selected")}}function qo(i,o){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,n.getEnumKeyTranslation(n.enumCategoriaAllergene,t,"categoriaAllergene")))}}oe.\u0275fac=function(o){return new(o||oe)(e.Y36(m))},oe.\u0275cmp=e.Xpm({type:oe,selectors:[["app-my-self-mobile-menu-giorno-select"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mb-3","font-weight-bold","color-blue","text-center"],["class","border giorno-container pt-2 pb-2 pr-3 pl-3 bg-white d-flex align-items-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"border","giorno-container","pt-2","pb-2","pr-3","pl-3","bg-white","d-flex","align-items-center",3,"ngClass"],[1,"font-weight-bold"],["mat-flat-button","","class","button-blue mt-2 piattiSelectedButton",3,"click",4,"ngIf"],["mat-flat-button","",1,"button-blue","seleziona-button",3,"click"],[1,"material-icons-round"],["mat-flat-button","",1,"button-blue","mt-2","piattiSelectedButton",3,"click"]],template:function(o,t){1&o&&e.YNc(0,Po,5,4,"ng-container",0),2&o&&e.Q6J("ngIf",null!=(null==t.mySelfMobileService.prenotazione?null:t.mySelfMobileService.prenotazione.giorniMenu)&&t.mySelfMobileService.prenotazione.giorniMenu.length>0)},dependencies:[c.mk,c.sg,c.O5,g.eB,c.rS,O.H,f.X$],styles:[".seleziona-button[_ngcontent-%COMP%]{margin-left:auto}.giorno-container[_ngcontent-%COMP%]{border-radius:5px}.piattiSelectedButton[_ngcontent-%COMP%]{line-height:25px}"]});class ie extends _.H{constructor(){super(),this.enumCategoriaAllergene=p.sz}}ie.\u0275fac=function(o){return new(o||ie)},ie.\u0275cmp=e.Xpm({type:ie,selectors:[["app-my-self-mobile-allergeni-piatto-modal"]],inputs:{allergeni:"allergeni"},features:[e.qOj],decls:8,vars:5,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"font-weight-bold","color-blue","mb-3"],[4,"ngFor","ngForOf"]],template:function(o,t){1&o&&(e.TgZ(0,"button",0)(1,"i",1),e._uU(2,"clear"),e.qZA()(),e.TgZ(3,"h5",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ul"),e.YNc(7,qo,3,3,"li",3),e.qZA()),2&o&&(e.Q6J("disableRipple",!0),e.xp6(4),e.Oqu(e.lcZ(5,3,"myself-mobile.allergeni")),e.xp6(3),e.Q6J("ngForOf",t.allergeni))},dependencies:[c.sg,g.eB,Te.aO,f.X$]});var Oo=r(5802);const Io=["riepilogoContainer"];function ko(i,o){if(1&i&&e._UZ(0,"img",20),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.urlImmagine,e.LSH)}}const Jo=function(i){return{"cursor-pointer":i}};function Qo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,a=e.oxw(4);return e.KtG(null!=l.allergeni&&l.allergeni.length>0?a.openAllergeni(l.allergeni):null)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(2,Jo,null!=t.allergeni&&t.allergeni.length>0)),e.xp6(1),e.hij(" ",t.nome+(null!=t.allergeni&&t.allergeni.length>0?" *":"")," ")}}function Uo(i,o){if(1&i&&e._UZ(0,"app-inner-html",22),2&i){const t=e.oxw().$implicit;e.Q6J("_text",t.descrizione)}}const De=function(i){return{"mb-2":i}};function Lo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",13),e.YNc(1,ko,1,1,"img",14),e.TgZ(2,"div",15),e.YNc(3,Qo,2,4,"div",16),e.YNc(4,Uo,1,1,"app-inner-html",17),e.qZA(),e.TgZ(5,"div",18)(6,"button",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2).$implicit,h=e.oxw(2);return e.KtG(h.addPiatto(s.tipoPasto,a))}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}if(2&i){const t=o.$implicit,n=o.index,l=e.oxw().$implicit,a=e.oxw().$implicit,s=e.oxw(2);e.Q6J("ngClass",e.VKq(8,De,n<l.piatti.length-1)),e.xp6(1),e.Q6J("ngIf",!!t.urlImmagine),e.xp6(2),e.Q6J("ngIf",!!t.nome),e.xp6(1),e.Q6J("ngIf",!!t.descrizione),e.xp6(2),e.Q6J("disabled",!s.checkQuantitaMassima(a.tipoPasto,t)),e.xp6(1),e.hij(" ",e.lcZ(8,6,"myself-mobile.aggiungi")," ")}}function No(i,o){if(1&i&&(e.TgZ(0,"mat-expansion-panel",9)(1,"mat-expansion-panel-header",10)(2,"span",11),e._uU(3),e.qZA()(),e.TgZ(4,"div",7),e.YNc(5,Lo,9,10,"div",12),e.qZA()()),2&i){const t=o.$implicit;e.Q6J("expanded",!0),e.xp6(1),e.Q6J("expandedHeight","35px")("collapsedHeight","35px"),e.xp6(2),e.Oqu(t.nome),e.xp6(2),e.Q6J("ngForOf",t.piatti)}}function Yo(i,o){if(1&i&&(e.TgZ(0,"mat-tab",6),e.ALo(1,"translate"),e.TgZ(2,"div",7),e.YNc(3,No,6,5,"mat-expansion-panel",8),e.qZA()()),2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("label",e.lcZ(1,2,n.getEnumKeyTranslation(n.enumTipoPasto,t.tipoPasto,"tipoPasto"))),e.xp6(3),e.Q6J("ngForOf",t.categoriePiatti)}}function Fo(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"h5",3),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"titlecase"),e.ALo(5,"momentFormat"),e.qZA(),e.TgZ(6,"mat-tab-group",4),e.YNc(7,Yo,4,4,"mat-tab",5),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"myself-mobile.selezionaPiattiMenu")+e.lcZ(4,4,e.Dn7(5,6,t.mySelfMobileService.giornoMenu.data,"D MMMM YYYY",t.getLocale()))),e.xp6(5),e.Q6J("ngForOf",t.mySelfMobileService.giornoMenu.tipiPasto)}}function Ho(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",40)(1,"textarea",41),e.NdJ("ngModelChange",function(l){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.note=l)}),e.ALo(2,"translate"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.Q6J("floatLabel","always"),e.xp6(1),e.Q6J("placeholder",e.lcZ(2,3,"myself-mobile.note"))("ngModel",t.note)}}function Eo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",30)(1,"div")(2,"span",31),e._uU(3),e.qZA(),e.TgZ(4,"a",32),e.NdJ("click",function(l){const s=e.CHM(t).$implicit;return l.preventDefault(),e.KtG(s.noteVisible=!s.noteVisible)}),e.TgZ(5,"span",33),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",34),e._uU(9),e.qZA()(),e.TgZ(10,"div",35)(11,"button",36),e.NdJ("click",function(){const l=e.CHM(t),a=l.index,s=l.$implicit,h=e.oxw(2).$implicit,v=e.oxw(2);return e.KtG(v.onPiattoQuantityChange(h.tipoPasto,a,s.quantita-1))}),e.TgZ(12,"i",37),e._uU(13,"remove_circle_outline"),e.qZA()(),e.TgZ(14,"button",38),e.NdJ("click",function(){const l=e.CHM(t),a=l.index,s=l.$implicit,h=e.oxw(2).$implicit,v=e.oxw(2);return e.KtG(v.onPiattoQuantityChange(h.tipoPasto,a,s.quantita+1))}),e.TgZ(15,"i",37),e._uU(16,"add_circle_outline"),e.qZA()()()(),e.YNc(17,Ho,3,5,"mat-form-field",39),e.qZA()}if(2&i){const t=o.$implicit,n=o.index,l=e.oxw(2).$implicit,a=e.oxw(2);e.Q6J("ngClass",e.VKq(8,De,n<l.piatti.length-1)),e.xp6(3),e.Oqu(t.quantita+"x "+t.nome),e.xp6(3),e.Oqu(e.lcZ(7,6,"myself-mobile.note")),e.xp6(3),e.Oqu(t.noteVisible?"keyboard_arrow_up":"keyboard_arrow_down"),e.xp6(5),e.Q6J("disabled",!a.checkQuantitaMassima(l.tipoPasto,t)),e.xp6(3),e.Q6J("ngIf",t.noteVisible)}}function Ro(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"div",28),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Eo,18,10,"div",29),e.BQk()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,n.getEnumKeyTranslation(n.enumTipoPasto,t.tipoPasto,"tipoPasto"))),e.xp6(2),e.Q6J("ngForOf",t.piatti)}}function Do(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Ro,5,4,"ng-container",0),e.BQk()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.piatti.length>0)}}function Bo(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",23,24)(2,"h5",25),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Do,2,1,"ng-container",26),e.TgZ(6,"button",27),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.ordinaPiatti())}),e._uU(7),e.ALo(8,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"myself-mobile.ilTuoOrdine")),e.xp6(2),e.Q6J("ngForOf",t.piattiSelected),e.xp6(2),e.Oqu(e.lcZ(8,5,"myself-mobile.ordina"))}}class ne extends _.H{constructor(o,t,n){super(),this.mySelfMobileService=o,this.containerService=t,this.apiService=n,this.enumTipoPasto=p.C2,this.piattiSelected=[],this.piattoSelected=!1}ngOnInit(){if(null==this.mySelfMobileService.giornoMenu)this.mySelfMobileService.openPage("prenotazioni");else{this.mySelfMobileService.showHeaderBackButton(),this.mySelfMobileService.setFooterHeight(105);for(let o of this.mySelfMobileService.giornoMenu.tipiPasto){let t=new u.hSs;t.tipoPasto=o.tipoPasto,t.piatti=[],this.piattiSelected.push(t)}}}scrollToRiepilogo(){this.riepilogoContainer.nativeElement.scrollIntoView({behavior:"smooth"})}addPiatto(o,t){let n=this.piattiSelected.find(a=>a.tipoPasto==o),l=n.piatti.find(a=>a.oid==t.oid);null!=l?l.quantita++:(t.quantita=1,n.piatti.push(t),setTimeout(()=>{this.piattoSelected=!0},200))}onPiattoQuantityChange(o,t,n){let l=this.piattiSelected.find(a=>a.tipoPasto==o);n>0?l.piatti[t].quantita=n:(l.piatti.splice(t,1),this.piattoSelected=this.piattiSelected.some(a=>a.piatti.length>0))}ordinaPiatti(){this.setIsLoading(!0);let o=new u.$Bq;o.oidPrenotazione=this.mySelfMobileService.prenotazione.oid,o.data=this.mySelfMobileService.giornoMenu.data,o.piatti=this.piattiSelected,this.apiService.ordinaPiattiMySelf(o).subscribe(()=>{this.setIsLoading(!1),this.showInfo("myself-mobile.piattiOrdinati").then(()=>{this.mySelfMobileService.openPage("prenotazione")})})}checkQuantitaMassima(o,t){let n=!0;if(t.quantitaMassima>0&&(n=t.quantita+t.quantitaSelected<t.quantitaMassima),n){let l=this.mySelfMobileService.giornoMenu.tipiPasto.find(a=>a.tipoPasto==o).categoriePiatti.find(a=>a.oid==t.oidCategoria);l.quantitaMassima>0&&(n=l.piatti.reduce((a,s)=>a+s.quantita+s.quantitaSelected,0)<l.quantitaMassima)}return n}isScrollToRiepilogoDisabled(){return!this.piattoSelected||this.containerService.container.scrollTop+this.containerService.container.offsetHeight>=this.containerService.container.scrollHeight||null!=this.riepilogoContainer&&this.containerService.container.scrollTop>=this.riepilogoContainer.nativeElement.offsetTop}openAllergeni(o){let t=new u.Zpt;t.width="80vw",this.showModalDialog(ie,t).componentInstance.allergeni=o}}function Go(i,o){if(1&i&&e._UZ(0,"img",19),2&i){const t=e.oxw().$implicit;e.Q6J("src",t.urlImmagine,e.LSH)}}function $o(i,o){if(1&i&&e._UZ(0,"app-inner-html",20),2&i){const t=e.oxw().$implicit;e.Q6J("_text",t.descrizione)}}function Ko(i,o){if(1&i&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.note)}}ne.\u0275fac=function(o){return new(o||ne)(e.Y36(m),e.Y36(E.J),e.Y36(S.s))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["app-my-self-mobile-menu-piatti-select"]],viewQuery:function(o,t){if(1&o&&e.Gf(Io,5),2&o){let n;e.iGM(n=e.CRH())&&(t.riepilogoContainer=n.first)}},features:[e.qOj],decls:5,vars:6,consts:[[4,"ngIf"],["class","pt-3",4,"ngIf"],["mat-flat-button","",1,"button-blue","fixed-bottom-button",3,"disabled","click"],[1,"mb-3","font-weight-bold","color-blue","text-center"],[1,"myself-mobile-tab-group"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"mt-2"],["class","myself-mobile-categoria-piatto-panel mb-2",3,"expanded",4,"ngFor","ngForOf"],[1,"myself-mobile-categoria-piatto-panel","mb-2",3,"expanded"],[1,"background-color-light-blue","mat-elevation-z3",3,"expandedHeight","collapsedHeight"],[1,"font-weight-bold","categoria-container"],["class","border piatto-container bg-white overflow-hidden d-flex",3,"ngClass",4,"ngFor","ngForOf"],[1,"border","piatto-container","bg-white","overflow-hidden","d-flex",3,"ngClass"],["class","piatto-image",3,"src",4,"ngIf"],[1,"piatto-descrizione-container","d-flex","flex-column","p-3"],["class","color-blue font-weight-bold mb-2",3,"ngClass","click",4,"ngIf"],["class","overflow-auto thin-scrollbar",3,"_text",4,"ngIf"],[1,"aggiungi-button-container","pr-3","pt-3","pb-3","d-flex","align-items-center"],["mat-flat-button","",1,"button-blue","w-100",3,"disabled","click"],[1,"piatto-image",3,"src"],[1,"color-blue","font-weight-bold","mb-2",3,"ngClass","click"],[1,"overflow-auto","thin-scrollbar",3,"_text"],[1,"pt-3"],["riepilogoContainer",""],[1,"font-weight-bold"],[4,"ngFor","ngForOf"],["mat-flat-button","",1,"button-blue","w-100","mt-3",3,"click"],[1,"mt-3","mb-2","color-blue","font-weight-bold"],["class","border piatto-container-summary bg-white pr-3 pl-3 pt-2 pb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"border","piatto-container-summary","bg-white","pr-3","pl-3","pt-2","pb-2",3,"ngClass"],[1,"d-inline-block","align-middle","mr-2"],["href","#",1,"d-inline-block","noteLink",3,"click"],[1,"d-inline-block","align-middle"],[1,"material-icons-round","align-middle","mt-1"],[1,"float-right"],["mat-icon-button","",1,"add-minus-button","mr-3",3,"click"],[1,"material-icons-round"],["mat-icon-button","",1,"add-minus-button",3,"disabled","click"],["class","w-100 mt-3",3,"floatLabel",4,"ngIf"],[1,"w-100","mt-3",3,"floatLabel"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","3",3,"placeholder","ngModel","ngModelChange"]],template:function(o,t){1&o&&(e.YNc(0,Fo,8,10,"ng-container",0),e.YNc(1,Bo,9,7,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.scrollToRiepilogo()}),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&o&&(e.Q6J("ngIf",null!=t.mySelfMobileService.giornoMenu),e.xp6(1),e.Q6J("ngIf",t.piattoSelected),e.xp6(1),e.Q6J("disabled",t.isScrollToRiepilogoDisabled()),e.xp6(1),e.Oqu(e.lcZ(4,4,"myself-mobile.vediOrdine")))},dependencies:[c.mk,c.sg,c.O5,g.eB,Oo.IC,A.v_,ze.k0,C.SK,C.R7,k.ib,k.yz,b.Fj,b.JJ,b.On,Z.W,c.rS,O.H,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}  .myself-mobile-tab-group{font:inherit!important}  .myself-mobile-tab-group .mat-tab-label{color:var(--main-color)!important;border-radius:5px!important;flex:1!important}  .myself-mobile-tab-group .mat-tab-label-active{background-color:var(--main-color)!important;color:var(--inverted-color)!important}  .myself-mobile-tab-group .mat-tab-labels{background-color:#f5f5f5!important}  .myself-mobile-tab-group .mat-ink-bar{background-color:var(--main-color)!important;border-radius:50%!important}  .myself-mobile-tab-group .mat-tab-body-content{overflow:hidden!important}  .myself-mobile-tab-group .mat-tab-header{top:-1rem;z-index:1000;position:-webkit-sticky;position:sticky}.piatto-container[_ngcontent-%COMP%]{border-radius:5px;flex-wrap:wrap}.piatto-image[_ngcontent-%COMP%]{width:100%;object-fit:cover;display:block;height:200px}@media (min-width: 992px){.piatto-container[_ngcontent-%COMP%]{height:200px;flex-wrap:nowrap}.piatto-image[_ngcontent-%COMP%]{width:400px;height:100%}}.piatto-descrizione-container[_ngcontent-%COMP%]{flex:1}.aggiungi-button-container[_ngcontent-%COMP%]{width:130px}.add-minus-button[_ngcontent-%COMP%]{width:24px!important;height:24px!important;line-height:24px!important}.add-minus-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:24px!important;line-height:24px!important}.add-minus-button[_ngcontent-%COMP%]:enabled   .material-icons-round[_ngcontent-%COMP%]{color:var(--main-color)!important}.piatto-container-summary[_ngcontent-%COMP%]{border-radius:5px}.noteLink[_ngcontent-%COMP%], .noteLink[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:14px}.categoria-container[_ngcontent-%COMP%]{font-size:14px!important}  .myself-mobile-categoria-piatto-panel{box-shadow:none!important;border-radius:0!important;background-color:transparent!important;overflow:visible!important}  .myself-mobile-categoria-piatto-panel .mat-expansion-panel-content{font:inherit!important}  .myself-mobile-categoria-piatto-panel .mat-expansion-panel-header{font:inherit!important;border-radius:5px!important}  .myself-mobile-categoria-piatto-panel .mat-expansion-panel-body{padding:0!important}  .myself-mobile-categoria-piatto-panel .mat-expansion-indicator:after{color:#fff!important;position:absolute!important;top:-5px!important;left:-5px!important}"]});const Xo=function(i){return{"mb-2":i}};function Vo(i,o){if(1&i&&(e.TgZ(0,"div",12),e.YNc(1,Go,1,1,"img",13),e.TgZ(2,"div",14)(3,"div",15),e._uU(4),e.qZA(),e.TgZ(5,"div",16),e.YNc(6,$o,1,1,"app-inner-html",17),e.YNc(7,Ko,2,1,"div",18),e.qZA()()()),2&i){const t=o.$implicit,n=o.index,l=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(5,Xo,n<l.piatti.length-1)),e.xp6(1),e.Q6J("ngIf",!!t.urlImmagine),e.xp6(3),e.Oqu(t.quantitaSelected+"x "+t.nome),e.xp6(2),e.Q6J("ngIf",!!t.descrizione),e.xp6(1),e.Q6J("ngIf",!!t.note)}}function jo(i,o){if(1&i&&(e.TgZ(0,"mat-expansion-panel",8)(1,"mat-expansion-panel-header",9)(2,"span",10),e._uU(3),e.qZA()(),e.TgZ(4,"div",6),e.YNc(5,Vo,8,7,"div",11),e.qZA()()),2&i){const t=o.$implicit;e.Q6J("expanded",!0),e.xp6(1),e.Q6J("expandedHeight","35px")("collapsedHeight","35px"),e.xp6(2),e.Oqu(t.nome),e.xp6(2),e.Q6J("ngForOf",t.piatti)}}function Wo(i,o){if(1&i&&(e.TgZ(0,"mat-tab",5),e.ALo(1,"translate"),e.TgZ(2,"div",6),e.YNc(3,jo,6,5,"mat-expansion-panel",7),e.qZA()()),2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("label",e.lcZ(1,2,n.getEnumKeyTranslation(n.enumTipoPasto,t.tipoPasto,"tipoPasto"))),e.xp6(3),e.Q6J("ngForOf",t.categoriePiatti)}}function ei(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"h5",1),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"titlecase"),e.ALo(5,"momentFormat"),e.qZA(),e.TgZ(6,"mat-tab-group",2),e.YNc(7,Wo,4,4,"mat-tab",3),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.cancellaOrdinePiatti())}),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"myself-mobile.piattiSelezionati")+e.lcZ(4,5,e.Dn7(5,7,t.mySelfMobileService.giornoMenu.data,"D MMMM YYYY",t.getLocale()))),e.xp6(5),e.Q6J("ngForOf",t.mySelfMobileService.giornoMenu.piattiSelected),e.xp6(2),e.Oqu(e.lcZ(10,11,"myself-mobile.cancellaOrdine"))}}class le extends _.H{constructor(o,t){super(),this.mySelfMobileService=o,this.apiService=t,this.enumTipoPasto=p.C2}ngOnInit(){null==this.mySelfMobileService.giornoMenu?this.mySelfMobileService.openPage("prenotazioni"):(this.mySelfMobileService.showHeaderBackButton(),this.mySelfMobileService.setFooterHeight(105))}cancellaOrdinePiatti(){this.showDialogConfirm("myself-mobile.cancellareOrdine").then(o=>{this.setIsLoading(!0);let t=new u.R4w;t.oidOrdiniPiatti=this.mySelfMobileService.giornoMenu.oidOrdiniPiatti,this.apiService.cancellaOrdinePiattiMySelf(t).subscribe(()=>this.mySelfMobileService.openPage("prenotazione"))},o=>{})}}function ti(i,o){1&i&&e.GkF(0)}function oi(i,o){1&i&&e.GkF(0)}function ii(i,o){1&i&&e.GkF(0)}function ni(i,o){1&i&&e.GkF(0)}function li(i,o){1&i&&e.GkF(0)}function ai(i,o){1&i&&e.GkF(0)}function ci(i,o){1&i&&e.GkF(0)}function ri(i,o){1&i&&e.GkF(0)}function si(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("click",function(){const a=e.CHM(t).route,s=e.oxw();return e.KtG(s.mySelfMobileService.openPage(a))}),e.TgZ(1,"span",4),e._uU(2),e.qZA(),e.TgZ(3,"span",5),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",6),e._uU(7,"keyboard_arrow_right"),e.qZA()()}if(2&i){const t=o.name,n=o.icon;e.xp6(2),e.Oqu(n),e.xp6(2),e.Oqu(e.lcZ(5,2,t))}}le.\u0275fac=function(o){return new(o||le)(e.Y36(m),e.Y36(S.s))},le.\u0275cmp=e.Xpm({type:le,selectors:[["app-my-self-mobile-menu-piatti-selected"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mb-3","font-weight-bold","color-blue","text-center"],[1,"myself-mobile-tab-group"],[3,"label",4,"ngFor","ngForOf"],["mat-flat-button","",1,"button-blue","fixed-bottom-button",3,"click"],[3,"label"],[1,"mt-2"],["class","myself-mobile-categoria-piatto-panel mb-2",3,"expanded",4,"ngFor","ngForOf"],[1,"myself-mobile-categoria-piatto-panel","mb-2",3,"expanded"],[1,"background-color-light-blue","mat-elevation-z3",3,"expandedHeight","collapsedHeight"],[1,"font-weight-bold","categoria-container"],["class","border piatto-container bg-white overflow-hidden d-flex",3,"ngClass",4,"ngFor","ngForOf"],[1,"border","piatto-container","bg-white","overflow-hidden","d-flex",3,"ngClass"],["class","piatto-image",3,"src",4,"ngIf"],[1,"piatto-descrizione-container","d-flex","flex-column","p-3"],[1,"color-blue","font-weight-bold","mb-2"],[1,"overflow-auto","thin-scrollbar"],[3,"_text",4,"ngIf"],["class","mt-2 note",4,"ngIf"],[1,"piatto-image",3,"src"],[3,"_text"],[1,"mt-2","note"]],template:function(o,t){1&o&&e.YNc(0,ei,11,13,"ng-container",0),2&o&&e.Q6J("ngIf",null!=(null==t.mySelfMobileService.giornoMenu?null:t.mySelfMobileService.giornoMenu.piattiSelected)&&t.mySelfMobileService.giornoMenu.piattiSelected.length>0)},dependencies:[c.mk,c.sg,c.O5,g.eB,C.SK,C.R7,k.ib,k.yz,Z.W,c.rS,O.H,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}  .myself-mobile-tab-group{font:inherit!important}  .myself-mobile-tab-group .mat-tab-label{color:var(--main-color)!important;border-radius:5px!important;flex:1!important}  .myself-mobile-tab-group .mat-tab-label-active{background-color:var(--main-color)!important;color:var(--inverted-color)!important}  .myself-mobile-tab-group .mat-tab-labels{background-color:#f5f5f5!important}  .myself-mobile-tab-group .mat-ink-bar{background-color:var(--main-color)!important;border-radius:50%!important}  .myself-mobile-tab-group .mat-tab-body-content{overflow:hidden!important}  .myself-mobile-tab-group .mat-tab-header{top:-1rem;z-index:1000;position:-webkit-sticky;position:sticky}.piatto-container[_ngcontent-%COMP%]{border-radius:5px;flex-wrap:wrap}.piatto-image[_ngcontent-%COMP%]{width:100%;object-fit:cover;display:block;height:200px}@media (min-width: 992px){.piatto-container[_ngcontent-%COMP%]{height:200px;flex-wrap:nowrap}.piatto-image[_ngcontent-%COMP%]{width:400px;height:100%}}.piatto-descrizione-container[_ngcontent-%COMP%]{flex:1}.note[_ngcontent-%COMP%]{font-style:italic;font-size:14px;color:#999}.categoria-container[_ngcontent-%COMP%]{font-size:14px!important}  .myself-mobile-categoria-piatto-panel{box-shadow:none!important;border-radius:0!important;background-color:transparent!important;overflow:visible!important}  .myself-mobile-categoria-piatto-panel .mat-expansion-panel-content{font:inherit!important}  .myself-mobile-categoria-piatto-panel .mat-expansion-panel-header{font:inherit!important;border-radius:5px!important}  .myself-mobile-categoria-piatto-panel .mat-expansion-panel-body{padding:0!important}  .myself-mobile-categoria-piatto-panel .mat-expansion-indicator:after{color:#fff!important;position:absolute!important;top:-5px!important;left:-5px!important}"]});const mi=function(){return{name:"myself.gestisciAccount",route:"cliente",icon:"manage_accounts"}},pi=function(){return{name:"myself.voucher",route:"voucher",icon:"euro"}},fi=function(){return{name:"myself.recensioni",route:"recensioni",icon:"notes"}},ui=function(){return{name:"myself-mobile.richiestePreventivi",route:"richieste",icon:"feedback"}},gi=function(){return{name:"myself-mobile.pagamenti",route:"transazioni",icon:"euro"}},di=function(){return{name:"myself-mobile.sondaggi",route:"sondaggi",icon:"checklist"}},_i=function(){return{name:"myself-mobile.informazioniStruttura",route:"informazioni-struttura",icon:"info"}},bi=function(){return{name:"myself-mobile.pagine",route:"pagine",icon:"description"}};class ae{constructor(o){this.mySelfMobileService=o}}ae.\u0275fac=function(o){return new(o||ae)(e.Y36(m))},ae.\u0275cmp=e.Xpm({type:ae,selectors:[["app-my-self-mobile-menu"]],decls:11,vars:24,consts:[[1,"bg-white","m-n3"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["menuTemplate",""],[1,"font-weight-bold","color-blue","cursor-pointer","p-3","border-bottom",3,"click"],[1,"material-icons-round","align-middle","mr-1"],[1,"d-inline-block","align-middle"],[1,"material-icons-round","align-middle","float-right"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0),e.YNc(1,ti,1,0,"ng-container",1),e.YNc(2,oi,1,0,"ng-container",1),e.YNc(3,ii,1,0,"ng-container",1),e.YNc(4,ni,1,0,"ng-container",1),e.YNc(5,li,1,0,"ng-container",1),e.YNc(6,ai,1,0,"ng-container",1),e.YNc(7,ci,1,0,"ng-container",1),e.YNc(8,ri,1,0,"ng-container",1),e.qZA(),e.YNc(9,si,8,4,"ng-template",null,2,e.W1O)),2&o){const n=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(16,mi)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(17,pi)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(18,fi)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(19,ui)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(20,gi)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(21,di)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(22,_i)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(23,bi))}},dependencies:[c.tP,f.X$]});var hi=r(61736);class ce{constructor(o,t,n){this.mySelfMobileService=o,this.sessionService=t,this.apiService=n,this.enumMittente=p.VM}ngOnInit(){this.apiService.impostaMessaggiLettiHotelCliente(this.mySelfMobileService.cliente.oid).subscribe(),this.mySelfMobileService.numeroMessaggiNonLetti=0}}function Mi(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"app-inner-html",3),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.mySelfMobileService.pagina.titolo),e.xp6(2),e.Q6J("_text",t.mySelfMobileService.pagina.testo)}}ce.\u0275fac=function(o){return new(o||ce)(e.Y36(m),e.Y36(z.m),e.Y36(S.s))},ce.\u0275cmp=e.Xpm({type:ce,selectors:[["app-my-self-mobile-messaggi"]],decls:4,vars:10,consts:[[1,"font-weight-bold","color-blue","mb-3","text-center"],[3,"_cliente","messaggi","mittente","nomeAlbergo","nomePortale","isMySelf","oidPortale"]],template:function(o,t){1&o&&(e.TgZ(0,"h4",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e._UZ(3,"app-messaggi-send",1)),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,8,"myself-mobile.iTuoiMessaggi")),e.xp6(2),e.Q6J("_cliente",t.mySelfMobileService.cliente)("messaggi",t.mySelfMobileService.messaggi)("mittente",t.enumMittente.Cliente)("nomeAlbergo",t.sessionService.getNomeAlbergo())("nomePortale",t.mySelfMobileService.portale.nomeStruttura)("isMySelf",!0)("oidPortale",t.mySelfMobileService.portale.oid))},dependencies:[hi.G,f.X$]});class re{constructor(o){this.mySelfMobileService=o}ngOnInit(){null==this.mySelfMobileService.pagina?this.mySelfMobileService.openPage("pagine"):this.mySelfMobileService.showHeaderBackButton()}}function Si(i,o){if(1&i&&(e.TgZ(0,"div",3),e._UZ(1,"app-my-self-mobile-page",4),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("pagina",t)}}function yi(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,Si,2,1,"div",2),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.mySelfMobileService.pagine)}}re.\u0275fac=function(o){return new(o||re)(e.Y36(m))},re.\u0275cmp=e.Xpm({type:re,selectors:[["app-my-self-mobile-pagina"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"font-weight-bold","text-center","color-blue","mb-3"],[1,"mr-n3","ml-n3"],[3,"_text"]],template:function(o,t){1&o&&e.YNc(0,Mi,5,2,"ng-container",0),2&o&&e.Q6J("ngIf",null!=t.mySelfMobileService.pagina)},dependencies:[c.O5,Z.W]});class se{constructor(o){this.mySelfMobileService=o}}se.\u0275fac=function(o){return new(o||se)(e.Y36(m))},se.\u0275cmp=e.Xpm({type:se,selectors:[["app-my-self-mobile-pagine"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","mr-n1","ml-n1"],["class","col-12 col-md-4 col-lg-3 pr-1 pl-1 mt-2",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","col-lg-3","pr-1","pl-1","mt-2"],[3,"pagina"]],template:function(o,t){1&o&&e.YNc(0,yi,3,1,"ng-container",0),2&o&&e.Q6J("ngIf",null!=t.mySelfMobileService.pagine&&t.mySelfMobileService.pagine.length>0)},dependencies:[c.sg,c.O5,N]});var vi=r(69400),Je=r(62899),xi=r(37993);const Qe=function(i){return{"info-container-disabled":i}};function Ci(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.openMenuGiornoSelect())}),e.TgZ(2,"div"),e._UZ(3,"span",19),e.qZA(),e.TgZ(4,"div",11),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(4,Qe,null!=t.mySelfMobileService.prenotazione.giorniMenu&&0==t.mySelfMobileService.prenotazione.giorniMenu.length)),e.xp6(4),e.hij(" ",e.lcZ(6,2,"myself-mobile.menu")," ")}}function Zi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.openArticoliRoomServiceSelect())}),e.TgZ(2,"div"),e._UZ(3,"span",20),e.qZA(),e.TgZ(4,"div",11),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(4,Qe,null!=t.mySelfMobileService.prenotazione.articoliRoomService&&0==t.mySelfMobileService.prenotazione.articoliRoomService.length)),e.xp6(4),e.hij(" ",e.lcZ(6,2,"myself-mobile.roomService")," ")}}function Ti(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",12),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.openSondaggio())}),e.TgZ(2,"div"),e._UZ(3,"span",21),e.qZA(),e.TgZ(4,"div",11),e._uU(5),e.ALo(6,"translate"),e.qZA()()()}2&i&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"myself-mobile.sondaggio")," "))}function Ai(i,o){if(1&i&&(e.TgZ(0,"button",28)(1,"span",29),e._uU(2," info "),e.qZA()()),2&i){const t=e.oxw().$implicit;e.Q6J("matTooltip",t.giorniString)}}const zi=function(i){return{"mb-1":i}};function wi(i,o){if(1&i&&(e.TgZ(0,"div",24),e._uU(1),e.TgZ(2,"div",25)(3,"span",26),e._uU(4),e.ALo(5,"eurCurrency"),e.qZA(),e.YNc(6,Ai,3,1,"button",27),e.qZA()()),2&i){const t=o.$implicit,n=o.index,l=e.oxw(3);e.Q6J("ngClass",e.VKq(6,zi,n<l.articoli.length-1)),e.xp6(1),e.hij(" ",t.quantita+"x "+t.nome," "),e.xp6(3),e.hij(" ",e.lcZ(5,4,t.totale)," "),e.xp6(2),e.Q6J("ngIf",!!t.giorniString)}}function Pi(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"h5",22),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,wi,7,8,"div",23),e.BQk()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"myself-mobile.serviziAcquistati")),e.xp6(2),e.Q6J("ngForOf",t.articoli)}}const qi=function(i,o){return{"color-red":i,"color-blue":o}};function Oi(i,o){if(1&i&&(e.TgZ(0,"div",30)(1,"div",31),e._uU(2),e.qZA(),e.TgZ(3,"div",32),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.nome+" "+t.cognome),e.xp6(1),e.Q6J("ngClass",e.WLB(5,qi,!t.isCheckInOnlineEseguito,t.isCheckInOnlineEseguito)),e.xp6(1),e.Oqu(e.lcZ(5,3,t.isCheckInOnlineEseguito?"myself-mobile.checkinCompletato":"myself-mobile.checkinNonCompletato"))}}function Ii(i,o){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself-mobile.effettuaCheckin")))}function ki(i,o){1&i&&e._UZ(0,"mat-divider",4)}function Ji(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"div",36)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span",25),e._uU(5),e.TgZ(6,"small",37),e._uU(7),e.qZA()()(),e.YNc(8,ki,1,0,"mat-divider",38),e.BQk()),2&i){const t=o.$implicit,n=o.index,l=e.oxw(3);e.xp6(3),e.hij(" ",t.quantita+"x "+t.descrizione," "),e.xp6(2),e.hij(" ","\u20ac "+l.utility.getPriceIntegerPart(t.totale),""),e.xp6(2),e.Oqu(","+l.utility.getPriceDecimalPart(t.totale)),e.xp6(1),e.Q6J("ngIf",n<l.mySelfMobileService.prenotazione.estrattoConto.length-1)}}function Qi(i,o){if(1&i&&(e.TgZ(0,"mat-tab",3),e.ALo(1,"translate"),e.TgZ(2,"div",34),e.YNc(3,Ji,9,4,"ng-container",35),e.qZA()()),2&i){const t=e.oxw(2);e.Q6J("label",e.lcZ(1,2,"myself-mobile.estrattoConto")),e.xp6(3),e.Q6J("ngForOf",t.mySelfMobileService.prenotazione.estrattoConto)}}function Ui(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-my-self-rooms",40),e.NdJ("onRichiedi",function(l){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onRichiediUpSelling(l))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("oidPrenotazione",t.mySelfMobileService.prenotazione.oid)("camere",t.mySelfMobileService.prenotazione.upSellingRooms)}}function Li(i,o){if(1&i&&(e.TgZ(0,"div",41),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.upSellingRichiesto," ")}}function Ni(i,o){if(1&i&&(e.TgZ(0,"mat-tab",3),e.ALo(1,"translate"),e.TgZ(2,"div",15),e.YNc(3,Ui,2,2,"ng-container",14),e.YNc(4,Li,2,1,"div",39),e.qZA()()),2&i){const t=e.oxw(2);e.Q6J("label",e.lcZ(1,3,"myself-mobile.upselling")),e.xp6(3),e.Q6J("ngIf",null!=t.mySelfMobileService.prenotazione.upSellingRooms&&t.mySelfMobileService.prenotazione.upSellingRooms.length>0),e.xp6(1),e.Q6J("ngIf",!!t.upSellingRichiesto)}}function Yi(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab-group",2)(1,"mat-tab",3),e.ALo(2,"translate"),e.TgZ(3,"div",4),e._UZ(4,"app-my-self-mobile-prenotazione-container",5),e.TgZ(5,"div",6),e.YNc(6,Ci,7,6,"div",7),e.YNc(7,Zi,7,6,"div",7),e.TgZ(8,"div",8)(9,"div",9),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.openArticoliUpSellingSelect())}),e.TgZ(10,"div"),e._UZ(11,"span",10),e.qZA(),e.TgZ(12,"div",11),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.TgZ(15,"div",8)(16,"div",12),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.openRecensioni())}),e.TgZ(17,"div"),e._UZ(18,"span",13),e.qZA(),e.TgZ(19,"div",11),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.YNc(22,Ti,7,3,"div",7),e.qZA(),e.YNc(23,Pi,5,4,"ng-container",14),e.qZA()(),e.TgZ(24,"mat-tab",3),e.ALo(25,"translate"),e.TgZ(26,"div",15),e.YNc(27,Oi,6,8,"div",16),e.YNc(28,Ii,3,3,"div",17),e.qZA()(),e.YNc(29,Qi,4,4,"mat-tab",18),e.YNc(30,Ni,5,5,"mat-tab",18),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("label",e.lcZ(2,15,"myself-mobile.informazioni")),e.xp6(3),e.Q6J("prenotazione",t.mySelfMobileService.prenotazione)("isDettaglioPrenotazione",!0),e.xp6(2),e.Q6J("ngIf",t.mySelfMobileService.ubicazioneIstat.isSceltaMenuAttiva),e.xp6(1),e.Q6J("ngIf",t.mySelfMobileService.ubicazioneIstat.isRoomServiceAttivo),e.xp6(2),e.Q6J("ngClass",e.VKq(23,Qe,null!=t.mySelfMobileService.prenotazione.articoliUpSelling&&0==t.mySelfMobileService.prenotazione.articoliUpSelling.length)),e.xp6(4),e.hij(" ",e.lcZ(14,17,"myself-mobile.serviziAggiuntivi")," "),e.xp6(7),e.hij(" ",e.lcZ(21,19,"myself.recensione")," "),e.xp6(2),e.Q6J("ngIf",t.mySelfMobileService.prenotazione.hasSondaggio),e.xp6(1),e.Q6J("ngIf",null!=t.articoli&&t.articoli.length>0),e.xp6(1),e.Q6J("label",e.lcZ(25,21,"myself-mobile.ospiti")),e.xp6(3),e.Q6J("ngForOf",t.mySelfMobileService.prenotazione.ospiti),e.xp6(1),e.Q6J("ngIf",t.isCheckInEnabled),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.prenotazione.estrattoConto&&t.mySelfMobileService.prenotazione.estrattoConto.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.prenotazione.upSellingRooms&&t.mySelfMobileService.prenotazione.upSellingRooms.length>0||!!t.upSellingRichiesto)}}class me extends _.H{constructor(o,t,n,l){super(),this.mySelfMobileService=o,this.localizationService=t,this.apiService=n,this.utility=l}ngOnInit(){if(null==this.mySelfMobileService.prenotazione)this.mySelfMobileService.openPage("prenotazioni");else{this.mySelfMobileService.showHeaderBackButton(),this.mySelfMobileService.setFooterHeight(105),this.isCheckInEnabled=this.mySelfMobileService.isCheckInEnabled(this.mySelfMobileService.prenotazione),this.mySelfMobileService.prenotazione.dataUpSelling&&this.mySelfMobileService.prenotazione.cameraUpSelling&&(this.upSellingRichiesto=this.localizationService.getTranslationSync("myself.upSellingRichiesto",{data:this.getDate(this.mySelfMobileService.prenotazione.dataUpSelling,"DD/MM/YYYY"),camera:this.mySelfMobileService.prenotazione.cameraUpSelling})),this.setIsLoading(!0);let o=new u.XPt;o.oidPrenotazione=this.mySelfMobileService.prenotazione.oid,o.lingua=this.mySelfMobileService.lingua,this.mySelfMobileService.prenotazione.giorniMenu=null,this.mySelfMobileService.prenotazione.articoliUpSelling=null,this.mySelfMobileService.prenotazione.articoliRoomService=null,this.mySelfMobileService.prenotazione.estrattoConto=null,this.mySelfMobileService.prenotazione.upSellingRooms=null,this.mySelfMobileService.prenotazione.dataUpSelling=null,this.mySelfMobileService.prenotazione.cameraUpSelling=null,this.articoli=null,this.apiService.getPrenotazioneDetailsMySelf(o).subscribe(t=>{this.mySelfMobileService.prenotazione.giorniMenu=t.data.giorniMenu,this.mySelfMobileService.prenotazione.articoliUpSelling=t.data.articoliUpSelling,this.mySelfMobileService.prenotazione.articoliRoomService=t.data.articoliRoomService,this.mySelfMobileService.prenotazione.estrattoConto=t.data.estrattoConto,this.mySelfMobileService.prenotazione.upSellingRooms=t.data.upSellingRooms,this.mySelfMobileService.prenotazione.dataUpSelling=t.data.dataUpSelling,this.mySelfMobileService.prenotazione.cameraUpSelling=t.data.cameraUpSelling,this.articoli=t.data.articoli;for(let n of this.mySelfMobileService.prenotazione.giorniMenu){n.piattiSelected=JSON.parse(JSON.stringify(n.tipiPasto));for(let l of n.piattiSelected){for(let a of l.categoriePiatti)a.piatti=a.piatti.filter(s=>s.quantitaSelected>0);l.categoriePiatti=l.categoriePiatti.filter(a=>a.piatti.length>0)}n.piattiSelected=n.piattiSelected.filter(l=>l.categoriePiatti.length>0),n.tipiPasto.forEach(l=>l.categoriePiatti.forEach(a=>a.piatti.forEach(s=>s.note=null)))}this.setIsLoading(!1)})}}checkin(){this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("checkin")}onRichiediUpSelling(o){this.upSellingRichiesto=this.localizationService.getTranslationSync("myself.upSellingRichiesto",{data:this.getDate(T(),"DD/MM/YYYY"),camera:o}),this.mySelfMobileService.prenotazione.upSellingRooms=null}openMenuGiornoSelect(){null!=this.mySelfMobileService.prenotazione.giorniMenu&&this.mySelfMobileService.prenotazione.giorniMenu.length>0&&(this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("menu-giorno-select"))}openArticoliUpSellingSelect(){null!=this.mySelfMobileService.prenotazione.articoliUpSelling&&this.mySelfMobileService.prenotazione.articoliUpSelling.length>0&&(this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("articoli-up-selling-prenotazione-select"))}openArticoliRoomServiceSelect(){null!=this.mySelfMobileService.prenotazione.articoliRoomService&&this.mySelfMobileService.prenotazione.articoliRoomService.length>0&&(this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("articoli-room-service-prenotazione-select"))}openRecensioni(){this.mySelfMobileService.saveScrollPosition(),this.mySelfMobileService.openPage("recensioni")}openSondaggio(){this.utility.openUrlInNewTab(window.location.origin+"/booking/sondaggio?oidPrenotazione="+this.mySelfMobileService.prenotazione.oid)}}function Fi(i,o){1&i&&(e.TgZ(0,"h5",3),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.nessunaPrenotazione"),"\n"))}me.\u0275fac=function(o){return new(o||me)(e.Y36(m),e.Y36(we.o),e.Y36(S.s),e.Y36(y.t))},me.\u0275cmp=e.Xpm({type:me,selectors:[["app-my-self-mobile-prenotazione"]],features:[e.qOj],decls:4,vars:5,consts:[["class","myself-mobile-tab-group",4,"ngIf"],["mat-flat-button","",1,"button-blue","fixed-bottom-button",3,"disabled","click"],[1,"myself-mobile-tab-group"],[3,"label"],[1,"mt-2","mb-2"],[3,"prenotazione","isDettaglioPrenotazione"],[1,"row","mr-n1","ml-n1"],["class","col-6 pr-1 pl-1 mt-2",4,"ngIf"],[1,"col-6","pr-1","pl-1","mt-2"],[1,"border","p-3","text-center","cursor-pointer","info-container","h-100",3,"ngClass","click"],[1,"fas","fa-hot-tub","icona-info"],[1,"mt-2","font-weight-bold"],[1,"border","p-3","text-center","cursor-pointer","info-container","h-100",3,"click"],[1,"fas","fa-message","icona-info"],[4,"ngIf"],[1,"mt-2"],["class","ospite-container p-3 border mat-elevation-z1 mb-2",4,"ngFor","ngForOf"],["class","color-blue font-weight-bold mt-3",4,"ngIf"],[3,"label",4,"ngIf"],[1,"fas","fa-utensils","icona-info"],[1,"fas","fa-concierge-bell","icona-info"],[1,"fas","fa-list-check","icona-info"],[1,"mb-3","color-blue","font-weight-bold","mt-4"],["class","border articolo-container pr-2 pl-2 p-1 pb-1 font-weight-bold",3,"ngClass",4,"ngFor","ngForOf"],[1,"border","articolo-container","pr-2","pl-2","p-1","pb-1","font-weight-bold",3,"ngClass"],[1,"float-right","color-blue"],[1,"d-inline-block","align-middle"],["mat-icon-button","","class","align-middle ml-1 info-button","matTooltipPosition","left","matTooltipClass","giorni-tooltip-class",3,"matTooltip",4,"ngIf"],["mat-icon-button","","matTooltipPosition","left","matTooltipClass","giorni-tooltip-class",1,"align-middle","ml-1","info-button",3,"matTooltip"],[1,"material-icons-round","info-icon"],[1,"ospite-container","p-3","border","mat-elevation-z1","mb-2"],[1,"font-weight-bold"],[1,"text-small","font-italic","mt-1",3,"ngClass"],[1,"color-blue","font-weight-bold","mt-3"],[1,"mt-2","mb-2","estratto-conto-container","pt-2","pb-2","border","mat-elevation-z1"],[4,"ngFor","ngForOf"],[1,"pr-3","pl-3","font-weight-bold"],[1,"price-decimals"],["class","mt-2 mb-2",4,"ngIf"],["class","font-weight-bold mb-2 upSellingRichiesto-container p-3 border mat-elevation-z1",4,"ngIf"],[3,"oidPrenotazione","camere","onRichiedi"],[1,"font-weight-bold","mb-2","upSellingRichiesto-container","p-3","border","mat-elevation-z1"]],template:function(o,t){1&o&&(e.YNc(0,Yi,31,25,"mat-tab-group",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return t.checkin()}),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&o&&(e.Q6J("ngIf",null!=t.mySelfMobileService.prenotazione),e.xp6(1),e.Q6J("disabled",!t.isCheckInEnabled),e.xp6(1),e.Oqu(e.lcZ(3,3,"myself.checkIn")))},dependencies:[c.mk,c.sg,c.O5,g.eB,vi.d,C.SK,C.R7,Je.Kd,xi.S,I,J.f,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}  .myself-mobile-tab-group{font:inherit!important}  .myself-mobile-tab-group .mat-tab-label{color:var(--main-color)!important;border-radius:5px!important;flex:1!important}  .myself-mobile-tab-group .mat-tab-label-active{background-color:var(--main-color)!important;color:var(--inverted-color)!important}  .myself-mobile-tab-group .mat-ink-bar{background-color:var(--main-color)!important;border-radius:50%!important}  .myself-mobile-tab-group .mat-tab-body-content{overflow:hidden!important}.color-red[_ngcontent-%COMP%]{color:#d9534f!important}.icona-info[_ngcontent-%COMP%]{width:26px;height:26px;font-size:26px}.info-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.info-container-disabled[_ngcontent-%COMP%]{background-color:#f5f5f5!important;color:#999!important;cursor:default!important}.ospite-container[_ngcontent-%COMP%], .estratto-conto-container[_ngcontent-%COMP%], .upSellingRichiesto-container[_ngcontent-%COMP%], .articolo-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.info-button[_ngcontent-%COMP%]{width:16px;height:16px;line-height:16px}.info-icon[_ngcontent-%COMP%]{font-size:16px;line-height:16px}  .giorni-tooltip-class{font-size:11px!important;white-space:pre!important;max-width:unset!important}.text-small[_ngcontent-%COMP%]{font-size:14px}"]});const Hi=function(i){return{"mt-3":i}};function Ei(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"app-my-self-mobile-prenotazione-container",6),e.NdJ("clickEvent",function(l){e.CHM(t);const a=e.oxw(2);return e.KtG(a.mySelfMobileService.onPrenotazioneClick(l))}),e.qZA()()}if(2&i){const t=o.$implicit,n=o.index;e.Q6J("ngClass",e.VKq(2,Hi,n>0)),e.xp6(1),e.Q6J("prenotazione",t)}}function Ri(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Ei,2,4,"div",4),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.prenotazioni)}}class pe extends _.H{constructor(o){super(),this.mySelfMobileService=o,this.all=!1}ngOnInit(){this.mySelfMobileService.setFooterHeight(105)}}pe.\u0275fac=function(o){return new(o||pe)(e.Y36(m))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["app-my-self-mobile-prenotazioni"]],features:[e.qOj],decls:5,vars:5,consts:[["class","border rounded-lg text-center p-3 font-weight-bold bg-white",4,"ngIf"],[4,"ngIf"],["mat-flat-button","",1,"button-blue","fixed-bottom-button",3,"click"],[1,"border","rounded-lg","text-center","p-3","font-weight-bold","bg-white"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"prenotazione","clickEvent"]],template:function(o,t){1&o&&(e.YNc(0,Fi,3,3,"h5",0),e.YNc(1,Ri,2,1,"ng-container",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return t.all=!t.all,t.mySelfMobileService.allClickEvent.emit(t.all)}),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&o&&(e.Q6J("ngIf",null!=t.mySelfMobileService.prenotazioni&&0==t.mySelfMobileService.prenotazioni.length),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.prenotazioni&&t.mySelfMobileService.prenotazioni.length>0),e.xp6(2),e.Oqu(e.lcZ(4,3,t.all?"myself.visualizzaSoloLePrenotazioniFuture":"myself.visualizzaTutteLePrenotazioni")))},dependencies:[c.mk,c.sg,c.O5,g.eB,I,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}"]});var Di=r(72794),Bi=r(78003);function Gi(i,o){if(1&i&&e._UZ(0,"app-my-self-recensione",5),2&i){const t=o.$implicit;e.Q6J("recensione",t)}}function $i(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Gi,1,1,"app-my-self-recensione",4),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.recensioni)}}function Ki(i,o){1&i&&(e.TgZ(0,"h5",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.nessunaRecensione"),"\n"))}class fe extends _.H{constructor(o){super(),this.mySelfMobileService=o}ngOnInit(){this.mySelfMobileService.setFooterHeight(105)}nuovaRecensione(){let o=new u.Zpt;o.width="90vw",o.panelClass="myself-mobile-dialog";let t=this.showModalDialog(Di.B,o),n=t.componentInstance;n.cliente=this.mySelfMobileService.cliente,n.portale=this.mySelfMobileService.portale,n.dialogRef=t,t.afterClosed().subscribe(l=>{l&&this.mySelfMobileService.recensioni.push(l)})}}fe.\u0275fac=function(o){return new(o||fe)(e.Y36(m))},fe.\u0275cmp=e.Xpm({type:fe,selectors:[["app-my-self-mobile-recensioni"]],features:[e.qOj],decls:8,vars:8,consts:[[1,"font-weight-bold","color-blue","mb-3","text-center"],[4,"ngIf"],["class","border rounded-lg text-center p-3 font-weight-bold bg-white",4,"ngIf"],["mat-flat-button","",1,"button-blue","fixed-bottom-button",3,"click"],[3,"recensione",4,"ngFor","ngForOf"],[3,"recensione"],[1,"border","rounded-lg","text-center","p-3","font-weight-bold","bg-white"]],template:function(o,t){1&o&&(e.TgZ(0,"h4",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,$i,2,1,"ng-container",1),e.YNc(4,Ki,3,3,"h5",2),e.TgZ(5,"button",3),e.NdJ("click",function(){return t.nuovaRecensione()}),e._uU(6),e.ALo(7,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,4,"myself.leTueRecensioni")),e.xp6(2),e.Q6J("ngIf",null!=t.mySelfMobileService.recensioni&&t.mySelfMobileService.recensioni.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.recensioni&&0==t.mySelfMobileService.recensioni.length),e.xp6(2),e.Oqu(e.lcZ(7,6,"myself.nuovaRecensione")))},dependencies:[c.sg,c.O5,g.eB,Bi.G,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}"]});var Xi=r(93425);function Vi(i,o){if(1&i&&e._UZ(0,"app-my-self-richiesta",4),2&i){const t=o.$implicit;e.Q6J("_richiesta",t)}}function ji(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Vi,1,1,"app-my-self-richiesta",3),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.richieste)}}function Wi(i,o){1&i&&(e.TgZ(0,"h5",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.nessunaRichiesta"),"\n"))}class ue{constructor(o){this.mySelfMobileService=o}}function en(i,o){if(1&i&&e._UZ(0,"app-inner-html",10),2&i){const t=e.oxw();e.Q6J("_text",t.articolo.descrizione)}}function tn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(l){e.CHM(t);const a=e.oxw();return l.preventDefault(),e.KtG(a.openGiornoSelect())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.giorni")," "))}ue.\u0275fac=function(o){return new(o||ue)(e.Y36(m))},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["app-my-self-mobile-richieste"]],decls:5,vars:5,consts:[[1,"font-weight-bold","color-blue","mb-3","text-center"],[4,"ngIf"],["class","border rounded-lg text-center p-3 font-weight-bold bg-white",4,"ngIf"],[3,"_richiesta",4,"ngFor","ngForOf"],[3,"_richiesta"],[1,"border","rounded-lg","text-center","p-3","font-weight-bold","bg-white"]],template:function(o,t){1&o&&(e.TgZ(0,"h4",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,ji,2,1,"ng-container",1),e.YNc(4,Wi,3,3,"h5",2)),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,3,"myself.leTueRichieste")),e.xp6(2),e.Q6J("ngIf",null!=t.mySelfMobileService.richieste&&t.mySelfMobileService.richieste.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.richieste&&0==t.mySelfMobileService.richieste.length))},dependencies:[c.sg,c.O5,Xi.y,f.X$]});class ge extends _.H{constructor(o){super(),this.utility=o,this.giorniChangeEvent=new e.vpe,this.totale=0}ngOnInit(){this.calculateTotale()}openGiornoSelect(){let o=new u.Zpt;o.width="80vw";let t=this.showModalDialog(He.P,o),n=t.componentInstance;n.giorni=JSON.parse(JSON.stringify(this.articolo.giorni)),n.dialogRef=t,t.afterClosed().subscribe(l=>{if(null!=l){let a=0;for(let s of l)this.articolo.giorni[a].selected=s.selected,a++;this.calculateTotale(),this.giorniChangeEvent.emit()}})}calculateTotale(){this.totale=this.articolo.giorni.filter(o=>o.selected).reduce((o,t)=>o+t.prezzo*this.articolo.quantita,0)}}function on(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"app-my-self-mobile-articolo-selected",6),e.NdJ("giorniChangeEvent",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.calculateTotale())}),e.qZA()()}if(2&i){const t=o.$implicit;e.xp6(1),e.Q6J("articolo",t)}}function nn(i,o){if(1&i&&(e.TgZ(0,"mat-option",11)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",9),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span",9),e._uU(10),e.ALo(11,"titlecase"),e.ALo(12,"momentFormat"),e.qZA(),e.TgZ(13,"span"),e._uU(14),e.ALo(15,"momentFormat"),e.ALo(16,"momentFormat"),e.qZA()()),2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("value",t),e.xp6(2),e.Oqu(e.lcZ(3,6,"myself.prenotazione")),e.xp6(3),e.Oqu(" #"+t.codicePrenotazione),e.xp6(2),e.Oqu(e.lcZ(8,8,"myself.del")),e.xp6(3),e.Oqu(e.lcZ(11,10,e.Dn7(12,12,t.data,"D MMMM YYYY",n.getLocale()))),e.xp6(4),e.Oqu(" ("+e.Dn7(15,16,t.arrivo,"DD/MM/YYYY",n.getLocale())+" - "+e.Dn7(16,20,t.partenza,"DD/MM/YYYY",n.getLocale())+")")}}function ln(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",7)(1,"mat-select",8),e.NdJ("ngModelChange",function(l){e.CHM(t);const a=e.oxw();return e.KtG(a.mySelfMobileService.prenotazioneSelectedArticoli=l)})("ngModelChange",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onPrenotazioneChange())}),e.TgZ(2,"mat-select-trigger")(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",9),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",9),e._uU(12),e.ALo(13,"titlecase"),e.ALo(14,"momentFormat"),e.qZA(),e.TgZ(15,"span"),e._uU(16),e.ALo(17,"momentFormat"),e.ALo(18,"momentFormat"),e.qZA()(),e.YNc(19,nn,17,24,"mat-option",10),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("panelClass","myself-select")("ngModel",t.mySelfMobileService.prenotazioneSelectedArticoli),e.xp6(3),e.Oqu(e.lcZ(5,8,"myself.prenotazione")),e.xp6(3),e.Oqu(" #"+(null==t.mySelfMobileService.prenotazioneSelectedArticoli?null:t.mySelfMobileService.prenotazioneSelectedArticoli.codicePrenotazione)),e.xp6(2),e.Oqu(e.lcZ(10,10,"myself.del")),e.xp6(3),e.Oqu(e.lcZ(13,12,e.Dn7(14,14,null==t.mySelfMobileService.prenotazioneSelectedArticoli?null:t.mySelfMobileService.prenotazioneSelectedArticoli.data,"D MMMM YYYY",t.getLocale()))),e.xp6(4),e.Oqu(" ("+e.Dn7(17,18,null==t.mySelfMobileService.prenotazioneSelectedArticoli?null:t.mySelfMobileService.prenotazioneSelectedArticoli.arrivo,"DD/MM/YYYY",t.getLocale())+" - "+e.Dn7(18,22,null==t.mySelfMobileService.prenotazioneSelectedArticoli?null:t.mySelfMobileService.prenotazioneSelectedArticoli.partenza,"DD/MM/YYYY",t.getLocale())+")"),e.xp6(3),e.Q6J("ngForOf",t.mySelfMobileService.prenotazioniFuture)}}function an(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mySelfMobileService.acquistaArticoli(l.mySelfMobileService.articoliSelectedPrenotazione,!0))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself-mobile.acquista")))}ge.\u0275fac=function(o){return new(o||ge)(e.Y36(y.t))},ge.\u0275cmp=e.Xpm({type:ge,selectors:[["app-my-self-mobile-articolo-selected"]],inputs:{articolo:"articolo"},outputs:{giorniChangeEvent:"giorniChangeEvent"},features:[e.qOj],decls:13,vars:6,consts:[[1,"articolo-container","h-100","border","overflow-hidden"],[1,"articolo-image",3,"src"],[1,"d-flex"],[1,"descrizione-container","p-3"],[1,"font-weight-bold","color-blue","mb-2"],[3,"_text",4,"ngIf"],[1,"pt-3","pr-3","pb-3"],[1,"extra-prezzo","text-nowrap"],[1,"price-decimals"],["href","#","class","d-block text-center color-blue",3,"click",4,"ngIf"],[3,"_text"],["href","#",1,"d-block","text-center","color-blue",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5),e.qZA(),e.YNc(6,en,1,1,"app-inner-html",5),e.qZA(),e.TgZ(7,"div",6)(8,"div",7),e._uU(9),e.TgZ(10,"small",8),e._uU(11),e.qZA()(),e.YNc(12,tn,3,3,"a",9),e.qZA()()()),2&o&&(e.xp6(1),e.Q6J("src",t.articolo.urlImmagine?t.articolo.urlImmagine:"assets/images/sbm/no-image-big.png",e.LSH),e.xp6(4),e.Oqu(t.articolo.quantita+"x "+t.articolo.nome),e.xp6(1),e.Q6J("ngIf",!!t.articolo.descrizione),e.xp6(3),e.hij(" ","\u20ac "+t.utility.getPriceIntegerPart(t.totale),""),e.xp6(2),e.Oqu(","+t.utility.getPriceDecimalPart(t.totale)),e.xp6(1),e.Q6J("ngIf",null!=t.articolo.giorni&&t.articolo.giorni.length>1))},dependencies:[c.O5,Z.W,f.X$],styles:[".articolo-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.articolo-image[_ngcontent-%COMP%]{height:200px;width:100%;object-fit:cover}.extra-prezzo[_ngcontent-%COMP%]{font-size:25px;line-height:25px;font-weight:600;color:var(--main-color)}.extra-prezzo-sconto[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-color:var(--main-color);text-decoration-color:var(--main-color);font-size:16px;font-weight:600;color:#999}.extra-sconto[_ngcontent-%COMP%]{font-size:13px;color:var(--main-color);font-weight:600}.descrizione-container[_ngcontent-%COMP%]{flex:1}"]});class de extends _.H{constructor(o,t){super(),this.mySelfMobileService=o,this.apiService=t}ngOnInit(){null==this.mySelfMobileService.articoliSelected?this.mySelfMobileService.openPage("home"):(this.mySelfMobileService.showHeaderBackButton(),this.mySelfMobileService.ubicazioneIstat.isRichiediPagamentoArticoliECommerce?this.mySelfMobileService.isVisualizzaFormPagamento=!0:this.mySelfMobileService.setFooterHeight(105),this.mySelfMobileService.articoliSelectedPrenotazione=JSON.parse(JSON.stringify(this.mySelfMobileService.articoliSelected.filter(o=>o.quantita>0))),this.mySelfMobileService.prenotazioneSelectedArticoli=this.mySelfMobileService.prenotazioniFuture[0],this.mySelfMobileService.totaleArticoli=0,this.onPrenotazioneChange())}onPrenotazioneChange(){this.setIsLoading(!0);let o=new u.TDh;o.oidPrenotazione=this.mySelfMobileService.prenotazioneSelectedArticoli.oid,o.oidArticoli=this.mySelfMobileService.articoliSelectedPrenotazione.map(t=>t.oid),o.lingua=this.mySelfMobileService.lingua,this.apiService.getArticoliMySelf(o).subscribe(t=>{let n=this.mySelfMobileService.prenotazioneSelectedArticoli.numeroAdulti+this.mySelfMobileService.prenotazioneSelectedArticoli.numeroBambini,l=0;for(let a of t.data){let s=this.mySelfMobileService.articoliSelectedPrenotazione[l].quantita;a.quantita=1==a.isApplicaATuttiComponenti&&this.mySelfMobileService.prenotazioniFuture.length>1?s*n:s,l++}this.mySelfMobileService.articoliSelectedPrenotazione=t.data,this.calculateTotale(),this.setIsLoading(!1)})}calculateTotale(){this.mySelfMobileService.totaleArticoli=0;for(let o of this.mySelfMobileService.articoliSelectedPrenotazione)if(o.quantita>0)for(let t of o.giorni)t.selected&&(this.mySelfMobileService.totaleArticoli+=t.prezzo*o.quantita)}ngOnDestroy(){this.mySelfMobileService.isVisualizzaFormPagamento=!1}}function cn(i,o){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.risposta?t.risposta:"---"," ")}}function rn(i,o){1&i&&(e.TgZ(0,"span",10),e._uU(1,"star"),e.qZA())}function sn(i,o){1&i&&(e.TgZ(0,"span",10),e._uU(1,"star_border"),e.qZA())}function mn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,rn,2,0,"span",9),e.YNc(2,sn,2,0,"span",9),e.BQk()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.utility.counter(t.numeroStelle)),e.xp6(1),e.Q6J("ngForOf",n.utility.counter(5-t.numeroStelle))}}function pn(i,o){if(1&i&&e._UZ(0,"i"),2&i){const t=o.$implicit,n=o.index,l=e.oxw(2).$implicit;e.Tol("cursor-pointer smile-icon "+(l.numeroFaccine==n+1?"fas fa-":"far fa-")+t)}}function fn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,pn,1,2,"i",11),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.smileIcons)}}de.\u0275fac=function(o){return new(o||de)(e.Y36(m),e.Y36(S.s))},de.\u0275cmp=e.Xpm({type:de,selectors:[["app-my-self-mobile-riepilogo-articoli"]],features:[e.qOj],decls:8,vars:8,consts:[[1,"row","mr-n1","ml-n1"],["class","col-12 col-md-4 col-lg-3 pr-1 pl-1 mt-2",4,"ngFor","ngForOf"],[1,"font-weight-bold","color-blue","mt-4","mb-2"],["class","w-100",4,"ngIf"],["class","button-blue fixed-bottom-button","mat-flat-button","",3,"click",4,"ngIf"],[1,"col-12","col-md-4","col-lg-3","pr-1","pl-1","mt-2"],[3,"articolo","giorniChangeEvent"],[1,"w-100"],[3,"panelClass","ngModel","ngModelChange"],[1,"font-weight-bold"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-flat-button","",1,"button-blue","fixed-bottom-button",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.YNc(1,on,2,1,"div",1),e.qZA(),e.TgZ(2,"h5",2),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"eurCurrency"),e.qZA(),e.YNc(6,ln,20,26,"mat-form-field",3),e.YNc(7,an,3,3,"button",4)),2&o&&(e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.articoliSelectedPrenotazione),e.xp6(2),e.Oqu(e.lcZ(4,4,"myself.totale")+" "+e.lcZ(5,6,t.mySelfMobileService.totaleArticoli)),e.xp6(3),e.Q6J("ngIf",t.mySelfMobileService.prenotazioniFuture.length>1),e.xp6(1),e.Q6J("ngIf",!t.mySelfMobileService.ubicazioneIstat.isRichiediPagamentoArticoliECommerce))},dependencies:[c.sg,c.O5,g.eB,A.v_,Ae.CK,q.x8,q.Cb,b.JJ,b.On,ge,c.rS,J.f,O.H,f.X$],styles:[".config-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:1;width:35px;height:35px;line-height:35px}.config-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-button .mat-button-wrapper{padding:0!important}.config-button-right[_ngcontent-%COMP%]{right:10px;left:unset}.config-button-bottom[_ngcontent-%COMP%]{bottom:10px;top:unset}.config-button-center[_ngcontent-%COMP%]{left:calc(50vw - 20px)}.fixed-bottom-button[_ngcontent-%COMP%]{position:fixed;bottom:65px;left:0;width:100%;height:40px;border-radius:0!important}"]});const un=function(i){return{"mt-3":i}};function gn(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"h6",7),e._uU(2),e.qZA(),e.TgZ(3,"div"),e.YNc(4,cn,2,1,"ng-container",8),e.YNc(5,mn,3,2,"ng-container",8),e.YNc(6,fn,2,1,"ng-container",8),e.qZA(),e.BQk()),2&i){const t=o.$implicit,n=o.index;e.xp6(1),e.Q6J("ngClass",e.VKq(5,un,n>0)),e.xp6(1),e.Oqu(t.domanda),e.xp6(2),e.Q6J("ngIf",!t.numeroStelle&&!t.numeroFaccine),e.xp6(1),e.Q6J("ngIf",t.numeroStelle>0),e.xp6(1),e.Q6J("ngIf",t.numeroFaccine>0)}}function dn(i,o){if(1&i&&(e.TgZ(0,"div",12)(1,"span",3),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"myself-mobile.punteggio")),e.xp6(3),e.Oqu(t.sondaggio.punteggio)}}class _e extends _.H{constructor(o){super(),this.utility=o,this.smileIcons=["tired","frown","meh","smile","grin"]}}function _n(i,o){if(1&i&&e._UZ(0,"app-my-self-mobile-sondaggio",4),2&i){const t=o.$implicit;e.Q6J("sondaggio",t)}}function bn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,_n,1,1,"app-my-self-mobile-sondaggio",3),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.sondaggi)}}function hn(i,o){1&i&&(e.TgZ(0,"h5",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself-mobile.nessunSondaggio"),"\n"))}_e.\u0275fac=function(o){return new(o||_e)(e.Y36(y.t))},_e.\u0275cmp=e.Xpm({type:_e,selectors:[["app-my-self-mobile-sondaggio"]],inputs:{sondaggio:"sondaggio"},features:[e.qOj],decls:16,vars:15,consts:[[1,"mat-elevation-z5","sondaggio-container","overflow-hidden","mt-4"],[1,"background-color-blue","pt-1","pb-1"],[1,"text-center","text-small"],[1,"font-weight-bold"],[1,"p-3","text-center"],[4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],[1,"font-weight-bold",3,"ngClass"],[4,"ngIf"],["class","material-icons icon-md20",4,"ngFor","ngForOf"],[1,"material-icons","icon-md20"],[3,"class",4,"ngFor","ngForOf"],[1,"mt-3"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span",3),e._uU(10),e.ALo(11,"titlecase"),e.ALo(12,"momentFormat"),e.qZA()()(),e.TgZ(13,"div",4),e.YNc(14,gn,7,7,"ng-container",5),e.YNc(15,dn,6,4,"div",6),e.qZA()()),2&o&&(e.xp6(4),e.Oqu(e.lcZ(5,5,"myself-mobile.sondaggio")),e.xp6(3),e.Oqu(e.lcZ(8,7,"myself.del")),e.xp6(3),e.Oqu(e.lcZ(11,9,e.Dn7(12,11,t.sondaggio.data,"D MMMM YYYY",t.getLocale()))),e.xp6(4),e.Q6J("ngForOf",t.sondaggio.risposte),e.xp6(1),e.Q6J("ngIf",t.sondaggio.punteggio>0))},dependencies:[c.mk,c.sg,c.O5,c.rS,O.H,f.X$],styles:[".sondaggio-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.text-small[_ngcontent-%COMP%]{font-size:14px}.smile-icon[_ngcontent-%COMP%]{padding-right:1rem;font-size:20px}"]});class be{constructor(o){this.mySelfMobileService=o}}function Mn(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",7),e._uU(5),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(" - "+e.lcZ(3,2,"myself-mobile.prenotazioneN")),e.xp6(3),e.Oqu(t.codicePrenotazione)}}function Sn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.openUrlPaymail(l.uid))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"myself-mobile.effettuaPagamento")))}function yn(i,o){if(1&i&&(e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",7),e._uU(7),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",7),e._uU(12),e.ALo(13,"titlecase"),e.ALo(14,"momentFormat"),e.qZA(),e.YNc(15,Mn,6,4,"ng-container",1),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9)(18,"span"),e._uU(19),e.qZA(),e.TgZ(20,"small",10),e._uU(21),e.qZA()(),e.YNc(22,Sn,3,3,"button",11),e.qZA()()),2&i){const t=o.$implicit,n=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,8,"myself-mobile.pagamento")),e.xp6(3),e.Oqu(" #"+t.oid),e.xp6(2),e.Oqu(e.lcZ(10,10,"myself.del")),e.xp6(3),e.Oqu(e.lcZ(13,12,e.Dn7(14,14,t.data,"D MMMM YYYY",n.getLocale()))),e.xp6(3),e.Q6J("ngIf",!!t.codicePrenotazione),e.xp6(4),e.Oqu("\u20ac "+n.utility.getPriceIntegerPart(t.importo)),e.xp6(2),e.Oqu(","+n.utility.getPriceDecimalPart(t.importo)),e.xp6(1),e.Q6J("ngIf",!t.isPagamentoEffettuato)}}function vn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,yn,23,18,"div",3),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.transazioni)}}function xn(i,o){1&i&&(e.TgZ(0,"h5",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself-mobile.nessunPagamento"),"\n"))}be.\u0275fac=function(o){return new(o||be)(e.Y36(m))},be.\u0275cmp=e.Xpm({type:be,selectors:[["app-my-self-mobile-sondaggi"]],decls:5,vars:5,consts:[[1,"font-weight-bold","color-blue","mb-3","text-center"],[4,"ngIf"],["class","border rounded-lg text-center p-3 font-weight-bold bg-white",4,"ngIf"],[3,"sondaggio",4,"ngFor","ngForOf"],[3,"sondaggio"],[1,"border","rounded-lg","text-center","p-3","font-weight-bold","bg-white"]],template:function(o,t){1&o&&(e.TgZ(0,"h4",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,bn,2,1,"ng-container",1),e.YNc(4,hn,3,3,"h5",2)),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,3,"myself-mobile.iTuoiSondaggi")),e.xp6(2),e.Q6J("ngIf",null!=t.mySelfMobileService.sondaggi&&t.mySelfMobileService.sondaggi.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.sondaggi&&0==t.mySelfMobileService.sondaggi.length))},dependencies:[c.sg,c.O5,_e,f.X$]});class he extends _.H{constructor(o,t){super(),this.mySelfMobileService=o,this.utility=t}openUrlPaymail(o){this.utility.openUrlInNewTab(window.location.origin+"/booking/paymail?uid="+o)}}he.\u0275fac=function(o){return new(o||he)(e.Y36(m),e.Y36(y.t))},he.\u0275cmp=e.Xpm({type:he,selectors:[["app-my-self-mobile-transazioni"]],features:[e.qOj],decls:5,vars:5,consts:[[1,"font-weight-bold","color-blue","mb-3","text-center"],[4,"ngIf"],["class","border rounded-lg text-center p-3 font-weight-bold bg-white",4,"ngIf"],["class","mat-elevation-z5 transazione-container overflow-hidden mt-4",4,"ngFor","ngForOf"],[1,"mat-elevation-z5","transazione-container","overflow-hidden","mt-4"],[1,"background-color-blue","pt-1","pb-1"],[1,"text-center","text-small"],[1,"font-weight-bold"],[1,"p-3","text-center"],[1,"font-weight-bold","text-big"],[1,"price-decimals"],["class","button-blue mt-3","mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","",1,"button-blue","mt-3",3,"click"],[1,"border","rounded-lg","text-center","p-3","font-weight-bold","bg-white"]],template:function(o,t){1&o&&(e.TgZ(0,"h4",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,vn,2,1,"ng-container",1),e.YNc(4,xn,3,3,"h5",2)),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,3,"myself-mobile.iTuoiPagamenti")),e.xp6(2),e.Q6J("ngIf",null!=t.mySelfMobileService.transazioni&&t.mySelfMobileService.transazioni.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.transazioni&&0==t.mySelfMobileService.transazioni.length))},dependencies:[c.sg,c.O5,g.eB,c.rS,O.H,f.X$],styles:[".transazione-container[_ngcontent-%COMP%]{border-radius:7px;background-color:#fff}.text-big[_ngcontent-%COMP%]{font-size:22px}"]});var Cn=r(12499);function Zn(i,o){if(1&i&&e._UZ(0,"app-my-self-voucher",4),2&i){const t=o.$implicit;e.Q6J("voucher",t)}}function Tn(i,o){if(1&i&&(e.ynx(0),e.YNc(1,Zn,1,1,"app-my-self-voucher",3),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.mySelfMobileService.voucher)}}function An(i,o){1&i&&(e.TgZ(0,"h5",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"myself.nessunVoucher"),"\n"))}class Me{constructor(o){this.mySelfMobileService=o}}Me.\u0275fac=function(o){return new(o||Me)(e.Y36(m))},Me.\u0275cmp=e.Xpm({type:Me,selectors:[["app-my-self-mobile-voucher"]],decls:5,vars:5,consts:[[1,"font-weight-bold","color-blue","mb-3","text-center"],[4,"ngIf"],["class","border rounded-lg text-center p-3 font-weight-bold bg-white",4,"ngIf"],[3,"voucher",4,"ngFor","ngForOf"],[3,"voucher"],[1,"border","rounded-lg","text-center","p-3","font-weight-bold","bg-white"]],template:function(o,t){1&o&&(e.TgZ(0,"h4",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.YNc(3,Tn,2,1,"ng-container",1),e.YNc(4,An,3,3,"h5",2)),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,3,"myself.iTuoiVoucher")),e.xp6(2),e.Q6J("ngIf",null!=t.mySelfMobileService.voucher&&t.mySelfMobileService.voucher.length>0),e.xp6(1),e.Q6J("ngIf",null!=t.mySelfMobileService.voucher&&0==t.mySelfMobileService.voucher.length))},dependencies:[c.sg,c.O5,Cn.t,f.X$]});var Pe=r(20636),M=r(54043);function zn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-header-cell",15)(1,"mat-checkbox",16),e.NdJ("change",function(l){e.CHM(t);const a=e.oxw();return e.KtG(l?a.masterToggleArticoli():null)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selectionArticoli.hasValue()&&t.isAllSelectedArticoli())("indeterminate",t.selectionArticoli.hasValue()&&!t.isAllSelectedArticoli())}}function wn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-cell",17)(1,"mat-checkbox",18),e.NdJ("click",function(l){return l.stopPropagation()})("change",function(l){const s=e.CHM(t).$implicit,h=e.oxw();return e.KtG(l?h.selectionArticoli.toggle(s.oid):null)}),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selectionArticoli.isSelected(t.oid))}}function Pn(i,o){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"bo.articolo.proprieta.nome")))}function qn(i,o){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.nome)}}function On(i,o){1&i&&e._UZ(0,"mat-header-row",19)}function In(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",20),e.NdJ("contextmenu",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.copyToClipboard(a.oid))}),e.qZA()}if(2&i){const t=o.$implicit,n=e.oxw();e.Q6J("matTooltip",n.isLocalhost&&null!=t.oid?t.oid:"")}}const Be=function(){return["nome","select"]};class Se extends _.H{constructor(o,t){super(),this.apiService=o,this.mySelfMobileService=t,this.rq=new P.Dgg,this.selectionArticoli=new Pe.Ov(!0,[])}ngOnInit(){this.setIsLoading(!0),this.apiService.getUbicazioneIstat(this.oidUbicazioneIstat).subscribe(o=>{this.rq=o.data,this.apiService.getArticoliFilter(u.k$g.fromFilter("isUpSellingCRM",p.Hp.IsTrue)).subscribe(t=>{if(this.articoli=t.data,this.selectionArticoli=new Pe.Ov(!0,[]),this.rq.oidArticoli){let n=this.rq.oidArticoli.split(";");for(let l of n)""!=l&&!isNaN(+l)&&-1!=this.articoli.findIndex(a=>a.oid==+l)&&this.selectionArticoli.toggle(+l)}this.setIsLoading(!1)})})}save(){this.setIsLoading(!0),this.rq.oidArticoli=this.selectionArticoli.selected.toString().replace(/,/g,";"),this.apiService.updateUbicazioneIstat(this.rq).subscribe(()=>{this.dialogRef.close(!0),this.mySelfMobileService.downloadEvent.emit()})}isAllSelectedArticoli(){return this.selectionArticoli.selected.length==this.articoli.length}masterToggleArticoli(){this.isAllSelectedArticoli()?this.selectionArticoli.clear():this.articoli.forEach(o=>this.selectionArticoli.select(o.oid))}}function kn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-header-cell",15)(1,"mat-checkbox",16),e.NdJ("change",function(l){e.CHM(t);const a=e.oxw();return e.KtG(l?a.masterToggleContenuti():null)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selectionContenuti.hasValue()&&t.isAllSelectedContenuti())("indeterminate",t.selectionContenuti.hasValue()&&!t.isAllSelectedContenuti())}}function Jn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-cell",17)(1,"mat-checkbox",18),e.NdJ("click",function(l){return l.stopPropagation()})("change",function(l){const s=e.CHM(t).$implicit,h=e.oxw();return e.KtG(l?h.selectionContenuti.toggle(s.oid):null)}),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selectionContenuti.isSelected(t.oid))}}function Qn(i,o){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"bo.template.proprieta.nome")))}function Un(i,o){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.nome)}}function Ln(i,o){1&i&&e._UZ(0,"mat-header-row",19)}function Nn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-row",20),e.NdJ("contextmenu",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.copyToClipboard(a.oid))}),e.qZA()}if(2&i){const t=o.$implicit,n=e.oxw();e.Q6J("matTooltip",n.isLocalhost&&null!=t.oid?t.oid:"")}}Se.\u0275fac=function(o){return new(o||Se)(e.Y36(S.s),e.Y36(m))},Se.\u0275cmp=e.Xpm({type:Se,selectors:[["app-my-self-mobile-articoli-edit"]],inputs:{oidUbicazioneIstat:"oidUbicazioneIstat",dialogRef:"dialogRef"},features:[e.qOj],decls:20,vars:13,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[1,"mat-table-container-border-rounded"],[1,"mat-table",3,"dataSource"],["matColumnDef","select"],["class","mat-th-select",4,"matHeaderCellDef"],["class","mat-td-select",4,"matCellDef"],["matColumnDef","nome"],[4,"matHeaderCellDef"],[4,"matCellDef"],["class","mat-table-header",4,"matHeaderRowDef","matHeaderRowDefSticky"],["matTooltipPosition","left","matTooltipClass","oid-tooltip",3,"matTooltip","contextmenu",4,"matRowDef","matRowDefColumns"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"mat-th-select"],[1,"checkbox-blue",3,"checked","indeterminate","change"],[1,"mat-td-select"],[1,"checkbox-blue",3,"checked","click","change"],[1,"mat-table-header"],["matTooltipPosition","left","matTooltipClass","oid-tooltip",3,"matTooltip","contextmenu"]],template:function(o,t){1&o&&(e.TgZ(0,"button",0)(1,"i",1),e._uU(2,"clear"),e.qZA()(),e.TgZ(3,"h5",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"mat-table",4),e.ynx(8,5),e.YNc(9,zn,2,2,"mat-header-cell",6),e.YNc(10,wn,2,1,"mat-cell",7),e.BQk(),e.ynx(11,8),e.YNc(12,Pn,3,3,"mat-header-cell",9),e.YNc(13,qn,2,1,"mat-cell",10),e.BQk(),e.YNc(14,On,1,0,"mat-header-row",11),e.YNc(15,In,1,1,"mat-row",12),e.qZA()(),e.TgZ(16,"div",13)(17,"button",14),e.NdJ("click",function(){return t.save()}),e._uU(18),e.ALo(19,"translate"),e.qZA()()),2&o&&(e.Q6J("disableRipple",!0),e.xp6(4),e.Oqu(e.lcZ(5,7,"sbm.configurazione-myself.impostazioni.articoli")),e.xp6(3),e.Q6J("dataSource",t.articoli),e.xp6(7),e.Q6J("matHeaderRowDef",e.DdM(11,Be))("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(12,Be)),e.xp6(3),e.Oqu(e.lcZ(19,9,"globals.salvaModifiche")))},dependencies:[ke.FC,g.eB,Te.aO,Je.Kd,M.ty,M.wO,M.S4,M.t3,M.R3,M.Al,M.L7,M.ML,M.fg,M.Zw,f.X$]});const Ge=function(){return["nome","select"]};class ye extends _.H{constructor(o,t){super(),this.apiService=o,this.mySelfMobileService=t,this.rq=new P.Dgg,this.selectionContenuti=new Pe.Ov(!0,[])}ngOnInit(){this.setIsLoading(!0),this.apiService.getUbicazioneIstat(this.oidUbicazioneIstat).subscribe(o=>{this.rq=o.data,this.apiService.getTemplatesFilter(u.k$g.fromFilter("tipoTemplate",p.Hp.Equal,p.hQ.PrenotazioneContenuto.toString(),p.NM.Number)).subscribe(t=>{if(this.contenuti=t.data.templates.map(n=>n.template),this.selectionContenuti=new Pe.Ov(!0,[]),this.rq.oidContenuti){let n=this.rq.oidContenuti.split(";");for(let l of n)""!=l&&!isNaN(+l)&&-1!=this.contenuti.findIndex(a=>a.oid==+l)&&this.selectionContenuti.toggle(+l)}this.setIsLoading(!1)})})}save(){this.setIsLoading(!0),this.rq.oidContenuti=this.selectionContenuti.selected.toString().replace(/,/g,";"),this.apiService.updateUbicazioneIstat(this.rq).subscribe(()=>{this.mySelfMobileService.downloadEvent.emit(),this.dialogRef.close()})}isAllSelectedContenuti(){return this.selectionContenuti.selected.length==this.contenuti.length}masterToggleContenuti(){this.isAllSelectedContenuti()?this.selectionContenuti.clear():this.contenuti.forEach(o=>this.selectionContenuti.select(o.oid))}}ye.\u0275fac=function(o){return new(o||ye)(e.Y36(S.s),e.Y36(m))},ye.\u0275cmp=e.Xpm({type:ye,selectors:[["app-my-self-mobile-contenuti-edit"]],inputs:{oidUbicazioneIstat:"oidUbicazioneIstat",dialogRef:"dialogRef"},features:[e.qOj],decls:20,vars:13,consts:[["mat-icon-button","",1,"modal-close-button",3,"matDialogClose","disableRipple"],[1,"material-icons-round"],[1,"mb-3"],[1,"mat-table-container-border-rounded"],[1,"mat-table",3,"dataSource"],["matColumnDef","select"],["class","mat-th-select",4,"matHeaderCellDef"],["class","mat-td-select",4,"matCellDef"],["matColumnDef","nome"],[4,"matHeaderCellDef"],[4,"matCellDef"],["class","mat-table-header",4,"matHeaderRowDef","matHeaderRowDefSticky"],["matTooltipPosition","left","matTooltipClass","oid-tooltip",3,"matTooltip","contextmenu",4,"matRowDef","matRowDefColumns"],[1,"text-right","mt-3"],["mat-flat-button","",1,"button-blue",3,"click"],[1,"mat-th-select"],[1,"checkbox-blue",3,"checked","indeterminate","change"],[1,"mat-td-select"],[1,"checkbox-blue",3,"checked","click","change"],[1,"mat-table-header"],["matTooltipPosition","left","matTooltipClass","oid-tooltip",3,"matTooltip","contextmenu"]],template:function(o,t){1&o&&(e.TgZ(0,"button",0)(1,"i",1),e._uU(2,"clear"),e.qZA()(),e.TgZ(3,"h5",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",3)(7,"mat-table",4),e.ynx(8,5),e.YNc(9,kn,2,2,"mat-header-cell",6),e.YNc(10,Jn,2,1,"mat-cell",7),e.BQk(),e.ynx(11,8),e.YNc(12,Qn,3,3,"mat-header-cell",9),e.YNc(13,Un,2,1,"mat-cell",10),e.BQk(),e.YNc(14,Ln,1,0,"mat-header-row",11),e.YNc(15,Nn,1,1,"mat-row",12),e.qZA()(),e.TgZ(16,"div",13)(17,"button",14),e.NdJ("click",function(){return t.save()}),e._uU(18),e.ALo(19,"translate"),e.qZA()()),2&o&&(e.Q6J("disableRipple",!0),e.xp6(4),e.Oqu(e.lcZ(5,7,"sbm.configurazione-myself.impostazioni.contenuti")),e.xp6(3),e.Q6J("dataSource",t.contenuti),e.xp6(7),e.Q6J("matHeaderRowDef",e.DdM(11,Ge))("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(12,Ge)),e.xp6(3),e.Oqu(e.lcZ(19,9,"globals.salvaModifiche")))},dependencies:[ke.FC,g.eB,Te.aO,Je.Kd,M.ty,M.wO,M.S4,M.t3,M.R3,M.Al,M.L7,M.ML,M.fg,M.Zw,f.X$]});var Yn=r(8851),$e=r(10244),Fn=r(29735),Hn=r(32549),Ue=r(36576);function En(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mySelfMobileService.back())}),e.TgZ(1,"i",17),e._uU(2,"arrow_back"),e.qZA()()}}function Rn(i,o){if(1&i&&e._UZ(0,"img",18),2&i){const t=e.oxw();e.Q6J("src",t.mySelfMobileService.portale.urlImmagineLogo,e.LSH)}}function Dn(i,o){if(1&i&&(e.TgZ(0,"mat-option",19),e._UZ(1,"span"),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=o.$implicit;e.Q6J("value",t.codice),e.xp6(1),e.Gre("mr-2 fi fi-",t.flagIcon,""),e.xp6(2),e.Oqu(e.lcZ(4,5,"language_codes."+t.codice))}}class ve extends _.H{constructor(o,t,n,l){super(),this.sessionService=o,this.mySelfMobileService=t,this.utility=n,this.localizationService=l}ngOnInit(){null!=this.mySelfMobileService.cliente&&(this.nomeCliente=(this.mySelfMobileService.cliente.nome?this.mySelfMobileService.cliente.nome[0].toUpperCase():"")+(this.mySelfMobileService.cliente.cognome?this.mySelfMobileService.cliente.cognome[0].toUpperCase():""))}logout(){this.showDialogConfirm("myself.effettuareLogout").then(o=>{this.setIsLoading(!0),this.sessionService.clearSessione(),window.location.href="/myself?oidUbicazioneIstat="+this.mySelfMobileService.ubicazioneIstat.oid+"&lingua="+this.localizationService.currentLanguage.codice},o=>{})}}ve.\u0275fac=function(o){return new(o||ve)(e.Y36(z.m),e.Y36(m),e.Y36(y.t),e.Y36(we.o))},ve.\u0275cmp=e.Xpm({type:ve,selectors:[["app-my-self-mobile-header"]],features:[e.qOj],decls:28,vars:16,consts:[[1,"header","pt-2","pb-2","mat-elevation-z3"],[1,"float-left","ml-3","h-100","d-flex","align-items-center"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"logo-container"],["class","logo",3,"src",4,"ngIf"],[1,"float-right","mr-3","h-100","d-flex","align-items-center"],[1,"header-button","mr-3","background-color-blue",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",1,"font-weight-bold",3,"click"],[1,"material-icons-round","align-middle","mr-1"],[1,"d-inline-block","align-middle"],[1,"header-button","background-color-grey",3,"click"],[1,"myself-mobile-language-select"],[3,"panelClass","ngModel","ngModelChange"],["languageSelect",""],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],[1,"material-icons-round","color-blue","font-weight-bold"],[1,"logo",3,"src"],[3,"value"]],template:function(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,En,3,0,"button",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,Rn,1,1,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6),e._uU(7),e.qZA(),e.TgZ(8,"mat-menu",null,7)(10,"button",8),e.NdJ("click",function(){return t.mySelfMobileService.openPage("cliente")}),e.TgZ(11,"span",9),e._uU(12,"manage_accounts"),e.qZA(),e.TgZ(13,"span",10),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"button",8),e.NdJ("click",function(){return t.logout()}),e.TgZ(17,"span",9),e._uU(18,"logout"),e.qZA(),e.TgZ(19,"span",10),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"div",11),e.NdJ("click",function(){e.CHM(n);const a=e.MAs(26);return e.KtG(a.open())}),e._UZ(23,"span"),e.qZA(),e.TgZ(24,"mat-form-field",12)(25,"mat-select",13,14),e.NdJ("ngModelChange",function(a){return t.mySelfMobileService.lingua=a})("ngModelChange",function(){return t.utility.updateLinguaUrl(t.mySelfMobileService.lingua)}),e.YNc(27,Dn,5,7,"mat-option",15),e.qZA()()()()}if(2&o){const n=e.MAs(9);e.xp6(2),e.Q6J("ngIf",t.mySelfMobileService.showBackButton),e.xp6(2),e.Q6J("ngIf",!!t.mySelfMobileService.portale.urlImmagineLogo),e.xp6(2),e.Q6J("matMenuTriggerFor",n),e.xp6(1),e.hij(" ",t.nomeCliente," "),e.xp6(7),e.Oqu(e.lcZ(15,12,"myself.gestisciAccount")),e.xp6(6),e.Oqu(e.lcZ(21,14,"myself.logout")),e.xp6(3),e.Gre("fi fi-",t.mySelfMobileService.selectedLanguage.flagIcon,""),e.xp6(2),e.Q6J("panelClass","myself-select-unlimited-height")("ngModel",t.mySelfMobileService.lingua),e.xp6(2),e.Q6J("ngForOf",t.mySelfMobileService.lingue)}},dependencies:[c.sg,c.O5,g.eB,A.v_,Ae.CK,q.x8,Ue.W0,Ue.tN,Ue.D8,b.JJ,b.On,f.X$],styles:[".header[_ngcontent-%COMP%]{height:65px;width:100%;position:fixed;top:0;left:0;z-index:1}.logo-container[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;top:.5rem;left:0;z-index:-1}.logo[_ngcontent-%COMP%]{min-width:50px;max-width:150px;min-height:50px;max-height:50px;object-fit:contain}.myself-mobile-language-select[_ngcontent-%COMP%]{position:absolute!important;top:0;right:0;visibility:hidden}.header-button[_ngcontent-%COMP%]{width:35px;height:35px;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:50%}.background-color-grey[_ngcontent-%COMP%]{background-color:#ddd}"]});var Bn=r(75392);const xe=function(i){return{"color-blue":i}};function Gn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mySelfMobileService.onPrenotazioneClick(l.mySelfMobileService.prenotazioneFutura))}),e.TgZ(1,"span",3),e._uU(2,"room_service"),e.qZA(),e.TgZ(3,"div",4),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(4,xe,"prenotazione"==t.route)),e.xp6(4),e.hij(" ",e.lcZ(5,2,"myself-mobile.servizi")," ")}}function $n(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mySelfMobileService.openPage("messaggi"))}),e.TgZ(1,"span",6),e._uU(2,"chat"),e.qZA(),e.TgZ(3,"div",4),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(5,xe,"messaggi"==t.route)),e.xp6(1),e.Q6J("matBadge",t.mySelfMobileService.numeroMessaggiNonLetti),e.xp6(3),e.hij(" ",e.lcZ(5,3,"myself-mobile.messaggi")," ")}}class Ce{constructor(o,t){this.mySelfMobileService=o,this.router=t}ngOnInit(){this.checkUrl(window.location.href),this.sub=this.router.events.subscribe(o=>{o instanceof x.OD&&(this.mySelfMobileService.footerHeight=65,this.mySelfMobileService.showBackButton=!1,this.checkUrl(o.url))})}checkUrl(o){let t="(myself:",n=o.indexOf(t);if(n>=0){let l=n+8;if(l>=0){let a;do{a=o.lastIndexOf(")")}while(a<l&&-1!=a);a>=0&&(this.route=o.substring(l,a))}}}ngOnDestroy(){this.sub.unsubscribe()}}function Kn(i,o){1&i&&e._UZ(0,"app-my-self-mobile-header")}function Xn(i,o){1&i&&(e.TgZ(0,"h5",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"interfaces.pagamento-form.nessunaModalitaPagamento")))}Ce.\u0275fac=function(o){return new(o||Ce)(e.Y36(m),e.Y36(x.F0))},Ce.\u0275cmp=e.Xpm({type:Ce,selectors:[["app-my-self-mobile-footer"]],decls:22,vars:20,consts:[[1,"footer","pt-2","pb-2"],[1,"row","text-center","cursor-pointer"],[1,"col",3,"ngClass","click"],[1,"material-icons-round","footer-icons"],[1,"footer-text","mt-n2"],["class","col",3,"ngClass","click",4,"ngIf"],["matBadgeSize","small",1,"material-icons-round","footer-icons",3,"matBadge"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return t.mySelfMobileService.openPage("home")}),e.TgZ(3,"span",3),e._uU(4,"home"),e.qZA(),e.TgZ(5,"div",4),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.YNc(8,Gn,6,6,"div",5),e.TgZ(9,"div",2),e.NdJ("click",function(){return t.mySelfMobileService.openPage("prenotazioni")}),e.TgZ(10,"span",3),e._uU(11,"how_to_reg"),e.qZA(),e.TgZ(12,"div",4),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.YNc(15,$n,6,7,"div",5),e.TgZ(16,"div",2),e.NdJ("click",function(){return t.mySelfMobileService.openPage("menu")}),e.TgZ(17,"span",3),e._uU(18,"more_horiz"),e.qZA(),e.TgZ(19,"div",4),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()),2&o&&(e.xp6(2),e.Q6J("ngClass",e.VKq(14,xe,"home"==t.route)),e.xp6(4),e.hij(" ",e.lcZ(7,8,"myself-mobile.home")," "),e.xp6(2),e.Q6J("ngIf",null!=t.mySelfMobileService.prenotazioneFutura),e.xp6(1),e.Q6J("ngClass",e.VKq(16,xe,"prenotazioni"==t.route)),e.xp6(4),e.hij(" ",e.lcZ(14,10,"myself-mobile.checkin")," "),e.xp6(2),e.Q6J("ngIf",!t.mySelfMobileService.portale.isNascondiChat),e.xp6(1),e.Q6J("ngClass",e.VKq(18,xe,"menu"==t.route)),e.xp6(4),e.hij(" ",e.lcZ(21,12,"myself-mobile.altro")," "))},dependencies:[c.mk,c.O5,Bn.k,f.X$],styles:[".footer[_ngcontent-%COMP%]{height:65px;width:100%;position:fixed;bottom:0;left:0;color:#9b9fa5;border-top:1px solid #ABAEB1}.footer-icons[_ngcontent-%COMP%]{font-size:28px}.footer-text[_ngcontent-%COMP%]{font-size:14px}.mat-badge-content[_ngcontent-%COMP%]{background-color:var(--light-color)!important}"]});const Vn=function(i,o,t){return{lingua:i,oidPortale:o,oidAlbergo:t}};function jn(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,Xn,3,3,"h5",6),e.TgZ(2,"div",7)(3,"app-pagamento-form",8),e.NdJ("createOrder",function(l){e.CHM(t);const a=e.oxw(2);return e.KtG(a.mySelfMobileService.acquistaArticoli(a.mySelfMobileService.articoliSelectedPrenotazione,!0,l))})("noPaymentMethod",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.noPaymentMethod=!0)}),e.qZA()()()}if(2&i){const t=e.oxw(2);e.Q6J("hidden",!t.mySelfMobileService.isVisualizzaFormPagamento),e.xp6(1),e.Q6J("ngIf",t.noPaymentMethod),e.xp6(1),e.Q6J("hidden",t.noPaymentMethod),e.xp6(1),e.Q6J("_totale",t.mySelfMobileService.totaleArticoli)("linguaPortaleAlbergo",e.kEZ(20,Vn,t.mySelfMobileService.lingua,t.mySelfMobileService.portale.oid,t.sessionService.getOidAlbergo()))("_modalitaPagamento",t.mySelfMobileService.modalitaPagamento)("allModalitaPagamento",t.mySelfMobileService.modalitaPagamento)("cliente",t.mySelfMobileService.cliente)("_formValid",!0)("errorMessage","globals.messages.inserireDati")("_recaptchaAttiva",t.mySelfMobileService.portale.recaptchaAttiva)("disabled",!1)("_isAccettaContrattoPrenotazioneStep2",t.mySelfMobileService.portale.isAccettaContrattoPrenotazioneStep2)("isVerificaCartaCredito",t.mySelfMobileService.portale.isVerificaCartaCredito)("isVisualizzaCRO",t.mySelfMobileService.portale.isVisualizzaCRO)("condizioniContratto",t.mySelfMobileService.portale.condizioniContratto)("elevation",!1)("fullWidthButton",!0)("privacy",null==t.mySelfMobileService.cliente?null:t.mySelfMobileService.cliente.privacy)("newsletter",null==t.mySelfMobileService.cliente?null:t.mySelfMobileService.cliente.newsletter)}}function Wn(i,o){if(1&i&&(e.ynx(0),e._UZ(1,"router-outlet",3),e.YNc(2,jn,4,24,"div",4),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.mySelfMobileService.ubicazioneIstat.isRichiediPagamentoArticoliECommerce)}}function el(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"div",15),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",16)(6,"app-view-select",17),e.NdJ("valueChange",function(l){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onUbicazioneIstatChange(l.oid))}),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"div",14)(9,"div",15),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",18)(13,"div",19)(14,"app-color-picker",20),e.NdJ("valueChange",function(l){e.CHM(t);const a=e.oxw(2);return e.KtG(a.mySelfMobileService.ubicazioneIstat.coloreMySelf=l)})("valueChange",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.setColor())})("colorChanged",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onColoreChange())}),e.qZA()(),e.TgZ(15,"button",21),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return l.mySelfMobileService.ubicazioneIstat.coloreMySelf=null,e.KtG(l.onColoreChange())}),e.TgZ(16,"i",22),e._uU(17," settings_backup_restore "),e.qZA()()()(),e.TgZ(18,"div",23)(19,"div",24),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"div",18)(23,"button",25),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.editContenuti())}),e.TgZ(24,"i",22),e._uU(25,"edit"),e.qZA()()()(),e.TgZ(26,"div",26)(27,"div",24),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",18)(31,"button",25),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.editArticoli())}),e.TgZ(32,"i",22),e._uU(33,"edit"),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,9,"myself-mobile.ubicazioneIstat")," "),e.xp6(3),e.Q6J("blue",!0)("dataLoader",t.apiService.getUbicazioniIstatViewSelect(null,!1))("title",e.lcZ(7,11,"myself-mobile.ubicazioneIstat"))("value",t.mySelfMobileService.ubicazioneIstat),e.xp6(4),e.hij(" ",e.lcZ(11,13,"myself-mobile.colore")," "),e.xp6(4),e.Q6J("value",t.mySelfMobileService.ubicazioneIstat.coloreMySelf),e.xp6(6),e.hij(" ",e.lcZ(21,15,"myself-mobile.contenuti")," "),e.xp6(8),e.hij(" ",e.lcZ(29,17,"myself-mobile.articoli")," ")}}function tl(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",10),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.configPanelVisible=!l.configPanelVisible)}),e.TgZ(2,"i",11),e._uU(3),e.qZA()(),e.YNc(4,el,34,19,"div",12),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.configPanelVisible?"keyboard_arrow_up":"keyboard_arrow_down"),e.xp6(1),e.Q6J("ngIf",t.configPanelVisible)}}const ol=function(i){return{"background-color-grey":i}};class Ze extends _.H{constructor(o,t,n,l,a,s,h,v,w,qe){super(),this.apiService=o,this.containerService=t,this.deviceService=n,this.sessionService=l,this.localizationService=a,this.mySelfMobileService=s,this.cssLoaderService=h,this.utility=v,this.router=w,this.route=qe,this.initialized=!1,this.rq=new u.DAG,this.configPanelVisible=!0,this.noPaymentMethod=!1}ngAfterViewInit(){this.sessionService.isAttachRequestHeaders=!0,this.containerService.setScrollingContainer("myself-mobile-scrolling",!1),this.sub=this.route.queryParamMap.subscribe(o=>{let t=o.get("oidUbicazioneIstat");t&&!isNaN(+t)?(this.mySelfMobileService.config="config"==o.get("mode"),this.rq.oidAlbergo=this.sessionService.getOidAlbergo(),this.rq.oidUbicazioneIstat=+t,this.rq.oidCliente=this.sessionService.getOidAnagraficaHotel(),this.rq.all=!1,this.rq.isMobile=this.deviceService.isMobile(),this.rq.lingua=o.get("lingua"),this.rq.isMySelf=!0,this.download()):this.router.navigate(["sbm"])}),this.sub1=this.mySelfMobileService.allClickEvent.subscribe(o=>{this.rq.all=o,this.download()}),this.sub2=this.mySelfMobileService.downloadEvent.subscribe(()=>{this.download()})}download(){this.setIsLoading(!0),this.apiService.getMySelf(this.rq).subscribe(o=>{var t;null!=o.data.ubicazioneIstat?(this.cssLoaderService.load(this.sessionService.getOidAlbergo(),p.I8.MySelfMobile,o.data.ubicazioneIstat.oid),null!=o.data.portale&&(this.mySelfMobileService.portale=o.data.portale),this.mySelfMobileService.ubicazioneIstat=o.data.ubicazioneIstat,this.cssLoaderService.setColor(this.mySelfMobileService.ubicazioneIstat.coloreMySelf),this.mySelfMobileService.prenotazioni=o.data.prenotazioni,this.mySelfMobileService.prenotazioniFuture=o.data.prenotazioni.filter(n=>T(this.getDate(n.arrivo)).isSameOrAfter(T().startOf("day"))),this.mySelfMobileService.prenotazioneFutura=o.data.prenotazione,this.mySelfMobileService.messaggi=o.data.messaggi,this.mySelfMobileService.transazioni=o.data.transazioni,this.mySelfMobileService.richieste=o.data.richieste,this.mySelfMobileService.voucher=o.data.voucher,this.mySelfMobileService.recensioni=o.data.recensioni,this.mySelfMobileService.sondaggi=o.data.sondaggi,this.mySelfMobileService.pagine=o.data.pagine,this.mySelfMobileService.pagineHome=o.data.pagine.filter(n=>n.isHome),this.mySelfMobileService.cliente=o.data.cliente,this.mySelfMobileService.lingue=o.data.lingue,this.mySelfMobileService.selectedLanguage=o.data.lingua,this.mySelfMobileService.contenuti=o.data.contenuti,this.mySelfMobileService.eventi=o.data.eventi,this.mySelfMobileService.articoli=o.data.articoli,this.mySelfMobileService.modalitaPagamento=o.data.modalitaPagamento,this.mySelfMobileService.numeroMessaggiNonLetti=this.mySelfMobileService.messaggi.filter(n=>!n.isVisualizzato&&n.mittente==p.VM.Hotel).length,this.utility.setLingua(null===(t=this.mySelfMobileService.selectedLanguage)||void 0===t?void 0:t.codice).then(n=>{if(this.mySelfMobileService.lingua=null==n?void 0:n.codice,o.data.traduzioni){let l;try{l=JSON.parse(o.data.traduzioni)}catch(a){}l&&this.localizationService.setTranslation(this.localizationService.getCurrentLocale(),l)}this.initialized=!0,this.containerService.scrollToTop(),this.setIsLoading(!1)})):this.router.navigate(["sbm"]).then(()=>this.setIsLoading(!1))})}onUbicazioneIstatChange(o){let t=window.location.href,n=t.indexOf("oidUbicazioneIstat=");if(n>=0){let l=n+19,a=t.indexOf("&",l);window.location.href=a>=0?t.substring(0,l)+o+t.substring(a):t.substring(0,l)+o}}onColoreChange(){this.setIsLoading(!0),this.apiService.getUbicazioneIstat(this.mySelfMobileService.ubicazioneIstat.oid).subscribe(o=>{if(null!=o.data){if(this.mySelfMobileService.ubicazioneIstat.coloreMySelf)try{o.data.coloreMySelf=this.mySelfMobileService.ubicazioneIstat.coloreMySelf}catch(t){}else o.data.coloreMySelf=null;this.apiService.updateUbicazioneIstat(o.data).subscribe(()=>{this.cssLoaderService.setColor(this.mySelfMobileService.ubicazioneIstat.coloreMySelf),this.setIsLoading(!1)})}else this.setIsLoading(!1)})}setColor(){null==this.setColorTimeout&&(this.setColorTimeout=setTimeout(()=>{this.cssLoaderService.setColor(this.mySelfMobileService.ubicazioneIstat.coloreMySelf),this.setColorTimeout=null},50))}editArticoli(){let o=new u.Zpt;o.width="80vw",o.minHeight="30vh",o.panelClass="myself-mobile-dialog";let t=this.showModalDialog(Se,o),n=t.componentInstance;n.oidUbicazioneIstat=this.mySelfMobileService.ubicazioneIstat.oid,n.dialogRef=t,t.afterClosed().subscribe(l=>{l&&this.mySelfMobileService.openPage("home")})}editContenuti(){let o=new u.Zpt;o.width="80vw",o.minHeight="30vh",o.panelClass="myself-mobile-dialog";let t=this.showModalDialog(ye,o),n=t.componentInstance;n.oidUbicazioneIstat=this.mySelfMobileService.ubicazioneIstat.oid,n.dialogRef=t}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe()}}Ze.\u0275fac=function(o){return new(o||Ze)(e.Y36(S.s),e.Y36(E.J),e.Y36(Yn.x0),e.Y36(z.m),e.Y36(we.o),e.Y36(m),e.Y36($e.e),e.Y36(y.t),e.Y36(x.F0),e.Y36(x.gz))},Ze.\u0275cmp=e.Xpm({type:Ze,selectors:[["app-my-self-mobile"]],features:[e.qOj],decls:6,vars:10,consts:[["id","mySelfMobile",1,"w-100","h-100"],[4,"ngIf"],["id","myself-mobile-scrolling",1,"p-3",3,"ngClass"],["name","myself"],["class","mt-3",3,"hidden",4,"ngIf"],[1,"mt-3",3,"hidden"],["class","font-weight-bold mb-0 text-center",4,"ngIf"],[3,"hidden"],[3,"_totale","linguaPortaleAlbergo","_modalitaPagamento","allModalitaPagamento","cliente","_formValid","errorMessage","_recaptchaAttiva","disabled","_isAccettaContrattoPrenotazioneStep2","isVerificaCartaCredito","isVisualizzaCRO","condizioniContratto","elevation","fullWidthButton","privacy","newsletter","createOrder","noPaymentMethod"],[1,"font-weight-bold","mb-0","text-center"],["mat-mini-fab","",1,"button-blue","button-blue-circle","config-panel-button",3,"click"],[1,"material-icons-round"],["class","border rounded mat-elevation-z5 config-panel p-3",4,"ngIf"],[1,"border","rounded","mat-elevation-z5","config-panel","p-3"],[1,"row","mr-0","ml-0"],[1,"col-6","d-flex","align-items-center","font-weight-bold"],[1,"col-6","config-form-field"],["displayMember","nome",3,"blue","dataLoader","title","value","valueChange"],[1,"col-6"],[1,"d-inline-block","config-form-field","colore-picker"],[3,"value","valueChange","colorChanged"],["mat-icon-button","",1,"colore-reset",3,"click"],[1,"material-icons-round","color-blue"],[1,"row","mr-0","ml-0","mt-2"],[1,"col-6","font-weight-bold"],["mat-icon-button","",1,"config-button-small",3,"click"],[1,"row","mr-0","ml-0","mt-4"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Kn,1,0,"app-my-self-mobile-header",1),e.TgZ(2,"div",2),e.YNc(3,Wn,3,1,"ng-container",1),e.qZA(),e._UZ(4,"app-my-self-mobile-footer"),e.YNc(5,tl,5,2,"ng-container",1),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngIf",t.initialized),e.xp6(1),e.Udp("top",t.mySelfMobileService.headerHeight,"px")("height","calc(100% - "+(t.mySelfMobileService.headerHeight+t.mySelfMobileService.footerHeight)+"px)"),e.Q6J("ngClass",e.VKq(8,ol,t.initialized)),e.xp6(1),e.Q6J("ngIf",t.initialized),e.xp6(2),e.Q6J("ngIf",t.initialized&&t.mySelfMobileService.config))},dependencies:[c.mk,c.O5,g.eB,Fn.h,Hn.Q,Ee.d,x.lC,ve,Ce,f.X$],styles:["#myself-mobile-scrolling[_ngcontent-%COMP%]{width:100%;position:fixed;left:0;overflow:auto;scrollbar-width:thin!important}#myself-mobile-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px!important;height:8px!important;background-color:transparent!important}#myself-mobile-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:7px!important;box-shadow:none!important;background-color:#999!important}#myself-mobile-scrolling[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:7px!important;background-color:#ddd!important}  #mySelfMobile{font-family:Titillium Web,sans-serif!important}  #mySelfMobile .mat-form-field .mat-form-field-label{color:#0000008a!important}  #mySelfMobile .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#0000008a!important}  #mySelfMobile .mat-form-field.mat-form-field-should-float .mat-form-field-label{color:var(--main-color)!important}  #mySelfMobile .mat-form-field .mat-form-field-ripple{background-color:#000000de!important}  #mySelfMobile .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{background-color:#000000de!important}  #mySelfMobile .mat-form-field.mat-focused .mat-form-field-ripple{background-color:var(--main-color)!important}  #mySelfMobile .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:var(--main-color)!important}  #mySelfMobile .mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:var(--main-color)!important}  #mySelfMobile .mat-form-field.mat-form-field-invalid .mat-input-element{caret-color:var(--main-color)!important}  #mySelfMobile .mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:var(--main-color)!important}  #mySelfMobile .mat-form-field.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:var(--main-color)!important}  #mySelfMobile .mat-input-element{caret-color:var(--main-color)!important}  #mySelfMobile .mat-datepicker-toggle{color:var(--main-color)!important}  #mySelfMobile .mat-checkbox-checked .mat-checkbox-background{background-color:var(--main-color)!important}.config-button-small[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}.config-button-small[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:20px;line-height:20px}.config-panel-button[_ngcontent-%COMP%]{position:absolute;top:10px;left:410px;z-index:2;width:35px;height:35px;line-height:35px}.config-panel-button[_ngcontent-%COMP%]   .material-icons-round[_ngcontent-%COMP%]{font-size:18px;line-height:18px;margin-bottom:.25rem}  .config-panel-button .mat-button-wrapper{padding:0!important}.config-panel[_ngcontent-%COMP%]{position:absolute;top:30px;left:30px;background-color:#ffffffeb;z-index:1;width:400px}  .config-form-field .mat-form-field-infix{border-top:0}.colore-picker[_ngcontent-%COMP%]{width:calc(100% - 50px)}.colore-reset[_ngcontent-%COMP%]{width:50px}.background-color-grey[_ngcontent-%COMP%]{background-color:#f5f5f5}"]});const d="myself",il=[{path:"",component:te},{path:"home",component:Ze,canActivate:[Ne.p],canActivateChild:[Ne.y],children:[{path:"home",component:W,outlet:d},{path:"prenotazioni",component:pe,outlet:d},{path:"messaggi",component:ce,outlet:d},{path:"transazioni",component:he,outlet:d},{path:"voucher",component:Me,outlet:d},{path:"recensioni",component:fe,outlet:d},{path:"richieste",component:ue,outlet:d},{path:"sondaggi",component:be,outlet:d},{path:"cliente",component:X,outlet:d},{path:"menu",component:ae,outlet:d},{path:"prenotazione",component:me,outlet:d},{path:"checkin",component:K,outlet:d},{path:"pagine",component:se,outlet:d},{path:"pagina",component:re,outlet:d},{path:"contenuto",component:U,outlet:d},{path:"evento",component:L,outlet:d},{path:"articoli",component:$,outlet:d},{path:"riepilogo-articoli",component:de,outlet:d},{path:"informazioni-struttura",component:ee,outlet:d},{path:"menu-giorno-select",component:oe,outlet:d},{path:"menu-piatti-select",component:ne,outlet:d},{path:"menu-piatti-selected",component:le,outlet:d},{path:"articoli-up-selling-prenotazione-select",component:B,outlet:d},{path:"articoli-room-service-prenotazione-select",component:D,outlet:d}]}];class Y{}Y.\u0275fac=function(o){return new(o||Y)},Y.\u0275mod=e.oAB({type:Y}),Y.\u0275inj=e.cJS({imports:[x.Bz.forChild(il),x.Bz]});var nl=r(39402);class F{constructor(o,t,n){this.headerService=o,this.cssLoaderService=t,this.sessionService=n,this.headerService.hideHeader(),this.cssLoaderService.unloadCssDms(),this.sessionService.isAttachRequestHeaders=!1}}F.\u0275fac=function(o){return new(o||F)(e.LFG(nl.r),e.LFG($e.e),e.LFG(z.m))},F.\u0275mod=e.oAB({type:F}),F.\u0275inj=e.cJS({imports:[c.ez,Ve.m,Ke.Q,Xe.E,Y]})}}]);